var lT=Object.defineProperty;var cT=(e,t,r)=>t in e?lT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var R0=(e,t,r)=>cT(e,typeof t!="symbol"?t+"":t,r);function dT(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var An=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ns(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var A_={exports:{}},Um={},T_={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd=Symbol.for("react.element"),hT=Symbol.for("react.portal"),mT=Symbol.for("react.fragment"),fT=Symbol.for("react.strict_mode"),pT=Symbol.for("react.profiler"),gT=Symbol.for("react.provider"),xT=Symbol.for("react.context"),yT=Symbol.for("react.forward_ref"),vT=Symbol.for("react.suspense"),bT=Symbol.for("react.memo"),wT=Symbol.for("react.lazy"),Dw=Symbol.iterator;function jT(e){return e===null||typeof e!="object"?null:(e=Dw&&e[Dw]||e["@@iterator"],typeof e=="function"?e:null)}var O_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M_=Object.assign,D_={};function ml(e,t,r){this.props=e,this.context=t,this.refs=D_,this.updater=r||O_}ml.prototype.isReactComponent={};ml.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ml.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function R_(){}R_.prototype=ml.prototype;function uy(e,t,r){this.props=e,this.context=t,this.refs=D_,this.updater=r||O_}var hy=uy.prototype=new R_;hy.constructor=uy;M_(hy,ml.prototype);hy.isPureReactComponent=!0;var Rw=Array.isArray,$_=Object.prototype.hasOwnProperty,my={current:null},I_={key:!0,ref:!0,__self:!0,__source:!0};function L_(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$_.call(t,n)&&!I_.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Nd,type:e,key:i,ref:o,props:a,_owner:my.current}}function NT(e,t){return{$$typeof:Nd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nd}function _T(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $w=/\/+/g;function $0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_T(""+e.key):t.toString(36)}function Qu(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Nd:case hT:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+$0(o,0):n,Rw(a)?(r="",e!=null&&(r=e.replace($w,"$&/")+"/"),Qu(a,t,r,"",function(d){return d})):a!=null&&(fy(a)&&(a=NT(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace($w,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Rw(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+$0(i,l);o+=Qu(i,t,r,c,a)}else if(c=jT(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+$0(i,l++),o+=Qu(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function su(e,t,r){if(e==null)return e;var n=[],a=0;return Qu(e,n,"","",function(i){return t.call(r,i,a++)}),n}function kT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ar={current:null},Zu={transition:null},ST={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:Zu,ReactCurrentOwner:my};function F_(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:su,forEach:function(e,t,r){su(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return su(e,function(){t++}),t},toArray:function(e){return su(e,function(t){return t})||[]},only:function(e){if(!fy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=ml;Te.Fragment=mT;Te.Profiler=pT;Te.PureComponent=uy;Te.StrictMode=fT;Te.Suspense=vT;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ST;Te.act=F_;Te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=M_({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=my.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$_.call(t,c)&&!I_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Nd,type:e.type,key:a,ref:i,props:n,_owner:o}};Te.createContext=function(e){return e={$$typeof:xT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gT,_context:e},e.Consumer=e};Te.createElement=L_;Te.createFactory=function(e){var t=L_.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:yT,render:e}};Te.isValidElement=fy;Te.lazy=function(e){return{$$typeof:wT,_payload:{_status:-1,_result:e},_init:kT}};Te.memo=function(e,t){return{$$typeof:bT,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=Zu.transition;Zu.transition={};try{e()}finally{Zu.transition=t}};Te.unstable_act=F_;Te.useCallback=function(e,t){return Ar.current.useCallback(e,t)};Te.useContext=function(e){return Ar.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Ar.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Ar.current.useEffect(e,t)};Te.useId=function(){return Ar.current.useId()};Te.useImperativeHandle=function(e,t,r){return Ar.current.useImperativeHandle(e,t,r)};Te.useInsertionEffect=function(e,t){return Ar.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Ar.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Ar.current.useMemo(e,t)};Te.useReducer=function(e,t,r){return Ar.current.useReducer(e,t,r)};Te.useRef=function(e){return Ar.current.useRef(e)};Te.useState=function(e){return Ar.current.useState(e)};Te.useSyncExternalStore=function(e,t,r){return Ar.current.useSyncExternalStore(e,t,r)};Te.useTransition=function(){return Ar.current.useTransition()};Te.version="18.3.1";T_.exports=Te;var g=T_.exports;const Kt=Ns(g),CT=dT({__proto__:null,default:Kt},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT=g,ET=Symbol.for("react.element"),AT=Symbol.for("react.fragment"),TT=Object.prototype.hasOwnProperty,OT=PT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MT={key:!0,ref:!0,__self:!0,__source:!0};function B_(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)TT.call(t,n)&&!MT.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:ET,type:e,key:i,ref:o,props:a,_owner:OT.current}}Um.Fragment=AT;Um.jsx=B_;Um.jsxs=B_;A_.exports=Um;var s=A_.exports,z_={exports:{}},pn={},U_={exports:{}},q_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,M){var z=T.length;T.push(M);e:for(;0<z;){var B=z-1>>>1,F=T[B];if(0<a(F,M))T[B]=M,T[z]=F,z=B;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var M=T[0],z=T.pop();if(z!==M){T[0]=z;e:for(var B=0,F=T.length,K=F>>>1;B<K;){var Y=2*(B+1)-1,W=T[Y],te=Y+1,ie=T[te];if(0>a(W,z))te<F&&0>a(ie,W)?(T[B]=ie,T[te]=z,B=te):(T[B]=W,T[Y]=z,B=Y);else if(te<F&&0>a(ie,z))T[B]=ie,T[te]=z,B=te;else break e}}return M}function a(T,M){var z=T.sortIndex-M.sortIndex;return z!==0?z:T.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,p=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(T){for(var M=r(d);M!==null;){if(M.callback===null)n(d);else if(M.startTime<=T)n(d),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(d)}}function N(T){if(y=!1,j(T),!p)if(r(c)!==null)p=!0,H(w);else{var M=r(d);M!==null&&U(N,M.startTime-T)}}function w(T,M){p=!1,y&&(y=!1,x(S),S=-1),f=!0;var z=m;try{for(j(M),h=r(c);h!==null&&(!(h.expirationTime>M)||T&&!C());){var B=h.callback;if(typeof B=="function"){h.callback=null,m=h.priorityLevel;var F=B(h.expirationTime<=M);M=e.unstable_now(),typeof F=="function"?h.callback=F:h===r(c)&&n(c),j(M)}else n(c);h=r(c)}if(h!==null)var K=!0;else{var Y=r(d);Y!==null&&U(N,Y.startTime-M),K=!1}return K}finally{h=null,m=z,f=!1}}var _=!1,k=null,S=-1,E=5,P=-1;function C(){return!(e.unstable_now()-P<E)}function A(){if(k!==null){var T=e.unstable_now();P=T;var M=!0;try{M=k(!0,T)}finally{M?O():(_=!1,k=null)}}else _=!1}var O;if(typeof b=="function")O=function(){b(A)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=A,O=function(){L.postMessage(null)}}else O=function(){v(A,0)};function H(T){k=T,_||(_=!0,O())}function U(T,M){S=v(function(){T(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,H(w))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var z=m;m=M;try{return T()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,M){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=m;m=T;try{return M()}finally{m=z}},e.unstable_scheduleCallback=function(T,M,z){var B=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,T){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,T={id:u++,callback:M,priorityLevel:T,startTime:z,expirationTime:F,sortIndex:-1},z>B?(T.sortIndex=z,t(d,T),r(c)===null&&T===r(d)&&(y?(x(S),S=-1):y=!0,U(N,z-B))):(T.sortIndex=F,t(c,T),p||f||(p=!0,H(w))),T},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(T){var M=m;return function(){var z=m;m=M;try{return T.apply(this,arguments)}finally{m=z}}}})(q_);U_.exports=q_;var DT=U_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT=g,dn=DT;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V_=new Set,Lc={};function Ui(e,t){Vo(e,t),Vo(e+"Capture",t)}function Vo(e,t){for(Lc[e]=t,e=0;e<t.length;e++)V_.add(t[e])}var Fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xp=Object.prototype.hasOwnProperty,$T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iw={},Lw={};function IT(e){return Xp.call(Lw,e)?!0:Xp.call(Iw,e)?!1:$T.test(e)?Lw[e]=!0:(Iw[e]=!0,!1)}function LT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FT(e,t,r,n){if(t===null||typeof t>"u"||LT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tr(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ir[e]=new Tr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ir[t]=new Tr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ir[e]=new Tr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ir[e]=new Tr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ir[e]=new Tr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ir[e]=new Tr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ir[e]=new Tr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ir[e]=new Tr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ir[e]=new Tr(e,5,!1,e.toLowerCase(),null,!1,!1)});var py=/[\-:]([a-z])/g;function gy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(py,gy);ir[t]=new Tr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(py,gy);ir[t]=new Tr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(py,gy);ir[t]=new Tr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ir[e]=new Tr(e,1,!1,e.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ir[e]=new Tr(e,1,!1,e.toLowerCase(),null,!0,!0)});function xy(e,t,r,n){var a=ir.hasOwnProperty(t)?ir[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FT(t,r,a,n)&&(r=null),n||a===null?IT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ks=RT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),po=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),yy=Symbol.for("react.strict_mode"),Qp=Symbol.for("react.profiler"),W_=Symbol.for("react.provider"),H_=Symbol.for("react.context"),vy=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),eg=Symbol.for("react.suspense_list"),by=Symbol.for("react.memo"),da=Symbol.for("react.lazy"),K_=Symbol.for("react.offscreen"),Fw=Symbol.iterator;function Ll(e){return e===null||typeof e!="object"?null:(e=Fw&&e[Fw]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,I0;function nc(e){if(I0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);I0=t&&t[1]||""}return`
`+I0+e}var L0=!1;function F0(e,t){if(!e||L0)return"";L0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{L0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nc(e):""}function BT(e){switch(e.tag){case 5:return nc(e.type);case 16:return nc("Lazy");case 13:return nc("Suspense");case 19:return nc("SuspenseList");case 0:case 2:case 15:return e=F0(e.type,!1),e;case 11:return e=F0(e.type.render,!1),e;case 1:return e=F0(e.type,!0),e;default:return""}}function tg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case go:return"Fragment";case po:return"Portal";case Qp:return"Profiler";case yy:return"StrictMode";case Zp:return"Suspense";case eg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case H_:return(e.displayName||"Context")+".Consumer";case W_:return(e._context.displayName||"Context")+".Provider";case vy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case by:return t=e.displayName||null,t!==null?t:tg(e.type)||"Memo";case da:t=e._payload,e=e._init;try{return tg(e(t))}catch{}}return null}function zT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tg(t);case 8:return t===yy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $a(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function G_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UT(e){var t=G_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function iu(e){e._valueTracker||(e._valueTracker=UT(e))}function Y_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=G_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function bh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rg(e,t){var r=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Bw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$a(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function J_(e,t){t=t.checked,t!=null&&xy(e,"checked",t,!1)}function ng(e,t){J_(e,t);var r=$a(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sg(e,t.type,r):t.hasOwnProperty("defaultValue")&&sg(e,t.type,$a(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function sg(e,t,r){(t!=="number"||bh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sc=Array.isArray;function Oo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$a(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ag(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ce(92));if(sc(r)){if(1<r.length)throw Error(ce(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$a(r)}}function X_(e,t){var r=$a(t.value),n=$a(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function qw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Q_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ig(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Q_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ou,Z_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ou=ou||document.createElement("div"),ou.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ou.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qT=["Webkit","ms","Moz","O"];Object.keys(xc).forEach(function(e){qT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xc[t]=xc[e]})});function e4(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xc.hasOwnProperty(e)&&xc[e]?(""+t).trim():t+"px"}function t4(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=e4(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var VT=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function og(e,t){if(t){if(VT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function lg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cg=null;function wy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dg=null,Mo=null,Do=null;function Vw(e){if(e=Sd(e)){if(typeof dg!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=Km(t),dg(e.stateNode,e.type,t))}}function r4(e){Mo?Do?Do.push(e):Do=[e]:Mo=e}function n4(){if(Mo){var e=Mo,t=Do;if(Do=Mo=null,Vw(e),t)for(e=0;e<t.length;e++)Vw(t[e])}}function s4(e,t){return e(t)}function a4(){}var B0=!1;function i4(e,t,r){if(B0)return e(t,r);B0=!0;try{return s4(e,t,r)}finally{B0=!1,(Mo!==null||Do!==null)&&(a4(),n4())}}function Bc(e,t){var r=e.stateNode;if(r===null)return null;var n=Km(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ce(231,t,typeof r));return r}var ug=!1;if(Fs)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){ug=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{ug=!1}function WT(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var yc=!1,wh=null,jh=!1,hg=null,HT={onError:function(e){yc=!0,wh=e}};function KT(e,t,r,n,a,i,o,l,c){yc=!1,wh=null,WT.apply(HT,arguments)}function GT(e,t,r,n,a,i,o,l,c){if(KT.apply(this,arguments),yc){if(yc){var d=wh;yc=!1,wh=null}else throw Error(ce(198));jh||(jh=!0,hg=d)}}function qi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function o4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ww(e){if(qi(e)!==e)throw Error(ce(188))}function YT(e){var t=e.alternate;if(!t){if(t=qi(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Ww(a),e;if(i===n)return Ww(a),t;i=i.sibling}throw Error(ce(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?e:t}function l4(e){return e=YT(e),e!==null?c4(e):null}function c4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=c4(e);if(t!==null)return t;e=e.sibling}return null}var d4=dn.unstable_scheduleCallback,Hw=dn.unstable_cancelCallback,JT=dn.unstable_shouldYield,XT=dn.unstable_requestPaint,jt=dn.unstable_now,QT=dn.unstable_getCurrentPriorityLevel,jy=dn.unstable_ImmediatePriority,u4=dn.unstable_UserBlockingPriority,Nh=dn.unstable_NormalPriority,ZT=dn.unstable_LowPriority,h4=dn.unstable_IdlePriority,qm=null,ps=null;function eO(e){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(qm,e,void 0,(e.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:nO,tO=Math.log,rO=Math.LN2;function nO(e){return e>>>=0,e===0?32:31-(tO(e)/rO|0)|0}var lu=64,cu=4194304;function ac(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _h(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=ac(l):(i&=o,i!==0&&(n=ac(i)))}else o=r&~a,o!==0?n=ac(o):i!==0&&(n=ac(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Qn(t),a=1<<r,n|=e[r],t&=~a;return n}function sO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Qn(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=sO(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function mg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function m4(){var e=lu;return lu<<=1,!(lu&4194240)&&(lu=64),e}function z0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _d(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qn(t),e[t]=r}function iO(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Qn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Ny(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Qn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ue=0;function f4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var p4,_y,g4,x4,y4,fg=!1,du=[],ja=null,Na=null,_a=null,zc=new Map,Uc=new Map,fa=[],oO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kw(e,t){switch(e){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":zc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(t.pointerId)}}function Bl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Sd(t),t!==null&&_y(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function lO(e,t,r,n,a){switch(t){case"focusin":return ja=Bl(ja,e,t,r,n,a),!0;case"dragenter":return Na=Bl(Na,e,t,r,n,a),!0;case"mouseover":return _a=Bl(_a,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return zc.set(i,Bl(zc.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Uc.set(i,Bl(Uc.get(i)||null,e,t,r,n,a)),!0}return!1}function v4(e){var t=fi(e.target);if(t!==null){var r=qi(t);if(r!==null){if(t=r.tag,t===13){if(t=o4(r),t!==null){e.blockedOn=t,y4(e.priority,function(){g4(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=pg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);cg=n,r.target.dispatchEvent(n),cg=null}else return t=Sd(r),t!==null&&_y(t),e.blockedOn=r,!1;t.shift()}return!0}function Gw(e,t,r){eh(e)&&r.delete(t)}function cO(){fg=!1,ja!==null&&eh(ja)&&(ja=null),Na!==null&&eh(Na)&&(Na=null),_a!==null&&eh(_a)&&(_a=null),zc.forEach(Gw),Uc.forEach(Gw)}function zl(e,t){e.blockedOn===t&&(e.blockedOn=null,fg||(fg=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,cO)))}function qc(e){function t(a){return zl(a,e)}if(0<du.length){zl(du[0],e);for(var r=1;r<du.length;r++){var n=du[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ja!==null&&zl(ja,e),Na!==null&&zl(Na,e),_a!==null&&zl(_a,e),zc.forEach(t),Uc.forEach(t),r=0;r<fa.length;r++)n=fa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fa.length&&(r=fa[0],r.blockedOn===null);)v4(r),r.blockedOn===null&&fa.shift()}var Ro=Ks.ReactCurrentBatchConfig,kh=!0;function dO(e,t,r,n){var a=Ue,i=Ro.transition;Ro.transition=null;try{Ue=1,ky(e,t,r,n)}finally{Ue=a,Ro.transition=i}}function uO(e,t,r,n){var a=Ue,i=Ro.transition;Ro.transition=null;try{Ue=4,ky(e,t,r,n)}finally{Ue=a,Ro.transition=i}}function ky(e,t,r,n){if(kh){var a=pg(e,t,r,n);if(a===null)X0(e,t,n,Sh,r),Kw(e,n);else if(lO(a,e,t,r,n))n.stopPropagation();else if(Kw(e,n),t&4&&-1<oO.indexOf(e)){for(;a!==null;){var i=Sd(a);if(i!==null&&p4(i),i=pg(e,t,r,n),i===null&&X0(e,t,n,Sh,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else X0(e,t,n,null,r)}}var Sh=null;function pg(e,t,r,n){if(Sh=null,e=wy(n),e=fi(e),e!==null)if(t=qi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=o4(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sh=e,null}function b4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QT()){case jy:return 1;case u4:return 4;case Nh:case ZT:return 16;case h4:return 536870912;default:return 16}default:return 16}}var ya=null,Sy=null,th=null;function w4(){if(th)return th;var e,t=Sy,r=t.length,n,a="value"in ya?ya.value:ya.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return th=a.slice(e,1<n?1-n:void 0)}function rh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uu(){return!0}function Yw(){return!1}function gn(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?uu:Yw,this.isPropagationStopped=Yw,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),t}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cy=gn(fl),kd=pt({},fl,{view:0,detail:0}),hO=gn(kd),U0,q0,Ul,Vm=pt({},kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Py,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ul&&(Ul&&e.type==="mousemove"?(U0=e.screenX-Ul.screenX,q0=e.screenY-Ul.screenY):q0=U0=0,Ul=e),U0)},movementY:function(e){return"movementY"in e?e.movementY:q0}}),Jw=gn(Vm),mO=pt({},Vm,{dataTransfer:0}),fO=gn(mO),pO=pt({},kd,{relatedTarget:0}),V0=gn(pO),gO=pt({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),xO=gn(gO),yO=pt({},fl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vO=gn(yO),bO=pt({},fl,{data:0}),Xw=gn(bO),wO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _O(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NO[e])?!!t[e]:!1}function Py(){return _O}var kO=pt({},kd,{key:function(e){if(e.key){var t=wO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Py,charCode:function(e){return e.type==="keypress"?rh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SO=gn(kO),CO=pt({},Vm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qw=gn(CO),PO=pt({},kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Py}),EO=gn(PO),AO=pt({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),TO=gn(AO),OO=pt({},Vm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),MO=gn(OO),DO=[9,13,27,32],Ey=Fs&&"CompositionEvent"in window,vc=null;Fs&&"documentMode"in document&&(vc=document.documentMode);var RO=Fs&&"TextEvent"in window&&!vc,j4=Fs&&(!Ey||vc&&8<vc&&11>=vc),Zw=" ",e1=!1;function N4(e,t){switch(e){case"keyup":return DO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xo=!1;function $O(e,t){switch(e){case"compositionend":return _4(t);case"keypress":return t.which!==32?null:(e1=!0,Zw);case"textInput":return e=t.data,e===Zw&&e1?null:e;default:return null}}function IO(e,t){if(xo)return e==="compositionend"||!Ey&&N4(e,t)?(e=w4(),th=Sy=ya=null,xo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return j4&&t.locale!=="ko"?null:t.data;default:return null}}var LO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LO[e.type]:t==="textarea"}function k4(e,t,r,n){r4(n),t=Ch(t,"onChange"),0<t.length&&(r=new Cy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bc=null,Vc=null;function FO(e){$4(e,0)}function Wm(e){var t=bo(e);if(Y_(t))return e}function BO(e,t){if(e==="change")return t}var S4=!1;if(Fs){var W0;if(Fs){var H0="oninput"in document;if(!H0){var r1=document.createElement("div");r1.setAttribute("oninput","return;"),H0=typeof r1.oninput=="function"}W0=H0}else W0=!1;S4=W0&&(!document.documentMode||9<document.documentMode)}function n1(){bc&&(bc.detachEvent("onpropertychange",C4),Vc=bc=null)}function C4(e){if(e.propertyName==="value"&&Wm(Vc)){var t=[];k4(t,Vc,e,wy(e)),i4(FO,t)}}function zO(e,t,r){e==="focusin"?(n1(),bc=t,Vc=r,bc.attachEvent("onpropertychange",C4)):e==="focusout"&&n1()}function UO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wm(Vc)}function qO(e,t){if(e==="click")return Wm(t)}function VO(e,t){if(e==="input"||e==="change")return Wm(t)}function WO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rs=typeof Object.is=="function"?Object.is:WO;function Wc(e,t){if(rs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Xp.call(t,a)||!rs(e[a],t[a]))return!1}return!0}function s1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function a1(e,t){var r=s1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=s1(r)}}function P4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function E4(){for(var e=window,t=bh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=bh(e.document)}return t}function Ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HO(e){var t=E4(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&P4(r.ownerDocument.documentElement,r)){if(n!==null&&Ay(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=a1(r,i);var o=a1(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KO=Fs&&"documentMode"in document&&11>=document.documentMode,yo=null,gg=null,wc=null,xg=!1;function i1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xg||yo==null||yo!==bh(n)||(n=yo,"selectionStart"in n&&Ay(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wc&&Wc(wc,n)||(wc=n,n=Ch(gg,"onSelect"),0<n.length&&(t=new Cy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yo)))}function hu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vo={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},K0={},A4={};Fs&&(A4=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Hm(e){if(K0[e])return K0[e];if(!vo[e])return e;var t=vo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in A4)return K0[e]=t[r];return e}var T4=Hm("animationend"),O4=Hm("animationiteration"),M4=Hm("animationstart"),D4=Hm("transitionend"),R4=new Map,o1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fa(e,t){R4.set(e,t),Ui(t,[e])}for(var G0=0;G0<o1.length;G0++){var Y0=o1[G0],GO=Y0.toLowerCase(),YO=Y0[0].toUpperCase()+Y0.slice(1);Fa(GO,"on"+YO)}Fa(T4,"onAnimationEnd");Fa(O4,"onAnimationIteration");Fa(M4,"onAnimationStart");Fa("dblclick","onDoubleClick");Fa("focusin","onFocus");Fa("focusout","onBlur");Fa(D4,"onTransitionEnd");Vo("onMouseEnter",["mouseout","mouseover"]);Vo("onMouseLeave",["mouseout","mouseover"]);Vo("onPointerEnter",["pointerout","pointerover"]);Vo("onPointerLeave",["pointerout","pointerover"]);Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function l1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,GT(n,t,void 0,e),e.currentTarget=null}function $4(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;l1(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;l1(a,l,d),i=c}}}if(jh)throw e=hg,jh=!1,hg=null,e}function rt(e,t){var r=t[jg];r===void 0&&(r=t[jg]=new Set);var n=e+"__bubble";r.has(n)||(I4(t,e,2,!1),r.add(n))}function J0(e,t,r){var n=0;t&&(n|=4),I4(r,e,n,t)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Hc(e){if(!e[mu]){e[mu]=!0,V_.forEach(function(r){r!=="selectionchange"&&(JO.has(r)||J0(r,!1,e),J0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mu]||(t[mu]=!0,J0("selectionchange",!1,t))}}function I4(e,t,r,n){switch(b4(t)){case 1:var a=dO;break;case 4:a=uO;break;default:a=ky}r=a.bind(null,t,r,e),a=void 0,!ug||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function X0(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=fi(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}i4(function(){var d=i,u=wy(r),h=[];e:{var m=R4.get(e);if(m!==void 0){var f=Cy,p=e;switch(e){case"keypress":if(rh(r)===0)break e;case"keydown":case"keyup":f=SO;break;case"focusin":p="focus",f=V0;break;case"focusout":p="blur",f=V0;break;case"beforeblur":case"afterblur":f=V0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=fO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=EO;break;case T4:case O4:case M4:f=xO;break;case D4:f=TO;break;case"scroll":f=hO;break;case"wheel":f=MO;break;case"copy":case"cut":case"paste":f=vO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Qw}var y=(t&4)!==0,v=!y&&e==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var b=d,j;b!==null;){j=b;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,x!==null&&(N=Bc(b,x),N!=null&&y.push(Kc(b,N,j)))),v)break;b=b.return}0<y.length&&(m=new f(m,p,null,r,u),h.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&r!==cg&&(p=r.relatedTarget||r.fromElement)&&(fi(p)||p[Bs]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=d,p=p?fi(p):null,p!==null&&(v=qi(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=d),f!==p)){if(y=Jw,N="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=Qw,N="onPointerLeave",x="onPointerEnter",b="pointer"),v=f==null?m:bo(f),j=p==null?m:bo(p),m=new y(N,b+"leave",f,r,u),m.target=v,m.relatedTarget=j,N=null,fi(u)===d&&(y=new y(x,b+"enter",p,r,u),y.target=j,y.relatedTarget=v,N=y),v=N,f&&p)t:{for(y=f,x=p,b=0,j=y;j;j=Zi(j))b++;for(j=0,N=x;N;N=Zi(N))j++;for(;0<b-j;)y=Zi(y),b--;for(;0<j-b;)x=Zi(x),j--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=Zi(y),x=Zi(x)}y=null}else y=null;f!==null&&c1(h,m,f,y,!1),p!==null&&v!==null&&c1(h,v,p,y,!0)}}e:{if(m=d?bo(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var w=BO;else if(t1(m))if(S4)w=VO;else{w=UO;var _=zO}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=qO);if(w&&(w=w(e,d))){k4(h,w,r,u);break e}_&&_(e,m,d),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&sg(m,"number",m.value)}switch(_=d?bo(d):window,e){case"focusin":(t1(_)||_.contentEditable==="true")&&(yo=_,gg=d,wc=null);break;case"focusout":wc=gg=yo=null;break;case"mousedown":xg=!0;break;case"contextmenu":case"mouseup":case"dragend":xg=!1,i1(h,r,u);break;case"selectionchange":if(KO)break;case"keydown":case"keyup":i1(h,r,u)}var k;if(Ey)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else xo?N4(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(j4&&r.locale!=="ko"&&(xo||S!=="onCompositionStart"?S==="onCompositionEnd"&&xo&&(k=w4()):(ya=u,Sy="value"in ya?ya.value:ya.textContent,xo=!0)),_=Ch(d,S),0<_.length&&(S=new Xw(S,e,null,r,u),h.push({event:S,listeners:_}),k?S.data=k:(k=_4(r),k!==null&&(S.data=k)))),(k=RO?$O(e,r):IO(e,r))&&(d=Ch(d,"onBeforeInput"),0<d.length&&(u=new Xw("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=k))}$4(h,t)})}function Kc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ch(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Bc(e,r),i!=null&&n.unshift(Kc(e,i,a)),i=Bc(e,t),i!=null&&n.push(Kc(e,i,a))),e=e.return}return n}function Zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function c1(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Bc(r,i),c!=null&&o.unshift(Kc(r,c,l))):a||(c=Bc(r,i),c!=null&&o.push(Kc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var XO=/\r\n?/g,QO=/\u0000|\uFFFD/g;function d1(e){return(typeof e=="string"?e:""+e).replace(XO,`
`).replace(QO,"")}function fu(e,t,r){if(t=d1(t),d1(e)!==t&&r)throw Error(ce(425))}function Ph(){}var yg=null,vg=null;function bg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wg=typeof setTimeout=="function"?setTimeout:void 0,ZO=typeof clearTimeout=="function"?clearTimeout:void 0,u1=typeof Promise=="function"?Promise:void 0,eM=typeof queueMicrotask=="function"?queueMicrotask:typeof u1<"u"?function(e){return u1.resolve(null).then(e).catch(tM)}:wg;function tM(e){setTimeout(function(){throw e})}function Q0(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),qc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);qc(t)}function ka(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function h1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var pl=Math.random().toString(36).slice(2),hs="__reactFiber$"+pl,Gc="__reactProps$"+pl,Bs="__reactContainer$"+pl,jg="__reactEvents$"+pl,rM="__reactListeners$"+pl,nM="__reactHandles$"+pl;function fi(e){var t=e[hs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Bs]||r[hs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=h1(e);e!==null;){if(r=e[hs])return r;e=h1(e)}return t}e=r,r=e.parentNode}return null}function Sd(e){return e=e[hs]||e[Bs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function Km(e){return e[Gc]||null}var Ng=[],wo=-1;function Ba(e){return{current:e}}function st(e){0>wo||(e.current=Ng[wo],Ng[wo]=null,wo--)}function et(e,t){wo++,Ng[wo]=e.current,e.current=t}var Ia={},yr=Ba(Ia),qr=Ba(!1),Ti=Ia;function Wo(e,t){var r=e.type.contextTypes;if(!r)return Ia;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Vr(e){return e=e.childContextTypes,e!=null}function Eh(){st(qr),st(yr)}function m1(e,t,r){if(yr.current!==Ia)throw Error(ce(168));et(yr,t),et(qr,r)}function L4(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ce(108,zT(e)||"Unknown",a));return pt({},r,n)}function Ah(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ia,Ti=yr.current,et(yr,e),et(qr,qr.current),!0}function f1(e,t,r){var n=e.stateNode;if(!n)throw Error(ce(169));r?(e=L4(e,t,Ti),n.__reactInternalMemoizedMergedChildContext=e,st(qr),st(yr),et(yr,e)):st(qr),et(qr,r)}var Es=null,Gm=!1,Z0=!1;function F4(e){Es===null?Es=[e]:Es.push(e)}function sM(e){Gm=!0,F4(e)}function za(){if(!Z0&&Es!==null){Z0=!0;var e=0,t=Ue;try{var r=Es;for(Ue=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Es=null,Gm=!1}catch(a){throw Es!==null&&(Es=Es.slice(e+1)),d4(jy,za),a}finally{Ue=t,Z0=!1}}return null}var jo=[],No=0,Th=null,Oh=0,wn=[],jn=0,Oi=null,Ms=1,Ds="";function ii(e,t){jo[No++]=Oh,jo[No++]=Th,Th=e,Oh=t}function B4(e,t,r){wn[jn++]=Ms,wn[jn++]=Ds,wn[jn++]=Oi,Oi=e;var n=Ms;e=Ds;var a=32-Qn(n)-1;n&=~(1<<a),r+=1;var i=32-Qn(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ms=1<<32-Qn(t)+a|r<<a|n,Ds=i+e}else Ms=1<<i|r<<a|n,Ds=e}function Ty(e){e.return!==null&&(ii(e,1),B4(e,1,0))}function Oy(e){for(;e===Th;)Th=jo[--No],jo[No]=null,Oh=jo[--No],jo[No]=null;for(;e===Oi;)Oi=wn[--jn],wn[jn]=null,Ds=wn[--jn],wn[jn]=null,Ms=wn[--jn],wn[jn]=null}var ln=null,on=null,ot=!1,Kn=null;function z4(e,t){var r=_n(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function p1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,on=ka(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,on=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Oi!==null?{id:Ms,overflow:Ds}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_n(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ln=e,on=null,!0):!1;default:return!1}}function _g(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kg(e){if(ot){var t=on;if(t){var r=t;if(!p1(e,t)){if(_g(e))throw Error(ce(418));t=ka(r.nextSibling);var n=ln;t&&p1(e,t)?z4(n,r):(e.flags=e.flags&-4097|2,ot=!1,ln=e)}}else{if(_g(e))throw Error(ce(418));e.flags=e.flags&-4097|2,ot=!1,ln=e}}}function g1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function pu(e){if(e!==ln)return!1;if(!ot)return g1(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bg(e.type,e.memoizedProps)),t&&(t=on)){if(_g(e))throw U4(),Error(ce(418));for(;t;)z4(e,t),t=ka(t.nextSibling)}if(g1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){on=ka(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}on=null}}else on=ln?ka(e.stateNode.nextSibling):null;return!0}function U4(){for(var e=on;e;)e=ka(e.nextSibling)}function Ho(){on=ln=null,ot=!1}function My(e){Kn===null?Kn=[e]:Kn.push(e)}var aM=Ks.ReactCurrentBatchConfig;function ql(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,e))}return e}function gu(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function x1(e){var t=e._init;return t(e._payload)}function q4(e){function t(x,b){if(e){var j=x.deletions;j===null?(x.deletions=[b],x.flags|=16):j.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=Ea(x,b),x.index=0,x.sibling=null,x}function i(x,b,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<b?(x.flags|=2,b):j):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,j,N){return b===null||b.tag!==6?(b=ip(j,x.mode,N),b.return=x,b):(b=a(b,j),b.return=x,b)}function c(x,b,j,N){var w=j.type;return w===go?u(x,b,j.props.children,N,j.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===da&&x1(w)===b.type)?(N=a(b,j.props),N.ref=ql(x,b,j),N.return=x,N):(N=ch(j.type,j.key,j.props,null,x.mode,N),N.ref=ql(x,b,j),N.return=x,N)}function d(x,b,j,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=op(j,x.mode,N),b.return=x,b):(b=a(b,j.children||[]),b.return=x,b)}function u(x,b,j,N,w){return b===null||b.tag!==7?(b=ki(j,x.mode,N,w),b.return=x,b):(b=a(b,j),b.return=x,b)}function h(x,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ip(""+b,x.mode,j),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case au:return j=ch(b.type,b.key,b.props,null,x.mode,j),j.ref=ql(x,null,b),j.return=x,j;case po:return b=op(b,x.mode,j),b.return=x,b;case da:var N=b._init;return h(x,N(b._payload),j)}if(sc(b)||Ll(b))return b=ki(b,x.mode,j,null),b.return=x,b;gu(x,b)}return null}function m(x,b,j,N){var w=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return w!==null?null:l(x,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case au:return j.key===w?c(x,b,j,N):null;case po:return j.key===w?d(x,b,j,N):null;case da:return w=j._init,m(x,b,w(j._payload),N)}if(sc(j)||Ll(j))return w!==null?null:u(x,b,j,N,null);gu(x,j)}return null}function f(x,b,j,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(j)||null,l(b,x,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case au:return x=x.get(N.key===null?j:N.key)||null,c(b,x,N,w);case po:return x=x.get(N.key===null?j:N.key)||null,d(b,x,N,w);case da:var _=N._init;return f(x,b,j,_(N._payload),w)}if(sc(N)||Ll(N))return x=x.get(j)||null,u(b,x,N,w,null);gu(b,N)}return null}function p(x,b,j,N){for(var w=null,_=null,k=b,S=b=0,E=null;k!==null&&S<j.length;S++){k.index>S?(E=k,k=null):E=k.sibling;var P=m(x,k,j[S],N);if(P===null){k===null&&(k=E);break}e&&k&&P.alternate===null&&t(x,k),b=i(P,b,S),_===null?w=P:_.sibling=P,_=P,k=E}if(S===j.length)return r(x,k),ot&&ii(x,S),w;if(k===null){for(;S<j.length;S++)k=h(x,j[S],N),k!==null&&(b=i(k,b,S),_===null?w=k:_.sibling=k,_=k);return ot&&ii(x,S),w}for(k=n(x,k);S<j.length;S++)E=f(k,x,S,j[S],N),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?S:E.key),b=i(E,b,S),_===null?w=E:_.sibling=E,_=E);return e&&k.forEach(function(C){return t(x,C)}),ot&&ii(x,S),w}function y(x,b,j,N){var w=Ll(j);if(typeof w!="function")throw Error(ce(150));if(j=w.call(j),j==null)throw Error(ce(151));for(var _=w=null,k=b,S=b=0,E=null,P=j.next();k!==null&&!P.done;S++,P=j.next()){k.index>S?(E=k,k=null):E=k.sibling;var C=m(x,k,P.value,N);if(C===null){k===null&&(k=E);break}e&&k&&C.alternate===null&&t(x,k),b=i(C,b,S),_===null?w=C:_.sibling=C,_=C,k=E}if(P.done)return r(x,k),ot&&ii(x,S),w;if(k===null){for(;!P.done;S++,P=j.next())P=h(x,P.value,N),P!==null&&(b=i(P,b,S),_===null?w=P:_.sibling=P,_=P);return ot&&ii(x,S),w}for(k=n(x,k);!P.done;S++,P=j.next())P=f(k,x,S,P.value,N),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?S:P.key),b=i(P,b,S),_===null?w=P:_.sibling=P,_=P);return e&&k.forEach(function(A){return t(x,A)}),ot&&ii(x,S),w}function v(x,b,j,N){if(typeof j=="object"&&j!==null&&j.type===go&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case au:e:{for(var w=j.key,_=b;_!==null;){if(_.key===w){if(w=j.type,w===go){if(_.tag===7){r(x,_.sibling),b=a(_,j.props.children),b.return=x,x=b;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===da&&x1(w)===_.type){r(x,_.sibling),b=a(_,j.props),b.ref=ql(x,_,j),b.return=x,x=b;break e}r(x,_);break}else t(x,_);_=_.sibling}j.type===go?(b=ki(j.props.children,x.mode,N,j.key),b.return=x,x=b):(N=ch(j.type,j.key,j.props,null,x.mode,N),N.ref=ql(x,b,j),N.return=x,x=N)}return o(x);case po:e:{for(_=j.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(x,b.sibling),b=a(b,j.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=op(j,x.mode,N),b.return=x,x=b}return o(x);case da:return _=j._init,v(x,b,_(j._payload),N)}if(sc(j))return p(x,b,j,N);if(Ll(j))return y(x,b,j,N);gu(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(x,b.sibling),b=a(b,j),b.return=x,x=b):(r(x,b),b=ip(j,x.mode,N),b.return=x,x=b),o(x)):r(x,b)}return v}var Ko=q4(!0),V4=q4(!1),Mh=Ba(null),Dh=null,_o=null,Dy=null;function Ry(){Dy=_o=Dh=null}function $y(e){var t=Mh.current;st(Mh),e._currentValue=t}function Sg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $o(e,t){Dh=e,Dy=_o=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zr=!0),e.firstContext=null)}function Tn(e){var t=e._currentValue;if(Dy!==e)if(e={context:e,memoizedValue:t,next:null},_o===null){if(Dh===null)throw Error(ce(308));_o=e,Dh.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var pi=null;function Iy(e){pi===null?pi=[e]:pi.push(e)}function W4(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Iy(t)):(r.next=a.next,a.next=r),t.interleaved=r,zs(e,n)}function zs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ua=!1;function Ly(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Re&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,zs(e,r)}return a=n.interleaved,a===null?(t.next=t,Iy(n)):(t.next=a.next,a.next=t),n.interleaved=t,zs(e,r)}function nh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ny(e,r)}}function y1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Rh(e,t,r,n){var a=e.updateQueue;ua=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,f=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,y=l;switch(m=t,f=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(f,h,m);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,m=typeof p=="function"?p.call(f,h,m):p,m==null)break e;h=pt({},h,m);break e;case 2:ua=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=h):u=u.next=f,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Di|=o,e.lanes=o,e.memoizedState=h}}function v1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ce(191,a));a.call(n)}}}var Cd={},gs=Ba(Cd),Yc=Ba(Cd),Jc=Ba(Cd);function gi(e){if(e===Cd)throw Error(ce(174));return e}function Fy(e,t){switch(et(Jc,t),et(Yc,e),et(gs,Cd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ig(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ig(t,e)}st(gs),et(gs,t)}function Go(){st(gs),st(Yc),st(Jc)}function K4(e){gi(Jc.current);var t=gi(gs.current),r=ig(t,e.type);t!==r&&(et(Yc,e),et(gs,r))}function By(e){Yc.current===e&&(st(gs),st(Yc))}var dt=Ba(0);function $h(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ep=[];function zy(){for(var e=0;e<ep.length;e++)ep[e]._workInProgressVersionPrimary=null;ep.length=0}var sh=Ks.ReactCurrentDispatcher,tp=Ks.ReactCurrentBatchConfig,Mi=0,mt=null,$t=null,Ht=null,Ih=!1,jc=!1,Xc=0,iM=0;function hr(){throw Error(ce(321))}function Uy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!rs(e[r],t[r]))return!1;return!0}function qy(e,t,r,n,a,i){if(Mi=i,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sh.current=e===null||e.memoizedState===null?dM:uM,e=r(n,a),jc){i=0;do{if(jc=!1,Xc=0,25<=i)throw Error(ce(301));i+=1,Ht=$t=null,t.updateQueue=null,sh.current=hM,e=r(n,a)}while(jc)}if(sh.current=Lh,t=$t!==null&&$t.next!==null,Mi=0,Ht=$t=mt=null,Ih=!1,t)throw Error(ce(300));return e}function Vy(){var e=Xc!==0;return Xc=0,e}function cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?mt.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function On(){if($t===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var t=Ht===null?mt.memoizedState:Ht.next;if(t!==null)Ht=t,$t=e;else{if(e===null)throw Error(ce(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ht===null?mt.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function Qc(e,t){return typeof t=="function"?t(e):t}function rp(e){var t=On(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=$t,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Mi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,mt.lanes|=u,Di|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,rs(n,t.memoizedState)||(zr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,mt.lanes|=i,Di|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function np(e){var t=On(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);rs(i,t.memoizedState)||(zr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function G4(){}function Y4(e,t){var r=mt,n=On(),a=t(),i=!rs(n.memoizedState,a);if(i&&(n.memoizedState=a,zr=!0),n=n.queue,Wy(Q4.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ht!==null&&Ht.memoizedState.tag&1){if(r.flags|=2048,Zc(9,X4.bind(null,r,n,a,t),void 0,null),Gt===null)throw Error(ce(349));Mi&30||J4(r,t,a)}return a}function J4(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function X4(e,t,r,n){t.value=r,t.getSnapshot=n,Z4(t)&&ek(e)}function Q4(e,t,r){return r(function(){Z4(t)&&ek(e)})}function Z4(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rs(e,r)}catch{return!0}}function ek(e){var t=zs(e,1);t!==null&&Zn(t,e,1,-1)}function b1(e){var t=cs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:e},t.queue=e,e=e.dispatch=cM.bind(null,mt,e),[t.memoizedState,e]}function Zc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tk(){return On().memoizedState}function ah(e,t,r,n){var a=cs();mt.flags|=e,a.memoizedState=Zc(1|t,r,void 0,n===void 0?null:n)}function Ym(e,t,r,n){var a=On();n=n===void 0?null:n;var i=void 0;if($t!==null){var o=$t.memoizedState;if(i=o.destroy,n!==null&&Uy(n,o.deps)){a.memoizedState=Zc(t,r,i,n);return}}mt.flags|=e,a.memoizedState=Zc(1|t,r,i,n)}function w1(e,t){return ah(8390656,8,e,t)}function Wy(e,t){return Ym(2048,8,e,t)}function rk(e,t){return Ym(4,2,e,t)}function nk(e,t){return Ym(4,4,e,t)}function sk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ak(e,t,r){return r=r!=null?r.concat([e]):null,Ym(4,4,sk.bind(null,t,e),r)}function Hy(){}function ik(e,t){var r=On();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Uy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ok(e,t){var r=On();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Uy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function lk(e,t,r){return Mi&21?(rs(r,t)||(r=m4(),mt.lanes|=r,Di|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zr=!0),e.memoizedState=r)}function oM(e,t){var r=Ue;Ue=r!==0&&4>r?r:4,e(!0);var n=tp.transition;tp.transition={};try{e(!1),t()}finally{Ue=r,tp.transition=n}}function ck(){return On().memoizedState}function lM(e,t,r){var n=Pa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dk(e))uk(t,r);else if(r=W4(e,t,r,n),r!==null){var a=Cr();Zn(r,e,n,a),hk(r,t,n)}}function cM(e,t,r){var n=Pa(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dk(e))uk(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,rs(l,o)){var c=t.interleaved;c===null?(a.next=a,Iy(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=W4(e,t,a,n),r!==null&&(a=Cr(),Zn(r,e,n,a),hk(r,t,n))}}function dk(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function uk(e,t){jc=Ih=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function hk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ny(e,r)}}var Lh={readContext:Tn,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},dM={readContext:Tn,useCallback:function(e,t){return cs().memoizedState=[e,t===void 0?null:t],e},useContext:Tn,useEffect:w1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ah(4194308,4,sk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ah(4194308,4,e,t)},useInsertionEffect:function(e,t){return ah(4,2,e,t)},useMemo:function(e,t){var r=cs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=cs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=lM.bind(null,mt,e),[n.memoizedState,e]},useRef:function(e){var t=cs();return e={current:e},t.memoizedState=e},useState:b1,useDebugValue:Hy,useDeferredValue:function(e){return cs().memoizedState=e},useTransition:function(){var e=b1(!1),t=e[0];return e=oM.bind(null,e[1]),cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=mt,a=cs();if(ot){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=t(),Gt===null)throw Error(ce(349));Mi&30||J4(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,w1(Q4.bind(null,n,i,e),[e]),n.flags|=2048,Zc(9,X4.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=cs(),t=Gt.identifierPrefix;if(ot){var r=Ds,n=Ms;r=(n&~(1<<32-Qn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=iM++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uM={readContext:Tn,useCallback:ik,useContext:Tn,useEffect:Wy,useImperativeHandle:ak,useInsertionEffect:rk,useLayoutEffect:nk,useMemo:ok,useReducer:rp,useRef:tk,useState:function(){return rp(Qc)},useDebugValue:Hy,useDeferredValue:function(e){var t=On();return lk(t,$t.memoizedState,e)},useTransition:function(){var e=rp(Qc)[0],t=On().memoizedState;return[e,t]},useMutableSource:G4,useSyncExternalStore:Y4,useId:ck,unstable_isNewReconciler:!1},hM={readContext:Tn,useCallback:ik,useContext:Tn,useEffect:Wy,useImperativeHandle:ak,useInsertionEffect:rk,useLayoutEffect:nk,useMemo:ok,useReducer:np,useRef:tk,useState:function(){return np(Qc)},useDebugValue:Hy,useDeferredValue:function(e){var t=On();return $t===null?t.memoizedState=e:lk(t,$t.memoizedState,e)},useTransition:function(){var e=np(Qc)[0],t=On().memoizedState;return[e,t]},useMutableSource:G4,useSyncExternalStore:Y4,useId:ck,unstable_isNewReconciler:!1};function qn(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Cg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Jm={isMounted:function(e){return(e=e._reactInternals)?qi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Cr(),a=Pa(e),i=Is(n,a);i.payload=t,r!=null&&(i.callback=r),t=Sa(e,i,a),t!==null&&(Zn(t,e,a,n),nh(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Cr(),a=Pa(e),i=Is(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Sa(e,i,a),t!==null&&(Zn(t,e,a,n),nh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Cr(),n=Pa(e),a=Is(r,n);a.tag=2,t!=null&&(a.callback=t),t=Sa(e,a,n),t!==null&&(Zn(t,e,n,r),nh(t,e,n))}};function j1(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Wc(r,n)||!Wc(a,i):!0}function mk(e,t,r){var n=!1,a=Ia,i=t.contextType;return typeof i=="object"&&i!==null?i=Tn(i):(a=Vr(t)?Ti:yr.current,n=t.contextTypes,i=(n=n!=null)?Wo(e,a):Ia),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function N1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Jm.enqueueReplaceState(t,t.state,null)}function Pg(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ly(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Tn(i):(i=Vr(t)?Ti:yr.current,a.context=Wo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Cg(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Jm.enqueueReplaceState(a,a.state,null),Rh(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Yo(e,t){try{var r="",n=t;do r+=BT(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function sp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Eg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mM=typeof WeakMap=="function"?WeakMap:Map;function fk(e,t,r){r=Is(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bh||(Bh=!0,Fg=n),Eg(e,t)},r}function pk(e,t,r){r=Is(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Eg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Eg(e,t),typeof n!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function _1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new mM;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=CM.bind(null,e,t,r),t.then(e,e))}function k1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function S1(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Is(-1,1),t.tag=2,Sa(r,t,1))),r.lanes|=1),e)}var fM=Ks.ReactCurrentOwner,zr=!1;function _r(e,t,r,n){t.child=e===null?V4(t,null,r,n):Ko(t,e.child,r,n)}function C1(e,t,r,n,a){r=r.render;var i=t.ref;return $o(t,a),n=qy(e,t,r,n,i,a),r=Vy(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Us(e,t,a)):(ot&&r&&Ty(t),t.flags|=1,_r(e,t,n,a),t.child)}function P1(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!ev(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,gk(e,t,i,n,a)):(e=ch(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Wc,r(o,n)&&e.ref===t.ref)return Us(e,t,a)}return t.flags|=1,e=Ea(i,n),e.ref=t.ref,e.return=t,t.child=e}function gk(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Wc(i,n)&&e.ref===t.ref)if(zr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(zr=!0);else return t.lanes=e.lanes,Us(e,t,a)}return Ag(e,t,r,n,a)}function xk(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(So,en),en|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(So,en),en|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,et(So,en),en|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,et(So,en),en|=n;return _r(e,t,a,r),t.child}function yk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ag(e,t,r,n,a){var i=Vr(r)?Ti:yr.current;return i=Wo(t,i),$o(t,a),r=qy(e,t,r,n,i,a),n=Vy(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Us(e,t,a)):(ot&&n&&Ty(t),t.flags|=1,_r(e,t,r,a),t.child)}function E1(e,t,r,n,a){if(Vr(r)){var i=!0;Ah(t)}else i=!1;if($o(t,a),t.stateNode===null)ih(e,t),mk(t,r,n),Pg(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Tn(d):(d=Vr(r)?Ti:yr.current,d=Wo(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&N1(t,o,n,d),ua=!1;var m=t.memoizedState;o.state=m,Rh(t,n,o,a),c=t.memoizedState,l!==n||m!==c||qr.current||ua?(typeof u=="function"&&(Cg(t,r,u,n),c=t.memoizedState),(l=ua||j1(t,r,l,n,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,H4(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:qn(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Tn(c):(c=Vr(r)?Ti:yr.current,c=Wo(t,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&N1(t,o,n,c),ua=!1,m=t.memoizedState,o.state=m,Rh(t,n,o,a);var p=t.memoizedState;l!==h||m!==p||qr.current||ua?(typeof f=="function"&&(Cg(t,r,f,n),p=t.memoizedState),(d=ua||j1(t,r,d,n,m,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Tg(e,t,r,n,i,a)}function Tg(e,t,r,n,a,i){yk(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&f1(t,r,!1),Us(e,t,i);n=t.stateNode,fM.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ko(t,e.child,null,i),t.child=Ko(t,null,l,i)):_r(e,t,l,i),t.memoizedState=n.state,a&&f1(t,r,!0),t.child}function vk(e){var t=e.stateNode;t.pendingContext?m1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&m1(e,t.context,!1),Fy(e,t.containerInfo)}function A1(e,t,r,n,a){return Ho(),My(a),t.flags|=256,_r(e,t,r,n),t.child}var Og={dehydrated:null,treeContext:null,retryLane:0};function Mg(e){return{baseLanes:e,cachePool:null,transitions:null}}function bk(e,t,r){var n=t.pendingProps,a=dt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),et(dt,a&1),e===null)return kg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zm(o,n,0,null),e=ki(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mg(r),t.memoizedState=Og,e):Ky(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return pM(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ea(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ea(l,i):(i=ki(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Mg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Og,n}return i=e.child,e=i.sibling,n=Ea(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ky(e,t){return t=Zm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xu(e,t,r,n){return n!==null&&My(n),Ko(t,e.child,null,r),e=Ky(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pM(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=sp(Error(ce(422))),xu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Zm({mode:"visible",children:n.children},a,0,null),i=ki(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ko(t,e.child,null,o),t.child.memoizedState=Mg(o),t.memoizedState=Og,i);if(!(t.mode&1))return xu(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ce(419)),n=sp(i,n,void 0),xu(e,t,o,n)}if(l=(o&e.childLanes)!==0,zr||l){if(n=Gt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,zs(e,a),Zn(n,e,a,-1))}return Zy(),n=sp(Error(ce(421))),xu(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=PM.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,on=ka(a.nextSibling),ln=t,ot=!0,Kn=null,e!==null&&(wn[jn++]=Ms,wn[jn++]=Ds,wn[jn++]=Oi,Ms=e.id,Ds=e.overflow,Oi=t),t=Ky(t,n.children),t.flags|=4096,t)}function T1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Sg(e.return,t,r)}function ap(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function wk(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(_r(e,t,n.children,r),n=dt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&T1(e,r,t);else if(e.tag===19)T1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(et(dt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&$h(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ap(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&$h(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ap(t,!0,r,null,i);break;case"together":ap(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ih(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Us(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Di|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,r=Ea(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ea(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gM(e,t,r){switch(t.tag){case 3:vk(t),Ho();break;case 5:K4(t);break;case 1:Vr(t.type)&&Ah(t);break;case 4:Fy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;et(Mh,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(et(dt,dt.current&1),t.flags|=128,null):r&t.child.childLanes?bk(e,t,r):(et(dt,dt.current&1),e=Us(e,t,r),e!==null?e.sibling:null);et(dt,dt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return wk(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),et(dt,dt.current),n)break;return null;case 22:case 23:return t.lanes=0,xk(e,t,r)}return Us(e,t,r)}var jk,Dg,Nk,_k;jk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dg=function(){};Nk=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,gi(gs.current);var i=null;switch(r){case"input":a=rg(e,a),n=rg(e,n),i=[];break;case"select":a=pt({},a,{value:void 0}),n=pt({},n,{value:void 0}),i=[];break;case"textarea":a=ag(e,a),n=ag(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ph)}og(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Lc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Lc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&rt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};_k=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vl(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function mr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function xM(e,t,r){var n=t.pendingProps;switch(Oy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(t),null;case 1:return Vr(t.type)&&Eh(),mr(t),null;case 3:return n=t.stateNode,Go(),st(qr),st(yr),zy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kn!==null&&(Ug(Kn),Kn=null))),Dg(e,t),mr(t),null;case 5:By(t);var a=gi(Jc.current);if(r=t.type,e!==null&&t.stateNode!=null)Nk(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ce(166));return mr(t),null}if(e=gi(gs.current),pu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[hs]=t,n[Gc]=i,e=(t.mode&1)!==0,r){case"dialog":rt("cancel",n),rt("close",n);break;case"iframe":case"object":case"embed":rt("load",n);break;case"video":case"audio":for(a=0;a<ic.length;a++)rt(ic[a],n);break;case"source":rt("error",n);break;case"img":case"image":case"link":rt("error",n),rt("load",n);break;case"details":rt("toggle",n);break;case"input":Bw(n,i),rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},rt("invalid",n);break;case"textarea":Uw(n,i),rt("invalid",n)}og(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&fu(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&fu(n.textContent,l,e),a=["children",""+l]):Lc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&rt("scroll",n)}switch(r){case"input":iu(n),zw(n,i,!0);break;case"textarea":iu(n),qw(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ph)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Q_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[hs]=t,e[Gc]=n,jk(e,t,!1,!1),t.stateNode=e;e:{switch(o=lg(r,n),r){case"dialog":rt("cancel",e),rt("close",e),a=n;break;case"iframe":case"object":case"embed":rt("load",e),a=n;break;case"video":case"audio":for(a=0;a<ic.length;a++)rt(ic[a],e);a=n;break;case"source":rt("error",e),a=n;break;case"img":case"image":case"link":rt("error",e),rt("load",e),a=n;break;case"details":rt("toggle",e),a=n;break;case"input":Bw(e,n),a=rg(e,n),rt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=pt({},n,{value:void 0}),rt("invalid",e);break;case"textarea":Uw(e,n),a=ag(e,n),rt("invalid",e);break;default:a=n}og(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?t4(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Z_(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Fc(e,c):typeof c=="number"&&Fc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&rt("scroll",e):c!=null&&xy(e,i,c,o))}switch(r){case"input":iu(e),zw(e,n,!1);break;case"textarea":iu(e),qw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$a(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Oo(e,!!n.multiple,i,!1):n.defaultValue!=null&&Oo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ph)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mr(t),null;case 6:if(e&&t.stateNode!=null)_k(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ce(166));if(r=gi(Jc.current),gi(gs.current),pu(t)){if(n=t.stateNode,r=t.memoizedProps,n[hs]=t,(i=n.nodeValue!==r)&&(e=ln,e!==null))switch(e.tag){case 3:fu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hs]=t,t.stateNode=n}return mr(t),null;case 13:if(st(dt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&on!==null&&t.mode&1&&!(t.flags&128))U4(),Ho(),t.flags|=98560,i=!1;else if(i=pu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ce(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[hs]=t}else Ho(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mr(t),i=!1}else Kn!==null&&(Ug(Kn),Kn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?It===0&&(It=3):Zy())),t.updateQueue!==null&&(t.flags|=4),mr(t),null);case 4:return Go(),Dg(e,t),e===null&&Hc(t.stateNode.containerInfo),mr(t),null;case 10:return $y(t.type._context),mr(t),null;case 17:return Vr(t.type)&&Eh(),mr(t),null;case 19:if(st(dt),i=t.memoizedState,i===null)return mr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Vl(i,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$h(e),o!==null){for(t.flags|=128,Vl(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return et(dt,dt.current&1|2),t.child}e=e.sibling}i.tail!==null&&jt()>Jo&&(t.flags|=128,n=!0,Vl(i,!1),t.lanes=4194304)}else{if(!n)if(e=$h(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ot)return mr(t),null}else 2*jt()-i.renderingStartTime>Jo&&r!==1073741824&&(t.flags|=128,n=!0,Vl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jt(),t.sibling=null,r=dt.current,et(dt,n?r&1|2:r&1),t):(mr(t),null);case 22:case 23:return Qy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?en&1073741824&&(mr(t),t.subtreeFlags&6&&(t.flags|=8192)):mr(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function yM(e,t){switch(Oy(t),t.tag){case 1:return Vr(t.type)&&Eh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Go(),st(qr),st(yr),zy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return By(t),null;case 13:if(st(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));Ho()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(dt),null;case 4:return Go(),null;case 10:return $y(t.type._context),null;case 22:case 23:return Qy(),null;case 24:return null;default:return null}}var yu=!1,gr=!1,vM=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ko(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(e,t,n)}else r.current=null}function Rg(e,t,r){try{r()}catch(n){xt(e,t,n)}}var O1=!1;function bM(e,t){if(yg=kh,e=E4(),Ay(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var f;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===n&&(c=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(vg={focusedElem:e,selectionRange:r},kh=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,v=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:qn(t.type,y),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(N){xt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return p=O1,O1=!1,p}function Nc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Rg(t,r,i)}a=a.next}while(a!==n)}}function Xm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function $g(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function kk(e){var t=e.alternate;t!==null&&(e.alternate=null,kk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hs],delete t[Gc],delete t[jg],delete t[rM],delete t[nM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sk(e){return e.tag===5||e.tag===3||e.tag===4}function M1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ig(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ph));else if(n!==4&&(e=e.child,e!==null))for(Ig(e,t,r),e=e.sibling;e!==null;)Ig(e,t,r),e=e.sibling}function Lg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Lg(e,t,r),e=e.sibling;e!==null;)Lg(e,t,r),e=e.sibling}var tr=null,Wn=!1;function ra(e,t,r){for(r=r.child;r!==null;)Ck(e,t,r),r=r.sibling}function Ck(e,t,r){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(qm,r)}catch{}switch(r.tag){case 5:gr||ko(r,t);case 6:var n=tr,a=Wn;tr=null,ra(e,t,r),tr=n,Wn=a,tr!==null&&(Wn?(e=tr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tr.removeChild(r.stateNode));break;case 18:tr!==null&&(Wn?(e=tr,r=r.stateNode,e.nodeType===8?Q0(e.parentNode,r):e.nodeType===1&&Q0(e,r),qc(e)):Q0(tr,r.stateNode));break;case 4:n=tr,a=Wn,tr=r.stateNode.containerInfo,Wn=!0,ra(e,t,r),tr=n,Wn=a;break;case 0:case 11:case 14:case 15:if(!gr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rg(r,t,o),a=a.next}while(a!==n)}ra(e,t,r);break;case 1:if(!gr&&(ko(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xt(r,t,l)}ra(e,t,r);break;case 21:ra(e,t,r);break;case 22:r.mode&1?(gr=(n=gr)||r.memoizedState!==null,ra(e,t,r),gr=n):ra(e,t,r);break;default:ra(e,t,r)}}function D1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vM),t.forEach(function(n){var a=EM.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function zn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:tr=l.stateNode,Wn=!1;break e;case 3:tr=l.stateNode.containerInfo,Wn=!0;break e;case 4:tr=l.stateNode.containerInfo,Wn=!0;break e}l=l.return}if(tr===null)throw Error(ce(160));Ck(i,o,a),tr=null,Wn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){xt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pk(t,e),t=t.sibling}function Pk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zn(t,e),is(e),n&4){try{Nc(3,e,e.return),Xm(3,e)}catch(y){xt(e,e.return,y)}try{Nc(5,e,e.return)}catch(y){xt(e,e.return,y)}}break;case 1:zn(t,e),is(e),n&512&&r!==null&&ko(r,r.return);break;case 5:if(zn(t,e),is(e),n&512&&r!==null&&ko(r,r.return),e.flags&32){var a=e.stateNode;try{Fc(a,"")}catch(y){xt(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&J_(a,i),lg(l,o);var d=lg(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?t4(a,h):u==="dangerouslySetInnerHTML"?Z_(a,h):u==="children"?Fc(a,h):xy(a,u,h,d)}switch(l){case"input":ng(a,i);break;case"textarea":X_(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Oo(a,!!i.multiple,f,!1):m!==!!i.multiple&&(i.defaultValue!=null?Oo(a,!!i.multiple,i.defaultValue,!0):Oo(a,!!i.multiple,i.multiple?[]:"",!1))}a[Gc]=i}catch(y){xt(e,e.return,y)}}break;case 6:if(zn(t,e),is(e),n&4){if(e.stateNode===null)throw Error(ce(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){xt(e,e.return,y)}}break;case 3:if(zn(t,e),is(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qc(t.containerInfo)}catch(y){xt(e,e.return,y)}break;case 4:zn(t,e),is(e);break;case 13:zn(t,e),is(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Jy=jt())),n&4&&D1(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(gr=(d=gr)||u,zn(t,e),gr=d):zn(t,e),is(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ge=e,u=e.child;u!==null;){for(h=ge=u;ge!==null;){switch(m=ge,f=m.child,m.tag){case 0:case 11:case 14:case 15:Nc(4,m,m.return);break;case 1:ko(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){xt(n,r,y)}}break;case 5:ko(m,m.return);break;case 22:if(m.memoizedState!==null){$1(h);continue}}f!==null?(f.return=m,ge=f):$1(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=e4("display",o))}catch(y){xt(e,e.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){xt(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zn(t,e),is(e),n&4&&D1(e);break;case 21:break;default:zn(t,e),is(e)}}function is(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Sk(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Fc(a,""),n.flags&=-33);var i=M1(e);Lg(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=M1(e);Ig(e,l,o);break;default:throw Error(ce(161))}}catch(c){xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wM(e,t,r){ge=e,Ek(e)}function Ek(e,t,r){for(var n=(e.mode&1)!==0;ge!==null;){var a=ge,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||yu;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||gr;l=yu;var d=gr;if(yu=o,(gr=c)&&!d)for(ge=a;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?I1(a):c!==null?(c.return=o,ge=c):I1(a);for(;i!==null;)ge=i,Ek(i),i=i.sibling;ge=a,yu=l,gr=d}R1(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ge=i):R1(e)}}function R1(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gr||Xm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!gr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:qn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&v1(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}v1(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&qc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}gr||t.flags&512&&$g(t)}catch(m){xt(t,t.return,m)}}if(t===e){ge=null;break}if(r=t.sibling,r!==null){r.return=t.return,ge=r;break}ge=t.return}}function $1(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ge=r;break}ge=t.return}}function I1(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xm(4,t)}catch(c){xt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){xt(t,a,c)}}var i=t.return;try{$g(t)}catch(c){xt(t,i,c)}break;case 5:var o=t.return;try{$g(t)}catch(c){xt(t,o,c)}}}catch(c){xt(t,t.return,c)}if(t===e){ge=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ge=l;break}ge=t.return}}var jM=Math.ceil,Fh=Ks.ReactCurrentDispatcher,Gy=Ks.ReactCurrentOwner,En=Ks.ReactCurrentBatchConfig,Re=0,Gt=null,St=null,ar=0,en=0,So=Ba(0),It=0,ed=null,Di=0,Qm=0,Yy=0,_c=null,Lr=null,Jy=0,Jo=1/0,Cs=null,Bh=!1,Fg=null,Ca=null,vu=!1,va=null,zh=0,kc=0,Bg=null,oh=-1,lh=0;function Cr(){return Re&6?jt():oh!==-1?oh:oh=jt()}function Pa(e){return e.mode&1?Re&2&&ar!==0?ar&-ar:aM.transition!==null?(lh===0&&(lh=m4()),lh):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:b4(e.type)),e):1}function Zn(e,t,r,n){if(50<kc)throw kc=0,Bg=null,Error(ce(185));_d(e,r,n),(!(Re&2)||e!==Gt)&&(e===Gt&&(!(Re&2)&&(Qm|=r),It===4&&pa(e,ar)),Wr(e,n),r===1&&Re===0&&!(t.mode&1)&&(Jo=jt()+500,Gm&&za()))}function Wr(e,t){var r=e.callbackNode;aO(e,t);var n=_h(e,e===Gt?ar:0);if(n===0)r!==null&&Hw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Hw(r),t===1)e.tag===0?sM(L1.bind(null,e)):F4(L1.bind(null,e)),eM(function(){!(Re&6)&&za()}),r=null;else{switch(f4(n)){case 1:r=jy;break;case 4:r=u4;break;case 16:r=Nh;break;case 536870912:r=h4;break;default:r=Nh}r=Ik(r,Ak.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ak(e,t){if(oh=-1,lh=0,Re&6)throw Error(ce(327));var r=e.callbackNode;if(Io()&&e.callbackNode!==r)return null;var n=_h(e,e===Gt?ar:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Uh(e,n);else{t=n;var a=Re;Re|=2;var i=Ok();(Gt!==e||ar!==t)&&(Cs=null,Jo=jt()+500,_i(e,t));do try{kM();break}catch(l){Tk(e,l)}while(!0);Ry(),Fh.current=i,Re=a,St!==null?t=0:(Gt=null,ar=0,t=It)}if(t!==0){if(t===2&&(a=mg(e),a!==0&&(n=a,t=zg(e,a))),t===1)throw r=ed,_i(e,0),pa(e,n),Wr(e,jt()),r;if(t===6)pa(e,n);else{if(a=e.current.alternate,!(n&30)&&!NM(a)&&(t=Uh(e,n),t===2&&(i=mg(e),i!==0&&(n=i,t=zg(e,i))),t===1))throw r=ed,_i(e,0),pa(e,n),Wr(e,jt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ce(345));case 2:oi(e,Lr,Cs);break;case 3:if(pa(e,n),(n&130023424)===n&&(t=Jy+500-jt(),10<t)){if(_h(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Cr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=wg(oi.bind(null,e,Lr,Cs),t);break}oi(e,Lr,Cs);break;case 4:if(pa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Qn(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jM(n/1960))-n,10<n){e.timeoutHandle=wg(oi.bind(null,e,Lr,Cs),n);break}oi(e,Lr,Cs);break;case 5:oi(e,Lr,Cs);break;default:throw Error(ce(329))}}}return Wr(e,jt()),e.callbackNode===r?Ak.bind(null,e):null}function zg(e,t){var r=_c;return e.current.memoizedState.isDehydrated&&(_i(e,t).flags|=256),e=Uh(e,t),e!==2&&(t=Lr,Lr=r,t!==null&&Ug(t)),e}function Ug(e){Lr===null?Lr=e:Lr.push.apply(Lr,e)}function NM(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!rs(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pa(e,t){for(t&=~Yy,t&=~Qm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qn(t),n=1<<r;e[r]=-1,t&=~n}}function L1(e){if(Re&6)throw Error(ce(327));Io();var t=_h(e,0);if(!(t&1))return Wr(e,jt()),null;var r=Uh(e,t);if(e.tag!==0&&r===2){var n=mg(e);n!==0&&(t=n,r=zg(e,n))}if(r===1)throw r=ed,_i(e,0),pa(e,t),Wr(e,jt()),r;if(r===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oi(e,Lr,Cs),Wr(e,jt()),null}function Xy(e,t){var r=Re;Re|=1;try{return e(t)}finally{Re=r,Re===0&&(Jo=jt()+500,Gm&&za())}}function Ri(e){va!==null&&va.tag===0&&!(Re&6)&&Io();var t=Re;Re|=1;var r=En.transition,n=Ue;try{if(En.transition=null,Ue=1,e)return e()}finally{Ue=n,En.transition=r,Re=t,!(Re&6)&&za()}}function Qy(){en=So.current,st(So)}function _i(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ZO(r)),St!==null)for(r=St.return;r!==null;){var n=r;switch(Oy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Eh();break;case 3:Go(),st(qr),st(yr),zy();break;case 5:By(n);break;case 4:Go();break;case 13:st(dt);break;case 19:st(dt);break;case 10:$y(n.type._context);break;case 22:case 23:Qy()}r=r.return}if(Gt=e,St=e=Ea(e.current,null),ar=en=t,It=0,ed=null,Yy=Qm=Di=0,Lr=_c=null,pi!==null){for(t=0;t<pi.length;t++)if(r=pi[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}pi=null}return e}function Tk(e,t){do{var r=St;try{if(Ry(),sh.current=Lh,Ih){for(var n=mt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ih=!1}if(Mi=0,Ht=$t=mt=null,jc=!1,Xc=0,Gy.current=null,r===null||r.return===null){It=1,ed=t,St=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=ar,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=k1(o);if(f!==null){f.flags&=-257,S1(f,o,l,i,t),f.mode&1&&_1(i,d,t),t=f,c=d;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){_1(i,d,t),Zy();break e}c=Error(ce(426))}}else if(ot&&l.mode&1){var v=k1(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),S1(v,o,l,i,t),My(Yo(c,l));break e}}i=c=Yo(c,l),It!==4&&(It=2),_c===null?_c=[i]:_c.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=fk(i,c,t);y1(i,x);break e;case 1:l=c;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ca===null||!Ca.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=pk(i,l,t);y1(i,N);break e}}i=i.return}while(i!==null)}Dk(r)}catch(w){t=w,St===r&&r!==null&&(St=r=r.return);continue}break}while(!0)}function Ok(){var e=Fh.current;return Fh.current=Lh,e===null?Lh:e}function Zy(){(It===0||It===3||It===2)&&(It=4),Gt===null||!(Di&268435455)&&!(Qm&268435455)||pa(Gt,ar)}function Uh(e,t){var r=Re;Re|=2;var n=Ok();(Gt!==e||ar!==t)&&(Cs=null,_i(e,t));do try{_M();break}catch(a){Tk(e,a)}while(!0);if(Ry(),Re=r,Fh.current=n,St!==null)throw Error(ce(261));return Gt=null,ar=0,It}function _M(){for(;St!==null;)Mk(St)}function kM(){for(;St!==null&&!JT();)Mk(St)}function Mk(e){var t=$k(e.alternate,e,en);e.memoizedProps=e.pendingProps,t===null?Dk(e):St=t,Gy.current=null}function Dk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=yM(r,t),r!==null){r.flags&=32767,St=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{It=6,St=null;return}}else if(r=xM(r,t,en),r!==null){St=r;return}if(t=t.sibling,t!==null){St=t;return}St=t=e}while(t!==null);It===0&&(It=5)}function oi(e,t,r){var n=Ue,a=En.transition;try{En.transition=null,Ue=1,SM(e,t,r,n)}finally{En.transition=a,Ue=n}return null}function SM(e,t,r,n){do Io();while(va!==null);if(Re&6)throw Error(ce(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(iO(e,i),e===Gt&&(St=Gt=null,ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vu||(vu=!0,Ik(Nh,function(){return Io(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=En.transition,En.transition=null;var o=Ue;Ue=1;var l=Re;Re|=4,Gy.current=null,bM(e,r),Pk(r,e),HO(vg),kh=!!yg,vg=yg=null,e.current=r,wM(r),XT(),Re=l,Ue=o,En.transition=i}else e.current=r;if(vu&&(vu=!1,va=e,zh=a),i=e.pendingLanes,i===0&&(Ca=null),eO(r.stateNode),Wr(e,jt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Bh)throw Bh=!1,e=Fg,Fg=null,e;return zh&1&&e.tag!==0&&Io(),i=e.pendingLanes,i&1?e===Bg?kc++:(kc=0,Bg=e):kc=0,za(),null}function Io(){if(va!==null){var e=f4(zh),t=En.transition,r=Ue;try{if(En.transition=null,Ue=16>e?16:e,va===null)var n=!1;else{if(e=va,va=null,zh=0,Re&6)throw Error(ce(331));var a=Re;for(Re|=4,ge=e.current;ge!==null;){var i=ge,o=i.child;if(ge.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ge=d;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:Nc(8,u,i)}var h=u.child;if(h!==null)h.return=u,ge=h;else for(;ge!==null;){u=ge;var m=u.sibling,f=u.return;if(kk(u),u===d){ge=null;break}if(m!==null){m.return=f,ge=m;break}ge=f}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}ge=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ge=o;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ge=x;break e}ge=i.return}}var b=e.current;for(ge=b;ge!==null;){o=ge;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,ge=j;else e:for(o=b;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xm(9,l)}}catch(w){xt(l,l.return,w)}if(l===o){ge=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,ge=N;break e}ge=l.return}}if(Re=a,za(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(qm,e)}catch{}n=!0}return n}finally{Ue=r,En.transition=t}}return!1}function F1(e,t,r){t=Yo(r,t),t=fk(e,t,1),e=Sa(e,t,1),t=Cr(),e!==null&&(_d(e,1,t),Wr(e,t))}function xt(e,t,r){if(e.tag===3)F1(e,e,r);else for(;t!==null;){if(t.tag===3){F1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ca===null||!Ca.has(n))){e=Yo(r,e),e=pk(t,e,1),t=Sa(t,e,1),e=Cr(),t!==null&&(_d(t,1,e),Wr(t,e));break}}t=t.return}}function CM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Cr(),e.pingedLanes|=e.suspendedLanes&r,Gt===e&&(ar&r)===r&&(It===4||It===3&&(ar&130023424)===ar&&500>jt()-Jy?_i(e,0):Yy|=r),Wr(e,t)}function Rk(e,t){t===0&&(e.mode&1?(t=cu,cu<<=1,!(cu&130023424)&&(cu=4194304)):t=1);var r=Cr();e=zs(e,t),e!==null&&(_d(e,t,r),Wr(e,r))}function PM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Rk(e,r)}function EM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(t),Rk(e,r)}var $k;$k=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qr.current)zr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return zr=!1,gM(e,t,r);zr=!!(e.flags&131072)}else zr=!1,ot&&t.flags&1048576&&B4(t,Oh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ih(e,t),e=t.pendingProps;var a=Wo(t,yr.current);$o(t,r),a=qy(null,t,n,e,a,r);var i=Vy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vr(n)?(i=!0,Ah(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ly(t),a.updater=Jm,t.stateNode=a,a._reactInternals=t,Pg(t,n,e,r),t=Tg(null,t,n,!0,i,r)):(t.tag=0,ot&&i&&Ty(t),_r(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ih(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=TM(n),e=qn(n,e),a){case 0:t=Ag(null,t,n,e,r);break e;case 1:t=E1(null,t,n,e,r);break e;case 11:t=C1(null,t,n,e,r);break e;case 14:t=P1(null,t,n,qn(n.type,e),r);break e}throw Error(ce(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qn(n,a),Ag(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qn(n,a),E1(e,t,n,a,r);case 3:e:{if(vk(t),e===null)throw Error(ce(387));n=t.pendingProps,i=t.memoizedState,a=i.element,H4(e,t),Rh(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Yo(Error(ce(423)),t),t=A1(e,t,n,r,a);break e}else if(n!==a){a=Yo(Error(ce(424)),t),t=A1(e,t,n,r,a);break e}else for(on=ka(t.stateNode.containerInfo.firstChild),ln=t,ot=!0,Kn=null,r=V4(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ho(),n===a){t=Us(e,t,r);break e}_r(e,t,n,r)}t=t.child}return t;case 5:return K4(t),e===null&&kg(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,bg(n,a)?o=null:i!==null&&bg(n,i)&&(t.flags|=32),yk(e,t),_r(e,t,o,r),t.child;case 6:return e===null&&kg(t),null;case 13:return bk(e,t,r);case 4:return Fy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ko(t,null,n,r):_r(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qn(n,a),C1(e,t,n,a,r);case 7:return _r(e,t,t.pendingProps,r),t.child;case 8:return _r(e,t,t.pendingProps.children,r),t.child;case 12:return _r(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,et(Mh,n._currentValue),n._currentValue=o,i!==null)if(rs(i.value,o)){if(i.children===a.children&&!qr.current){t=Us(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Is(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Sg(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ce(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Sg(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_r(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,$o(t,r),a=Tn(a),n=n(a),t.flags|=1,_r(e,t,n,r),t.child;case 14:return n=t.type,a=qn(n,t.pendingProps),a=qn(n.type,a),P1(e,t,n,a,r);case 15:return gk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qn(n,a),ih(e,t),t.tag=1,Vr(n)?(e=!0,Ah(t)):e=!1,$o(t,r),mk(t,n,a),Pg(t,n,a,r),Tg(null,t,n,!0,e,r);case 19:return wk(e,t,r);case 22:return xk(e,t,r)}throw Error(ce(156,t.tag))};function Ik(e,t){return d4(e,t)}function AM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,t,r,n){return new AM(e,t,r,n)}function ev(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TM(e){if(typeof e=="function")return ev(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vy)return 11;if(e===by)return 14}return 2}function Ea(e,t){var r=e.alternate;return r===null?(r=_n(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ch(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")ev(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case go:return ki(r.children,a,i,t);case yy:o=8,a|=8;break;case Qp:return e=_n(12,r,t,a|2),e.elementType=Qp,e.lanes=i,e;case Zp:return e=_n(13,r,t,a),e.elementType=Zp,e.lanes=i,e;case eg:return e=_n(19,r,t,a),e.elementType=eg,e.lanes=i,e;case K_:return Zm(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W_:o=10;break e;case H_:o=9;break e;case vy:o=11;break e;case by:o=14;break e;case da:o=16,n=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=_n(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ki(e,t,r,n){return e=_n(7,e,n,t),e.lanes=r,e}function Zm(e,t,r,n){return e=_n(22,e,n,t),e.elementType=K_,e.lanes=r,e.stateNode={isHidden:!1},e}function ip(e,t,r){return e=_n(6,e,null,t),e.lanes=r,e}function op(e,t,r){return t=_n(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OM(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=z0(0),this.expirationTimes=z0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function tv(e,t,r,n,a,i,o,l,c){return e=new OM(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=_n(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ly(i),e}function MM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:po,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Lk(e){if(!e)return Ia;e=e._reactInternals;e:{if(qi(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var r=e.type;if(Vr(r))return L4(e,r,t)}return t}function Fk(e,t,r,n,a,i,o,l,c){return e=tv(r,n,!0,e,a,i,o,l,c),e.context=Lk(null),r=e.current,n=Cr(),a=Pa(r),i=Is(n,a),i.callback=t??null,Sa(r,i,a),e.current.lanes=a,_d(e,a,n),Wr(e,n),e}function ef(e,t,r,n){var a=t.current,i=Cr(),o=Pa(a);return r=Lk(r),t.context===null?t.context=r:t.pendingContext=r,t=Is(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Sa(a,t,o),e!==null&&(Zn(e,a,o,i),nh(e,a,o)),o}function qh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function B1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function rv(e,t){B1(e,t),(e=e.alternate)&&B1(e,t)}function DM(){return null}var Bk=typeof reportError=="function"?reportError:function(e){console.error(e)};function nv(e){this._internalRoot=e}tf.prototype.render=nv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));ef(e,t,null,null)};tf.prototype.unmount=nv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ri(function(){ef(null,e,null,null)}),t[Bs]=null}};function tf(e){this._internalRoot=e}tf.prototype.unstable_scheduleHydration=function(e){if(e){var t=x4();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fa.length&&t!==0&&t<fa[r].priority;r++);fa.splice(r,0,e),r===0&&v4(e)}};function sv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function z1(){}function RM(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=qh(o);i.call(d)}}var o=Fk(t,n,e,0,null,!1,!1,"",z1);return e._reactRootContainer=o,e[Bs]=o.current,Hc(e.nodeType===8?e.parentNode:e),Ri(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=qh(c);l.call(d)}}var c=tv(e,0,!1,null,null,!1,!1,"",z1);return e._reactRootContainer=c,e[Bs]=c.current,Hc(e.nodeType===8?e.parentNode:e),Ri(function(){ef(t,c,r,n)}),c}function nf(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=qh(o);l.call(c)}}ef(t,o,e,a)}else o=RM(r,t,e,a,n);return qh(o)}p4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ac(t.pendingLanes);r!==0&&(Ny(t,r|1),Wr(t,jt()),!(Re&6)&&(Jo=jt()+500,za()))}break;case 13:Ri(function(){var n=zs(e,1);if(n!==null){var a=Cr();Zn(n,e,1,a)}}),rv(e,1)}};_y=function(e){if(e.tag===13){var t=zs(e,134217728);if(t!==null){var r=Cr();Zn(t,e,134217728,r)}rv(e,134217728)}};g4=function(e){if(e.tag===13){var t=Pa(e),r=zs(e,t);if(r!==null){var n=Cr();Zn(r,e,t,n)}rv(e,t)}};x4=function(){return Ue};y4=function(e,t){var r=Ue;try{return Ue=e,t()}finally{Ue=r}};dg=function(e,t,r){switch(t){case"input":if(ng(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Km(n);if(!a)throw Error(ce(90));Y_(n),ng(n,a)}}}break;case"textarea":X_(e,r);break;case"select":t=r.value,t!=null&&Oo(e,!!r.multiple,t,!1)}};s4=Xy;a4=Ri;var $M={usingClientEntryPoint:!1,Events:[Sd,bo,Km,r4,n4,Xy]},Wl={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IM={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=l4(e),e===null?null:e.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||DM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{qm=bu.inject(IM),ps=bu}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$M;pn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sv(t))throw Error(ce(200));return MM(e,t,null,r)};pn.createRoot=function(e,t){if(!sv(e))throw Error(ce(299));var r=!1,n="",a=Bk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=tv(e,1,!1,null,null,r,!1,n,a),e[Bs]=t.current,Hc(e.nodeType===8?e.parentNode:e),new nv(t)};pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=l4(t),e=e===null?null:e.stateNode,e};pn.flushSync=function(e){return Ri(e)};pn.hydrate=function(e,t,r){if(!rf(t))throw Error(ce(200));return nf(null,e,t,!0,r)};pn.hydrateRoot=function(e,t,r){if(!sv(e))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Bk;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Fk(t,null,e,1,r??null,a,!1,i,o),e[Bs]=t.current,Hc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new tf(t)};pn.render=function(e,t,r){if(!rf(t))throw Error(ce(200));return nf(null,e,t,!1,r)};pn.unmountComponentAtNode=function(e){if(!rf(e))throw Error(ce(40));return e._reactRootContainer?(Ri(function(){nf(null,null,e,!1,function(){e._reactRootContainer=null,e[Bs]=null})}),!0):!1};pn.unstable_batchedUpdates=Xy;pn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!rf(r))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return nf(e,t,r,!1,n)};pn.version="18.3.1-next-f1338f8080-20240426";function zk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zk)}catch(e){console.error(e)}}zk(),z_.exports=pn;var Uk=z_.exports,qg,U1=Uk;qg=U1.createRoot,U1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(this,arguments)}var ba;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ba||(ba={}));const q1="popstate";function LM(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Vg("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Vk(a)}return BM(t,r,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qk(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FM(){return Math.random().toString(36).substr(2,8)}function V1(e,t){return{usr:e.state,key:e.key,idx:t}}function Vg(e,t,r,n){return r===void 0&&(r=null),td({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gl(t):t,{state:r,key:t&&t.key||n||FM()})}function Vk(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function BM(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=ba.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(td({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=ba.Pop;let v=u(),x=v==null?null:v-d;d=v,c&&c({action:l,location:y.location,delta:x})}function m(v,x){l=ba.Push;let b=Vg(y.location,v,x);d=u()+1;let j=V1(b,d),N=y.createHref(b);try{o.pushState(j,"",N)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(N)}i&&c&&c({action:l,location:y.location,delta:1})}function f(v,x){l=ba.Replace;let b=Vg(y.location,v,x);d=u();let j=V1(b,d),N=y.createHref(b);o.replaceState(j,"",N),i&&c&&c({action:l,location:y.location,delta:0})}function p(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:Vk(v);return b=b.replace(/ $/,"%20"),Ct(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let y={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(q1,h),c=v,()=>{a.removeEventListener(q1,h),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let x=p(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:f,go(v){return o.go(v)}};return y}var W1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(W1||(W1={}));function zM(e,t,r){return r===void 0&&(r="/"),UM(e,t,r,!1)}function UM(e,t,r,n){let a=typeof t=="string"?gl(t):t,i=Kk(a.pathname||"/",r);if(i==null)return null;let o=Wk(e);qM(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=eD(i);l=QM(o[c],d,n)}return l}function Wk(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ct(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Si([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Wk(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:JM(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Hk(i.path))a(i,o,c)}),t}function Hk(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Hk(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function qM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:XM(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const VM=/^:[\w-]+$/,WM=3,HM=2,KM=1,GM=10,YM=-2,H1=e=>e==="*";function JM(e,t){let r=e.split("/"),n=r.length;return r.some(H1)&&(n+=YM),t&&(n+=HM),r.filter(a=>!H1(a)).reduce((a,i)=>a+(VM.test(i)?WM:i===""?KM:GM),n)}function XM(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function QM(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=K1({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=K1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Si([i,h.pathname]),pathnameBase:sD(Si([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Si([i,h.pathnameBase]))}return o}function K1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ZM(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[h];return f&&!p?d[m]=void 0:d[m]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function ZM(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qk(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function eD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qk(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kk(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function tD(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?gl(e):e;return{pathname:r?r.startsWith("/")?r:rD(r,t):t,search:aD(n),hash:iD(a)}}function rD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function lp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nD(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gk(e,t){let r=nD(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yk(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=gl(e):(a=td({},e),Ct(!a.pathname||!a.pathname.includes("?"),lp("?","pathname","search",a)),Ct(!a.pathname||!a.pathname.includes("#"),lp("#","pathname","hash",a)),Ct(!a.search||!a.search.includes("#"),lp("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=tD(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Si=e=>e.join("/").replace(/\/\/+/g,"/"),sD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Jk=["post","put","patch","delete"];new Set(Jk);const lD=["get",...Jk];new Set(lD);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(this,arguments)}const av=g.createContext(null),cD=g.createContext(null),Pd=g.createContext(null),sf=g.createContext(null),Ua=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Xk=g.createContext(null);function Ed(){return g.useContext(sf)!=null}function af(){return Ed()||Ct(!1),g.useContext(sf).location}function Qk(e){g.useContext(Pd).static||g.useLayoutEffect(e)}function At(){let{isDataRoute:e}=g.useContext(Ua);return e?ND():dD()}function dD(){Ed()||Ct(!1);let e=g.useContext(av),{basename:t,future:r,navigator:n}=g.useContext(Pd),{matches:a}=g.useContext(Ua),{pathname:i}=af(),o=JSON.stringify(Gk(a,r.v7_relativeSplatPath)),l=g.useRef(!1);return Qk(()=>{l.current=!0}),g.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=Yk(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Si([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,i,e])}function uD(){let{matches:e}=g.useContext(Ua),t=e[e.length-1];return t?t.params:{}}function hD(e,t){return mD(e,t)}function mD(e,t,r,n){Ed()||Ct(!1);let{navigator:a,static:i}=g.useContext(Pd),{matches:o}=g.useContext(Ua),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let u=af(),h;if(t){var m;let x=typeof t=="string"?gl(t):t;d==="/"||(m=x.pathname)!=null&&m.startsWith(d)||Ct(!1),h=x}else h=u;let f=h.pathname||"/",p=f;if(d!=="/"){let x=d.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=!i&&r&&r.matches&&r.matches.length>0?r.matches:zM(e,{pathname:p}),v=yD(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Si([d,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Si([d,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,r,n);return t&&v?g.createElement(sf.Provider,{value:{location:rd({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ba.Pop}},v):v}function fD(){let e=jD(),t=oD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,null)}const pD=g.createElement(fD,null);class gD extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(Ua.Provider,{value:this.props.routeContext},g.createElement(Xk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xD(e){let{routeContext:t,match:r,children:n}=e,a=g.useContext(av);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Ua.Provider,{value:t},n)}function yD(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Ct(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:f}=r,p=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let f,p=!1,y=null,v=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||pD,c&&(d<0&&m===0?(p=!0,v=null):d===m&&(p=!0,v=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),b=()=>{let j;return f?j=y:p?j=v:h.route.Component?j=g.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=u,g.createElement(xD,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:j})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?g.createElement(gD,{location:r.location,revalidation:r.revalidation,component:y,error:f,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var Zk=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Zk||{}),Vh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vh||{});function vD(e){let t=g.useContext(av);return t||Ct(!1),t}function bD(e){let t=g.useContext(cD);return t||Ct(!1),t}function wD(e){let t=g.useContext(Ua);return t||Ct(!1),t}function eS(e){let t=wD(),r=t.matches[t.matches.length-1];return r.route.id||Ct(!1),r.route.id}function jD(){var e;let t=g.useContext(Xk),r=bD(Vh.UseRouteError),n=eS(Vh.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ND(){let{router:e}=vD(Zk.UseNavigateStable),t=eS(Vh.UseNavigateStable),r=g.useRef(!1);return Qk(()=>{r.current=!0}),g.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,rd({fromRouteId:t},i)))},[e,t])}function _D(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function kD(e){let{to:t,replace:r,state:n,relative:a}=e;Ed()||Ct(!1);let{future:i,static:o}=g.useContext(Pd),{matches:l}=g.useContext(Ua),{pathname:c}=af(),d=At(),u=Yk(t,Gk(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return g.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:a}),[d,h,a,r,n]),null}function Dt(e){Ct(!1)}function SD(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ba.Pop,navigator:i,static:o=!1,future:l}=e;Ed()&&Ct(!1);let c=t.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:i,static:o,future:rd({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=gl(n));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:p="default"}=n,y=g.useMemo(()=>{let v=Kk(u,c);return v==null?null:{location:{pathname:v,search:h,hash:m,state:f,key:p},navigationType:a}},[c,u,h,m,f,p,a]);return y==null?null:g.createElement(Pd.Provider,{value:d},g.createElement(sf.Provider,{children:r,value:y}))}function G1(e){let{children:t,location:r}=e;return hD(Wg(t),r)}new Promise(()=>{});function Wg(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;let i=[...t,a];if(n.type===g.Fragment){r.push.apply(r,Wg(n.props.children,i));return}n.type!==Dt&&Ct(!1),!n.props.index||!n.props.children||Ct(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Wg(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const CD="6";try{window.__reactRouterVersion=CD}catch{}const PD="startTransition",Y1=CT[PD];function J1(e){let{basename:t,children:r,future:n,window:a}=e,i=g.useRef();i.current==null&&(i.current=LM({window:a,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=g.useCallback(h=>{d&&Y1?Y1(()=>c(h)):c(h)},[c,d]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.useEffect(()=>_D(n),[n]),g.createElement(SD,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var X1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(X1||(X1={}));var Q1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Q1||(Q1={}));const ED={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_OPENAI_API_KEY:"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",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtqcHJnanZxY2VlZGliY2Vra2VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM5NDU3MjQsImV4cCI6MjA1OTUyMTcyNH0.m14FspwRVLAilKSIipWuyP9Xrh5mjXEDki--__QAQ7I",VITE_SUPABASE_URL:"https://kjprgjvqceedibcekkep.supabase.co"},Z1=e=>{let t;const r=new Set,n=(u,h)=>{const m=typeof u=="function"?u(t):u;if(!Object.is(m,t)){const f=t;t=h??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(p=>p(t,f))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>d,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(ED?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(n,a,c);return c},AD=e=>e?Z1(e):Z1;var tS={exports:{}},rS={},nS={exports:{}},sS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xo=g;function TD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OD=typeof Object.is=="function"?Object.is:TD,MD=Xo.useState,DD=Xo.useEffect,RD=Xo.useLayoutEffect,$D=Xo.useDebugValue;function ID(e,t){var r=t(),n=MD({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return RD(function(){a.value=r,a.getSnapshot=t,cp(a)&&i({inst:a})},[e,r,t]),DD(function(){return cp(a)&&i({inst:a}),e(function(){cp(a)&&i({inst:a})})},[e]),$D(r),r}function cp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!OD(e,r)}catch{return!0}}function LD(e,t){return t()}var FD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?LD:ID;sS.useSyncExternalStore=Xo.useSyncExternalStore!==void 0?Xo.useSyncExternalStore:FD;nS.exports=sS;var BD=nS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of=g,zD=BD;function UD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qD=typeof Object.is=="function"?Object.is:UD,VD=zD.useSyncExternalStore,WD=of.useRef,HD=of.useEffect,KD=of.useMemo,GD=of.useDebugValue;rS.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=WD(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=KD(function(){function c(f){if(!d){if(d=!0,u=f,f=n(f),a!==void 0&&o.hasValue){var p=o.value;if(a(p,f))return h=p}return h=f}if(p=h,qD(u,f))return p;var y=n(f);return a!==void 0&&a(p,y)?(u=f,p):(u=f,h=y)}var d=!1,u,h,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=VD(e,i[0],i[1]);return HD(function(){o.hasValue=!0,o.value=l},[l]),GD(l),l};tS.exports=rS;var aS=tS.exports;const YD=Ns(aS),iS={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_OPENAI_API_KEY:"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",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtqcHJnanZxY2VlZGliY2Vra2VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM5NDU3MjQsImV4cCI6MjA1OTUyMTcyNH0.m14FspwRVLAilKSIipWuyP9Xrh5mjXEDki--__QAQ7I",VITE_SUPABASE_URL:"https://kjprgjvqceedibcekkep.supabase.co"},{useDebugValue:JD}=Kt,{useSyncExternalStoreWithSelector:XD}=YD;let ej=!1;const QD=e=>e;function ZD(e,t=QD,r){(iS?"production":void 0)!=="production"&&r&&!ej&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ej=!0);const n=XD(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return JD(n),n}const tj=e=>{(iS?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?AD(e):e,r=(n,a)=>ZD(t,n,a);return Object.assign(r,t),r},lf=e=>e?tj(e):tj,eR="modulepreload",tR=function(e){return"/"+e},rj={},Qo=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=tR(c),c in rj)return;rj[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":eR,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},rR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qo(async()=>{const{default:n}=await Promise.resolve().then(()=>xl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class iv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class nR extends iv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class sR extends iv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class aR extends iv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hg||(Hg={}));var iR=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class oR{constructor(t,{headers:r={},customFetch:n,region:a=Hg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=rR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return iR(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(p=>{throw new nR(p)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new sR(u);if(!u.ok)throw new aR(u);let m=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return m==="application/json"?f=yield u.json():m==="application/octet-stream"?f=yield u.blob():m==="text/event-stream"?f=u:m==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(a){return{data:null,error:a}}})}}var Fr={},ov={},cf={},Ad={},df={},uf={},lR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zo=lR();const cR=Zo.fetch,oS=Zo.fetch.bind(Zo),lS=Zo.Headers,dR=Zo.Request,uR=Zo.Response,xl=Object.freeze(Object.defineProperty({__proto__:null,Headers:lS,Request:dR,Response:uR,default:oS,fetch:cR},Symbol.toStringTag,{value:"Module"})),hR=uT(xl);var hf={};Object.defineProperty(hf,"__esModule",{value:!0});let mR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};hf.default=mR;var cS=An&&An.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uf,"__esModule",{value:!0});const fR=cS(hR),pR=cS(hf);let gR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=fR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,h=null,m=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,m=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await i.text();try{d=JSON.parse(y),Array.isArray(d)&&i.status===404&&(u=[],d=null,m=200,f="OK")}catch{i.status===404&&y===""?(m=204,f="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,f="OK"),d&&this.shouldThrowOnError)throw new pR.default(d)}return{error:d,data:u,count:h,status:m,statusText:f}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};uf.default=gR;var xR=An&&An.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(df,"__esModule",{value:!0});const yR=xR(uf);let vR=class extends yR.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};df.default=vR;var bR=An&&An.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ad,"__esModule",{value:!0});const wR=bR(df);let jR=class extends wR.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ad.default=jR;var NR=An&&An.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cf,"__esModule",{value:!0});const Hl=NR(Ad);let _R=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Hl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Hl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Hl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Hl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Hl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};cf.default=_R;var mf={},ff={};Object.defineProperty(ff,"__esModule",{value:!0});ff.version=void 0;ff.version="0.0.0-automated";Object.defineProperty(mf,"__esModule",{value:!0});mf.DEFAULT_HEADERS=void 0;const kR=ff;mf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${kR.version}`};var dS=An&&An.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ov,"__esModule",{value:!0});const SR=dS(cf),CR=dS(Ad),PR=mf;let ER=class uS{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},PR.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new SR.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new uS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new CR.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ov.default=ER;var yl=An&&An.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.PostgrestError=Fr.PostgrestBuilder=Fr.PostgrestTransformBuilder=Fr.PostgrestFilterBuilder=Fr.PostgrestQueryBuilder=Fr.PostgrestClient=void 0;const hS=yl(ov);Fr.PostgrestClient=hS.default;const mS=yl(cf);Fr.PostgrestQueryBuilder=mS.default;const fS=yl(Ad);Fr.PostgrestFilterBuilder=fS.default;const pS=yl(df);Fr.PostgrestTransformBuilder=pS.default;const gS=yl(uf);Fr.PostgrestBuilder=gS.default;const xS=yl(hf);Fr.PostgrestError=xS.default;var AR=Fr.default={PostgrestClient:hS.default,PostgrestQueryBuilder:mS.default,PostgrestFilterBuilder:fS.default,PostgrestTransformBuilder:pS.default,PostgrestBuilder:gS.default,PostgrestError:xS.default};const{PostgrestClient:TR,PostgrestQueryBuilder:gX,PostgrestFilterBuilder:xX,PostgrestTransformBuilder:yX,PostgrestBuilder:vX,PostgrestError:bX}=AR,OR="2.11.2",MR={"X-Client-Info":`realtime-js/${OR}`},DR="1.0.0",yS=1e4,RR=1e3;var Lo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Lo||(Lo={}));var Jr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jr||(Jr={}));var Hn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hn||(Hn={}));var Kg;(function(e){e.websocket="websocket"})(Kg||(Kg={}));var hi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hi||(hi={}));class $R{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class vS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ze||(Ze={}));const nj=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=IR(o,e,t,a),i),{})},IR=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?bS(i,o):Gg(o)},bS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return zR(t,r)}switch(e){case Ze.bool:return LR(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return FR(t);case Ze.json:case Ze.jsonb:return BR(t);case Ze.timestamp:return UR(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Gg(t);default:return Gg(t)}},Gg=e=>e,LR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},zR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>bS(t,l))}return e},UR=e=>typeof e=="string"?e.replace(" ","T"):e,wS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class dp{constructor(t,r,n={},a=yS){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sj||(sj={}));class Sc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sc.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Sc.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Sc.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const m=u.map(v=>v.presence_ref),f=h.map(v=>v.presence_ref),p=u.filter(v=>f.indexOf(v.presence_ref)<0),y=h.filter(v=>m.indexOf(v.presence_ref)<0);p.length>0&&(l[d]=p),y.length>0&&(c[d]=y)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(f=>f.presence_ref),m=u.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var aj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(aj||(aj={}));var ij;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ij||(ij={}));var Ps;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ps||(Ps={}));class lv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Jr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dp(this,Hn.join,this.params,this.timeout),this.rejoinTimer=new vS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hn.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Sc(this),this.broadcastEndpointURL=wS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(Ps.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Ps.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(Ps.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,f=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,p=[];for(let y=0;y<f;y++){const v=m[y],{filter:{event:x,schema:b,table:j,filter:N}}=v,w=u&&u[y];if(w&&w.event===x&&w.schema===b&&w.table===j&&w.filter===N)p.push(Object.assign(Object.assign({},v),{id:w.id}));else{this.unsubscribe(),t==null||t(Ps.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Ps.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(Ps.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ps.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new dp(this,Hn.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new dp(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Hn;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(f=>{var p,y,v;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(y=f.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(f=>f.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,y,v,x,b,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const N=f.id,w=(p=f.filter)===null||p===void 0?void 0:p.event;return N&&((y=r.ids)===null||y===void 0?void 0:y.includes(N))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const N=(b=(x=f==null?void 0:f.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return N==="*"||N===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const p=m.data,{schema:y,table:v,commit_timestamp:x,type:b,errors:j}=p;m=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:x,eventType:b,new:{},old:{},errors:j}),this._getPayloadRecords(p))}f.callback(m,n)})}_isClosed(){return this.state===Jr.closed}_isJoined(){return this.state===Jr.joined}_isJoining(){return this.state===Jr.joining}_isLeaving(){return this.state===Jr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&lv.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hn.close,{},t)}_onError(t){this._on(Hn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=nj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=nj(t.columns,t.old_record)),r}}const qR=()=>{},VR=typeof WebSocket<"u",WR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HR{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=MR,this.params={},this.timeout=yS,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=qR,this.conn=null,this.sendBuffer=[],this.serializer=new $R,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Qo(async()=>{const{default:c}=await Promise.resolve().then(()=>xl);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Kg.websocket}`,this.httpEndpoint=wS(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(VR){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new KR(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Qo(async()=>{const{default:t}=await import("./browser-Dui4z-2l.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DR}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Lo.connecting:return hi.Connecting;case Lo.open:return hi.Open;case Lo.closing:return hi.Closing;default:return hi.Closed}}isConnected(){return this.connectionState()===hi.Open}channel(t,r={config:{}}){const n=new lv(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Hn.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(RR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([WR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class KR{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Lo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class cv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class GR extends cv{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Yg extends cv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var YR=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const jS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qo(async()=>{const{default:n}=await Promise.resolve().then(()=>xl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},JR=()=>YR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qo(()=>Promise.resolve().then(()=>xl),void 0)).Response:Response}),Jg=e=>{if(Array.isArray(e))return e.map(r=>Jg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Jg(n)}),t};var Vi=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const up=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XR=(e,t,r)=>Vi(void 0,void 0,void 0,function*(){const n=yield JR();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new GR(up(a),e.status||500))}).catch(a=>{t(new Yg(up(a),a))}):t(new Yg(up(e),e))}),QR=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Td(e,t,r,n,a,i){return Vi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,QR(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>XR(c,l,n))})})}function Wh(e,t,r,n){return Vi(this,void 0,void 0,function*(){return Td(e,"GET",t,r,n)})}function ha(e,t,r,n,a){return Vi(this,void 0,void 0,function*(){return Td(e,"POST",t,n,a,r)})}function ZR(e,t,r,n,a){return Vi(this,void 0,void 0,function*(){return Td(e,"PUT",t,n,a,r)})}function e$(e,t,r,n){return Vi(this,void 0,void 0,function*(){return Td(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function NS(e,t,r,n,a){return Vi(this,void 0,void 0,function*(){return Td(e,"DELETE",t,n,a,r)})}var Dr=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const t$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class r${constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=jS(a)}uploadOrUpdate(t,r,n,a){return Dr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},oj),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(Vt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Dr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:oj.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Vt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Dr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ha(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new cv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Dr(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Vt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Dr(this,void 0,void 0,function*(){try{return{data:{path:(yield ha(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Vt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Dr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ha(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Vt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Dr(this,void 0,void 0,function*(){try{const a=yield ha(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Vt(a))return{data:null,error:a};throw a}})}download(t,r){return Dr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Wh(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Vt(l))return{data:null,error:l};throw l}})}info(t){return Dr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Wh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jg(n),error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}})}exists(t){return Dr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield e$(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Vt(n)&&n instanceof Yg){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Dr(this,void 0,void 0,function*(){try{return{data:yield NS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Vt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Dr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},t$),r),{prefix:t||""});return{data:yield ha(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Vt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const n$="2.7.1",s$={"X-Client-Info":`storage-js/${n$}`};var eo=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class a${constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},s$),r),this.fetch=jS(n)}listBuckets(){return eo(this,void 0,void 0,function*(){try{return{data:yield Wh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Vt(t))return{data:null,error:t};throw t}})}getBucket(t){return eo(this,void 0,void 0,function*(){try{return{data:yield Wh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Vt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return eo(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return eo(this,void 0,void 0,function*(){try{return{data:yield ZR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return eo(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Vt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return eo(this,void 0,void 0,function*(){try{return{data:yield NS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Vt(r))return{data:null,error:r};throw r}})}}class i$ extends a${constructor(t,r={},n){super(t,r,n)}from(t){return new r$(this.url,this.headers,t,this.fetch)}}const o$="2.49.4";let oc="";typeof Deno<"u"?oc="deno":typeof document<"u"?oc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oc="react-native":oc="node";const l$={"X-Client-Info":`supabase-js-${oc}/${o$}`},c$={headers:l$},d$={schema:"public"},u$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h$={};var m$=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const f$=e=>{let t;return e?t=e:typeof fetch>"u"?t=oS:t=fetch,(...r)=>t(...r)},p$=()=>typeof Headers>"u"?lS:Headers,g$=(e,t,r)=>{const n=f$(r),a=p$();return(i,o)=>m$(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var x$=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function y$(e){return e.replace(/\/$/,"")}function v$(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:o,auth:l,realtime:c,global:d}=t,u={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},d),i),accessToken:()=>x$(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const _S="2.69.1",uo=30*1e3,Xg=3,hp=Xg*uo,b$="http://localhost:9999",w$="supabase.auth.token",j$={"X-Client-Info":`gotrue-js/${_S}`},Qg="X-Supabase-Api-Version",kS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_$=6e5;class dv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class k$ extends dv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function S$(e){return Se(e)&&e.name==="AuthApiError"}class SS extends dv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qa extends dv{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class la extends qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function C$(e){return Se(e)&&e.name==="AuthSessionMissingError"}class mp extends qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wu extends qa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ju extends qa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function P$(e){return Se(e)&&e.name==="AuthImplicitGrantRedirectError"}class lj extends qa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zg extends qa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function fp(e){return Se(e)&&e.name==="AuthRetryableFetchError"}class cj extends qa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Cc extends qa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const dj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uj=` 	
\r=`.split(""),E$=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<uj.length;t+=1)e[uj[t].charCodeAt(0)]=-2;for(let t=0;t<dj.length;t+=1)e[dj[t].charCodeAt(0)]=t;return e})();function CS(e,t,r){const n=E$[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hj(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{O$(o,n,r)};for(let o=0;o<e.length;o+=1)CS(e.charCodeAt(o),a,i);return t.join("")}function A$(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function T$(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}A$(n,t)}}function O$(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function M$(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)CS(e.charCodeAt(a),r,n);return new Uint8Array(t)}function D$(e){const t=[];return T$(e,r=>t.push(r)),new Uint8Array(t)}function R$(e){return Math.round(Date.now()/1e3)+e}function $$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ls=()=>typeof window<"u"&&typeof document<"u",si={tested:!1,writable:!1},Pc=()=>{if(!ls())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(si.tested)return si.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),si.tested=!0,si.writable=!0}catch{si.tested=!0,si.writable=!1}return si.writable};function I$(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const PS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qo(async()=>{const{default:n}=await Promise.resolve().then(()=>xl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},L$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ES=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Nu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_u=async(e,t)=>{await e.removeItem(t)};class pf{constructor(){this.promise=new pf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}pf.promiseConstructor=Promise;function pp(e){const t=e.split(".");if(t.length!==3)throw new Cc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!N$.test(t[n]))throw new Cc("JWT not in base64url format");return{header:JSON.parse(hj(t[0])),payload:JSON.parse(hj(t[1])),signature:M$(t[2]),raw:{header:t[0],payload:t[1]}}}async function F$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function B$(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function z$(e){return("0"+e.toString(16)).substr(-2)}function U$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,z$).join("")}async function q$(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function V$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await q$(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function to(e,t,r=!1){const n=U$();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ES(e,`${t}-code-verifier`,a);const i=await V$(n);return[i,n===i?"plain":"s256"]}const W$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H$(e){const t=e.headers.get(Qg);if(!t||!t.match(W$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function K$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function G$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Y$=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const li=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),J$=[502,503,504];async function mj(e){var t;if(!L$(e))throw new Zg(li(e),0);if(J$.includes(e.status))throw new Zg(li(e),e.status);let r;try{r=await e.json()}catch(i){throw new SS(li(i),i)}let n;const a=H$(e);if(a&&a.getTime()>=kS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new cj(li(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new la}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new cj(li(r),e.status,r.weak_password.reasons);throw new k$(li(r),e.status||500,n)}const X$=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Me(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Qg]||(i[Qg]=kS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Q$(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Q$(e,t,r,n,a,i){const o=X$(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Zg(li(c),0)}if(l.ok||await mj(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await mj(c)}}function ca(e){var t;let r=null;r6(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=R$(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function fj(e){const t=ca(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ga(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Z$(e){return{data:e,error:null}}function e6(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Y$(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function t6(e){return e}function r6(e){return e.access_token&&e.refresh_token&&e.expires_in}var n6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class s6{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=PS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ga})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=n6(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:e6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ga})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:t6});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);d[`${v}Page`]=y}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Se(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ga})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ga})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ga})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}}const a6={getItem:e=>Pc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Pc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Pc()&&globalThis.localStorage.removeItem(e)}};function pj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function i6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ro={debug:!!(globalThis&&Pc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class o6 extends AS{}async function l6(e,t,r){ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ro.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new o6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ro.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}i6();const c6={url:b$,storageKey:w$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:j$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gj(e,t,r){return await r()}class nd{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nd.nextInstanceID,nd.nextInstanceID+=1,this.instanceID>0&&ls()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},c6),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new s6({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=PS(a.fetch),this.lock=a.lock||gj,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ls()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=l6:this.lock=gj,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Pc()?this.storage=a6:(this.memoryStorage={},this.storage=pj(this.memoryStorage)):(this.memoryStorage={},this.storage=pj(this.memoryStorage)),ls()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_S}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=I$(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ls()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),P$(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Se(r)?{error:r}:{error:new SS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ca}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Se(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:h,options:m}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await to(this.storage,this.storageKey)),i=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:p},xform:ca})}else if("phone"in t){const{phone:u,password:h,options:m}=t;i=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ca})}else throw new wu("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Se(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fj})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fj})}else throw new wu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new mp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Nu(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ca});if(await _u(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new mp}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Se(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ca}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new mp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await to(this.storage,this.storageKey));const{error:h}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new wu("You must provide either an email or phone number.")}catch(l){if(Se(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ca});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Se(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await to(this.storage,this.storageKey)),await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Z$})}catch(i){if(Se(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new la;const{error:a}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new wu("You must provide either an email or phone number and a type")}catch(r){if(Se(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Nu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<hp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ga}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new la}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ga})})}catch(r){if(Se(r))return C$(r)&&(await this._removeSession(),await _u(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new la;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await to(this.storage,this.storageKey));const{data:d,error:u}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ga});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new la;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=pp(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Se(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new la;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Se(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ls())throw new ju("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ju(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ju("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lj("No code detected.");const{data:b,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new ju("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const f=m-u;f*1e3<=uo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=m-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,m,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,m,u);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(Se(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Nu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(S$(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await _u(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=$$(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await to(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Se(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:m}=i;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return ls()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Se(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await B$(async a=>(a>0&&await F$(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ca})),(a,i)=>{const o=200*Math.pow(2,a);return i&&fp(i)&&Date.now()+o-n<uo})}catch(n){if(this._debug(r,"error",n),Se(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ls()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Nu(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<hp;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${hp}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),fp(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new la;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new pf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new la;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Se(i)){const o={session:null,error:i};return fp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ES(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await _u(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ls()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),uo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/uo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${uo}ms, refresh threshold is ${Xg} ticks`),a<=Xg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof AS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ls()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await to(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Se(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Se(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=pp(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+_$>Date.now()))return n;const{data:a,error:i}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new Cc("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===t),!n)throw new Cc("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};n=f.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=pp(n);if(K$(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:a,signature:o},error:null}}const d=G$(a.alg),u=await this.fetchJwk(a.kid,r),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,D$(`${l}.${c}`)))throw new Cc("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}}nd.nextInstanceID=0;const d6=nd;class u6 extends d6{constructor(t){super(t)}}var h6=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class m6{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=y$(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:d$,realtime:h$,auth:Object.assign(Object.assign({},u$),{storageKey:c}),global:c$},u=v$(n??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=g$(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new TR(`${l}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new oR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new i$(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return h6(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u6({url:this.authUrl,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new HR(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f6=(e,t,r)=>new m6(e,t,r),p6="https://kjprgjvqceedibcekkep.supabase.co",g6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtqcHJnanZxY2VlZGliY2Vra2VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM5NDU3MjQsImV4cCI6MjA1OTUyMTcyNH0.m14FspwRVLAilKSIipWuyP9Xrh5mjXEDki--__QAQ7I",de=f6(p6,g6,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"x-application-name":"devhub-trader","X-Client-Info":"supabase-js/2.39.7"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}});async function x6(e=3,t=1e3){for(let r=0;r<e;r++)try{const{error:n}=await de.auth.getSession();if(!n)return!0;if(r<e-1){const a=t*Math.pow(2,r);await new Promise(i=>setTimeout(i,a))}}catch{if(r<e-1){const a=t*Math.pow(2,r);await new Promise(i=>setTimeout(i,a))}}return!1}async function y6(){try{if(!await x6())return!1;const{data:{session:t},error:r}=await de.auth.getSession();if(r)return!1;const{data:{subscription:n}}=de.auth.onAuthStateChange((a,i)=>{try{}catch{}});return!0}catch{return!1}}const Lt=lf((e,t)=>({isLoading:!0,session:null,profile:null,signInWithEmail:async(r,n)=>{try{const{error:a}=await de.auth.signInWithPassword({email:r,password:n});if(a)throw a.message.includes("Invalid login credentials")?new Error("Email ou senha incorretos"):a;await t().loadProfile()}catch(a){throw a}},signUpWithEmail:async(r,n,a)=>{var i,o;try{const{data:{user:l},error:c}=await de.auth.signUp({email:r,password:n,options:{emailRedirectTo:window.location.origin,data:{name:r.split("@")[0],phone:a||null}}});if(c)throw(i=c.message)!=null&&i.includes("User already registered")||(o=c.message)!=null&&o.includes("already been taken")?new Error("Este email j est cadastrado. Por favor, faa login."):c;if(!l)throw new Error("Erro ao criar usurio. Tente novamente.");const{error:d}=await de.auth.signInWithPassword({email:r,password:n});if(d)throw d;return await de.from("profiles").update({token_balance:100,plan:"Free",plan_status:"active",phone:a||null}).eq("id",l.id),await t().loadProfile(),{user:l}}catch(l){throw l}},signOut:async()=>{const{error:r}=await de.auth.signOut();if(r)throw r;e({session:null,profile:null})},loadProfile:async()=>{try{const{data:{session:r}}=await de.auth.getSession();if(e({session:r}),r!=null&&r.user){const{data:n,error:a}=await de.from("profiles").select("*").eq("id",r.user.id).single();if(a)throw a;e({profile:n})}e({isLoading:!1})}catch{e({isLoading:!1})}},updateProfile:async r=>{try{const{data:{session:n}}=await de.auth.getSession();if(!(n!=null&&n.user))throw new Error("No authenticated session");const{error:a}=await de.from("profiles").update(r).eq("id",n.user.id);if(a)throw a;await t().loadProfile()}catch(n){throw n}},updateTokenBalance:async r=>{try{const{data:{session:n}}=await de.auth.getSession();if(!(n!=null&&n.user))throw new Error("No authenticated session");const{profile:a}=t();if(!a)throw new Error("Profile not loaded");const o=(a.token_balance||0)+r,{error:l}=await de.from("profiles").update({token_balance:o}).eq("id",n.user.id);if(l)throw l;e({profile:{...a,token_balance:o}})}catch(n){throw n}}}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>g.createElement("svg",{ref:u,...v6,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${b6(e)}`,l].join(" "),...d},[...t.map(([h,m])=>g.createElement(h,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=ae("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ae("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=ae("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=ae("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=ae("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ae("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=ae("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ae("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ae("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=ae("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ae("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=ae("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=ae("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ae("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=ae("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=ae("FileCode2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=ae("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=ae("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=ae("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=ae("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=ae("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=ae("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=ae("GitFork",[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=ae("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ae("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=ae("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=ae("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=ae("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=ae("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=ae("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=ae("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=ae("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=ae("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=ae("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=ae("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=ae("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ae("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=ae("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=ae("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=ae("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=ae("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=ae("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),X6={en:{"nav.robots":"My Robots","nav.community":"Community","nav.profile":"Profile","nav.subscription":"Subscription","nav.experts":"Experts","nav.signOut":"Sign Out","button.createRobot":"Create Robot","button.newVersion":"New Version","button.save":"Save","button.share":"Share","button.export":"Export","button.cancel":"Cancel","button.back":"Back","robot.edit":"Edit","robot.delete":"Delete","robot.view":"View","robot.rename":"Rename","share.title":"Share Robot","share.permission":"Permission Level","share.viewOnly":"View Only","share.canEdit":"Can Edit","share.generateLink":"Generate Link","share.inviteByEmail":"Invite by Email","share.shareLink":"Share Link","ai.title":"AI Assistant","ai.placeholder":"Ask me anything...","ai.createRobot":"Create Robot with AI","ai.configAssistant":"Configuration Assistant","ai.clearChat":"Clear Chat","ai.buyTokens":"Buy Tokens","ai.notEnoughTokens":"Not enough tokens. Please buy more.","ai.tokenCost":"Each AI analysis costs 100 tokens","tokens.balance":"tokens","tokens.buy":"Buy Tokens","profile.title":"Profile Settings","profile.photo":"Profile Photo","profile.email":"Email Address","profile.name":"Display Name","profile.save":"Save Changes","subscription.title":"Subscription & Tokens","subscription.current":"Current Plan","subscription.status":"Status","subscription.renewal":"Next Renewal","subscription.manage":"Manage Subscription",loading:"Loading...",error:"An error occurred",success:"Success!"},pt:{"nav.robots":"Meus Robs","nav.community":"Comunidade","nav.profile":"Perfil","nav.subscription":"Assinatura","nav.experts":"Especialistas","nav.signOut":"Sair","button.createRobot":"Criar Rob","button.newVersion":"Nova Verso","button.save":"Salvar","button.share":"Compartilhar","button.export":"Exportar","button.cancel":"Cancelar","button.back":"Voltar","robot.edit":"Editar","robot.delete":"Excluir","robot.view":"Visualizar","robot.rename":"Renomear","share.title":"Compartilhar Rob","share.permission":"Nvel de Permisso","share.viewOnly":"Apenas Visualizao","share.canEdit":"Pode Editar","share.generateLink":"Gerar Link","share.inviteByEmail":"Convidar por Email","share.shareLink":"Link de Compartilhamento","ai.title":"Assistente de IA","ai.placeholder":"Pergunte-me qualquer coisa...","ai.createRobot":"Criar Rob com IA","ai.configAssistant":"Assistente de Configurao","ai.clearChat":"Limpar Chat","ai.buyTokens":"Comprar Tokens","ai.notEnoughTokens":"Tokens insuficientes. Por favor, compre mais.","ai.tokenCost":"Cada anlise de IA custa 100 tokens","tokens.balance":"tokens","tokens.buy":"Comprar Tokens","profile.title":"Configuraes de Perfil","profile.photo":"Foto de Perfil","profile.email":"Endereo de Email","profile.name":"Nome de Exibio","profile.save":"Salvar Alteraes","subscription.title":"Assinatura e Tokens","subscription.current":"Plano Atual","subscription.status":"Status","subscription.renewal":"Prxima Renovao","subscription.manage":"Gerenciar Assinatura",loading:"Carregando...",error:"Ocorreu um erro",success:"Sucesso!"}},Ys=lf((e,t)=>({language:"pt",setLanguage:r=>{e({language:r}),localStorage.setItem("preferredLanguage",r)},t:r=>{const{language:n}=t();return X6[n][r]||r}}));if(typeof window<"u"){const e=localStorage.getItem("preferredLanguage");e&&(e==="en"||e==="pt")&&Ys.getState().setLanguage(e)}function ax({className:e=""}){const{language:t,setLanguage:r}=Ys(),n=()=>{r(t==="en"?"pt":"en")};return s.jsxs("button",{onClick:n,className:`flex items-center space-x-1 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-md text-sm text-gray-300 ${e}`,title:t==="en"?"Switch to Portuguese":"Mudar para Ingls",children:[s.jsx(T6,{className:"w-4 h-4"}),s.jsx("span",{children:t==="en"?"PT":"EN"})]})}function wj(){const e=At(),[t,r]=g.useState(!1),[n,a]=g.useState(!1),[i,o]=g.useState(""),[l,c]=g.useState(""),[d,u]=g.useState(""),[h,m]=g.useState(!1),[f,p]=g.useState(null),[y,v]=g.useState(null),{signInWithEmail:x,signUpWithEmail:b,isLoading:j}=Lt(),{language:N,t:w}=Ys(),_=async P=>{if(P.preventDefault(),p(null),v(null),i&&l)try{n?await b(i,l,d):(await x(i,l),window.location.href="/backtest-analysis")}catch(C){console.error("Error with authentication:",C),p(C instanceof Error?C.message:n?"Erro ao cadastrar. Tente novamente.":"Erro ao fazer login. Verifique suas credenciais.")}},k=()=>{o(""),c(""),u(""),m(!1),p(null),v(null)},S=()=>N==="en"?"Develop trading robots directly in your browser":"Desenvolva robs de trading direto no seu navegador",E=()=>N==="en"?"Create, edit and share robots for Profit, MetaTrader and NTSL. Collaborate in real-time with your team and keep everything organized in one place.":"Crie, edite e compartilhe robs para Profit, MetaTrader e NTSL. Colabore em tempo real com sua equipe e mantenha tudo organizado em um s lugar.";return s.jsxs("div",{className:"min-h-screen bg-[#1E1E1E]",children:[s.jsx("nav",{className:"border-b border-gray-800",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ht,{className:"w-8 h-8 text-blue-500"}),s.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"DevHub Trader"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ax,{}),s.jsx("button",{onClick:()=>e("/plans"),className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:N==="en"?"Plans":"Planos"}),s.jsx("button",{onClick:()=>{a(!1),r(!0),k()},className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:N==="en"?"Login":"Entrar"}),s.jsxs("button",{onClick:()=>{a(!0),r(!0),k()},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center",children:[N==="en"?"Sign Up":"Cadastrar"," ",s.jsx(dh,{className:"w-4 h-4 ml-2"})]})]})]})})}),s.jsx("div",{className:"relative overflow-hidden",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-4xl tracking-tight font-extrabold text-white sm:text-5xl md:text-6xl",children:[s.jsx("span",{className:"block",children:S()}),s.jsx("span",{className:"block text-blue-500",children:N==="en"?"with AI assistance":"com assistncia de IA"})]}),s.jsx("p",{className:"mt-3 max-w-md mx-auto text-base text-gray-400 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl",children:E()}),s.jsx("div",{className:"mt-5 max-w-md mx-auto sm:flex sm:justify-center md:mt-8",children:s.jsx("div",{className:"rounded-md shadow",children:s.jsx("button",{onClick:()=>{a(!0),r(!0),k()},className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 md:py-4 md:text-lg md:px-10",children:N==="en"?"Start for Free":"Comece Gratuitamente"})})})]})})}),s.jsx("div",{className:"py-16 bg-[#252526]",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:N==="en"?"Complete Trading Platform":"Plataforma Completa de Trading"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:N==="en"?"Everything you need to create, analyze, and optimize your trading strategies in one place":"Tudo o que voc precisa para criar, analisar e otimizar suas estratgias de trading em um s lugar"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-md bg-blue-500 text-white mb-4",children:s.jsx(wa,{className:"h-8 w-8"})}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:N==="en"?"AI-Powered Creation":"Criao com IA"}),s.jsx("p",{className:"text-gray-400",children:N==="en"?"Create trading robots with AI assistance. Just describe your strategy and let AI do the coding.":"Crie robs de trading com assistncia de IA. Apenas descreva sua estratgia e deixe a IA fazer o cdigo."})]}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-md bg-green-500 text-white mb-4",children:s.jsx(or,{className:"h-8 w-8"})}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:N==="en"?"Strategy Analysis":"Anlise de Estratgias"}),s.jsx("p",{className:"text-gray-400",children:N==="en"?"Analyze your trading strategies with advanced metrics and AI insights to improve performance.":"Analise suas estratgias de trading com mtricas avanadas e insights de IA para melhorar o desempenho."})]}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-md bg-purple-500 text-white mb-4",children:s.jsx(Xh,{className:"h-8 w-8"})}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:N==="en"?"AI Optimization":"Otimizao com IA"}),s.jsx("p",{className:"text-gray-400",children:N==="en"?"Optimize your existing strategies with AI suggestions for better risk management and returns.":"Otimize suas estratgias existentes com sugestes de IA para melhor gerenciamento de risco e retornos."})]}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-md bg-orange-500 text-white mb-4",children:s.jsx(D6,{className:"h-8 w-8"})}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:N==="en"?"Portfolio Management":"Gesto de Portflio"}),s.jsx("p",{className:"text-gray-400",children:N==="en"?"Create and manage diversified portfolios of trading strategies for optimal performance.":"Crie e gerencie portflios diversificados de estratgias de trading para performance ideal."})]})]})]})}),s.jsx("div",{className:"py-16 bg-[#252526]",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"lg:flex lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"lg:w-1/2 mb-8 lg:mb-0 lg:pr-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:N==="en"?"Advanced Backtest Analysis":"Anlise Avanada de Backtest"}),s.jsx("p",{className:"text-xl text-gray-400 mb-6",children:N==="en"?"Upload your backtest results and get detailed AI-powered analysis to improve your strategies":"Faa upload dos resultados do seu backtest e obtenha anlises detalhadas com IA para melhorar suas estratgias"}),s.jsxs("ul",{className:"space-y-3 text-gray-300",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx(Pt,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:N==="en"?"Comprehensive performance metrics and visualizations":"Mtricas de desempenho abrangentes e visualizaes"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Pt,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:N==="en"?"AI-powered strategy strengths and weaknesses analysis":"Anlise de pontos fortes e fracos da estratgia com IA"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Pt,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:N==="en"?"Optimization suggestions tailored to your trading style":"Sugestes de otimizao adaptadas ao seu estilo de trading"})]})]}),s.jsxs("button",{onClick:()=>{a(!0),r(!0),k()},className:"mt-6 px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium inline-flex items-center",children:[N==="en"?"Try Backtest Analysis":"Experimente a Anlise de Backtest",s.jsx(dh,{className:"w-4 h-4 ml-2"})]})]}),s.jsx("div",{className:"lg:w-1/2 bg-gray-800 rounded-lg p-6",children:s.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-900 rounded-lg flex items-center justify-center",children:s.jsx(or,{className:"w-24 h-24 text-blue-500 opacity-50"})})})]})})}),s.jsx("div",{className:"py-16",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"lg:flex lg:items-center lg:justify-between lg:flex-row-reverse",children:[s.jsxs("div",{className:"lg:w-1/2 mb-8 lg:mb-0 lg:pl-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:N==="en"?"Create Trading Robots with AI":"Crie Robs de Trading com IA"}),s.jsx("p",{className:"text-xl text-gray-400 mb-6",children:N==="en"?"Let AI do the heavy lifting. Describe your trading strategy and get a fully functional robot in seconds.":"Deixe a IA fazer o trabalho pesado. Descreva sua estratgia de trading e obtenha um rob totalmente funcional em segundos."}),s.jsxs("ul",{className:"space-y-3 text-gray-300",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx(wa,{className:"w-5 h-5 text-blue-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:N==="en"?"No coding experience required":"Nenhuma experincia em programao necessria"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(wa,{className:"w-5 h-5 text-blue-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:N==="en"?"Support for multiple trading platforms and indicators":"Suporte para mltiplas plataformas de trading e indicadores"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(wa,{className:"w-5 h-5 text-blue-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:N==="en"?"Customizable risk management and position sizing":"Gerenciamento de risco e dimensionamento de posio personalizveis"})]})]}),s.jsxs("button",{onClick:()=>{a(!0),r(!0),k()},className:"mt-6 px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium inline-flex items-center",children:[N==="en"?"Create Your First Robot":"Crie Seu Primeiro Rob",s.jsx(dh,{className:"w-4 h-4 ml-2"})]})]}),s.jsx("div",{className:"lg:w-1/2 bg-gray-800 rounded-lg p-6",children:s.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-900 rounded-lg flex items-center justify-center",children:s.jsx(ht,{className:"w-24 h-24 text-blue-500 opacity-50"})})})]})})}),s.jsx("div",{className:"py-16 bg-gradient-to-r from-blue-900 to-indigo-900",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:N==="en"?"Ready to Transform Your Trading?":"Pronto para Transformar seu Trading?"}),s.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:N==="en"?"Join thousands of traders who are already using DevHub Trader to create, analyze, and optimize their trading strategies.":"Junte-se a milhares de traders que j esto usando o DevHub Trader para criar, analisar e otimizar suas estratgias de trading."}),s.jsx("button",{onClick:()=>{a(!0),r(!0),k()},className:"px-8 py-4 bg-white text-blue-900 rounded-md font-bold text-lg hover:bg-gray-100 transition-colors",children:N==="en"?"Get Started Now":"Comece Agora"})]})}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-8 relative",children:[s.jsx("button",{onClick:()=>{r(!1),k()},className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:""}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(ht,{className:"w-12 h-12 text-blue-500"})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-100",children:n?N==="en"?"Create Account":"Criar Conta":N==="en"?"Welcome to DevHub":"Bem-vindo ao DevHub"}),s.jsx("p",{className:"mt-2 text-gray-400",children:n?N==="en"?"Start your development journey":"Comece sua jornada de desenvolvimento":N==="en"?"Sign in to continue":"Entre para continuar"})]}),s.jsxs("form",{onSubmit:_,className:"mt-8 space-y-4",children:[f&&s.jsx("div",{className:"p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md text-red-500 text-sm",children:f}),y&&s.jsx("div",{className:"p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md text-green-500 text-sm",children:y}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email"}),s.jsx("input",{id:"email",type:"email",value:i,onChange:P=>o(P.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:N==="en"?"your@email.com":"seu@email.com"})]}),n&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300",children:N==="en"?"Phone":"Telefone"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(LS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"phone",type:"tel",value:d,onChange:P=>u(P.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+55 (11) 98765-4321"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:N==="en"?"Password":"Senha"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"password",type:h?"text":"password",value:l,onChange:P=>c(P.target.value),required:!0,className:"block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10",placeholder:"",minLength:6}),s.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-white",children:h?s.jsx(MS,{className:"w-4 h-4"}):s.jsx(hv,{className:"w-4 h-4"})})]})]}),s.jsxs("button",{type:"submit",disabled:j||!i||!l,className:"w-full flex items-center justify-center px-4 py-3 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(gf,{className:"w-5 h-5 mr-2"}),n?N==="en"?"Register with Email":"Cadastrar com Email":N==="en"?"Sign in with Email":"Entrar com Email"]})]}),s.jsxs("div",{className:"mt-6 text-center",children:[s.jsxs("p",{className:"text-sm text-gray-400",children:[n?N==="en"?"Already have an account?":"J tem uma conta?":N==="en"?"Don't have an account yet?":"Ainda no tem conta?"," ",s.jsx("button",{type:"button",onClick:()=>{a(!n),k()},className:"text-blue-500 hover:text-blue-400",children:n?N==="en"?"Sign in":"Faa login":N==="en"?"Sign up":"Cadastre-se"})]}),s.jsxs("p",{className:"text-sm text-gray-400 mt-4",children:[N==="en"?"By continuing, you agree to our":"Ao continuar, voc concorda com nossos"," ",s.jsx("a",{href:"#",className:"text-blue-500 hover:text-blue-400",children:N==="en"?"Terms of Service":"Termos de Servio"})," ",N==="en"?"and":"e"," ",s.jsx("a",{href:"#",className:"text-blue-500 hover:text-blue-400",children:N==="en"?"Privacy Policy":"Poltica de Privacidade"})]})]})]})})]})}const zm=class zm{static logError(t,r){const n={timestamp:new Date,message:t instanceof Error?t.message:String(t),stack:t instanceof Error?t.stack:void 0,context:r};this.errors.unshift(n),this.errors.length>this.maxErrors&&this.errors.pop()}static getRecentErrors(t=10){return this.errors.slice(0,t)}static clearErrors(){this.errors=[]}static formatErrorMessage(t){return t instanceof Error?t.message:typeof t=="string"?t:"Ocorreu um erro desconhecido"}};zm.errors=[],zm.maxErrors=100;let Nr=zm;const vl=lf((e,t)=>({robots:[],sharedRobots:[],currentRobot:null,versions:[],currentVersion:null,isLoading:!1,error:null,robotLimit:5,loadRobots:async()=>{e({isLoading:!0,error:null});try{const{data:{session:r}}=await de.auth.getSession();if(!(r!=null&&r.user))throw new Error("No authenticated session");const{data:n,error:a}=await de.from("robots").select("*").eq("owner_id",r.user.id).order("created_at",{ascending:!1});if(a)throw a;e({robots:n||[]}),await t().getRobotLimit()}catch(r){const n=r instanceof Error?r.message:"Failed to load robots";e({error:n}),Nr.logError(r,"loadRobots")}finally{e({isLoading:!1})}},loadSharedRobots:async()=>{e({isLoading:!0,error:null});try{const{data:{session:r}}=await de.auth.getSession();if(!(r!=null&&r.user))throw new Error("No authenticated session");const{data:n,error:a}=await de.from("shared_robots").select(`
          robots:robot_name (
            id,
            name,
            owner_id,
            created_at,
            updated_at,
            current_version_id
          )
        `).eq("user_id",r.user.id);if(a)throw a;e({sharedRobots:(n==null?void 0:n.map(i=>i.robots))||[]})}catch(r){const n=r instanceof Error?r.message:"Failed to load shared robots";e({error:n}),Nr.logError(r,"loadSharedRobots")}finally{e({isLoading:!1})}},loadVersions:async r=>{e({isLoading:!0,error:null});try{const{data:n,error:a}=await de.from("robot_versions").select("*").eq("robot_id",r).eq("is_deleted",!1).order("created_at",{ascending:!1});if(a)throw a;return e({versions:n||[]}),n||[]}catch(n){const a=n instanceof Error?n.message:"Failed to load versions";return e({error:a}),Nr.logError(n,"loadVersions"),[]}finally{e({isLoading:!1})}},getVersionCount:async r=>{try{const{count:n,error:a}=await de.from("robot_versions").select("*",{count:"exact",head:!0}).eq("robot_id",r).eq("is_deleted",!1);if(a)throw a;return n||0}catch(n){return Nr.logError(n,"getVersionCount"),0}},getRobotLimit:async()=>{try{const{data:{session:r}}=await de.auth.getSession();if(!(r!=null&&r.user))throw new Error("No authenticated session");const{data:n,error:a}=await de.from("profiles").select("plan").eq("id",r.user.id).single();if(a)throw a;let i=5;if(n!=null&&n.plan)switch(n.plan){case"Free":i=5;break;case"PRO 1":i=25;break;case"PRO 2":i=100;break;case"PRO 3":i=999;break;default:i=5}return e({robotLimit:i}),i}catch{return t().robotLimit}},createRobot:async r=>{e({isLoading:!0,error:null});try{const{data:{session:n}}=await de.auth.getSession();if(!(n!=null&&n.user))throw new Error("No authenticated session");const{robots:a,robotLimit:i}=t();if(a.length>=i)throw new Error(`You have reached your limit of ${i} robots. Please upgrade your plan to create more robots.`);const{data:o,error:l}=await de.from("robots").insert({name:r,owner_id:n.user.id}).select().single();if(l)throw l;if(!o)throw new Error("Failed to create robot");const{data:c,error:d}=await de.from("robot_versions").insert({robot_id:o.id,version_name:"Verso 1",code:`// ${o.name}
// Verso 1

var
  precoEntrada, precoSaida: float;
begin
  // Lgica principal do rob
  // Clique para comear a editar
end;`,description:"Verso inicial",tags:["tendencia"],created_by:n.user.id}).select().single();if(d)throw d;const{error:u}=await de.from("robots").update({current_version_id:c.id}).eq("id",o.id);if(u)throw u;return e(h=>({robots:[o,...h.robots],currentRobot:o,versions:[c],currentVersion:c})),o}catch(n){const a=n instanceof Error?n.message:"Failed to create robot";return e({error:a}),Nr.logError(n,"createRobot"),null}finally{e({isLoading:!1})}},renameRobot:async(r,n)=>{e({isLoading:!0,error:null});try{const{data:a,error:i}=await de.from("robots").update({name:n}).eq("id",r).select().single();if(i)throw i;e(o=>{var l;return{robots:o.robots.map(c=>c.id===r?{...c,name:n}:c),currentRobot:((l=o.currentRobot)==null?void 0:l.id)===r?{...o.currentRobot,name:n}:o.currentRobot}})}catch(a){const i=a instanceof Error?a.message:"Failed to rename robot";throw e({error:i}),Nr.logError(a,"renameRobot"),a}finally{e({isLoading:!1})}},createVersion:async(r,n,a,i,o)=>{e({isLoading:!0,error:null});try{const{data:l,error:c}=await de.from("robot_versions").select("version_name").eq("robot_id",r).eq("version_name",n).eq("is_deleted",!1);if(c)throw c;if(l&&l.length>0)throw new Error("Version name already exists for this robot");const{data:d,error:u}=await de.from("robot_versions").insert({robot_id:r,version_name:n,code:a,description:i,tags:o}).select().single();if(u)throw u;if(!d)throw new Error("Failed to create version");return await de.from("robots").update({current_version_id:d.id}).eq("id",r),e(h=>({versions:[d,...h.versions],currentVersion:d})),d}catch(l){const c=l instanceof Error?l.message:"Failed to create version";throw e({error:c}),Nr.logError(l,"createVersion"),l}finally{e({isLoading:!1})}},updateVersion:async(r,n)=>{e({isLoading:!0,error:null});try{const{error:a}=await de.from("robot_versions").update(n).eq("id",r);if(a)throw a;e(i=>{var o;return{versions:i.versions.map(l=>l.id===r?{...l,...n}:l),currentVersion:((o=i.currentVersion)==null?void 0:o.id)===r?{...i.currentVersion,...n}:i.currentVersion}})}catch(a){const i=a instanceof Error?a.message:"Failed to update version";throw e({error:i}),Nr.logError(a,"updateVersion"),a}finally{e({isLoading:!1})}},deleteVersion:async r=>{e({isLoading:!0,error:null});try{const{error:n}=await de.from("robot_versions").update({is_deleted:!0}).eq("id",r);if(n)throw n;e(a=>{var i;return{versions:a.versions.filter(o=>o.id!==r),currentVersion:((i=a.currentVersion)==null?void 0:i.id)===r?null:a.currentVersion}})}catch(n){const a=n instanceof Error?n.message:"Failed to delete version";throw e({error:a}),Nr.logError(n,"deleteVersion"),n}finally{e({isLoading:!1})}},renameVersion:async(r,n)=>{e({isLoading:!0,error:null});try{const{error:a}=await de.from("robot_versions").update({version_name:n}).eq("id",r);if(a)throw a;e(i=>{var o;return{versions:i.versions.map(l=>l.id===r?{...l,version_name:n}:l),currentVersion:((o=i.currentVersion)==null?void 0:o.id)===r?{...i.currentVersion,version_name:n}:i.currentVersion}})}catch(a){const i=a instanceof Error?a.message:"Failed to rename version";throw e({error:i}),Nr.logError(a,"renameVersion"),a}finally{e({isLoading:!1})}},deleteRobot:async r=>{e({isLoading:!0,error:null});try{const{error:n}=await de.from("robots").delete().eq("id",r);if(n)throw n;e(a=>{var i,o;return{robots:a.robots.filter(l=>l.id!==r),currentRobot:((i=a.currentRobot)==null?void 0:i.id)===r?null:a.currentRobot,versions:a.versions.filter(l=>l.robot_id!==r),currentVersion:((o=a.currentVersion)==null?void 0:o.robot_id)===r?null:a.currentVersion}})}catch(n){const a=n instanceof Error?n.message:"Failed to delete robot";throw e({error:a}),Nr.logError(n,"deleteRobot"),n}finally{e({isLoading:!1})}},updateRobotVersion:async(r,n)=>{e({isLoading:!0,error:null});try{const{error:a}=await de.from("robots").update({current_version_id:n}).eq("id",r);if(a)throw a;e(i=>{var o;return{robots:i.robots.map(l=>l.id===r?{...l,current_version_id:n}:l),currentRobot:((o=i.currentRobot)==null?void 0:o.id)===r?{...i.currentRobot,current_version_id:n}:i.currentRobot}})}catch(a){const i=a instanceof Error?a.message:"Failed to update robot version";throw e({error:i}),Nr.logError(a,"updateRobotVersion"),a}finally{e({isLoading:!1})}},shareRobot:async(r,n,a)=>{e({isLoading:!0,error:null});try{const{data:{session:i}}=await de.auth.getSession();if(!(i!=null&&i.user))throw new Error("No authenticated session");const{data:o,error:l}=await de.from("robots").select("name").eq("id",r).single();if(l)throw l;if(!o)throw new Error("Robot not found");const c=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),d=new Date;d.setDate(d.getDate()+7);const{data:u,error:h}=await de.from("shared_links").insert({robot_name:o.name,permission:n==="read"?"view":"edit",created_by:i.user.id,expires_at:d.toISOString(),token:c,is_active:!0}).select().single();if(h)throw h;return c}catch(i){const o=i instanceof Error?i.message:"Failed to share robot";throw e({error:o}),Nr.logError(i,"shareRobot"),i}finally{e({isLoading:!1})}}}));function Q6(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){Q6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z6(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function eI(e,t){if(e==null)return{};var r=Z6(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tI(e,t){return rI(e)||nI(e,t)||sI(e,t)||aI()}function rI(e){if(Array.isArray(e))return e}function nI(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function sI(e,t){if(e){if(typeof e=="string")return _j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _j(e,t)}}function _j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){iI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oI(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(a,i){return i(a)},n)}}function lc(e){return function t(){for(var r=this,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(r,[].concat(a,l))}}}function Qh(e){return{}.toString.call(e).includes("Object")}function lI(e){return!Object.keys(e).length}function ld(e){return typeof e=="function"}function cI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dI(e,t){return Qh(t)||Aa("changeType"),Object.keys(t).some(function(r){return!cI(e,r)})&&Aa("changeField"),t}function uI(e){ld(e)||Aa("selectorType")}function hI(e){ld(e)||Qh(e)||Aa("handlerType"),Qh(e)&&Object.values(e).some(function(t){return!ld(t)})&&Aa("handlersType")}function mI(e){e||Aa("initialIsRequired"),Qh(e)||Aa("initialType"),lI(e)&&Aa("initialContent")}function fI(e,t){throw new Error(e[t]||e.default)}var pI={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Aa=lc(fI)(pI),ku={changes:dI,selector:uI,handler:hI,initial:mI};function gI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ku.initial(e),ku.handler(t);var r={current:e},n=lc(vI)(r,t),a=lc(yI)(r),i=lc(ku.changes)(e),o=lc(xI)(r);function l(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return ku.selector(d),d(r.current)}function c(d){oI(n,a,i,o)(d)}return[l,c]}function xI(e,t){return ld(t)?t(e.current):t}function yI(e,t){return e.current=Sj(Sj({},e.current),t),t}function vI(e,t,r){return ld(t)?t(e.current):Object.keys(r).forEach(function(n){var a;return(a=t[n])===null||a===void 0?void 0:a.call(t,e.current[n])}),r}var bI={create:gI},wI={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function jI(e){return function t(){for(var r=this,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(r,[].concat(a,l))}}}function NI(e){return{}.toString.call(e).includes("Object")}function _I(e){return e||Cj("configIsRequired"),NI(e)||Cj("configType"),e.urls?(kI(),{paths:{vs:e.urls.monacoBase}}):e}function kI(){console.warn(zS.deprecation)}function SI(e,t){throw new Error(e[t]||e.default)}var zS={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Cj=jI(SI)(zS),CI={config:_I},PI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(a){return r.reduceRight(function(i,o){return o(i)},a)}};function US(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],US(e[r],t[r]))}),Nj(Nj({},e),t)}var EI={type:"cancelation",msg:"operation is manually canceled"};function gp(e){var t=!1,r=new Promise(function(n,a){e.then(function(i){return t?a(EI):n(i)}),e.catch(a)});return r.cancel=function(){return t=!0},r}var AI=bI.create({config:wI,isInitialized:!1,resolve:null,reject:null,monaco:null}),qS=tI(AI,2),Md=qS[0],xf=qS[1];function TI(e){var t=CI.config(e),r=t.monaco,n=eI(t,["monaco"]);xf(function(a){return{config:US(a.config,n),monaco:r}})}function OI(){var e=Md(function(t){var r=t.monaco,n=t.isInitialized,a=t.resolve;return{monaco:r,isInitialized:n,resolve:a}});if(!e.isInitialized){if(xf({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),gp(xp);if(window.monaco&&window.monaco.editor)return VS(window.monaco),e.resolve(window.monaco),gp(xp);PI(MI,RI)($I)}return gp(xp)}function MI(e){return document.body.appendChild(e)}function DI(e){var t=document.createElement("script");return e&&(t.src=e),t}function RI(e){var t=Md(function(n){var a=n.config,i=n.reject;return{config:a,reject:i}}),r=DI("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function $I(){var e=Md(function(r){var n=r.config,a=r.resolve,i=r.reject;return{config:n,resolve:a,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){VS(r),e.resolve(r)},function(r){e.reject(r)})}function VS(e){Md().monaco||xf({monaco:e})}function II(){return Md(function(e){var t=e.monaco;return t})}var xp=new Promise(function(e,t){return xf({resolve:e,reject:t})}),WS={config:TI,init:OI,__getMonacoInstance:II},LI={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},yp=LI,FI={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},BI=FI;function zI({children:e}){return Kt.createElement("div",{style:BI.container},e)}var UI=zI,qI=UI;function VI({width:e,height:t,isEditorReady:r,loading:n,_ref:a,className:i,wrapperProps:o}){return Kt.createElement("section",{style:{...yp.wrapper,width:e,height:t},...o},!r&&Kt.createElement(qI,null,n),Kt.createElement("div",{ref:a,style:{...yp.fullWidth,...!r&&yp.hide},className:i}))}var WI=VI,HS=g.memo(WI);function HI(e){g.useEffect(e,[])}var KS=HI;function KI(e,t,r=!0){let n=g.useRef(!0);g.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var tn=KI;function Tc(){}function Co(e,t,r,n){return GI(e,n)||YI(e,t,r,n)}function GI(e,t){return e.editor.getModel(GS(e,t))}function YI(e,t,r,n){return e.editor.createModel(t,r,n?GS(e,n):void 0)}function GS(e,t){return e.Uri.parse(t)}function JI({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:a,originalModelPath:i,modifiedModelPath:o,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:d="light",loading:u="Loading...",options:h={},height:m="100%",width:f="100%",className:p,wrapperProps:y={},beforeMount:v=Tc,onMount:x=Tc}){let[b,j]=g.useState(!1),[N,w]=g.useState(!0),_=g.useRef(null),k=g.useRef(null),S=g.useRef(null),E=g.useRef(x),P=g.useRef(v),C=g.useRef(!1);KS(()=>{let L=WS.init();return L.then(H=>(k.current=H)&&w(!1)).catch(H=>(H==null?void 0:H.type)!=="cancelation"&&console.error("Monaco initialization: error:",H)),()=>_.current?$():L.cancel()}),tn(()=>{if(_.current&&k.current){let L=_.current.getOriginalEditor(),H=Co(k.current,e||"",n||r||"text",i||"");H!==L.getModel()&&L.setModel(H)}},[i],b),tn(()=>{if(_.current&&k.current){let L=_.current.getModifiedEditor(),H=Co(k.current,t||"",a||r||"text",o||"");H!==L.getModel()&&L.setModel(H)}},[o],b),tn(()=>{let L=_.current.getModifiedEditor();L.getOption(k.current.editor.EditorOption.readOnly)?L.setValue(t||""):t!==L.getValue()&&(L.executeEdits("",[{range:L.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),L.pushUndoStop())},[t],b),tn(()=>{var L,H;(H=(L=_.current)==null?void 0:L.getModel())==null||H.original.setValue(e||"")},[e],b),tn(()=>{let{original:L,modified:H}=_.current.getModel();k.current.editor.setModelLanguage(L,n||r||"text"),k.current.editor.setModelLanguage(H,a||r||"text")},[r,n,a],b),tn(()=>{var L;(L=k.current)==null||L.editor.setTheme(d)},[d],b),tn(()=>{var L;(L=_.current)==null||L.updateOptions(h)},[h],b);let A=g.useCallback(()=>{var U;if(!k.current)return;P.current(k.current);let L=Co(k.current,e||"",n||r||"text",i||""),H=Co(k.current,t||"",a||r||"text",o||"");(U=_.current)==null||U.setModel({original:L,modified:H})},[r,t,a,e,n,i,o]),O=g.useCallback(()=>{var L;!C.current&&S.current&&(_.current=k.current.editor.createDiffEditor(S.current,{automaticLayout:!0,...h}),A(),(L=k.current)==null||L.editor.setTheme(d),j(!0),C.current=!0)},[h,d,A]);g.useEffect(()=>{b&&E.current(_.current,k.current)},[b]),g.useEffect(()=>{!N&&!b&&O()},[N,b,O]);function $(){var H,U,T,M;let L=(H=_.current)==null?void 0:H.getModel();l||((U=L==null?void 0:L.original)==null||U.dispose()),c||((T=L==null?void 0:L.modified)==null||T.dispose()),(M=_.current)==null||M.dispose()}return Kt.createElement(HS,{width:f,height:m,isEditorReady:b,loading:u,_ref:S,className:p,wrapperProps:y})}var XI=JI;g.memo(XI);function QI(e){let t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}var ZI=QI,Su=new Map;function eL({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:a,path:i,theme:o="light",line:l,loading:c="Loading...",options:d={},overrideServices:u={},saveViewState:h=!0,keepCurrentModel:m=!1,width:f="100%",height:p="100%",className:y,wrapperProps:v={},beforeMount:x=Tc,onMount:b=Tc,onChange:j,onValidate:N=Tc}){let[w,_]=g.useState(!1),[k,S]=g.useState(!0),E=g.useRef(null),P=g.useRef(null),C=g.useRef(null),A=g.useRef(b),O=g.useRef(x),$=g.useRef(),L=g.useRef(n),H=ZI(i),U=g.useRef(!1),T=g.useRef(!1);KS(()=>{let B=WS.init();return B.then(F=>(E.current=F)&&S(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>P.current?z():B.cancel()}),tn(()=>{var F,K,Y,W;let B=Co(E.current,e||n||"",t||a||"",i||r||"");B!==((F=P.current)==null?void 0:F.getModel())&&(h&&Su.set(H,(K=P.current)==null?void 0:K.saveViewState()),(Y=P.current)==null||Y.setModel(B),h&&((W=P.current)==null||W.restoreViewState(Su.get(i))))},[i],w),tn(()=>{var B;(B=P.current)==null||B.updateOptions(d)},[d],w),tn(()=>{!P.current||n===void 0||(P.current.getOption(E.current.editor.EditorOption.readOnly)?P.current.setValue(n):n!==P.current.getValue()&&(T.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),P.current.pushUndoStop(),T.current=!1))},[n],w),tn(()=>{var F,K;let B=(F=P.current)==null?void 0:F.getModel();B&&a&&((K=E.current)==null||K.editor.setModelLanguage(B,a))},[a],w),tn(()=>{var B;l!==void 0&&((B=P.current)==null||B.revealLine(l))},[l],w),tn(()=>{var B;(B=E.current)==null||B.editor.setTheme(o)},[o],w);let M=g.useCallback(()=>{var B;if(!(!C.current||!E.current)&&!U.current){O.current(E.current);let F=i||r,K=Co(E.current,n||e||"",t||a||"",F||"");P.current=(B=E.current)==null?void 0:B.editor.create(C.current,{model:K,automaticLayout:!0,...d},u),h&&P.current.restoreViewState(Su.get(F)),E.current.editor.setTheme(o),l!==void 0&&P.current.revealLine(l),_(!0),U.current=!0}},[e,t,r,n,a,i,d,u,h,o,l]);g.useEffect(()=>{w&&A.current(P.current,E.current)},[w]),g.useEffect(()=>{!k&&!w&&M()},[k,w,M]),L.current=n,g.useEffect(()=>{var B,F;w&&j&&((B=$.current)==null||B.dispose(),$.current=(F=P.current)==null?void 0:F.onDidChangeModelContent(K=>{T.current||j(P.current.getValue(),K)}))},[w,j]),g.useEffect(()=>{if(w){let B=E.current.editor.onDidChangeMarkers(F=>{var Y;let K=(Y=P.current.getModel())==null?void 0:Y.uri;if(K&&F.find(W=>W.path===K.path)){let W=E.current.editor.getModelMarkers({resource:K});N==null||N(W)}});return()=>{B==null||B.dispose()}}return()=>{}},[w,N]);function z(){var B,F;(B=$.current)==null||B.dispose(),m?h&&Su.set(i,P.current.saveViewState()):(F=P.current.getModel())==null||F.dispose(),P.current.dispose()}return Kt.createElement(HS,{width:f,height:p,isEditorReady:w,loading:c,_ref:C,className:y,wrapperProps:v})}var tL=eL,rL=g.memo(tL),nL=rL;const Pj={basicStructure:`// Estrutura bsica do rob
input
  stopLoss: float = 100;
  takeProfit: float = 200;
var
  entryPrice: float;
begin
  // Lgica principal aqui
end;`,mediaMovel:`// Cruzamento de mdias mveis
var
  fastMA, slowMA: float;
begin
  fastMA := sma(9);
  slowMA := sma(21);
  
  if fastMA > slowMA and fastMA[1] <= slowMA[1] then
    buy(1, close);
  
  if fastMA < slowMA and fastMA[1] >= slowMA[1] then
    sell(1, close);
end;`,stopLoss:`// Stop Loss e Take Profit
if position = 0 and condition then begin
  buy(1, close);
  entryPrice := close;
  set_stop_loss(entryPrice - stopLoss);
  set_take_profit(entryPrice + takeProfit);
end;`,trailing:`// Trailing Stop
var
  stopDistance: float = 100;
  lastStopPrice: float = 0;
begin
  if position > 0 then begin
    if lastStopPrice = 0 then
      lastStopPrice := entryPrice - stopDistance;
    
    if close - stopDistance > lastStopPrice then begin
      lastStopPrice := close - stopDistance;
      set_stop_loss(lastStopPrice);
    end;
  end;
end;`,rompimento:`// Rompimento de mxima/mnima
var
  periodHigh, periodLow: float;
begin
  periodHigh := highest(high, 20);
  periodLow := lowest(low, 20);
  
  if close > periodHigh[1] then
    buy(1, close)
  else if close < periodLow[1] then
    sell(1, close);
end;`,rsi:`// Estratgia com RSI
var
  rsiValue: float;
  oversold: float = 30;
  overbought: float = 70;
begin
  rsiValue := rsi(14);
  
  if position = 0 and rsiValue < oversold then
    buy(1, close);
    
  if position > 0 and rsiValue > overbought then
    sell(1, close);
end;`,bollinger:`// Estratgia com Bandas de Bollinger
var
  upperBand, lowerBand, middleBand: float;
  period: integer = 20;
  deviations: float = 2;
begin
  bollinger(period, deviations, upperBand, middleBand, lowerBand);
  
  if position = 0 and close < lowerBand then
    buy(1, close);
    
  if position > 0 and close > upperBand then
    sell(1, close);
end;`,macd:`// Estratgia com MACD
var
  macdLine, signalLine, histogram: float;
begin
  macd(12, 26, 9, macdLine, signalLine, histogram);
  
  if macdLine > signalLine and macdLine[1] <= signalLine[1] then
    buy(1, close);
    
  if macdLine < signalLine and macdLine[1] >= signalLine[1] then
    sell(1, close);
end;`,hftScalping:`// Estratgia HFT para Scalping
input
  rsiPeriod: integer = 7;
  rsiOverbought: float = 70;
  rsiOversold: float = 30;
  stopLoss: float = 50;
  takeProfit: float = 100;
var
  rsiValue: float;
  entryPrice: float;
begin
  rsiValue := rsi(rsiPeriod);
  
  // Compra rpida quando RSI est sobrevendido
  if position = 0 and rsiValue < rsiOversold and rsiValue[1] < rsiValue then begin
    buy(1, close);
    entryPrice := close;
    set_stop_loss(entryPrice - stopLoss);
    set_take_profit(entryPrice + takeProfit);
  end;
  
  // Venda rpida quando RSI est sobrecomprado
  if position > 0 and rsiValue > rsiOverbought then
    sell(1, close);
    
  // Sada rpida se o movimento no continuar
  if position > 0 and close < close[1] and close[1] < close[2] then
    sell(1, close);
end;`,correlacao:`// Estratgia de Correlao entre Ativos
input
  symbol1: string = "PETR4";
  symbol2: string = "VALE3";
  correlationPeriod: integer = 20;
  deviationThreshold: float = 1.5;
var
  price1, price2: float;
  ratio, avgRatio, stdRatio: float;
  zScore: float;
begin
  price1 := external_close(symbol1);
  price2 := external_close(symbol2);
  
  // Calcula a razo entre os preos
  ratio := price1 / price2;
  
  // Mdia e desvio padro da razo
  avgRatio := sma_custom(ratio, correlationPeriod);
  stdRatio := stdev_custom(ratio, correlationPeriod);
  
  // Z-score (quantos desvios padro a razo est da mdia)
  zScore := (ratio - avgRatio) / stdRatio;
  
  // Operaes quando a correlao est fora do padro
  if position = 0 and zScore < -deviationThreshold then
    buy(1, close); // Compra quando o ativo est subvalorizado em relao ao par
    
  if position > 0 and zScore > 0 then
    sell(1, close); // Vende quando a correlao normaliza
end;`,volumeProfile:`// Estratgia baseada em Perfil de Volume
input
  volumeThreshold: float = 1.5; // Multiplicador do volume mdio
  lookbackPeriod: integer = 20;
var
  avgVolume, currentVolume: float;
  valueArea: float;
begin
  avgVolume := sma_custom(volume, lookbackPeriod);
  currentVolume := volume;
  valueArea := vwap(lookbackPeriod);
  
  // Compra em suporte de volume com volume acima da mdia
  if position = 0 and close < valueArea and currentVolume > avgVolume * volumeThreshold then
    buy(1, close);
    
  // Venda em resistncia de volume com volume acima da mdia
  if position > 0 and close > valueArea and currentVolume > avgVolume * volumeThreshold then
    sell(1, close);
end;`,volatilityBreakout:`// Estratgia de Rompimento de Volatilidade (ATR)
input
  atrPeriod: integer = 14;
  atrMultiplier: float = 2.0;
  stopMultiplier: float = 1.5;
var
  atrValue: float;
  upperBand, lowerBand: float;
  entryPrice: float;
begin
  atrValue := atr(atrPeriod);
  upperBand := high[1] + atrValue * atrMultiplier;
  lowerBand := low[1] - atrValue * atrMultiplier;
  
  // Compra no rompimento superior
  if position = 0 and high > upperBand then begin
    buy(1, close);
    entryPrice := close;
    set_stop_loss(entryPrice - atrValue * stopMultiplier);
  end;
  
  // Venda no rompimento inferior
  if position = 0 and low < lowerBand then begin
    sell(1, close);
    entryPrice := close;
    set_stop_loss(entryPrice + atrValue * stopMultiplier);
  end;
end;`};function sL({fileId:e,content:t,language:r,onContentChange:n,versions:a,selectedVersion:i,onVersionSelect:o,showCreateVersionModal:l,setShowCreateVersionModal:c}){const d=g.useRef(null),u=g.useRef(null),[h,m]=g.useState(""),[f,p]=g.useState([]),[y,v]=g.useState(!1);g.useEffect(()=>{e&&(async()=>{var E;const{data:S}=await de.from("robots").select("*, robot_versions!robot_versions_robot_id_fkey(*)").eq("id",e).single();if(((E=S==null?void 0:S.robot_versions)==null?void 0:E.length)>0){const P=S.robot_versions.find(C=>C.version_name==="Verso 1");P&&n(P.code)}})()},[e]);const x=k=>{d.current=k,v(!0),k.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KeyF,()=>{k.trigger("","actions.find")}),monaco.languages.registerCompletionItemProvider("javascript",{provideCompletionItems:()=>({suggestions:Object.entries(Pj).map(([E,P])=>({label:E,kind:monaco.languages.CompletionItemKind.Snippet,insertText:P,documentation:`Snippet: ${E}`,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet}))})});const S=new ResizeObserver(()=>{d.current&&d.current.layout()});return u.current&&S.observe(u.current),()=>{S.disconnect()}},b=k=>{if(!k)return{};const S={},E=k.split(`
`);let P="",C=0;return E.forEach((A,O)=>{const $=A.match(/\/\/#([^#\n]+)/);if($){const L=$[1].trim();P&&(S[P]||(S[P]={name:P,ranges:[]}),S[P].ranges.push({start:C,end:O-1})),P=L,C=O+1}}),P&&(S[P]||(S[P]={name:P,ranges:[]}),S[P].ranges.push({start:C,end:E.length-1})),S},j=(k,S)=>{d.current&&(d.current.revealLineInCenter(S.start),d.current.setSelection({startLineNumber:S.start,startColumn:1,endLineNumber:S.end,endColumn:1}))},N=k=>{if(d.current){const S=d.current.getPosition();d.current.executeEdits("",[{range:{startLineNumber:S.lineNumber,startColumn:S.column,endLineNumber:S.lineNumber,endColumn:S.column},text:k}])}},w=()=>{if(d.current){const S=d.current.getPosition().lineNumber;d.current.executeEdits("",[{range:{startLineNumber:S,startColumn:1,endLineNumber:S,endColumn:1},text:`//#Topic Name
`}]),d.current.setPosition({lineNumber:S,column:4})}},_=t?b(t):{};return s.jsxs("div",{ref:u,className:"h-full w-full flex overflow-hidden",children:[s.jsxs("div",{className:"w-64 border-r border-gray-800 p-4 flex flex-col overflow-y-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Od,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search in code...",value:h,onChange:k=>{m(k.target.value),d.current&&d.current.trigger("","actions.find",{searchString:k.target.value})},className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Version History"}),s.jsxs("button",{onClick:()=>c(!0),className:"text-xs text-blue-400 hover:text-blue-300 flex items-center",title:"Create new version",children:[s.jsx(ts,{className:"w-3 h-3 mr-1"}),"New Version"]})]}),s.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:a.map(k=>s.jsx("div",{className:`p-2 rounded cursor-pointer ${i===k.version_name?"bg-blue-600":"hover:bg-gray-800"}`,onClick:()=>o(k.version_name),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:k.version_name}),s.jsx("span",{className:"text-xs text-gray-400",children:new Date(k.created_at).toLocaleDateString()})]})},k.id))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Topics"}),s.jsxs("button",{onClick:w,className:"text-xs text-blue-400 hover:text-blue-300 flex items-center",title:"Add new topic",children:[s.jsx(ts,{className:"w-3 h-3 mr-1"}),"Add Topic"]})]}),s.jsx("div",{className:"space-y-1",children:Object.entries(_).length===0?s.jsx("p",{className:"text-sm text-gray-500 italic",children:"No topics found. Add topics by writing //#topic in your code"}):Object.entries(_).map(([k,S])=>s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>{f.includes(k)?p(f.filter(E=>E!==k)):p([...f,k])},className:"flex items-center w-full p-2 hover:bg-gray-800 rounded-md text-left",children:[f.includes(k)?s.jsx(He,{className:"w-4 h-4 mr-2"}):s.jsx(Ec,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:k})]}),f.includes(k)&&s.jsx("div",{className:"ml-6 space-y-1",children:S.ranges.map((E,P)=>s.jsxs("button",{onClick:()=>j(k,E),className:"w-full p-2 hover:bg-gray-800 rounded-md text-left text-sm text-gray-400",children:["Lines ",E.start,"-",E.end]},P))})]},k))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Fragments"}),s.jsx("div",{className:"space-y-1",children:Object.entries(Pj).map(([k,S])=>s.jsxs("button",{onClick:()=>N(S),className:"flex items-center w-full p-2 hover:bg-gray-800 rounded-md text-left",children:[s.jsx(k6,{className:"w-4 h-4 text-blue-400 mr-2"}),s.jsx("span",{children:k})]},k))})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(nL,{height:"100%",language:r,theme:"vs-dark",value:t,onChange:n,onMount:x,options:{minimap:{enabled:!1},fontSize:14,wordWrap:"on",lineNumbers:"on",folding:!0,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,insertSpaces:!0,autoClosingQuotes:"always",autoClosingBrackets:"always",suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",fontFamily:'"Fira Code", Menlo, Monaco, "Courier New", monospace',fontLigatures:!0}})})]})}const aL=lf((e,t)=>({invites:[],sharedRobots:[],isLoading:!1,error:null,loadSharedRobots:async()=>{e({isLoading:!0,error:null});try{const{data:{user:r}}=await de.auth.getUser();if(!r)throw new Error("No authenticated user");const{data:n,error:a}=await de.from("shared_robots").select("*").eq("user_id",r.id);if(a)throw a;e({sharedRobots:n||[]})}catch(r){e({error:r.message})}finally{e({isLoading:!1})}},checkExistingInvite:async(r,n)=>{if(!(r!=null&&r.trim())||!(n!=null&&n.trim()))return null;const{data:a,error:i}=await de.from("sharing_invites").select("*").eq("robot_name",r.trim()).eq("email",n.trim()).eq("is_active",!0).limit(1).maybeSingle();return i?null:a},createInvite:async({robotName:r,email:n,permission:a})=>{e({isLoading:!0,error:null});try{const i=r==null?void 0:r.trim(),o=n==null?void 0:n.trim();if(!i)throw new Error("Robot name cannot be empty");if(!o)throw new Error("Email cannot be empty");const{data:{user:l}}=await de.auth.getUser();if(!l)throw new Error("User not authenticated");const c=await t().checkExistingInvite(i,o);c&&await t().revokeInvite(c.id);const{data:d,error:u}=await de.from("sharing_invites").insert({robot_name:i,email:o,permission:a,created_by:l.id,expires_at:new Date(Date.now()+7*24*60*60*1e3).toISOString()}).select().single();if(u)throw u;const{invites:h}=t();e({invites:[...h,d]});const{data:m}=await de.auth.admin.getUserByEmail(o);m!=null&&m.user&&await de.from("shared_robots").upsert({robot_name:i,user_id:m.user.id,permission:a,created_by:l.id})}catch(i){throw e({error:i.message}),i}finally{e({isLoading:!1})}},loadInvites:async r=>{e({isLoading:!0,error:null});try{const n=r==null?void 0:r.trim();if(!n){e({invites:[]});return}const{data:a,error:i}=await de.from("sharing_invites").select("*").eq("robot_name",n).eq("is_active",!0).order("created_at",{ascending:!1});if(i)throw i;e({invites:a||[]})}catch(n){e({error:n.message})}finally{e({isLoading:!1})}},revokeInvite:async r=>{e({isLoading:!0,error:null});try{const{data:n}=await de.from("sharing_invites").select("robot_name, email").eq("id",r).single();if(n){const{data:o}=await de.auth.admin.getUserByEmail(n.email);o!=null&&o.user&&await de.from("shared_robots").delete().match({robot_name:n.robot_name,user_id:o.user.id})}const{error:a}=await de.from("sharing_invites").update({is_active:!1}).eq("id",r);if(a)throw a;const{invites:i}=t();e({invites:i.filter(o=>o.id!==r)})}catch(n){throw e({error:n.message}),n}finally{e({isLoading:!1})}}}));function iL({isOpen:e,onClose:t,robotName:r}){const[n,a]=g.useState(""),[i,o]=g.useState("view"),[l,c]=g.useState(!1),[d,u]=g.useState(null),[h,m]=g.useState(!1),[f,p]=g.useState(null),[y,v]=g.useState(!1),[x,b]=g.useState(!1),{invites:j,createInvite:N,loadInvites:w,isLoading:_,checkExistingInvite:k}=aL(),{profile:S}=Lt();g.useEffect(()=>{if(!r){t();return}w(r)},[r,w,t]),g.useEffect(()=>{(async()=>{if(n&&r){const $=await k(r,n);m(!!$)}else m(!1)})()},[n,r,k]);const E=async()=>{if(u(null),!(r!=null&&r.trim())){u("Robot name cannot be empty");return}if(!(n!=null&&n.trim())){u("Email cannot be empty");return}try{const O=async(T=3)=>{try{const{data:M,error:z}=await de.functions.invoke("check-user-exists",{body:{email:n},headers:{"Content-Type":"application/json"}});if(z)throw z;return(M==null?void 0:M.exists)??!1}catch(M){if(T>0)return await new Promise(z=>setTimeout(z,1e3)),O(T-1);throw M}};if(!await O()){u("Este email no est registrado. Por favor, convide um usurio registrado.");return}await N({robotName:r,email:n,permission:i});const H=`https://devhubtrader.com.br/robots/${r}`,U=async(T=3)=>{try{const{error:M}=await de.functions.invoke("send-invite-email",{body:{robotName:r,email:n,inviterName:(S==null?void 0:S.name)||(S==null?void 0:S.email)||"A user",permission:i,inviteLink:H},headers:{"Content-Type":"application/json"}});if(M)throw M}catch(M){if(T>0)return await new Promise(z=>setTimeout(z,1e3)),U(T-1);throw M}};await U(),a(""),c(!0),setTimeout(()=>c(!1),3e3)}catch(O){console.error("Error sending invite:",O);const $=O.message||"Failed to send invite. Please try again.";u($.includes("Server configuration error")?"The server is currently unavailable. Please try again later or contact support.":$)}},P=async O=>{try{const{error:$}=await de.functions.invoke("revoke-invite",{body:{inviteId:O},headers:{"Content-Type":"application/json"}});if($)throw $;await w(r)}catch($){console.error("Error revoking invite:",$),u($.message||"Failed to revoke access. Please try again.")}},C=async()=>{try{u(null);const{data:O,error:$}=await de.functions.invoke("create-share-link",{body:{robotName:r,permission:i}});if($)throw $;const H=`https://devhubtrader.com.br/shared/${O.data.token}`;p(H),b(!0)}catch(O){console.error("Error creating share link:",O),u(O instanceof Error?O.message:"Failed to create share link")}},A=async()=>{if(f)try{await navigator.clipboard.writeText(f),v(!0),setTimeout(()=>v(!1),2e3)}catch(O){console.error("Failed to copy:",O),u("Failed to copy to clipboard")}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-6 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(od,{className:"w-12 h-12 text-blue-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Compartilhar Rob"}),s.jsxs("p",{className:"mt-2 text-gray-400",children:['Compartilhe "',r,'" com outros usurios']})]}),d&&s.jsxs("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center text-red-500",children:[s.jsx(ut,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:d})]}),l&&s.jsxs("div",{className:"mb-4 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center text-green-500",children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Convite enviado com sucesso!"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Permisso de acesso"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"view",checked:i==="view",onChange:()=>o("view"),className:"sr-only"}),s.jsx("div",{className:`px-3 py-1.5 rounded ${i==="view"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400"}`,children:"Visualizar"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"edit",checked:i==="edit",onChange:()=>o("edit"),className:"sr-only"}),s.jsx("div",{className:`px-3 py-1.5 rounded ${i==="edit"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400"}`,children:"Editar"})]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:C,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center justify-center",children:[s.jsx($6,{className:"w-4 h-4 mr-2"}),"Gerar Link"]}),s.jsxs("button",{onClick:()=>b(!1),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center justify-center",children:[s.jsx(gf,{className:"w-4 h-4 mr-2"}),"Convidar por Email"]})]}),x?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Link de compartilhamento"}),s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"text",value:f||"",readOnly:!0,className:"flex-1 bg-gray-800 border border-gray-700 rounded-l-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:A,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-r-md flex items-center",children:y?s.jsx(yt,{className:"w-5 h-5"}):s.jsx(OS,{className:"w-5 h-5"})})]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Este link permite ",i==="view"?"visualizar":"editar"," o rob"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email do colaborador"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"email",value:n,onChange:O=>a(O.target.value),placeholder:"colaborador@email.com",className:"w-full pl-3 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),h&&s.jsx("p",{className:"mt-2 text-yellow-500 text-sm",children:"Um convite ativo j existe para este email. Enviar um novo convite substituir o anterior."})]}),s.jsx("button",{onClick:E,disabled:_,className:`w-full py-2 rounded-md transition-colors ${_?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:_?"Enviando...":"Enviar Convite"})]})]}),j.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-3",children:"Convites Ativos"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:j.map(O=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-md",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-white truncate",children:O.email}),s.jsx("p",{className:"text-xs text-gray-400",children:O.permission==="edit"?"Editor":"Viewer"})]}),s.jsx("button",{onClick:()=>P(O.id),className:"ml-2 p-1 text-gray-400 hover:text-white",disabled:_,children:s.jsx(Ye,{className:"w-4 h-4"})})]},O.id))})]}),s.jsxs("div",{className:"mt-6 p-4 bg-gray-800 rounded-md flex items-start space-x-3",children:[s.jsx(ut,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-gray-300",children:[s.jsx("p",{className:"font-medium mb-1",children:"Sobre Compartilhamento"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:" Os convites so gerenciados dentro da plataforma"}),s.jsx("li",{children:" Os colaboradores sero notificados quando fizerem login"}),s.jsx("li",{children:" Voc pode revogar o acesso a qualquer momento"}),s.jsx("li",{children:" Os convites expiram aps 7 dias se no forem aceitos"}),s.jsx("li",{children:" Links de compartilhamento funcionam para qualquer pessoa"})]})]})]})]})}):null}function oL(e){return e?/^v\d+\.\d+\.\d+$/.test(e):!1}async function lL(e,t,r=100){if(!e)return"Verso 1";let n=0;t.forEach(i=>{var l;const o=(l=i.version_name)==null?void 0:l.match(/^Verso (\d+)$/);if(o){const c=parseInt(o[1],10);!isNaN(c)&&c>n&&(n=c)}});for(let i=1;i<=r;i++){let o;if(e.startsWith("v")){const l=e.match(/^v(\d+)\.(\d+)\.(\d+)$/);if(l){const[,c,d,u]=l;o=`v${c}.${d}.${parseInt(u)+i}`}else o=`${e}_${i}`}else e.startsWith("Verso")?o=`Verso ${n+i}`:o=`${e}_${i}`;if(!t.some(l=>l.version_name===o))return o}const a=new Date().getTime();return`${e}_${a}`}function cL({isOpen:e,onClose:t,onSave:r,existingVersions:n=[],suggestedName:a="",suggestedDescription:i=""}){const[o,l]=g.useState(a),[c,d]=g.useState(i),[u,h]=g.useState(null),[m,f]=g.useState(!1),[p,y]=g.useState(!1),[v,x]=g.useState([]),[b,j]=g.useState(""),[N,w]=g.useState(!1),[_,k]=g.useState(!1),[S,E]=g.useState(!1),[P,C]=g.useState(""),[A,O]=g.useState(""),$=["trailing","sem-trailing","tendencia","reversao","medias-moveis","rompimento","volatilidade-alta","volatilidade-baixa","correlacao","alvo-longo","alvo-curto"],L=["M1","M5","M15","M30","H1","H4","D1","W1"],H=["WINFUT","WDOFUT","PETR4","VALE3","ITUB4","BBDC4","ABEV3","MGLU3","BOVA11"];g.useEffect(()=>{e&&(l(a),d(i),h(null),x([]),j(""),y(!1),w(!1),k(!1),E(!1),C(""),O(""))},[e,a,i]);const U=()=>{if(!o||typeof o!="string"||!o.trim())return h("O nome da verso no pode estar vazio"),!1;const D=o.trim();if(D.startsWith("v"))try{if(!oL(D))return h("O formato de verso deve ser vX.X.X (ex: v1.0.0)"),!1}catch{return h("Formato de verso invlido"),!1}return n.includes(D)?(h("J existe uma verso com este nome"),!1):c!=null&&c.trim()?!0:(h("A descrio da verso  obrigatria"),!1)},T=async D=>{if(D.preventDefault(),!!U()){f(!0),h(null);try{if(!o)throw new Error("Nome da verso  obrigatrio");const R=await lL(o.trim(),n),q=[...v];b.trim()&&!q.includes(b.trim())&&q.push(b.trim()),await r(R,c.trim(),q.length>0?q:void 0),y(!0),setTimeout(()=>{t()},1500)}catch(R){console.error("Error saving version:",R),h(R instanceof Error?R.message:"Erro ao salvar verso")}finally{f(!1)}}},M=D=>{v.includes(D)?x(v.filter(R=>R!==D)):x([...v,D])},z=()=>{b.trim()&&!v.includes(b.trim())&&(x([...v,b.trim()]),j(""))},B=D=>{const R=`tf-${D.toLowerCase()}`;v.includes(R)?x(v.filter(q=>q!==R)):x([...v,R])},F=D=>{const R=`ativo-${D.toLowerCase()}`;v.includes(R)?x(v.filter(q=>q!==R)):x([...v,R])},K=()=>{if(P.trim()){const D=`tf-${P.trim().toLowerCase()}`;v.includes(D)||(x([...v,D]),C(""))}},Y=()=>{if(A.trim()){const D=`ativo-${A.trim().toLowerCase()}`;v.includes(D)||(x([...v,D]),O(""))}},W=()=>v.filter(D=>D.startsWith("tf-")).map(D=>D.replace("tf-","").toUpperCase()),te=()=>v.filter(D=>D.startsWith("ativo-")).map(D=>D.replace("ativo-","").toUpperCase()),ie=()=>v.filter(D=>!D.startsWith("tf-")&&!D.startsWith("ativo-"));return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-6 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:m||p,children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(id,{className:"w-12 h-12 text-blue-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Salvar Nova Verso"}),s.jsx("p",{className:"mt-2 text-gray-400",children:"D um nome  sua verso para facilitar a identificao futura"})]}),u&&s.jsxs("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center text-red-500",children:[s.jsx(ut,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:u})]}),p&&s.jsxs("div",{className:"mb-4 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center text-green-500",children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Verso salva com sucesso!"})]}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"version-name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome da verso*"}),s.jsx("input",{id:"version-name",type:"text",value:o,onChange:D=>l(D.target.value),placeholder:"Ex: v1.0.0, Implementao Stop Loss",className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,disabled:m||p})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"version-description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Descrio*"}),s.jsx("textarea",{id:"version-description",value:c,onChange:D=>d(D.target.value),placeholder:"Descreva as alteraes desta verso",rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:m||p})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Timeframes"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[W().length," selecionados"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:L.map(D=>s.jsxs("button",{type:"button",onClick:()=>B(D),className:`px-2 py-1 rounded-md text-xs flex items-center ${W().includes(D)?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,disabled:m||p,children:[s.jsx(Br,{className:"w-3 h-3 mr-1"}),D]},D))}),_?s.jsxs("div",{className:"flex gap-2 items-center mb-3",children:[s.jsx("input",{type:"text",value:P,onChange:D=>C(D.target.value),placeholder:"Timeframe personalizado",className:"flex-1 bg-gray-800 border border-gray-700 rounded-md px-3 py-1.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:m||p}),s.jsx("button",{type:"button",onClick:K,disabled:!P.trim()||m||p,className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1.5 rounded-md text-sm disabled:opacity-50",children:"Adicionar"}),s.jsx("button",{type:"button",onClick:()=>k(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-1.5 rounded-md text-sm",disabled:m||p,children:"Cancelar"})]}):s.jsxs("button",{type:"button",onClick:()=>k(!0),className:"text-purple-400 hover:text-purple-300 text-xs flex items-center mb-3",disabled:m||p,children:[s.jsx(ts,{className:"w-3 h-3 mr-1"}),"Adicionar Timeframe Personalizado"]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Ativos"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[te().length," selecionados"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:H.map(D=>s.jsxs("button",{type:"button",onClick:()=>F(D),className:`px-2 py-1 rounded-md text-xs flex items-center ${te().includes(D)?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,disabled:m||p,children:[s.jsx(Mn,{className:"w-3 h-3 mr-1"}),D]},D))}),S?s.jsxs("div",{className:"flex gap-2 items-center mb-3",children:[s.jsx("input",{type:"text",value:A,onChange:D=>O(D.target.value),placeholder:"Ativo personalizado",className:"flex-1 bg-gray-800 border border-gray-700 rounded-md px-3 py-1.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:m||p}),s.jsx("button",{type:"button",onClick:Y,disabled:!A.trim()||m||p,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-md text-sm disabled:opacity-50",children:"Adicionar"}),s.jsx("button",{type:"button",onClick:()=>E(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-1.5 rounded-md text-sm",disabled:m||p,children:"Cancelar"})]}):s.jsxs("button",{type:"button",onClick:()=>E(!0),className:"text-green-400 hover:text-green-300 text-xs flex items-center mb-3",disabled:m||p,children:[s.jsx(ts,{className:"w-3 h-3 mr-1"}),"Adicionar Ativo Personalizado"]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Tags"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[ie().length," selecionadas"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:$.map(D=>s.jsx("button",{type:"button",onClick:()=>M(D),className:`px-2 py-1 rounded-md text-xs ${v.includes(D)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,disabled:m||p,children:D},D))}),N?s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"text",value:b,onChange:D=>j(D.target.value),placeholder:"Tag personalizada",className:"flex-1 bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:m||p}),s.jsx("button",{type:"button",onClick:z,disabled:!b.trim()||m||p,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md text-sm",children:"Adicionar"}),s.jsx("button",{type:"button",onClick:()=>w(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm",disabled:m||p,children:"Cancelar"})]}):s.jsxs("button",{type:"button",onClick:()=>w(!0),className:"text-blue-400 hover:text-blue-300 text-sm flex items-center",disabled:m||p,children:[s.jsx(K6,{className:"w-4 h-4 mr-1"}),"Adicionar Tag Personalizada"]})]}),v.length>0&&s.jsx("div",{className:"p-3 bg-gray-800 rounded-md",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[W().length>0&&s.jsxs("div",{className:"flex items-center mr-1",children:[s.jsx(Br,{className:"w-3 h-3 text-purple-400 mr-1"}),W().map(D=>s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-purple-900 text-purple-300 mr-1",children:[D,s.jsx("button",{type:"button",onClick:()=>B(D),className:"ml-1 text-purple-300 hover:text-purple-100",disabled:m||p,children:""})]},`tf-${D}`))]}),te().length>0&&s.jsxs("div",{className:"flex items-center mr-1",children:[s.jsx(Mn,{className:"w-3 h-3 text-green-400 mr-1"}),te().map(D=>s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-green-900 text-green-300 mr-1",children:[D,s.jsx("button",{type:"button",onClick:()=>F(D),className:"ml-1 text-green-300 hover:text-green-100",disabled:m||p,children:""})]},`asset-${D}`))]}),ie().map(D=>s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-900 text-blue-300",children:[D,s.jsx("button",{type:"button",onClick:()=>M(D),className:"ml-1 text-blue-300 hover:text-blue-100",disabled:m||p,children:""})]},D))]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:m||p,children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:!(o!=null&&o.trim())||!(c!=null&&c.trim())||m||p,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:m?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Salvando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(id,{className:"w-4 h-4 mr-2"}),"Salvar Verso"]})})]})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-800",children:s.jsxs("div",{className:"text-xs text-gray-400",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Dica:"})," Use nomes descritivos para identificar facilmente cada verso."]}),s.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[s.jsxs("li",{children:["Para alteraes importantes: ",s.jsx("span",{className:"text-blue-400",children:"v1.0.0"})]}),s.jsxs("li",{children:["Para novas funcionalidades: ",s.jsx("span",{className:"text-blue-400",children:"v0.2.0"})]}),s.jsxs("li",{children:["Para correes: ",s.jsx("span",{className:"text-blue-400",children:"v0.1.1"})]})]})]})})]})}):null}function Oc({showLabel:e=!0,className:t=""}){const{profile:r,loadProfile:n}=Lt(),{t:a}=Ys(),i=(r==null?void 0:r.token_balance)||0;g.useEffect(()=>{const l=async()=>{try{const{data:{session:d}}=await de.auth.getSession();if(!(d!=null&&d.user)){console.warn("No active session found");return}const u=3;for(let h=0;h<u;h++)try{const{data:m,error:f}=await de.from("profiles").select("token_balance").eq("id",d.user.id).single();if(f)throw f;m&&(r==null?void 0:r.token_balance)!==m.token_balance&&n();break}catch(m){if(console.error(`Error refreshing token balance (attempt ${h+1}):`,m),h===u-1)throw m;await new Promise(f=>setTimeout(f,1e3*(h+1)))}}catch(d){console.error("Failed to refresh token balance after retries:",d)}},c=setInterval(l,3e4);return l(),()=>clearInterval(c)},[n,r==null?void 0:r.token_balance]);const o=()=>{const c=encodeURIComponent("Ol vim do DevHub Trader e quero mais informaes e ajuda para comprar tokens");window.open(`https://wa.me/5511975333355?text=${c}`,"_blank")};return s.jsxs("div",{className:`flex items-center ${t} cursor-pointer hover:text-blue-300`,onClick:o,title:i<1e3?"Voc precisa de pelo menos 1000 tokens para anlises":"Buy more tokens",children:[s.jsx(We,{className:"w-4 h-4 text-yellow-500 mr-1"}),e?s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:`font-medium ${i<1e3?"text-red-400":""}`,children:i.toLocaleString()})," ",a("tokens.balance")]}):s.jsx("span",{className:`font-medium ${i<1e3?"text-red-400":""}`,children:i.toLocaleString()})]})}const ix="RFC3986",ox={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},dL="RFC1738",uL=Array.isArray,os=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),vp=1024,hL=(e,t,r,n,a)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),r==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<i.length;l+=vp){const c=i.length>=vp?i.slice(l,l+vp):i,d=[];for(let u=0;u<c.length;++u){let h=c.charCodeAt(u);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||a===dL&&(h===40||h===41)){d[d.length]=c.charAt(u);continue}if(h<128){d[d.length]=os[h];continue}if(h<2048){d[d.length]=os[192|h>>6]+os[128|h&63];continue}if(h<55296||h>=57344){d[d.length]=os[224|h>>12]+os[128|h>>6&63]+os[128|h&63];continue}u+=1,h=65536+((h&1023)<<10|c.charCodeAt(u)&1023),d[d.length]=os[240|h>>18]+os[128|h>>12&63]+os[128|h>>6&63]+os[128|h&63]}o+=d.join("")}return o};function mL(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Ej(e,t){if(uL(e)){const r=[];for(let n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)}const fL=Object.prototype.hasOwnProperty,YS={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},ds=Array.isArray,pL=Array.prototype.push,JS=function(e,t){pL.apply(e,ds(t)?t:[t])},gL=Date.prototype.toISOString,Rt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:hL,encodeValuesOnly:!1,format:ix,formatter:ox[ix],indices:!1,serializeDate(e){return gL.call(e)},skipNulls:!1,strictNullHandling:!1};function xL(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const bp={};function XS(e,t,r,n,a,i,o,l,c,d,u,h,m,f,p,y,v,x){let b=e,j=x,N=0,w=!1;for(;(j=j.get(bp))!==void 0&&!w;){const P=j.get(e);if(N+=1,typeof P<"u"){if(P===N)throw new RangeError("Cyclic object value");w=!0}typeof j.get(bp)>"u"&&(N=0)}if(typeof d=="function"?b=d(t,b):b instanceof Date?b=m==null?void 0:m(b):r==="comma"&&ds(b)&&(b=Ej(b,function(P){return P instanceof Date?m==null?void 0:m(P):P})),b===null){if(i)return c&&!y?c(t,Rt.encoder,v,"key",f):t;b=""}if(xL(b)||mL(b)){if(c){const P=y?t:c(t,Rt.encoder,v,"key",f);return[(p==null?void 0:p(P))+"="+(p==null?void 0:p(c(b,Rt.encoder,v,"value",f)))]}return[(p==null?void 0:p(t))+"="+(p==null?void 0:p(String(b)))]}const _=[];if(typeof b>"u")return _;let k;if(r==="comma"&&ds(b))y&&c&&(b=Ej(b,c)),k=[{value:b.length>0?b.join(",")||null:void 0}];else if(ds(d))k=d;else{const P=Object.keys(b);k=u?P.sort(u):P}const S=l?String(t).replace(/\./g,"%2E"):String(t),E=n&&ds(b)&&b.length===1?S+"[]":S;if(a&&ds(b)&&b.length===0)return E+"[]";for(let P=0;P<k.length;++P){const C=k[P],A=typeof C=="object"&&typeof C.value<"u"?C.value:b[C];if(o&&A===null)continue;const O=h&&l?C.replace(/\./g,"%2E"):C,$=ds(b)?typeof r=="function"?r(E,O):E:E+(h?"."+O:"["+O+"]");x.set(e,N);const L=new WeakMap;L.set(bp,x),JS(_,XS(A,$,r,n,a,i,o,l,r==="comma"&&y&&ds(b)?null:c,d,u,h,m,f,p,y,v,L))}return _}function yL(e=Rt){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||Rt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=ix;if(typeof e.format<"u"){if(!fL.call(ox,e.format))throw new TypeError("Unknown format option provided.");r=e.format}const n=ox[r];let a=Rt.filter;(typeof e.filter=="function"||ds(e.filter))&&(a=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in YS?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=Rt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Rt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Rt.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Rt.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Rt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Rt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Rt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Rt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Rt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Rt.encodeValuesOnly,filter:a,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Rt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Rt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Rt.strictNullHandling}}function vL(e,t={}){let r=e;const n=yL(t);let a,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):ds(n.filter)&&(i=n.filter,a=i);const o=[];if(typeof r!="object"||r===null)return"";const l=YS[n.arrayFormat],c=l==="comma"&&n.commaRoundTrip;a||(a=Object.keys(r)),n.sort&&a.sort(n.sort);const d=new WeakMap;for(let m=0;m<a.length;++m){const f=a[m];n.skipNulls&&r[f]===null||JS(o,XS(r[f],f,l,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}const u=o.join(n.delimiter);let h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),u.length>0?h+u:""}const mo="4.96.0";let Aj=!1,Mc,QS,ZS,lx,eC,tC,rC,nC,sC;function bL(e,t={auto:!1}){if(Aj)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Mc)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Mc}'\``);Aj=t.auto,Mc=e.kind,QS=e.fetch,ZS=e.FormData,lx=e.File,eC=e.ReadableStream,tC=e.getMultipartRequestOptions,rC=e.getDefaultAgent,nC=e.fileFromPath,sC=e.isFsReadStream}class wL{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function jL({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let r,n,a,i;try{r=fetch,n=Request,a=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:r,Request:n,Response:a,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new wL(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}const aC=()=>{Mc||bL(jL(),{auto:!0})};aC();class ke extends Error{}class lr extends ke{constructor(t,r,n,a){super(`${lr.makeMessage(t,r,n)}`),this.status=t,this.headers=a,this.request_id=a==null?void 0:a["x-request-id"],this.error=r;const i=r;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,r,n){const a=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,r,n,a){if(!t||!a)return new yf({message:n,cause:dx(r)});const i=r==null?void 0:r.error;return t===400?new iC(t,i,n,a):t===401?new oC(t,i,n,a):t===403?new lC(t,i,n,a):t===404?new cC(t,i,n,a):t===409?new dC(t,i,n,a):t===422?new uC(t,i,n,a):t===429?new hC(t,i,n,a):t>=500?new mC(t,i,n,a):new lr(t,i,n,a)}}class Sn extends lr{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class yf extends lr{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class fv extends yf{constructor({message:t}={}){super({message:t??"Request timed out."})}}class iC extends lr{}class oC extends lr{}class lC extends lr{}class cC extends lr{}class dC extends lr{}class uC extends lr{}class hC extends lr{}class mC extends lr{}class fC extends ke{constructor(){super("Could not parse response content as the length limit was reached")}}class pC extends ke{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Cu=function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},ai=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Yr;class vf{constructor(){Yr.set(this,void 0),this.buffer=new Uint8Array,Cu(this,Yr,null,"f")}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let n=new Uint8Array(this.buffer.length+r.length);n.set(this.buffer),n.set(r,this.buffer.length),this.buffer=n;const a=[];let i;for(;(i=NL(this.buffer,ai(this,Yr,"f")))!=null;){if(i.carriage&&ai(this,Yr,"f")==null){Cu(this,Yr,i.index,"f");continue}if(ai(this,Yr,"f")!=null&&(i.index!==ai(this,Yr,"f")+1||i.carriage)){a.push(this.decodeText(this.buffer.slice(0,ai(this,Yr,"f")-1))),this.buffer=this.buffer.slice(ai(this,Yr,"f")),Cu(this,Yr,null,"f");continue}const o=ai(this,Yr,"f")!==null?i.preceding-1:i.preceding,l=this.decodeText(this.buffer.slice(0,o));a.push(l),this.buffer=this.buffer.slice(i.index),Cu(this,Yr,null,"f")}return a}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new ke(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new ke(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new ke("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Yr=new WeakMap;vf.NEWLINE_CHARS=new Set([`
`,"\r"]);vf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function NL(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function _L(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}function gC(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class ms{constructor(t,r){this.iterator=t,this.controller=r}static fromSSEResponse(t,r){let n=!1;async function*a(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let i=!1;try{for await(const o of kL(t,r))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null||o.event.startsWith("response.")||o.event.startsWith("transcript.")){let l;try{l=JSON.parse(o.data)}catch(c){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),c}if(l&&l.error)throw new lr(void 0,l.error,void 0,NC(t.headers));yield l}else{let l;try{l=JSON.parse(o.data)}catch(c){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),c}if(o.event=="error")throw new lr(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||r.abort()}}return new ms(a,r)}static fromReadableStream(t,r){let n=!1;async function*a(){const o=new vf,l=gC(t);for await(const c of l)for(const d of o.decode(c))yield d;for(const c of o.flush())yield c}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let o=!1;try{for await(const l of a())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||r.abort()}}return new ms(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),a=i=>({next:()=>{if(i.length===0){const o=n.next();t.push(o),r.push(o)}return i.shift()}});return[new ms(()=>a(t),this.controller),new ms(()=>a(r),this.controller)]}toReadableStream(){const t=this;let r;const n=new TextEncoder;return new eC({async start(){r=t[Symbol.asyncIterator]()},async pull(a){try{const{value:i,done:o}=await r.next();if(o)return a.close();const l=n.encode(JSON.stringify(i)+`
`);a.enqueue(l)}catch(i){a.error(i)}},async cancel(){var a;await((a=r.return)==null?void 0:a.call(r))}})}}async function*kL(e,t){if(!e.body)throw t.abort(),new ke("Attempted to iterate over a response with no body");const r=new CL,n=new vf,a=gC(e.body);for await(const i of SL(a))for(const o of n.decode(i)){const l=r.decode(o);l&&(yield l)}for(const i of n.flush()){const o=r.decode(i);o&&(yield o)}}async function*SL(e){let t=new Uint8Array;for await(const r of e){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r;let a=new Uint8Array(t.length+n.length);a.set(t),a.set(n,t.length),t=a;let i;for(;(i=_L(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class CL{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,a]=PL(t,":");return a.startsWith(" ")&&(a=a.substring(1)),r==="event"?this.event=a:r==="data"&&this.data.push(a),null}}function PL(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}const xC=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",yC=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&bf(e),bf=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",EL=e=>yC(e)||xC(e)||sC(e);async function vC(e,t,r){var a;if(e=await e,yC(e))return e;if(xC(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=bf(i)?[await i.arrayBuffer()]:[i];return new lx(o,t,r)}const n=await AL(e);if(t||(t=OL(e)??"unknown_file"),!(r!=null&&r.type)){const i=(a=n[0])==null?void 0:a.type;typeof i=="string"&&(r={...r,type:i})}return new lx(n,t,r)}async function AL(e){var r;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(bf(e))t.push(await e.arrayBuffer());else if(ML(e))for await(const n of e)t.push(n);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(r=e==null?void 0:e.constructor)==null?void 0:r.name}; props: ${TL(e)}`);return t}function TL(e){return`[${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}function OL(e){var t;return wp(e.name)||wp(e.filename)||((t=wp(e.path))==null?void 0:t.split(/[\\/]/).pop())}const wp=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},ML=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Tj=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",sl=async e=>{const t=await DL(e.body);return tC(t,e)},DL=async e=>{const t=new ZS;return await Promise.all(Object.entries(e||{}).map(([r,n])=>cx(t,r,n))),t},cx=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(EL(r)){const n=await vC(r);e.append(t,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>cx(e,t+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,a])=>cx(e,`${t}[${n}]`,a)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var Fo={},RL=function(e,t,r,n,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},$L=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Pu;aC();async function bC(e){var o;const{response:t}=e;if(e.options.stream)return Ta("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):ms.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const r=t.headers.get("content-type"),n=(o=r==null?void 0:r.split(";")[0])==null?void 0:o.trim();if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.endsWith("+json"))){const l=await t.json();return Ta("response",t.status,t.url,t.headers,l),wC(l,t)}const i=await t.text();return Ta("response",t.status,t.url,t.headers,i),i}function wC(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class wf extends Promise{constructor(t,r=bC){super(n=>{n(null)}),this.responsePromise=t,this.parseResponse=r}_thenUnwrap(t){return new wf(this.responsePromise,async r=>wC(t(await this.parseResponse(r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class IL{constructor({baseURL:t,maxRetries:r=2,timeout:n=6e5,httpAgent:a,fetch:i}){this.baseURL=t,this.maxRetries=jp("maxRetries",r),this.timeout=jp("timeout",n),this.httpAgent=a,this.fetch=i??QS}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...UL(),...this.authHeaders(t)}}validateHeaders(t,r){}defaultIdempotencyKey(){return`stainless-node-retry-${HL()}`}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(async a=>{const i=a&&bf(a==null?void 0:a.body)?new DataView(await a.body.arrayBuffer()):(a==null?void 0:a.body)instanceof DataView?a.body:(a==null?void 0:a.body)instanceof ArrayBuffer?new DataView(a.body):a&&ArrayBuffer.isView(a==null?void 0:a.body)?new DataView(a.body.buffer):a==null?void 0:a.body;return{method:t,path:r,...a,body:i}}))}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:r=0}={}){var y;const n={...t},{method:a,path:i,query:o,headers:l={}}=n,c=ArrayBuffer.isView(n.body)||n.__binaryRequest&&typeof n.body=="string"?n.body:Tj(n.body)?n.body.body:n.body?JSON.stringify(n.body,null,2):null,d=this.calculateContentLength(c),u=this.buildURL(i,o);"timeout"in n&&jp("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const h=n.httpAgent??this.httpAgent??rC(u),m=n.timeout+1e3;typeof((y=h==null?void 0:h.options)==null?void 0:y.timeout)=="number"&&m>(h.options.timeout??0)&&(h.options.timeout=m),this.idempotencyHeader&&a!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=t.idempotencyKey);const f=this.buildHeaders({options:n,headers:l,contentLength:d,retryCount:r});return{req:{method:a,...c&&{body:c},headers:f,...h&&{agent:h},signal:n.signal??null},url:u,timeout:n.timeout}}buildHeaders({options:t,headers:r,contentLength:n,retryCount:a}){const i={};n&&(i["content-length"]=n);const o=this.defaultHeaders(t);return Rj(i,o),Rj(i,r),Tj(t.body)&&Mc!=="node"&&delete i["content-type"],Au(o,"x-stainless-retry-count")===void 0&&Au(r,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(a)),Au(o,"x-stainless-timeout")===void 0&&Au(r,"x-stainless-timeout")===void 0&&t.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(i,r),i}async prepareOptions(t){}async prepareRequest(t,{url:r,options:n}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(r=>[...r])):{...t}:{}}makeStatusError(t,r,n,a){return lr.generate(t,r,n,a)}request(t,r=null){return new wf(this.makeRequest(t,r))}async makeRequest(t,r){var h,m;const n=await t,a=n.maxRetries??this.maxRetries;r==null&&(r=a),await this.prepareOptions(n);const{req:i,url:o,timeout:l}=this.buildRequest(n,{retryCount:a-r});if(await this.prepareRequest(i,{url:o,options:n}),Ta("request",o,n,i.headers),(h=n.signal)!=null&&h.aborted)throw new Sn;const c=new AbortController,d=await this.fetchWithTimeout(o,i,l,c).catch(dx);if(d instanceof Error){if((m=n.signal)!=null&&m.aborted)throw new Sn;if(r)return this.retryRequest(n,r);throw d.name==="AbortError"?new fv:new yf({cause:d})}const u=NC(d.headers);if(!d.ok){if(r&&this.shouldRetry(d)){const b=`retrying, ${r} attempts remaining`;return Ta(`response (error; ${b})`,d.status,o,u),this.retryRequest(n,r,u)}const f=await d.text().catch(b=>dx(b).message),p=qL(f),y=p?void 0:f;throw Ta(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,d.status,o,u,y),this.makeStatusError(d.status,p,y,u)}return{response:d,options:n,controller:c}}requestAPIList(t,r){const n=this.makeRequest(r,null);return new LL(this,n,t)}buildURL(t,r){const n=WL(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return _C(a)||(r={...a,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new ke(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,r,n,a){const{signal:i,...o}=r||{};i&&i.addEventListener("abort",()=>a.abort());const l=setTimeout(()=>a.abort(),n),c={signal:a.signal,...o};return c.method&&(c.method=c.method.toUpperCase()),this.fetch.call(void 0,t,c).finally(()=>{clearTimeout(l)})}shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n){let a;const i=n==null?void 0:n["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(a=l)}const o=n==null?void 0:n["retry-after"];if(o&&!a){const l=parseFloat(o);Number.isNaN(l)?a=Date.parse(o)-Date.now():a=l*1e3}if(!(a&&0<=a&&a<60*1e3)){const l=t.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(r,l)}return await Dd(a),this.makeRequest(t,r-1)}calculateDefaultRetryTimeoutMillis(t,r){const i=r-t,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${mo}`}}class jC{constructor(t,r,n,a){Pu.set(this,void 0),RL(this,Pu,t),this.options=a,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new ke("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const r={...this.options};if("params"in t&&typeof r.query=="object")r.query={...r.query,...t.params};else if("url"in t){const n=[...Object.entries(r.query||{}),...t.url.searchParams.entries()];for(const[a,i]of n)t.url.searchParams.set(a,i);r.query=void 0,r.path=t.url.toString()}return await $L(this,Pu,"f").requestAPIList(this.constructor,r)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Pu=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const r of t.getPaginatedItems())yield r}}class LL extends wf{constructor(t,r,n){super(r,async a=>new n(t,a.response,await bC(a),a.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}const NC=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,r){const n=r.toString();return t[n.toLowerCase()]||t[n]}}),FL={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},vt=e=>typeof e=="object"&&e!==null&&!_C(e)&&Object.keys(e).every(t=>kC(FL,t)),BL=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":Mj(Deno.build.os),"X-Stainless-Arch":Oj(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":Mj(process.platform),"X-Stainless-Arch":Oj(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=zL();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function zL(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const a=n[1]||0,i=n[2]||0,o=n[3]||0;return{browser:t,version:`${a}.${i}.${o}`}}}return null}const Oj=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Mj=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Dj;const UL=()=>Dj??(Dj=BL()),qL=e=>{try{return JSON.parse(e)}catch{return}},VL=/^[a-z][a-z0-9+.-]*:/i,WL=e=>VL.test(e),Dd=e=>new Promise(t=>setTimeout(t,e)),jp=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ke(`${e} must be an integer`);if(t<0)throw new ke(`${e} must be a positive integer`);return t},dx=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},Eu=e=>{var t,r,n,a;if(typeof process<"u")return((t=Fo==null?void 0:Fo[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(a=(n=(r=Deno.env)==null?void 0:r.get)==null?void 0:n.call(r,e))==null?void 0:a.trim()};function _C(e){if(!e)return!0;for(const t in e)return!1;return!0}function kC(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rj(e,t){for(const r in t){if(!kC(t,r))continue;const n=r.toLowerCase();if(!n)continue;const a=t[r];a===null?delete e[n]:a!==void 0&&(e[n]=a)}}const $j=new Set(["authorization","api-key"]);function Ta(e,...t){if(typeof process<"u"&&(Fo==null?void 0:Fo.DEBUG)==="true"){const r=t.map(n=>{if(!n)return n;if(n.headers){const i={...n,headers:{...n.headers}};for(const o in n.headers)$j.has(o.toLowerCase())&&(i.headers[o]="REDACTED");return i}let a=null;for(const i in n)$j.has(i.toLowerCase())&&(a??(a={...n}),a[i]="REDACTED");return a??n});console.log(`OpenAI:DEBUG:${e}`,...r)}}const HL=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),KL=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",GL=e=>typeof(e==null?void 0:e.get)=="function",Au=(e,t)=>{var n;const r=t.toLowerCase();if(GL(e)){const a=((n=t[0])==null?void 0:n.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,o,l)=>o+l.toUpperCase());for(const i of[t,r,t.toUpperCase(),a]){const o=e.get(i);if(o)return o}}for(const[a,i]of Object.entries(e))if(a.toLowerCase()===r)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i},YL=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),r=t.length,n=new Uint8Array(r);for(let a=0;a<r;a++)n[a]=t.charCodeAt(a);return Array.from(new Float32Array(n.buffer))}};function Np(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class jf extends jC{constructor(t,r,n,a){super(t,r,n,a),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class cr extends jC{constructor(t,r,n,a){super(t,r,n,a),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const r=Object.fromEntries(t.url.searchParams);return Object.keys(r).length?r:null}nextPageInfo(){var n;const t=this.getPaginatedItems();if(!t.length)return null;const r=(n=t[t.length-1])==null?void 0:n.id;return r?{params:{after:r}}:null}}class Pe{constructor(t){this._client=t}}let SC=class extends Pe{list(t,r={},n){return vt(r)?this.list(t,{},r):this._client.getAPIList(`/chat/completions/${t}/messages`,JL,{query:r,...n})}},Nf=class extends Pe{constructor(){super(...arguments),this.messages=new SC(this._client)}create(t,r){return this._client.post("/chat/completions",{body:t,...r,stream:t.stream??!1})}retrieve(t,r){return this._client.get(`/chat/completions/${t}`,r)}update(t,r,n){return this._client.post(`/chat/completions/${t}`,{body:r,...n})}list(t={},r){return vt(t)?this.list({},t):this._client.getAPIList("/chat/completions",_f,{query:t,...r})}del(t,r){return this._client.delete(`/chat/completions/${t}`,r)}};class _f extends cr{}class JL extends cr{}Nf.ChatCompletionsPage=_f;Nf.Messages=SC;let kf=class extends Pe{constructor(){super(...arguments),this.completions=new Nf(this._client)}};kf.Completions=Nf;kf.ChatCompletionsPage=_f;class CC extends Pe{create(t,r){return this._client.post("/audio/speech",{body:t,...r,headers:{Accept:"application/octet-stream",...r==null?void 0:r.headers},__binaryResponse:!0})}}class PC extends Pe{create(t,r){return this._client.post("/audio/transcriptions",sl({body:t,...r,stream:t.stream??!1,__metadata:{model:t.model}}))}}class EC extends Pe{create(t,r){return this._client.post("/audio/translations",sl({body:t,...r,__metadata:{model:t.model}}))}}class Rd extends Pe{constructor(){super(...arguments),this.transcriptions=new PC(this._client),this.translations=new EC(this._client),this.speech=new CC(this._client)}}Rd.Transcriptions=PC;Rd.Translations=EC;Rd.Speech=CC;class pv extends Pe{create(t,r){return this._client.post("/batches",{body:t,...r})}retrieve(t,r){return this._client.get(`/batches/${t}`,r)}list(t={},r){return vt(t)?this.list({},t):this._client.getAPIList("/batches",gv,{query:t,...r})}cancel(t,r){return this._client.post(`/batches/${t}/cancel`,r)}}class gv extends cr{}pv.BatchesPage=gv;var Un=function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},ct=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ux,mh,fh,cc,dc,ph,uc,Ss,hc,Zh,em,fo,AC;class xv{constructor(){ux.add(this),this.controller=new AbortController,mh.set(this,void 0),fh.set(this,()=>{}),cc.set(this,()=>{}),dc.set(this,void 0),ph.set(this,()=>{}),uc.set(this,()=>{}),Ss.set(this,{}),hc.set(this,!1),Zh.set(this,!1),em.set(this,!1),fo.set(this,!1),Un(this,mh,new Promise((t,r)=>{Un(this,fh,t,"f"),Un(this,cc,r,"f")}),"f"),Un(this,dc,new Promise((t,r)=>{Un(this,ph,t,"f"),Un(this,uc,r,"f")}),"f"),ct(this,mh,"f").catch(()=>{}),ct(this,dc,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},ct(this,ux,"m",AC).bind(this))},0)}_connected(){this.ended||(ct(this,fh,"f").call(this),this._emit("connect"))}get ended(){return ct(this,hc,"f")}get errored(){return ct(this,Zh,"f")}get aborted(){return ct(this,em,"f")}abort(){this.controller.abort()}on(t,r){return(ct(this,Ss,"f")[t]||(ct(this,Ss,"f")[t]=[])).push({listener:r}),this}off(t,r){const n=ct(this,Ss,"f")[t];if(!n)return this;const a=n.findIndex(i=>i.listener===r);return a>=0&&n.splice(a,1),this}once(t,r){return(ct(this,Ss,"f")[t]||(ct(this,Ss,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{Un(this,fo,!0,"f"),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){Un(this,fo,!0,"f"),await ct(this,dc,"f")}_emit(t,...r){if(ct(this,hc,"f"))return;t==="end"&&(Un(this,hc,!0,"f"),ct(this,ph,"f").call(this));const n=ct(this,Ss,"f")[t];if(n&&(ct(this,Ss,"f")[t]=n.filter(a=>!a.once),n.forEach(({listener:a})=>a(...r))),t==="abort"){const a=r[0];!ct(this,fo,"f")&&!(n!=null&&n.length)&&Promise.reject(a),ct(this,cc,"f").call(this,a),ct(this,uc,"f").call(this,a),this._emit("end");return}if(t==="error"){const a=r[0];!ct(this,fo,"f")&&!(n!=null&&n.length)&&Promise.reject(a),ct(this,cc,"f").call(this,a),ct(this,uc,"f").call(this,a),this._emit("end")}}_emitFinal(){}}mh=new WeakMap,fh=new WeakMap,cc=new WeakMap,dc=new WeakMap,ph=new WeakMap,uc=new WeakMap,Ss=new WeakMap,hc=new WeakMap,Zh=new WeakMap,em=new WeakMap,fo=new WeakMap,ux=new WeakSet,AC=function(t){if(Un(this,Zh,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Sn),t instanceof Sn)return Un(this,em,!0,"f"),this._emit("abort",t);if(t instanceof ke)return this._emit("error",t);if(t instanceof Error){const r=new ke(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new ke(String(t)))};var je=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Gr=function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},rr,hx,us,gh,Vn,xi,Po,mi,tm,Xr,xh,yh,Dc,mc,fc,Ij,Lj,Fj,Bj,zj,Uj,qj;class Xn extends xv{constructor(){super(...arguments),rr.add(this),hx.set(this,[]),us.set(this,{}),gh.set(this,{}),Vn.set(this,void 0),xi.set(this,void 0),Po.set(this,void 0),mi.set(this,void 0),tm.set(this,void 0),Xr.set(this,void 0),xh.set(this,void 0),yh.set(this,void 0),Dc.set(this,void 0)}[(hx=new WeakMap,us=new WeakMap,gh=new WeakMap,Vn=new WeakMap,xi=new WeakMap,Po=new WeakMap,mi=new WeakMap,tm=new WeakMap,Xr=new WeakMap,xh=new WeakMap,yh=new WeakMap,Dc=new WeakMap,rr=new WeakSet,Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",a=>{const i=r.shift();i?i.resolve(a):t.push(a)}),this.on("end",()=>{n=!0;for(const a of r)a.resolve(void 0);r.length=0}),this.on("abort",a=>{n=!0;for(const i of r)i.reject(a);r.length=0}),this.on("error",a=>{n=!0;for(const i of r)i.reject(a);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,o)=>r.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const r=new Xn;return r._run(()=>r._fromReadableStream(t)),r}async _fromReadableStream(t,r){var i;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const a=ms.fromReadableStream(t,this.controller);for await(const o of a)je(this,rr,"m",mc).call(this,o);if((i=a.controller.signal)!=null&&i.aborted)throw new Sn;return this._addRun(je(this,rr,"m",fc).call(this))}toReadableStream(){return new ms(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,n,a,i){const o=new Xn;return o._run(()=>o._runToolAssistantStream(t,r,n,a,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,r,n,a,i){var d;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...a,stream:!0},c=await t.submitToolOutputs(r,n,l,{...i,signal:this.controller.signal});this._connected();for await(const u of c)je(this,rr,"m",mc).call(this,u);if((d=c.controller.signal)!=null&&d.aborted)throw new Sn;return this._addRun(je(this,rr,"m",fc).call(this))}static createThreadAssistantStream(t,r,n){const a=new Xn;return a._run(()=>a._threadAssistantStream(t,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),a}static createAssistantStream(t,r,n,a){const i=new Xn;return i._run(()=>i._runAssistantStream(t,r,n,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return je(this,xh,"f")}currentRun(){return je(this,yh,"f")}currentMessageSnapshot(){return je(this,Vn,"f")}currentRunStepSnapshot(){return je(this,Dc,"f")}async finalRunSteps(){return await this.done(),Object.values(je(this,us,"f"))}async finalMessages(){return await this.done(),Object.values(je(this,gh,"f"))}async finalRun(){if(await this.done(),!je(this,xi,"f"))throw Error("Final run was not received.");return je(this,xi,"f")}async _createThreadAssistantStream(t,r,n){var l;const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},o=await t.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const c of o)je(this,rr,"m",mc).call(this,c);if((l=o.controller.signal)!=null&&l.aborted)throw new Sn;return this._addRun(je(this,rr,"m",fc).call(this))}async _createAssistantStream(t,r,n,a){var c;const i=a==null?void 0:a.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},l=await t.create(r,o,{...a,signal:this.controller.signal});this._connected();for await(const d of l)je(this,rr,"m",mc).call(this,d);if((c=l.controller.signal)!=null&&c.aborted)throw new Sn;return this._addRun(je(this,rr,"m",fc).call(this))}static accumulateDelta(t,r){for(const[n,a]of Object.entries(r)){if(!t.hasOwnProperty(n)){t[n]=a;continue}let i=t[n];if(i==null){t[n]=a;continue}if(n==="index"||n==="type"){t[n]=a;continue}if(typeof i=="string"&&typeof a=="string")i+=a;else if(typeof i=="number"&&typeof a=="number")i+=a;else if(Np(i)&&Np(a))i=this.accumulateDelta(i,a);else if(Array.isArray(i)&&Array.isArray(a)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...a);continue}for(const o of a){if(!Np(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const c=i[l];c==null?i.push(o):i[l]=this.accumulateDelta(c,o)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${a}, accValue: ${i}`);t[n]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,r,n){return await this._createThreadAssistantStream(r,t,n)}async _runAssistantStream(t,r,n,a){return await this._createAssistantStream(r,t,n,a)}async _runToolAssistantStream(t,r,n,a,i){return await this._createToolAssistantStream(n,t,r,a,i)}}mc=function(t){if(!this.ended)switch(Gr(this,xh,t,"f"),je(this,rr,"m",Fj).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":je(this,rr,"m",qj).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":je(this,rr,"m",Lj).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":je(this,rr,"m",Ij).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},fc=function(){if(this.ended)throw new ke("stream has ended, this shouldn't happen");if(!je(this,xi,"f"))throw Error("Final run has not been received");return je(this,xi,"f")},Ij=function(t){const[r,n]=je(this,rr,"m",zj).call(this,t,je(this,Vn,"f"));Gr(this,Vn,r,"f"),je(this,gh,"f")[r.id]=r;for(const a of n){const i=r.content[a.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(const a of t.data.delta.content){if(a.type=="text"&&a.text){let i=a.text,o=r.content[a.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(a.index!=je(this,Po,"f")){if(je(this,mi,"f"))switch(je(this,mi,"f").type){case"text":this._emit("textDone",je(this,mi,"f").text,je(this,Vn,"f"));break;case"image_file":this._emit("imageFileDone",je(this,mi,"f").image_file,je(this,Vn,"f"));break}Gr(this,Po,a.index,"f")}Gr(this,mi,r.content[a.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(je(this,Po,"f")!==void 0){const a=t.data.content[je(this,Po,"f")];if(a)switch(a.type){case"image_file":this._emit("imageFileDone",a.image_file,je(this,Vn,"f"));break;case"text":this._emit("textDone",a.text,je(this,Vn,"f"));break}}je(this,Vn,"f")&&this._emit("messageDone",t.data),Gr(this,Vn,void 0,"f")}},Lj=function(t){const r=je(this,rr,"m",Bj).call(this,t);switch(Gr(this,Dc,r,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const n=t.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const i of n.step_details.tool_calls)i.index==je(this,tm,"f")?this._emit("toolCallDelta",i,r.step_details.tool_calls[i.index]):(je(this,Xr,"f")&&this._emit("toolCallDone",je(this,Xr,"f")),Gr(this,tm,i.index,"f"),Gr(this,Xr,r.step_details.tool_calls[i.index],"f"),je(this,Xr,"f")&&this._emit("toolCallCreated",je(this,Xr,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Gr(this,Dc,void 0,"f"),t.data.step_details.type=="tool_calls"&&je(this,Xr,"f")&&(this._emit("toolCallDone",je(this,Xr,"f")),Gr(this,Xr,void 0,"f")),this._emit("runStepDone",t.data,r);break}},Fj=function(t){je(this,hx,"f").push(t),this._emit("event",t)},Bj=function(t){switch(t.event){case"thread.run.step.created":return je(this,us,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=je(this,us,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=t.data;if(n.delta){const a=Xn.accumulateDelta(r,n.delta);je(this,us,"f")[t.data.id]=a}return je(this,us,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":je(this,us,"f")[t.data.id]=t.data;break}if(je(this,us,"f")[t.data.id])return je(this,us,"f")[t.data.id];throw new Error("No snapshot available")},zj=function(t,r){let n=[];switch(t.event){case"thread.message.created":return[t.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let a=t.data;if(a.delta.content)for(const i of a.delta.content)if(i.index in r.content){let o=r.content[i.index];r.content[i.index]=je(this,rr,"m",Uj).call(this,i,o)}else r.content[i.index]=i,n.push(i);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Uj=function(t,r){return Xn.accumulateDelta(r,t)},qj=function(t){switch(Gr(this,yh,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Gr(this,xi,t.data,"f"),je(this,Xr,"f")&&(this._emit("toolCallDone",je(this,Xr,"f")),Gr(this,Xr,void 0,"f"));break}};class yv extends Pe{create(t,r){return this._client.post("/assistants",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/assistants/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,n){return this._client.post(`/assistants/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(t={},r){return vt(t)?this.list({},t):this._client.getAPIList("/assistants",vv,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,r){return this._client.delete(`/assistants/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class vv extends cr{}yv.AssistantsPage=vv;function Vj(e){return typeof e.parse=="function"}const Bo=e=>(e==null?void 0:e.role)==="assistant",TC=e=>(e==null?void 0:e.role)==="function",OC=e=>(e==null?void 0:e.role)==="tool";function bv(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function $d(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function XL(e,t){return!t||!MC(t)?{...e,choices:e.choices.map(r=>({...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:wv(e,t)}function wv(e,t){const r=e.choices.map(n=>{var a;if(n.finish_reason==="length")throw new fC;if(n.finish_reason==="content_filter")throw new pC;return{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:((a=n.message.tool_calls)==null?void 0:a.map(i=>ZL(t,i)))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?QL(t,n.message.content):null}}});return{...e,choices:r}}function QL(e,t){var r,n;return((r=e.response_format)==null?void 0:r.type)!=="json_schema"?null:((n=e.response_format)==null?void 0:n.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function ZL(e,t){var n;const r=(n=e.tools)==null?void 0:n.find(a=>{var i;return((i=a.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:$d(r)?r.$parseRaw(t.function.arguments):r!=null&&r.function.strict?JSON.parse(t.function.arguments):null}}}function e8(e,t){var n;if(!e)return!1;const r=(n=e.tools)==null?void 0:n.find(a=>{var i;return((i=a.function)==null?void 0:i.name)===t.function.name});return $d(r)||(r==null?void 0:r.function.strict)||!1}function MC(e){var t;return bv(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(r=>$d(r)||r.type==="function"&&r.function.strict===!0))??!1}function t8(e){for(const t of e??[]){if(t.type!=="function")throw new ke(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new ke(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Rr=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},fr,mx,rm,fx,px,gx,DC,xx;const Wj=10;class RC extends xv{constructor(){super(...arguments),fr.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var n;this._chatCompletions.push(t),this._emit("chatCompletion",t);const r=(n=t.choices[0])==null?void 0:n.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),(TC(t)||OC(t))&&t.content)this._emit("functionCallResult",t.content);else if(Bo(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Bo(t)&&t.tool_calls)for(const n of t.tool_calls)n.type==="function"&&this._emit("functionCall",n.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new ke("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),Rr(this,fr,"m",mx).call(this)}async finalMessage(){return await this.done(),Rr(this,fr,"m",rm).call(this)}async finalFunctionCall(){return await this.done(),Rr(this,fr,"m",fx).call(this)}async finalFunctionCallResult(){return await this.done(),Rr(this,fr,"m",px).call(this)}async totalUsage(){return await this.done(),Rr(this,fr,"m",gx).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const r=Rr(this,fr,"m",rm).call(this);r&&this._emit("finalMessage",r);const n=Rr(this,fr,"m",mx).call(this);n&&this._emit("finalContent",n);const a=Rr(this,fr,"m",fx).call(this);a&&this._emit("finalFunctionCall",a);const i=Rr(this,fr,"m",px).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Rr(this,fr,"m",gx).call(this))}async _createChatCompletion(t,r,n){const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),Rr(this,fr,"m",DC).call(this,r);const i=await t.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(wv(i,r))}async _runChatCompletion(t,r,n){for(const a of r.messages)this._addMessage(a,!1);return await this._createChatCompletion(t,r,n)}async _runFunctions(t,r,n){var m;const a="function",{function_call:i="auto",stream:o,...l}=r,c=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:d=Wj}=n||{},u={};for(const f of r.functions)u[f.name||f.function.name]=f;const h=r.functions.map(f=>({name:f.name||f.function.name,parameters:f.parameters,description:f.description}));for(const f of r.messages)this._addMessage(f,!1);for(let f=0;f<d;++f){const y=(m=(await this._createChatCompletion(t,{...l,function_call:i,functions:h,messages:[...this.messages]},n)).choices[0])==null?void 0:m.message;if(!y)throw new ke("missing message in ChatCompletion response");if(!y.function_call)return;const{name:v,arguments:x}=y.function_call,b=u[v];if(b){if(c&&c!==v){const _=`Invalid function_call: ${JSON.stringify(v)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:a,name:v,content:_});continue}}else{const _=`Invalid function_call: ${JSON.stringify(v)}. Available options are: ${h.map(k=>JSON.stringify(k.name)).join(", ")}. Please try again`;this._addMessage({role:a,name:v,content:_});continue}let j;try{j=Vj(b)?await b.parse(x):x}catch(_){this._addMessage({role:a,name:v,content:_ instanceof Error?_.message:String(_)});continue}const N=await b.function(j,this),w=Rr(this,fr,"m",xx).call(this,N);if(this._addMessage({role:a,name:v,content:w}),c)return}}async _runTools(t,r,n){var f,p,y;const a="tool",{tool_choice:i="auto",stream:o,...l}=r,c=typeof i!="string"&&((f=i==null?void 0:i.function)==null?void 0:f.name),{maxChatCompletions:d=Wj}=n||{},u=r.tools.map(v=>{if($d(v)){if(!v.$callback)throw new ke("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:v.$callback,name:v.function.name,description:v.function.description||"",parameters:v.function.parameters,parse:v.$parseRaw,strict:!0}}}return v}),h={};for(const v of u)v.type==="function"&&(h[v.function.name||v.function.function.name]=v.function);const m="tools"in r?u.map(v=>v.type==="function"?{type:"function",function:{name:v.function.name||v.function.function.name,parameters:v.function.parameters,description:v.function.description,strict:v.function.strict}}:v):void 0;for(const v of r.messages)this._addMessage(v,!1);for(let v=0;v<d;++v){const b=(p=(await this._createChatCompletion(t,{...l,tool_choice:i,tools:m,messages:[...this.messages]},n)).choices[0])==null?void 0:p.message;if(!b)throw new ke("missing message in ChatCompletion response");if(!((y=b.tool_calls)!=null&&y.length))return;for(const j of b.tool_calls){if(j.type!=="function")continue;const N=j.id,{name:w,arguments:_}=j.function,k=h[w];if(k){if(c&&c!==w){const C=`Invalid tool_call: ${JSON.stringify(w)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:a,tool_call_id:N,content:C});continue}}else{const C=`Invalid tool_call: ${JSON.stringify(w)}. Available options are: ${Object.keys(h).map(A=>JSON.stringify(A)).join(", ")}. Please try again`;this._addMessage({role:a,tool_call_id:N,content:C});continue}let S;try{S=Vj(k)?await k.parse(_):_}catch(C){const A=C instanceof Error?C.message:String(C);this._addMessage({role:a,tool_call_id:N,content:A});continue}const E=await k.function(S,this),P=Rr(this,fr,"m",xx).call(this,E);if(this._addMessage({role:a,tool_call_id:N,content:P}),c)return}}}}fr=new WeakSet,mx=function(){return Rr(this,fr,"m",rm).call(this).content??null},rm=function(){let t=this.messages.length;for(;t-- >0;){const r=this.messages[t];if(Bo(r)){const{function_call:n,...a}=r,i={...a,content:r.content??null,refusal:r.refusal??null};return n&&(i.function_call=n),i}}throw new ke("stream ended without producing a ChatCompletionMessage with role=assistant")},fx=function(){var t,r;for(let n=this.messages.length-1;n>=0;n--){const a=this.messages[n];if(Bo(a)&&(a!=null&&a.function_call))return a.function_call;if(Bo(a)&&((t=a==null?void 0:a.tool_calls)!=null&&t.length))return(r=a.tool_calls.at(-1))==null?void 0:r.function}},px=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(TC(r)&&r.content!=null||OC(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>{var a;return n.role==="assistant"&&((a=n.tool_calls)==null?void 0:a.some(i=>i.type==="function"&&i.id===r.tool_call_id))}))return r.content}},gx=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},DC=function(t){if(t.n!=null&&t.n>1)throw new ke("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},xx=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class cd extends RC{static runFunctions(t,r,n){const a=new cd,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(t,r,i)),a}static runTools(t,r,n){const a=new cd,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(t,r,i)),a}_addMessage(t,r=!0){super._addMessage(t,r),Bo(t)&&t.content&&this._emit("content",t.content)}}const $C=1,IC=2,LC=4,FC=8,BC=16,zC=32,UC=64,qC=128,VC=256,WC=qC|VC,HC=BC|zC|WC|UC,KC=$C|IC|HC,GC=LC|FC,r8=KC|GC,qt={STR:$C,NUM:IC,ARR:LC,OBJ:FC,NULL:BC,BOOL:zC,NAN:UC,INFINITY:qC,MINUS_INFINITY:VC,INF:WC,SPECIAL:HC,ATOM:KC,COLLECTION:GC,ALL:r8};class n8 extends Error{}class s8 extends Error{}function a8(e,t=qt.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return i8(e.trim(),t)}const i8=(e,t)=>{const r=e.length;let n=0;const a=m=>{throw new n8(`${m} at position ${n}`)},i=m=>{throw new s8(`${m} at position ${n}`)},o=()=>(h(),n>=r&&a("Unexpected end of input"),e[n]==='"'?l():e[n]==="{"?c():e[n]==="["?d():e.substring(n,n+4)==="null"||qt.NULL&t&&r-n<4&&"null".startsWith(e.substring(n))?(n+=4,null):e.substring(n,n+4)==="true"||qt.BOOL&t&&r-n<4&&"true".startsWith(e.substring(n))?(n+=4,!0):e.substring(n,n+5)==="false"||qt.BOOL&t&&r-n<5&&"false".startsWith(e.substring(n))?(n+=5,!1):e.substring(n,n+8)==="Infinity"||qt.INFINITY&t&&r-n<8&&"Infinity".startsWith(e.substring(n))?(n+=8,1/0):e.substring(n,n+9)==="-Infinity"||qt.MINUS_INFINITY&t&&1<r-n&&r-n<9&&"-Infinity".startsWith(e.substring(n))?(n+=9,-1/0):e.substring(n,n+3)==="NaN"||qt.NAN&t&&r-n<3&&"NaN".startsWith(e.substring(n))?(n+=3,NaN):u()),l=()=>{const m=n;let f=!1;for(n++;n<r&&(e[n]!=='"'||f&&e[n-1]==="\\");)f=e[n]==="\\"?!f:!1,n++;if(e.charAt(n)=='"')try{return JSON.parse(e.substring(m,++n-Number(f)))}catch(p){i(String(p))}else if(qt.STR&t)try{return JSON.parse(e.substring(m,n-Number(f))+'"')}catch{return JSON.parse(e.substring(m,e.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},c=()=>{n++,h();const m={};try{for(;e[n]!=="}";){if(h(),n>=r&&qt.OBJ&t)return m;const f=l();h(),n++;try{const p=o();Object.defineProperty(m,f,{value:p,writable:!0,enumerable:!0,configurable:!0})}catch(p){if(qt.OBJ&t)return m;throw p}h(),e[n]===","&&n++}}catch{if(qt.OBJ&t)return m;a("Expected '}' at end of object")}return n++,m},d=()=>{n++;const m=[];try{for(;e[n]!=="]";)m.push(o()),h(),e[n]===","&&n++}catch{if(qt.ARR&t)return m;a("Expected ']' at end of array")}return n++,m},u=()=>{if(n===0){e==="-"&&qt.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e)}catch(f){if(qt.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(f))}}const m=n;for(e[n]==="-"&&n++;e[n]&&!",]}".includes(e[n]);)n++;n==r&&!(qt.NUM&t)&&a("Unterminated number literal");try{return JSON.parse(e.substring(m,n))}catch{e.substring(m,n)==="-"&&qt.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e.substring(m,e.lastIndexOf("e")))}catch(p){i(String(p))}}},h=()=>{for(;n<r&&` 
\r	`.includes(e[n]);)n++};return o()},Hj=e=>a8(e,qt.ALL^qt.NUM);var no=function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},Ve=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Ot,ks,so,na,_p,Tu,kp,Sp,Cp,Ou,Pp,Kj;class dd extends RC{constructor(t){super(),Ot.add(this),ks.set(this,void 0),so.set(this,void 0),na.set(this,void 0),no(this,ks,t,"f"),no(this,so,[],"f")}get currentChatCompletionSnapshot(){return Ve(this,na,"f")}static fromReadableStream(t){const r=new dd(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,n){const a=new dd(r);return a._run(()=>a._runChatCompletion(t,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createChatCompletion(t,r,n){var o;super._createChatCompletion;const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),Ve(this,Ot,"m",_p).call(this);const i=await t.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const l of i)Ve(this,Ot,"m",kp).call(this,l);if((o=i.controller.signal)!=null&&o.aborted)throw new Sn;return this._addChatCompletion(Ve(this,Ot,"m",Ou).call(this))}async _fromReadableStream(t,r){var o;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),Ve(this,Ot,"m",_p).call(this),this._connected();const a=ms.fromReadableStream(t,this.controller);let i;for await(const l of a)i&&i!==l.id&&this._addChatCompletion(Ve(this,Ot,"m",Ou).call(this)),Ve(this,Ot,"m",kp).call(this,l),i=l.id;if((o=a.controller.signal)!=null&&o.aborted)throw new Sn;return this._addChatCompletion(Ve(this,Ot,"m",Ou).call(this))}[(ks=new WeakMap,so=new WeakMap,na=new WeakMap,Ot=new WeakSet,_p=function(){this.ended||no(this,na,void 0,"f")},Tu=function(r){let n=Ve(this,so,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Ve(this,so,"f")[r.index]=n,n)},kp=function(r){var a,i,o,l,c,d,u,h,m,f,p,y,v,x,b;if(this.ended)return;const n=Ve(this,Ot,"m",Kj).call(this,r);this._emit("chunk",r,n);for(const j of r.choices){const N=n.choices[j.index];j.delta.content!=null&&((a=N.message)==null?void 0:a.role)==="assistant"&&((i=N.message)!=null&&i.content)&&(this._emit("content",j.delta.content,N.message.content),this._emit("content.delta",{delta:j.delta.content,snapshot:N.message.content,parsed:N.message.parsed})),j.delta.refusal!=null&&((o=N.message)==null?void 0:o.role)==="assistant"&&((l=N.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:j.delta.refusal,snapshot:N.message.refusal}),((c=j.logprobs)==null?void 0:c.content)!=null&&((d=N.message)==null?void 0:d.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=j.logprobs)==null?void 0:u.content,snapshot:((h=N.logprobs)==null?void 0:h.content)??[]}),((m=j.logprobs)==null?void 0:m.refusal)!=null&&((f=N.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(p=j.logprobs)==null?void 0:p.refusal,snapshot:((y=N.logprobs)==null?void 0:y.refusal)??[]});const w=Ve(this,Ot,"m",Tu).call(this,N);N.finish_reason&&(Ve(this,Ot,"m",Cp).call(this,N),w.current_tool_call_index!=null&&Ve(this,Ot,"m",Sp).call(this,N,w.current_tool_call_index));for(const _ of j.delta.tool_calls??[])w.current_tool_call_index!==_.index&&(Ve(this,Ot,"m",Cp).call(this,N),w.current_tool_call_index!=null&&Ve(this,Ot,"m",Sp).call(this,N,w.current_tool_call_index)),w.current_tool_call_index=_.index;for(const _ of j.delta.tool_calls??[]){const k=(v=N.message.tool_calls)==null?void 0:v[_.index];k!=null&&k.type&&((k==null?void 0:k.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(x=k.function)==null?void 0:x.name,index:_.index,arguments:k.function.arguments,parsed_arguments:k.function.parsed_arguments,arguments_delta:((b=_.function)==null?void 0:b.arguments)??""}):(k==null||k.type,void 0))}}},Sp=function(r,n){var o,l,c;if(Ve(this,Ot,"m",Tu).call(this,r).done_tool_calls.has(n))return;const i=(o=r.message.tool_calls)==null?void 0:o[n];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const d=(c=(l=Ve(this,ks,"f"))==null?void 0:l.tools)==null?void 0:c.find(u=>u.type==="function"&&u.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:n,arguments:i.function.arguments,parsed_arguments:$d(d)?d.$parseRaw(i.function.arguments):d!=null&&d.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Cp=function(r){var a,i;const n=Ve(this,Ot,"m",Tu).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const o=Ve(this,Ot,"m",Pp).call(this);this._emit("content.done",{content:r.message.content,parsed:o?o.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(a=r.logprobs)!=null&&a.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(i=r.logprobs)!=null&&i.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},Ou=function(){if(this.ended)throw new ke("stream has ended, this shouldn't happen");const r=Ve(this,na,"f");if(!r)throw new ke("request ended without sending any chunks");return no(this,na,void 0,"f"),no(this,so,[],"f"),o8(r,Ve(this,ks,"f"))},Pp=function(){var n;const r=(n=Ve(this,ks,"f"))==null?void 0:n.response_format;return bv(r)?r:null},Kj=function(r){var n,a,i,o;let l=Ve(this,na,"f");const{choices:c,...d}=r;l?Object.assign(l,d):l=no(this,na,{...d,choices:[]},"f");for(const{delta:u,finish_reason:h,index:m,logprobs:f=null,...p}of r.choices){let y=l.choices[m];if(y||(y=l.choices[m]={finish_reason:h,index:m,message:{},logprobs:f,...p}),f)if(!y.logprobs)y.logprobs=Object.assign({},f);else{const{content:_,refusal:k,...S}=f;Object.assign(y.logprobs,S),_&&((n=y.logprobs).content??(n.content=[]),y.logprobs.content.push(..._)),k&&((a=y.logprobs).refusal??(a.refusal=[]),y.logprobs.refusal.push(...k))}if(h&&(y.finish_reason=h,Ve(this,ks,"f")&&MC(Ve(this,ks,"f")))){if(h==="length")throw new fC;if(h==="content_filter")throw new pC}if(Object.assign(y,p),!u)continue;const{content:v,refusal:x,function_call:b,role:j,tool_calls:N,...w}=u;if(Object.assign(y.message,w),x&&(y.message.refusal=(y.message.refusal||"")+x),j&&(y.message.role=j),b&&(y.message.function_call?(b.name&&(y.message.function_call.name=b.name),b.arguments&&((i=y.message.function_call).arguments??(i.arguments=""),y.message.function_call.arguments+=b.arguments)):y.message.function_call=b),v&&(y.message.content=(y.message.content||"")+v,!y.message.refusal&&Ve(this,Ot,"m",Pp).call(this)&&(y.message.parsed=Hj(y.message.content))),N){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:_,id:k,type:S,function:E,...P}of N){const C=(o=y.message.tool_calls)[_]??(o[_]={});Object.assign(C,P),k&&(C.id=k),S&&(C.type=S),E&&(C.function??(C.function={name:E.name??"",arguments:""})),E!=null&&E.name&&(C.function.name=E.name),E!=null&&E.arguments&&(C.function.arguments+=E.arguments,e8(Ve(this,ks,"f"),C)&&(C.function.parsed_arguments=Hj(C.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("chunk",a=>{const i=r.shift();i?i.resolve(a):t.push(a)}),this.on("end",()=>{n=!0;for(const a of r)a.resolve(void 0);r.length=0}),this.on("abort",a=>{n=!0;for(const i of r)i.reject(a);r.length=0}),this.on("error",a=>{n=!0;for(const i of r)i.reject(a);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,o)=>r.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ms(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function o8(e,t){const{id:r,choices:n,created:a,model:i,system_fingerprint:o,...l}=e,c={...l,id:r,choices:n.map(({message:d,finish_reason:u,index:h,logprobs:m,...f})=>{if(!u)throw new ke(`missing finish_reason for choice ${h}`);const{content:p=null,function_call:y,tool_calls:v,...x}=d,b=d.role;if(!b)throw new ke(`missing role for choice ${h}`);if(y){const{arguments:j,name:N}=y;if(j==null)throw new ke(`missing function_call.arguments for choice ${h}`);if(!N)throw new ke(`missing function_call.name for choice ${h}`);return{...f,message:{content:p,function_call:{arguments:j,name:N},role:b,refusal:d.refusal??null},finish_reason:u,index:h,logprobs:m}}return v?{...f,index:h,finish_reason:u,logprobs:m,message:{...x,role:b,content:p,refusal:d.refusal??null,tool_calls:v.map((j,N)=>{const{function:w,type:_,id:k,...S}=j,{arguments:E,name:P,...C}=w||{};if(k==null)throw new ke(`missing choices[${h}].tool_calls[${N}].id
${Mu(e)}`);if(_==null)throw new ke(`missing choices[${h}].tool_calls[${N}].type
${Mu(e)}`);if(P==null)throw new ke(`missing choices[${h}].tool_calls[${N}].function.name
${Mu(e)}`);if(E==null)throw new ke(`missing choices[${h}].tool_calls[${N}].function.arguments
${Mu(e)}`);return{...S,id:k,type:_,function:{...C,name:P,arguments:E}}})}}:{...f,message:{...x,content:p,role:b,refusal:d.refusal??null},finish_reason:u,index:h,logprobs:m}}),created:a,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return XL(c,t)}function Mu(e){return JSON.stringify(e)}class zo extends dd{static fromReadableStream(t){const r=new zo(null);return r._run(()=>r._fromReadableStream(t)),r}static runFunctions(t,r,n){const a=new zo(null),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(t,r,i)),a}static runTools(t,r,n){const a=new zo(r),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(t,r,i)),a}}let YC=class extends Pe{parse(t,r){return t8(t.tools),this._client.chat.completions.create(t,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(n=>wv(n,t))}runFunctions(t,r){return t.stream?zo.runFunctions(this._client,t,r):cd.runFunctions(this._client,t,r)}runTools(t,r){return t.stream?zo.runTools(this._client,t,r):cd.runTools(this._client,t,r)}stream(t,r){return dd.createChatCompletion(this._client,t,r)}};class yx extends Pe{constructor(){super(...arguments),this.completions=new YC(this._client)}}(function(e){e.Completions=YC})(yx||(yx={}));class JC extends Pe{create(t,r){return this._client.post("/realtime/sessions",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class XC extends Pe{create(t,r){return this._client.post("/realtime/transcription_sessions",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Sf extends Pe{constructor(){super(...arguments),this.sessions=new JC(this._client),this.transcriptionSessions=new XC(this._client)}}Sf.Sessions=JC;Sf.TranscriptionSessions=XC;class jv extends Pe{create(t,r,n){return this._client.post(`/threads/${t}/messages`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,r,n){return this._client.get(`/threads/${t}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,r,n,a){return this._client.post(`/threads/${t}/messages/${r}`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(t,r={},n){return vt(r)?this.list(t,{},r):this._client.getAPIList(`/threads/${t}/messages`,Nv,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,r,n){return this._client.delete(`/threads/${t}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Nv extends cr{}jv.MessagesPage=Nv;class _v extends Pe{retrieve(t,r,n,a={},i){return vt(a)?this.retrieve(t,r,n,{},a):this._client.get(`/threads/${t}/runs/${r}/steps/${n}`,{query:a,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,r,n={},a){return vt(n)?this.list(t,r,{},n):this._client.getAPIList(`/threads/${t}/runs/${r}/steps`,kv,{query:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class kv extends cr{}_v.RunStepsPage=kv;let Id=class extends Pe{constructor(){super(...arguments),this.steps=new _v(this._client)}create(t,r,n){const{include:a,...i}=r;return this._client.post(`/threads/${t}/runs`,{query:{include:a},body:i,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:r.stream??!1})}retrieve(t,r,n){return this._client.get(`/threads/${t}/runs/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,r,n,a){return this._client.post(`/threads/${t}/runs/${r}`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(t,r={},n){return vt(r)?this.list(t,{},r):this._client.getAPIList(`/threads/${t}/runs`,Sv,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(t,r,n){return this._client.post(`/threads/${t}/runs/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(t,r,n){const a=await this.create(t,r,n);return await this.poll(t,a.id,n)}createAndStream(t,r,n){return Xn.createAssistantStream(t,this._client.beta.threads.runs,r,n)}async poll(t,r,n){const a={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,r,{...n,headers:{...n==null?void 0:n.headers,...a}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await Dd(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,r,n){return Xn.createAssistantStream(t,this._client.beta.threads.runs,r,n)}submitToolOutputs(t,r,n,a){return this._client.post(`/threads/${t}/runs/${r}/submit_tool_outputs`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(t,r,n,a){const i=await this.submitToolOutputs(t,r,n,a);return await this.poll(t,i.id,a)}submitToolOutputsStream(t,r,n,a){return Xn.createToolAssistantStream(t,r,this._client.beta.threads.runs,n,a)}};class Sv extends cr{}Id.RunsPage=Sv;Id.Steps=_v;Id.RunStepsPage=kv;class bl extends Pe{constructor(){super(...arguments),this.runs=new Id(this._client),this.messages=new jv(this._client)}create(t={},r){return vt(t)?this.create({},t):this._client.post("/threads",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/threads/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,n){return this._client.post(`/threads/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,r){return this._client.delete(`/threads/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}createAndRun(t,r){return this._client.post("/threads/runs",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:t.stream??!1})}async createAndRunPoll(t,r){const n=await this.createAndRun(t,r);return await this.runs.poll(n.thread_id,n.id,r)}createAndRunStream(t,r){return Xn.createThreadAssistantStream(t,this._client.beta.threads,r)}}bl.Runs=Id;bl.RunsPage=Sv;bl.Messages=jv;bl.MessagesPage=Nv;class wl extends Pe{constructor(){super(...arguments),this.realtime=new Sf(this._client),this.chat=new yx(this._client),this.assistants=new yv(this._client),this.threads=new bl(this._client)}}wl.Realtime=Sf;wl.Assistants=yv;wl.AssistantsPage=vv;wl.Threads=bl;class QC extends Pe{create(t,r){return this._client.post("/completions",{body:t,...r,stream:t.stream??!1})}}class ZC extends Pe{create(t,r){const n=!!t.encoding_format;let a=n?t.encoding_format:"base64";n&&Ta("Request","User defined encoding_format:",t.encoding_format);const i=this._client.post("/embeddings",{body:{...t,encoding_format:a},...r});return n?i:(Ta("response","Decoding base64 embeddings to float32 array"),i._thenUnwrap(o=>(o&&o.data&&o.data.forEach(l=>{const c=l.embedding;l.embedding=YL(c)}),o)))}}class Cv extends Pe{retrieve(t,r,n,a){return this._client.get(`/evals/${t}/runs/${r}/output_items/${n}`,a)}list(t,r,n={},a){return vt(n)?this.list(t,r,{},n):this._client.getAPIList(`/evals/${t}/runs/${r}/output_items`,Pv,{query:n,...a})}}class Pv extends cr{}Cv.OutputItemListResponsesPage=Pv;class Ld extends Pe{constructor(){super(...arguments),this.outputItems=new Cv(this._client)}create(t,r,n){return this._client.post(`/evals/${t}/runs`,{body:r,...n})}retrieve(t,r,n){return this._client.get(`/evals/${t}/runs/${r}`,n)}list(t,r={},n){return vt(r)?this.list(t,{},r):this._client.getAPIList(`/evals/${t}/runs`,Ev,{query:r,...n})}del(t,r,n){return this._client.delete(`/evals/${t}/runs/${r}`,n)}cancel(t,r,n){return this._client.post(`/evals/${t}/runs/${r}`,n)}}class Ev extends cr{}Ld.RunListResponsesPage=Ev;Ld.OutputItems=Cv;Ld.OutputItemListResponsesPage=Pv;class Fd extends Pe{constructor(){super(...arguments),this.runs=new Ld(this._client)}create(t,r){return this._client.post("/evals",{body:t,...r})}retrieve(t,r){return this._client.get(`/evals/${t}`,r)}update(t,r,n){return this._client.post(`/evals/${t}`,{body:r,...n})}list(t={},r){return vt(t)?this.list({},t):this._client.getAPIList("/evals",Av,{query:t,...r})}del(t,r){return this._client.delete(`/evals/${t}`,r)}}class Av extends cr{}Fd.EvalListResponsesPage=Av;Fd.Runs=Ld;Fd.RunListResponsesPage=Ev;let Tv=class extends Pe{create(t,r){return this._client.post("/files",sl({body:t,...r}))}retrieve(t,r){return this._client.get(`/files/${t}`,r)}list(t={},r){return vt(t)?this.list({},t):this._client.getAPIList("/files",Ov,{query:t,...r})}del(t,r){return this._client.delete(`/files/${t}`,r)}content(t,r){return this._client.get(`/files/${t}/content`,{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}retrieveContent(t,r){return this._client.get(`/files/${t}/content`,r)}async waitForProcessing(t,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){const a=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(t);for(;!o.status||!a.has(o.status);)if(await Dd(r),o=await this.retrieve(t),Date.now()-i>n)throw new fv({message:`Giving up on waiting for file ${t} to finish processing after ${n} milliseconds.`});return o}};class Ov extends cr{}Tv.FileObjectsPage=Ov;class Mv extends Pe{create(t,r,n){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,Dv,{body:r,method:"post",...n})}retrieve(t,r={},n){return vt(r)?this.retrieve(t,{},r):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:r,...n})}del(t,r,n){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${r}`,n)}}class Dv extends jf{}Mv.PermissionCreateResponsesPage=Dv;let Cf=class extends Pe{constructor(){super(...arguments),this.permissions=new Mv(this._client)}};Cf.Permissions=Mv;Cf.PermissionCreateResponsesPage=Dv;class Rv extends Pe{list(t,r={},n){return vt(r)?this.list(t,{},r):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,$v,{query:r,...n})}}class $v extends cr{}Rv.FineTuningJobCheckpointsPage=$v;class jl extends Pe{constructor(){super(...arguments),this.checkpoints=new Rv(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",{body:t,...r})}retrieve(t,r){return this._client.get(`/fine_tuning/jobs/${t}`,r)}list(t={},r){return vt(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",Iv,{query:t,...r})}cancel(t,r){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},n){return vt(r)?this.listEvents(t,{},r):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,Lv,{query:r,...n})}}class Iv extends cr{}class Lv extends cr{}jl.FineTuningJobsPage=Iv;jl.FineTuningJobEventsPage=Lv;jl.Checkpoints=Rv;jl.FineTuningJobCheckpointsPage=$v;class Nl extends Pe{constructor(){super(...arguments),this.jobs=new jl(this._client),this.checkpoints=new Cf(this._client)}}Nl.Jobs=jl;Nl.FineTuningJobsPage=Iv;Nl.FineTuningJobEventsPage=Lv;Nl.Checkpoints=Cf;class eP extends Pe{createVariation(t,r){return this._client.post("/images/variations",sl({body:t,...r}))}edit(t,r){return this._client.post("/images/edits",sl({body:t,...r}))}generate(t,r){return this._client.post("/images/generations",{body:t,...r})}}class Fv extends Pe{retrieve(t,r){return this._client.get(`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",Bv,t)}del(t,r){return this._client.delete(`/models/${t}`,r)}}class Bv extends jf{}Fv.ModelsPage=Bv;class tP extends Pe{create(t,r){return this._client.post("/moderations",{body:t,...r})}}function l8(e,t){return!t||!d8(t)?{...e,output_parsed:null,output:e.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:rP(e,t)}function rP(e,t){const r=e.output.map(a=>{if(a.type==="function_call")return{...a,parsed_arguments:m8(t,a)};if(a.type==="message"){const i=a.content.map(o=>o.type==="output_text"?{...o,parsed:c8(t,o.text)}:o);return{...a,content:i}}return a}),n=Object.assign({},e,{output:r});return Object.getOwnPropertyDescriptor(e,"output_text")||nP(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const a of n.output)if(a.type==="message"){for(const i of a.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),n}function c8(e,t){var r,n,a,i;return((n=(r=e.text)==null?void 0:r.format)==null?void 0:n.type)!=="json_schema"?null:"$parseRaw"in((a=e.text)==null?void 0:a.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function d8(e){var t;return!!bv((t=e.text)==null?void 0:t.format)}function u8(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function h8(e,t){return e.find(r=>r.type==="function"&&r.name===t)}function m8(e,t){const r=h8(e.tools??[],t.name);return{...t,...t,parsed_arguments:u8(r)?r.$parseRaw(t.arguments):r!=null&&r.strict?JSON.parse(t.arguments):null}}function nP(e){const t=[];for(const r of e.output)if(r.type==="message")for(const n of r.content)n.type==="output_text"&&t.push(n.text);e.output_text=t.join("")}class sP extends Pe{list(t,r={},n){return vt(r)?this.list(t,{},r):this._client.getAPIList(`/responses/${t}/input_items`,p8,{query:r,...n})}}var ao=function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},sa=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},io,Du,aa,Ru,Gj,Yj,Jj,Xj;class zv extends xv{constructor(t){super(),io.add(this),Du.set(this,void 0),aa.set(this,void 0),Ru.set(this,void 0),ao(this,Du,t,"f")}static createResponse(t,r,n){const a=new zv(r);return a._run(()=>a._createResponse(t,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createResponse(t,r,n){var o;const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),sa(this,io,"m",Gj).call(this);const i=await t.responses.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const l of i)sa(this,io,"m",Yj).call(this,l);if((o=i.controller.signal)!=null&&o.aborted)throw new Sn;return sa(this,io,"m",Jj).call(this)}[(Du=new WeakMap,aa=new WeakMap,Ru=new WeakMap,io=new WeakSet,Gj=function(){this.ended||ao(this,aa,void 0,"f")},Yj=function(r){if(this.ended)return;const n=sa(this,io,"m",Xj).call(this,r);switch(this._emit("event",r),r.type){case"response.output_text.delta":{const a=n.output[r.output_index];if(!a)throw new ke(`missing output at index ${r.output_index}`);if(a.type==="message"){const i=a.content[r.content_index];if(!i)throw new ke(`missing content at index ${r.content_index}`);if(i.type!=="output_text")throw new ke(`expected content to be 'output_text', got ${i.type}`);this._emit("response.output_text.delta",{...r,snapshot:i.text})}break}case"response.function_call_arguments.delta":{const a=n.output[r.output_index];if(!a)throw new ke(`missing output at index ${r.output_index}`);a.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...r,snapshot:a.arguments});break}default:this._emit(r.type,r);break}},Jj=function(){if(this.ended)throw new ke("stream has ended, this shouldn't happen");const r=sa(this,aa,"f");if(!r)throw new ke("request ended without sending any events");ao(this,aa,void 0,"f");const n=f8(r,sa(this,Du,"f"));return ao(this,Ru,n,"f"),n},Xj=function(r){let n=sa(this,aa,"f");if(!n){if(r.type!=="response.created")throw new ke(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=ao(this,aa,r.response,"f"),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{const a=n.output[r.output_index];if(!a)throw new ke(`missing output at index ${r.output_index}`);a.type==="message"&&a.content.push(r.part);break}case"response.output_text.delta":{const a=n.output[r.output_index];if(!a)throw new ke(`missing output at index ${r.output_index}`);if(a.type==="message"){const i=a.content[r.content_index];if(!i)throw new ke(`missing content at index ${r.content_index}`);if(i.type!=="output_text")throw new ke(`expected content to be 'output_text', got ${i.type}`);i.text+=r.delta}break}case"response.function_call_arguments.delta":{const a=n.output[r.output_index];if(!a)throw new ke(`missing output at index ${r.output_index}`);a.type==="function_call"&&(a.arguments+=r.delta);break}case"response.completed":{ao(this,aa,r.response,"f");break}}return n},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",a=>{const i=r.shift();i?i.resolve(a):t.push(a)}),this.on("end",()=>{n=!0;for(const a of r)a.resolve(void 0);r.length=0}),this.on("abort",a=>{n=!0;for(const i of r)i.reject(a);r.length=0}),this.on("error",a=>{n=!0;for(const i of r)i.reject(a);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,o)=>r.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=sa(this,Ru,"f");if(!t)throw new ke("stream ended without producing a ChatCompletion");return t}}function f8(e,t){return l8(e,t)}class Uv extends Pe{constructor(){super(...arguments),this.inputItems=new sP(this._client)}create(t,r){return this._client.post("/responses",{body:t,...r,stream:t.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&nP(n),n))}retrieve(t,r={},n){return vt(r)?this.retrieve(t,{},r):this._client.get(`/responses/${t}`,{query:r,...n})}del(t,r){return this._client.delete(`/responses/${t}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}parse(t,r){return this._client.responses.create(t,r)._thenUnwrap(n=>rP(n,t))}stream(t,r){return zv.createResponse(this._client,t,r)}}class p8 extends cr{}Uv.InputItems=sP;class aP extends Pe{create(t,r,n){return this._client.post(`/uploads/${t}/parts`,sl({body:r,...n}))}}class qv extends Pe{constructor(){super(...arguments),this.parts=new aP(this._client)}create(t,r){return this._client.post("/uploads",{body:t,...r})}cancel(t,r){return this._client.post(`/uploads/${t}/cancel`,r)}complete(t,r,n){return this._client.post(`/uploads/${t}/complete`,{body:r,...n})}}qv.Parts=aP;const g8=async e=>{const t=await Promise.allSettled(e),r=t.filter(a=>a.status==="rejected");if(r.length){for(const a of r)console.error(a.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const n=[];for(const a of t)a.status==="fulfilled"&&n.push(a.value);return n};class Pf extends Pe{create(t,r,n){return this._client.post(`/vector_stores/${t}/files`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,r,n){return this._client.get(`/vector_stores/${t}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,r,n,a){return this._client.post(`/vector_stores/${t}/files/${r}`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(t,r={},n){return vt(r)?this.list(t,{},r):this._client.getAPIList(`/vector_stores/${t}/files`,Ef,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,r,n){return this._client.delete(`/vector_stores/${t}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(t,r,n){const a=await this.create(t,r,n);return await this.poll(t,a.id,n)}async poll(t,r,n){const a={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const i=await this.retrieve(t,r,{...n,headers:a}).withResponse(),o=i.data;switch(o.status){case"in_progress":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=i.response.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await Dd(l);break;case"failed":case"completed":return o}}}async upload(t,r,n){const a=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(t,{file_id:a.id},n)}async uploadAndPoll(t,r,n){const a=await this.upload(t,r,n);return await this.poll(t,a.id,n)}content(t,r,n){return this._client.getAPIList(`/vector_stores/${t}/files/${r}/content`,Vv,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Ef extends cr{}class Vv extends jf{}Pf.VectorStoreFilesPage=Ef;Pf.FileContentResponsesPage=Vv;class iP extends Pe{create(t,r,n){return this._client.post(`/vector_stores/${t}/file_batches`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,r,n){return this._client.get(`/vector_stores/${t}/file_batches/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(t,r,n){return this._client.post(`/vector_stores/${t}/file_batches/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(t,r,n){const a=await this.create(t,r);return await this.poll(t,a.id,n)}listFiles(t,r,n={},a){return vt(n)?this.listFiles(t,r,{},n):this._client.getAPIList(`/vector_stores/${t}/file_batches/${r}/files`,Ef,{query:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}async poll(t,r,n){const a={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,r,{...n,headers:a}).withResponse();switch(i.status){case"in_progress":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await Dd(l);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:r,fileIds:n=[]},a){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(a==null?void 0:a.maxConcurrency)??5,o=Math.min(i,r.length),l=this._client,c=r.values(),d=[...n];async function u(m){for(let f of m){const p=await l.files.create({file:f,purpose:"assistants"},a);d.push(p.id)}}const h=Array(o).fill(c).map(u);return await g8(h),await this.createAndPoll(t,{file_ids:d})}}class Va extends Pe{constructor(){super(...arguments),this.files=new Pf(this._client),this.fileBatches=new iP(this._client)}create(t,r){return this._client.post("/vector_stores",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/vector_stores/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,n){return this._client.post(`/vector_stores/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(t={},r){return vt(t)?this.list({},t):this._client.getAPIList("/vector_stores",Wv,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,r){return this._client.delete(`/vector_stores/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}search(t,r,n){return this._client.getAPIList(`/vector_stores/${t}/search`,Hv,{body:r,method:"post",...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Wv extends cr{}class Hv extends jf{}Va.VectorStoresPage=Wv;Va.VectorStoreSearchResponsesPage=Hv;Va.Files=Pf;Va.VectorStoreFilesPage=Ef;Va.FileContentResponsesPage=Vv;Va.FileBatches=iP;var oP;class Ce extends IL{constructor({baseURL:t=Eu("OPENAI_BASE_URL"),apiKey:r=Eu("OPENAI_API_KEY"),organization:n=Eu("OPENAI_ORG_ID")??null,project:a=Eu("OPENAI_PROJECT_ID")??null,...i}={}){if(r===void 0)throw new ke("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:r,organization:n,project:a,...i,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&KL())throw new ke(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new QC(this),this.chat=new kf(this),this.embeddings=new ZC(this),this.files=new Tv(this),this.images=new eP(this),this.audio=new Rd(this),this.moderations=new tP(this),this.models=new Fv(this),this.fineTuning=new Nl(this),this.vectorStores=new Va(this),this.beta=new wl(this),this.batches=new pv(this),this.uploads=new qv(this),this.responses=new Uv(this),this.evals=new Fd(this),this._options=o,this.apiKey=r,this.organization=n,this.project=a}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return vL(t,{arrayFormat:"brackets"})}}oP=Ce;Ce.OpenAI=oP;Ce.DEFAULT_TIMEOUT=6e5;Ce.OpenAIError=ke;Ce.APIError=lr;Ce.APIConnectionError=yf;Ce.APIConnectionTimeoutError=fv;Ce.APIUserAbortError=Sn;Ce.NotFoundError=cC;Ce.ConflictError=dC;Ce.RateLimitError=hC;Ce.BadRequestError=iC;Ce.AuthenticationError=oC;Ce.InternalServerError=mC;Ce.PermissionDeniedError=lC;Ce.UnprocessableEntityError=uC;Ce.toFile=vC;Ce.fileFromPath=nC;Ce.Completions=QC;Ce.Chat=kf;Ce.ChatCompletionsPage=_f;Ce.Embeddings=ZC;Ce.Files=Tv;Ce.FileObjectsPage=Ov;Ce.Images=eP;Ce.Audio=Rd;Ce.Moderations=tP;Ce.Models=Fv;Ce.ModelsPage=Bv;Ce.FineTuning=Nl;Ce.VectorStores=Va;Ce.VectorStoresPage=Wv;Ce.VectorStoreSearchResponsesPage=Hv;Ce.Beta=wl;Ce.Batches=pv;Ce.BatchesPage=gv;Ce.Uploads=qv;Ce.Responses=Uv;Ce.Evals=Fd;Ce.EvalListResponsesPage=Av;const nn=new Ce({apiKey:"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",dangerouslyAllowBrowser:!0,defaultHeaders:{"OpenAI-Beta":"assistants=v2"}});nn.baseOptions={headers:{"OpenAI-Beta":"assistants=v2"}};function x8({onGenerateCode:e,robotId:t,robotName:r,selectedVersion:n}){At();const[a,i]=g.useState([]),[o,l]=g.useState(""),[c,d]=g.useState(!1);g.useState(!1);const[u,h]=g.useState(""),m=g.useRef(null),f=g.useRef(null),{profile:p,updateTokenBalance:y}=Lt(),{t:v,language:x}=Ys(),{createVersion:b,versions:j,loadVersions:N}=vl();g.useState(null),g.useState(500);const[w,_]=g.useState("create"),[k,S]=g.useState(""),[E,P]=g.useState(null),[C,A]=g.useState(""),[O,$]=g.useState([]),[L,H]=g.useState("");g.useState([]);const[U,T]=g.useState(!1),[M,z]=g.useState(""),[B,F]=g.useState(""),[K,Y]=g.useState(!1),[W,te]=g.useState({strategy:"",timeframes:[],assets:[],riskLevel:"",additionalDetails:""}),[ie,D]=g.useState(!1),[R,q]=g.useState("idle"),[X,I]=g.useState(null),[Q,re]=g.useState(!1),[he,be]=g.useState(!1),fe=[{id:"trend-following",name:"Seguidor de Tendncia",icon:s.jsx(Pt,{className:"w-5 h-5"}),description:"Estratgia que segue a direo da tendncia do mercado"},{id:"mean-reversion",name:"Reverso  Mdia",icon:s.jsx(W6,{className:"w-5 h-5"}),description:"Estratgia que opera quando o preo se afasta da mdia"},{id:"breakout",name:"Rompimento",icon:s.jsx(or,{className:"w-5 h-5"}),description:"Estratgia que opera em rompimentos de suportes e resistncias"},{id:"scalping",name:"Scalping",icon:s.jsx(We,{className:"w-5 h-5"}),description:"Estratgia de operaes rpidas com pequenos ganhos"}],_e=[{id:"quick-optimization",name:"Otimizao Rpida",icon:s.jsx(We,{className:"w-5 h-5"}),description:"Melhoria geral de performance e cdigo"},{id:"add-trailing",name:"Incluir Trailing Stop",icon:s.jsx(Pt,{className:"w-5 h-5"}),description:"Adicionar trailing stop para proteger lucros"},{id:"add-breakeven",name:"Incluir Breakeven",icon:s.jsx(or,{className:"w-5 h-5"}),description:"Adicionar ponto de breakeven para reduzir risco"},{id:"financial-stop",name:"Stop Financeiro",icon:s.jsx(uh,{className:"w-5 h-5"}),description:"Implementar stop loss baseado em valor financeiro"}],G=[{id:"M1",name:"1 minuto"},{id:"M5",name:"5 minutos"},{id:"M15",name:"15 minutos"},{id:"M30",name:"30 minutos"},{id:"H1",name:"1 hora"},{id:"H4",name:"4 horas"},{id:"D1",name:"1 dia"},{id:"W1",name:"1 semana"}],ue=["WINFUT","WDOFUT","PETR4","VALE3","ITUB4","BBDC4","ABEV3","MGLU3","BOVA11"],ne=["Tendncia","Reverso  Mdia","Rompimento","Scalping","HFT","Correlao","Volatilidade","Mdia Mvel"],se=["Conservador","Moderado","Agressivo"],we=()=>{m.current&&m.current.scrollIntoView({behavior:"smooth"})};g.useEffect(()=>{we()},[a]),g.useEffect(()=>{n&&P(n)},[n]),g.useEffect(()=>{t?N(t).then(oe=>{if(oe.length>0){let pe;E&&(pe=oe.find(it=>it.version_name===E),console.log("Verso selecionada encontrada:",!!pe)),pe||(pe=oe[0],console.log("Usando primeira verso:",pe.version_name),E||P(pe.version_name)),pe&&(console.log("Atualizando cdigo atual com verso:",pe.version_name),S(pe.code),A(pe.description||""),$(pe.tags||[]))}else console.log("Nenhuma verso encontrada, limpando dados atuais"),S(""),A(""),$([]),P("")}).catch(oe=>{console.error("Erro ao carregar verses:",oe)}):(console.log("Sem robotId, limpando dados"),S(""),A(""),$([]),P(""))},[t,N]),g.useEffect(()=>{t&&E&&(console.log("selectedVersionName mudou para:",E),N(t).then(oe=>{const pe=oe.find(it=>it.version_name===E);pe?(console.log("Carregando verso selecionada:",E),S(pe.code),A(pe.description||""),$(pe.tags||[])):console.warn("Verso selecionada no encontrada:",E)}).catch(oe=>{console.error("Erro ao carregar verso selecionada:",oe)}))},[E,t,N]);const Ae=()=>{if(((p==null?void 0:p.token_balance)||0)<500){const pe=document.createElement("div");pe.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md z-50 flex items-center",pe.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
        </svg>
        Tokens insuficientes. A criao de rob com IA custa 500 tokens.
      `,document.body.appendChild(pe),setTimeout(()=>{document.body.removeChild(pe)},3e3);return}_("create"),Y(!0)},Qe=async()=>{if(((p==null?void 0:p.token_balance)||0)<500){const pe=document.createElement("div");pe.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md z-50 flex items-center",pe.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
        </svg>
        Tokens insuficientes. A otimizao custa 500 tokens.
      `,document.body.appendChild(pe),setTimeout(()=>{document.body.removeChild(pe)},3e3);return}_("optimize"),Y(!0)},xn=()=>{if(((p==null?void 0:p.token_balance)||0)<500){const pe=document.createElement("div");pe.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md z-50 flex items-center",pe.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
        </svg>
        Tokens insuficientes. A correo de cdigo custa 500 tokens.
      `,document.body.appendChild(pe),setTimeout(()=>{document.body.removeChild(pe)},3e3);return}be(!0)},ss=()=>{if(!W.strategy&&W.timeframes.length===0&&W.assets.length===0&&!W.additionalDetails){alert("Por favor, fornea pelo menos uma estratgia, timeframe, ativo ou detalhes adicionais para continuar.");return}let oe="";if(w==="create"){if(oe="Criar nova verso ",W.strategy&&(oe+=`utilizando a estratgia de ${W.strategy}`),W.timeframes.length>0){const pe=W.timeframes.map(it=>{const dr=G.find(Bt=>Bt.id===it);return dr?dr.name:it});oe+=` para operar em ${pe.join(", ")}`}W.assets.length>0&&(oe+=` nos ativos ${W.assets.join(", ")}`),W.riskLevel&&(oe+=` com perfil de risco ${W.riskLevel}`),W.additionalDetails&&(oe+=`. ${W.additionalDetails}`)}else{if(oe="Otimize o cdigo atual do rob ",W.strategy&&(oe+=`para melhorar a estratgia de ${W.strategy}`),W.timeframes.length>0){const pe=W.timeframes.map(it=>{const dr=G.find(Bt=>Bt.id===it);return dr?dr.name:it});oe+=` para operar em ${pe.join(", ")}`}W.assets.length>0&&(oe+=` nos ativos ${W.assets.join(", ")}`),W.riskLevel&&(oe+=` com perfil de risco ${W.riskLevel}`),W.additionalDetails&&(oe+=`. ${W.additionalDetails}`),oe+=`

Cdigo atual:
\`\`\`
${k}
\`\`\`

`,C&&(oe+=`Descrio atual: ${C}

`),O&&O.length>0&&(oe+=`Tags atuais: ${O.join(", ")}

`)}l(oe),Y(!1),z(oe),T(!0),te({strategy:"",timeframes:[],assets:[],riskLevel:"",additionalDetails:""})},Tt=()=>{if(!k){alert("No h cdigo para corrigir.");return}const oe=`O cdigo gerado no est funcionando corretamente. Por favor, corrija os erros e gere uma nova verso funcional. 
    
Cdigo atual com problemas:
\`\`\`
${k}
\`\`\`

Descrio do problema: ${L||"O cdigo no est funcionando como esperado."}

Por favor, fornea uma verso corrigida do cdigo que seja funcional, mantendo a mesma estratgia e lgica, mas corrigindo quaisquer erros de sintaxe ou lgica.`;l(oe),be(!1),z(oe),T(!0)},yn=async oe=>{if(oe.preventDefault(),!(!o.trim()||c)){if(o.trim().length<15&&!M){Y(!0),te({...W,additionalDetails:o.trim()});return}z(o.trim()),T(!0)}},Fn=async()=>{if(!M||c)return;if(((p==null?void 0:p.token_balance)||0)<500){i(wr=>[...wr,{role:"user",content:M},{role:"assistant",content:x==="en"?"You don't have enough tokens to use the AI assistant. Each message costs 500 tokens. Please purchase more tokens or upgrade your plan.":"Voc no tem tokens suficientes para usar o assistente de IA. Cada mensagem custa 500 tokens. Por favor, compre mais tokens ou atualize seu plano."}]),l(""),T(!1),z("");return}const pe=M.toLowerCase().includes("create a robot")||M.toLowerCase().includes("criar um rob")||M.toLowerCase().includes("fazer um rob")||M.toLowerCase().includes("build a robot")||M.toLowerCase().includes("create a new version")||M.toLowerCase().includes("criar uma nova verso"),it=M.toLowerCase().includes("optimize")||M.toLowerCase().includes("otimizar")||M.toLowerCase().includes("improve")||M.toLowerCase().includes("melhorar"),dr=M.toLowerCase().includes("fix")||M.toLowerCase().includes("corrigir")||M.toLowerCase().includes("consertar")||M.toLowerCase().includes("arrumar")||M.toLowerCase().includes("no funciona")||M.toLowerCase().includes("not working");pe?_("create"):it?_("optimize"):dr&&re(!0);const Bt=M;F(Bt),l(""),i(wr=>[...wr,{role:"user",content:Bt}]),d(!0),T(!1),z(""),D(!1),q("idle"),I(null);try{const wr=u||"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",jr=void 0;if(!wr||!jr)throw new Error("Missing API key or Assistant ID");let zt="";it&&k?zt=`${Bt}

CURRENT CODE TO OPTIMIZE:
\`\`\`ntsl
${k}
\`\`\`

${C?`Current description: ${C}`:""}
${O&&O.length>0?`Current tags: ${O.join(", ")}`:""}

IMPORTANT: Please respond with ONLY the optimized NTSL code inside a code block. Do not include explanations, descriptions, or any other text. Format your response exactly like this:

\`\`\`ntsl
[YOUR OPTIMIZED CODE HERE]
\`\`\``:dr&&k?zt=`${Bt}

CODE TO FIX:
\`\`\`ntsl
${k}
\`\`\`

${C?`Current description: ${C}`:""}
${O&&O.length>0?`Current tags: ${O.join(", ")}`:""}

IMPORTANT: Please respond with ONLY the corrected NTSL code inside a code block. Do not include explanations, descriptions, or any other text. Format your response exactly like this:

\`\`\`ntsl
[YOUR FIXED CODE HERE]
\`\`\``:zt=`${Bt}

IMPORTANT: Please respond with ONLY the NTSL code inside a code block. Do not include explanations, descriptions, or any other text. Format your response exactly like this:

\`\`\`ntsl
[YOUR CODE HERE]
\`\`\``;const Xi=await nn.beta.threads.create();await nn.beta.threads.messages.create(Xi.id,{role:"user",content:zt});const $l=await nn.beta.threads.runs.create(Xi.id,{assistant_id:jr});let Il,Za=0;const Xd=60;for(;Za<Xd;){const Ut=await nn.beta.threads.runs.retrieve(Xi.id,$l.id);if(Ut.status==="completed"){Il=(await nn.beta.threads.messages.list(Xi.id)).data[0].content[0];break}else if(Ut.status==="failed")throw new Error("Assistant failed to process the request");Za++,await new Promise(Qt=>setTimeout(Qt,1e3))}if(Za>=Xd)throw new Error("Request timeout: Assistant took too long to respond");if(!Il)throw new Error("No response from assistant");const ei=Il.text.value;console.log("=== RESPOSTA COMPLETA DA IA ==="),console.log(ei),console.log("=== FIM DA RESPOSTA ===");let ur="";const Qd=/```(?:ntsl)?\s*\n([\s\S]*?)```/,Bn=ei.match(Qd);if(Bn&&Bn[1])ur=Bn[1].trim(),console.log(" Cdigo extrado de bloco markdown");else{const Qt=ei.split(`
`).filter(ta=>{const Zt=ta.trim();return Zt?Zt.includes("input:")||Zt.includes("var:")||Zt.includes("begin")||Zt.includes("end;")||Zt.includes("buyatmarket")||Zt.includes("sellshortatmarket")||Zt.includes("plot")||Zt.includes("if ")||Zt.includes("then")||Zt.includes("else")||/^[a-zA-Z_][a-zA-Z0-9_]*\s*:/.test(Zt)||/^[a-zA-Z_][a-zA-Z0-9_]*\s*=/.test(Zt):!1});Qt.length>0&&(ur=Qt.join(`
`).trim(),console.log(" Cdigo extrado por filtro de linhas"))}if(console.log("=== CDIGO EXTRADO ==="),console.log("Tamanho:",ur.length),console.log("Primeiros 200 chars:",ur.substring(0,200)),!(ur.length>10&&(ur.includes("input:")||ur.includes("var:")||ur.includes("begin")||ur.includes("end;"))))throw new Error("Cdigo NTSL vlido no foi encontrado na resposta da IA");const vn=`${w==="create"?"Nova verso criada":Q?"Cdigo corrigido":"Verso otimizada"} com IA - ${Bt.substring(0,100)}`,ea=[w==="create"?"nova-versao":Q?"correcao":"otimizacao","ia-gerada"];if(console.log("Aplicando cdigo ao editor..."),e(ur,vn,ea),t)try{q("creating"),console.log("=== CRIANDO NOVA VERSO ===");const Ut=new Date().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).replace(/[/:]/g,"-").replace(/,/g,""),Qt=`Verso ${j.length+1}-${Ut}`;console.log("Nome da verso:",Qt),await b(t,Qt,ur,vn,ea),P(Qt),q("success"),i(ta=>[...ta,{role:"assistant",content:x==="en"?` Code generated and applied successfully! Version "${Qt}" created.`:` Cdigo gerado e aplicado com sucesso! Verso "${Qt}" criada.`}]),console.log(" Verso criada com sucesso!")}catch(Ut){console.error(" Erro ao criar verso:",Ut),q("error"),I(Ut.message),i(Qt=>[...Qt,{role:"assistant",content:x==="en"?` Code applied to editor, but failed to save version: ${Ut.message}`:` Cdigo aplicado ao editor, mas falhou ao salvar verso: ${Ut.message}`}])}else i(Ut=>[...Ut,{role:"assistant",content:x==="en"?" Code generated and applied to editor successfully.":" Cdigo gerado e aplicado ao editor com sucesso."}]);D(!0),re(!1),await y(-500)}catch(wr){console.error("=== ERRO NA FUNO PRINCIPAL ==="),console.error(wr);const jr=wr instanceof Error?wr.message:String(wr);i(zt=>[...zt,{role:"assistant",content:` ${x==="en"?"Error":"Erro"}: ${jr}`}]),q("error"),I(jr)}finally{d(!1)}},Rl=()=>{T(!1),z("")},Jd=oe=>{W.timeframes.includes(oe)?te({...W,timeframes:W.timeframes.filter(pe=>pe!==oe)}):te({...W,timeframes:[...W.timeframes,oe]})},Ji=oe=>{W.assets.includes(oe)?te({...W,assets:W.assets.filter(pe=>pe!==oe)}):te({...W,assets:[...W.assets,oe]})},Qa=oe=>{let pe="";if(w==="create")switch(oe){case"trend-following":pe="Criar nova verso utilizando estratgia seguidor de tendncia com mdias mveis e indicadores de momentum para identificar a direo do mercado e entrar em operaes na direo da tendncia.";break;case"mean-reversion":pe="Criar nova verso utilizando estratgia de reverso  mdia que opere quando o preo se afasta muito da mdia, utilizando bandas de bollinger e RSI para identificar pontos de entrada e sada.";break;case"breakout":pe="Criar nova verso utilizando estratgia de rompimento que identifique suportes e resistncias e opere quando o preo rompe esses nveis com volume significativo.";break;case"scalping":pe="Criar nova verso utilizando estratgia de scalping para operaes rpidas com pequenos ganhos, utilizando indicadores de curto prazo e gerenciamento de risco rigoroso.";break;default:pe="Criar nova verso "}else switch(oe){case"quick-optimization":pe="Otimize o cdigo atual para melhorar a performance e legibilidade, mantendo a mesma estratgia.";break;case"add-trailing":pe="Adicione um trailing stop ao cdigo atual para proteger lucros quando o preo se mover a favor.";break;case"add-breakeven":pe="Implemente um mecanismo de breakeven que move o stop loss para o ponto de entrada aps o preo atingir um determinado lucro.";break;case"financial-stop":pe="Modifique o cdigo para usar stop loss baseado em valor financeiro ao invs de pontos/ticks.";break;default:pe="Otimize o cdigo atual "}te({...W,additionalDetails:pe})},Zs=oe=>{if(a[oe].role!=="assistant"||oe!==a.length-1)return null;const pe=((p==null?void 0:p.token_balance)||0)>=500,it=E||(j.length>0?j[0].version_name:"");return s.jsxs("div",{className:"mt-4 flex flex-col space-y-2",children:[ie&&s.jsx("div",{className:"flex items-center justify-center mb-2 bg-green-600 bg-opacity-20 py-2 px-3 rounded-md",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-5 h-5 mr-2 rounded-md border-2 border-green-500 flex items-center justify-center bg-green-500",children:s.jsx(yt,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:"text-green-400 text-sm font-medium",children:x==="en"?"Task completed":"Tarefa concluda"})]})}),R==="creating"&&s.jsx("div",{className:"flex items-center justify-center mb-2 bg-blue-600 bg-opacity-20 py-2 px-3 rounded-md",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-5 h-5 mr-2 rounded-md flex items-center justify-center",children:s.jsx(nx,{className:"w-4 h-4 text-blue-400 animate-spin"})}),s.jsx("span",{className:"text-blue-400 text-sm font-medium",children:x==="en"?"Creating version...":"Criando verso..."})]})}),R==="success"&&s.jsx("div",{className:"flex items-center justify-center mb-2 bg-green-600 bg-opacity-20 py-2 px-3 rounded-md",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-5 h-5 mr-2 rounded-md border-2 border-green-500 flex items-center justify-center bg-green-500",children:s.jsx(yt,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:"text-green-400 text-sm font-medium",children:x==="en"?"Version created successfully":"Verso criada com sucesso"})]})}),R==="error"&&s.jsx("div",{className:"flex items-center justify-center mb-2 bg-red-600 bg-opacity-20 py-2 px-3 rounded-md",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-5 h-5 mr-2 rounded-md border-2 border-red-500 flex items-center justify-center bg-red-500",children:s.jsx(Ye,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:"text-red-400 text-sm font-medium",children:x==="en"?`Error: ${X}`:`Erro: ${X}`})]})}),s.jsxs("button",{onClick:Ae,disabled:!pe,className:`w-full py-2 px-4 rounded-md flex items-center justify-center space-x-2 ${pe?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[s.jsx(ts,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:x==="en"?"Create New Version with AI":"Criar Nova Verso com IA"})]}),s.jsxs("button",{onClick:Qe,disabled:!pe||!t,className:`w-full py-2 px-4 rounded-md flex items-center justify-center space-x-2 ${pe&&t?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[s.jsx(Xh,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:x==="en"?`Optimize ${r?`"${r}"`:"This Robot"} ${it?`(${it})`:""}`:`Otimizar ${r?`"${r}"`:"Este Rob"} ${it?`(${it})`:""}`})]}),k&&s.jsxs("button",{onClick:xn,disabled:!pe,className:`w-full py-2 px-4 rounded-md flex items-center justify-center space-x-2 ${pe?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[s.jsx(ht,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:x==="en"?"Fix Non-Functional Code":"Corrigir Cdigo No Funcional"})]}),!pe&&s.jsxs("div",{className:"text-xs text-yellow-500 text-center mt-1 flex items-center justify-center",children:[s.jsx(uh,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:x==="en"?"Not enough tokens (500 required)":"Tokens insuficientes (500 necessrios)"})]})]})};return s.jsxs("div",{className:"flex flex-col h-full bg-gray-900",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(rl,{className:"w-5 h-5 text-blue-500 mr-2"}),s.jsx("h3",{className:"font-medium",children:v("ai.title")})]}),s.jsx(Oc,{})]}),s.jsxs("div",{ref:f,className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"calc(100vh - 280px)"},children:[a.length===0?s.jsxs("div",{className:"text-center text-gray-400 py-8",children:[s.jsx("p",{className:"mb-2",children:x==="en"?"Hi! I'm your AI trading assistant.":"Ol! Sou seu assistente de trading com IA."}),s.jsx("p",{className:"text-sm",children:x==="en"?"Try asking me to:":"Tente me pedir para:"}),s.jsxs("ul",{className:"mt-4 space-y-2 text-sm",children:[s.jsx("li",{children:x==="en"?"Create a trading bot that uses RSI for trend following":"Criar nova verso utilizando RSI para seguir tendncias"}),s.jsx("li",{children:x==="en"?"Generate a mean reversion strategy with Bollinger Bands":"Criar nova verso com estratgia de reverso  mdia com Bandas de Bollinger"}),s.jsx("li",{children:x==="en"?"Build a breakout trading system with proper risk management":"Criar nova verso com sistema de trading de rompimento com gerenciamento de risco adequado"})]}),s.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 max-w-sm mx-auto",children:[s.jsxs("button",{onClick:Ae,disabled:((p==null?void 0:p.token_balance)||0)<500,className:`w-full py-3 px-4 rounded-md flex items-center justify-center space-x-2 ${((p==null?void 0:p.token_balance)||0)>=500?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[s.jsx(ts,{className:"w-5 h-5 mr-1"}),s.jsx("span",{className:"font-medium",children:x==="en"?"Create New Version with AI":"Criar Nova Verso com IA"})]}),t&&s.jsxs("button",{onClick:Qe,disabled:((p==null?void 0:p.token_balance)||0)<500,className:`w-full py-3 px-4 rounded-md flex items-center justify-center space-x-2 ${((p==null?void 0:p.token_balance)||0)>=500?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[s.jsx(Xh,{className:"w-5 h-5 mr-1"}),s.jsx("span",{className:"font-medium",children:x==="en"?`Optimize ${r?`"${r}"`:"This Robot"} ${E?`(${E})`:""}`:`Otimizar ${r?`"${r}"`:"Este Rob"} ${E?`(${E})`:""}`})]}),k&&s.jsxs("button",{onClick:xn,disabled:((p==null?void 0:p.token_balance)||0)<500,className:`w-full py-3 px-4 rounded-md flex items-center justify-center space-x-2 ${((p==null?void 0:p.token_balance)||0)>=500?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[s.jsx(ht,{className:"w-5 h-5 mr-1"}),s.jsx("span",{className:"font-medium",children:x==="en"?"Fix Non-Functional Code":"Corrigir Cdigo No Funcional"})]}),((p==null?void 0:p.token_balance)||0)<500&&s.jsxs("div",{className:"text-xs text-yellow-500 text-center mt-1 flex items-center justify-center",children:[s.jsx(uh,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:x==="en"?"Not enough tokens (500 required)":"Tokens insuficientes (500 necessrios)"})]})]})]}):a.map((oe,pe)=>s.jsx("div",{className:`flex ${oe.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${oe.role==="user"?"bg-blue-600 text-white":"bg-gray-800 text-gray-100"}`,children:[s.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:oe.content}),oe.role==="assistant"&&Zs(pe)]})},pe)),s.jsx("div",{ref:m})]}),K&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full p-6 shadow-xl",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(Pt,{className:"w-12 h-12 text-blue-500"})}),s.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:w==="create"?"Detalhes para Criao do Rob":"Detalhes para Otimizao do Rob"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Estratgias Prontas"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:w==="create"?fe.map(oe=>s.jsxs("button",{type:"button",onClick:()=>Qa(oe.id),className:"flex items-center p-3 bg-gray-700 hover:bg-gray-600 rounded-md text-left",children:[s.jsx("div",{className:"bg-blue-600 rounded-full p-2 mr-3",children:oe.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:oe.name}),s.jsx("p",{className:"text-xs text-gray-400",children:oe.description})]})]},oe.id)):_e.map(oe=>s.jsxs("button",{type:"button",onClick:()=>Qa(oe.id),className:"flex items-center p-3 bg-gray-700 hover:bg-gray-600 rounded-md text-left",children:[s.jsx("div",{className:"bg-blue-600 rounded-full p-2 mr-3",children:oe.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:oe.name}),s.jsx("p",{className:"text-xs text-gray-400",children:oe.description})]})]},oe.id))})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Estratgia"}),s.jsxs("select",{value:W.strategy,onChange:oe=>te({...W,strategy:oe.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione uma estratgia"}),ne.map(oe=>s.jsx("option",{value:oe,children:oe},oe))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Perodos (Timeframes)"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:G.map(oe=>s.jsx("button",{type:"button",onClick:()=>Jd(oe.id),className:`px-3 py-1.5 rounded-md text-sm ${W.timeframes.includes(oe.id)?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:oe.name},oe.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ativos"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:ue.map(oe=>s.jsx("button",{type:"button",onClick:()=>Ji(oe),className:`px-3 py-1.5 rounded-md text-sm ${W.assets.includes(oe)?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:oe},oe))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nvel de Risco"}),s.jsx("div",{className:"flex gap-3",children:se.map(oe=>s.jsx("button",{type:"button",onClick:()=>te({...W,riskLevel:oe}),className:`px-3 py-1.5 rounded-md text-sm flex-1 ${W.riskLevel===oe?"bg-yellow-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:oe},oe))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Detalhes Adicionais"}),s.jsx("textarea",{value:W.additionalDetails,onChange:oe=>te({...W,additionalDetails:oe.target.value}),placeholder:"Descreva detalhes especficos para seu rob...",rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:()=>Y(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-md",children:"Cancelar"}),s.jsx("button",{onClick:ss,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md",children:"Gerar Rob"})]})]})}),he&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full p-6 shadow-xl",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(ht,{className:"w-12 h-12 text-yellow-500"})}),s.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:"Corrigir Cdigo No Funcional"}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Descrio do Problema"}),s.jsx("textarea",{value:L,onChange:oe=>H(oe.target.value),placeholder:"Descreva o problema com o cdigo atual (erros, comportamento inesperado, etc.)",rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Cdigo Atual"}),s.jsx("div",{className:"bg-gray-900 p-3 rounded-lg max-h-48 overflow-y-auto",children:s.jsx("pre",{className:"text-xs text-gray-300 whitespace-pre-wrap",children:k})})]})]}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:()=>be(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-md",children:"Cancelar"}),s.jsxs("button",{onClick:Tt,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-md flex items-center",children:[s.jsx(ht,{className:"w-4 h-4 mr-2"}),"Corrigir Cdigo"]})]})]})}),U&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 shadow-xl",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(rl,{className:"w-12 h-12 text-blue-500"})}),s.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:x==="en"?"Send Message to AI Assistant?":"Enviar Mensagem para o Assistente de IA?"}),s.jsx("p",{className:"mt-2 text-gray-400 text-center mb-4",children:x==="en"?"This will use 500 tokens from your balance.":"Isso usar 500 tokens do seu saldo."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsxs("button",{onClick:Fn,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md flex items-center",children:[s.jsx(sx,{className:"w-4 h-4 mr-2"}),x==="en"?"Send":"Enviar"]}),s.jsxs("button",{onClick:Rl,className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-2 rounded-md flex items-center",children:[s.jsx(Ye,{className:"w-4 h-4 mr-2"}),x==="en"?"Cancel":"Cancelar"]})]})]})}),s.jsx("div",{className:"p-4 border-t border-gray-800",children:s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsx("textarea",{name:"chatInput",value:o,onChange:oe=>l(oe.target.value),placeholder:x==="en"?"Type your message...":"Digite sua mensagem...",className:"w-full bg-gray-800 text-white rounded-md px-4 py-3 min-h-[80px] max-h-[150px] resize-y",disabled:c,rows:3}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-xs text-gray-400",children:x==="en"?"Each message costs 500 tokens":"Cada mensagem custa 500 tokens"}),s.jsx("button",{type:"submit",onClick:yn,disabled:c||!o.trim(),className:`px-4 py-2 rounded-md flex items-center ${c||!o.trim()?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:c?s.jsx(nx,{className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(sx,{className:"w-5 h-5 mr-2"}),x==="en"?"Send":"Enviar"]})})]})]})})]})}function y8({onClose:e}){const[t,r]=g.useState(!0),[n,a]=g.useState(0),[i,o]=g.useState(!1);g.useEffect(()=>{localStorage.getItem("assistantDismissed")==="true"?(o(!0),r(!1)):r(!0)},[]);const l=()=>{r(!1),e&&e()},c=()=>{r(!1),o(!0),localStorage.setItem("assistantDismissed","true"),e&&e()},d=[{title:"Bem-vindo ao DevHub Trader!",content:"Crie e gerencie seus robs de trading com facilidade. Vamos conhecer as principais funcionalidades da plataforma.",icon:s.jsx(wa,{className:"w-8 h-8 text-blue-500"})},{title:"Crie seu rob sozinho ou com amigos",content:"Desenvolva robs de trading individualmente ou colabore em tempo real com outros usurios. Compartilhe seus projetos facilmente.",icon:s.jsx(bs,{className:"w-8 h-8 text-green-500"})},{title:"Use a IA ou programe no editor",content:"Utilize nosso assistente de IA para criar estratgias automaticamente ou programe diretamente no editor avanado com suporte a NTSL.",icon:s.jsx(ht,{className:"w-8 h-8 text-purple-500"})},{title:"Faa reload de tokens e crie robs no automtico",content:"Recarregue tokens para utilizar recursos de IA e crie robs automaticamente com base em suas necessidades de trading.",icon:s.jsx(We,{className:"w-8 h-8 text-yellow-500"})}];return i?s.jsx("button",{onClick:()=>{o(!1),r(!0),localStorage.removeItem("assistantDismissed")},className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg z-50 flex items-center justify-center","aria-label":"Open assistant",children:s.jsx(hh,{className:"w-6 h-6"})}):t?s.jsx("div",{className:"fixed bottom-6 right-6 z-50 max-w-sm w-full",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl border border-gray-700 overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-900 px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(rl,{className:"w-5 h-5 text-blue-500 mr-2"}),s.jsx("h3",{className:"font-medium text-white",children:"Assistente da Plataforma"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white","aria-label":"Dismiss assistant",title:"No mostrar novamente",children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsx("button",{onClick:l,className:"text-gray-400 hover:text-white","aria-label":"Minimize assistant",title:"Minimizar",children:s.jsx(hh,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-5",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:d[n].icon}),s.jsx("h4",{className:"text-lg font-semibold text-center mb-3",children:d[n].title}),s.jsx("p",{className:"text-gray-300 text-center mb-6",children:d[n].content}),s.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:d.map((u,h)=>s.jsx("button",{onClick:()=>a(h),className:`w-2 h-2 rounded-full ${n===h?"bg-blue-500":"bg-gray-600"}`,"aria-label":`Go to step ${h+1}`},h))}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:()=>a(u=>Math.max(0,u-1)),disabled:n===0,className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),n<d.length-1?s.jsx("button",{onClick:()=>a(u=>Math.min(d.length-1,u+1)),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 rounded text-sm",children:"Prximo"}):s.jsx("button",{onClick:l,className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 rounded text-sm",children:"Entendi!"})]})]})]})}):s.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg z-50 flex items-center justify-center","aria-label":"Open assistant",children:s.jsx(hh,{className:"w-6 h-6"})})}function ns(){const e=At(),t=af(),[r,n]=g.useState(!1),[a,i]=g.useState(!1),{signOut:o,profile:l}=Lt(),{t:c}=Ys(),d=["pedropardal04@gmail.com","profitestrategista@gmail.com"],u=(l==null?void 0:l.email)&&d.includes(l.email),h=p=>t.pathname===p,m=(p,y)=>{y.preventDefault(),window.open(p,"_blank")},f=[{path:"/dashboard",label:"Dashboard",icon:s.jsx(or,{className:"w-5 h-5"}),external:!1},{path:"/robots",label:c("nav.robots"),icon:s.jsx(ht,{className:"w-5 h-5"}),external:!1},{path:"/experts",label:c("nav.experts"),icon:s.jsx(uv,{className:"w-5 h-5"}),external:!1},{path:"/backtest-analysis",label:"Backtest Analysis",icon:s.jsx(C6,{className:"w-5 h-5"}),external:!1}];return s.jsxs("nav",{className:"bg-gray-900 border-b border-gray-800",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center cursor-pointer",onClick:()=>e("/"),children:[s.jsx(ht,{className:"h-8 w-8 text-blue-500"}),s.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"DevHub Trader"})]}),s.jsx("div",{className:"hidden md:block ml-10",children:s.jsx("div",{className:"flex items-center space-x-4",children:f.map(p=>s.jsxs("button",{onClick:y=>{p.external?m(p.path,y):(e(p.path),n(!1))},className:`px-3 py-2 rounded-md text-sm font-medium flex items-center space-x-2 ${h(p.path)&&!p.external?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[p.icon,s.jsx("span",{children:p.label}),p.external&&s.jsx(As,{className:"w-3 h-3 ml-1"})]},p.path))})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"hidden md:flex",children:s.jsx(Oc,{})}),s.jsx("div",{className:"hidden md:flex",children:s.jsx(ax,{})}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>i(!a),className:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-700 text-white px-3 py-2 rounded-md",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden",children:l!=null&&l.avatar_url?s.jsx("img",{src:l.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):s.jsx(vs,{className:"w-4 h-4 text-gray-400"})})}),a&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-50",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:(l==null?void 0:l.name)||"User"}),s.jsx("p",{className:"text-xs text-gray-400 truncate",children:l==null?void 0:l.email}),s.jsxs("div",{className:"mt-1 flex items-center",children:[s.jsx(Oc,{showLabel:!1}),s.jsx("span",{className:"ml-1 text-xs text-gray-400",children:"tokens"})]})]}),s.jsxs("button",{onClick:()=>{e("/profile"),i(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[s.jsx(vs,{className:"w-4 h-4 mr-2"}),c("nav.profile")]}),s.jsxs("button",{onClick:()=>{e("/subscription"),i(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[s.jsx(ys,{className:"w-4 h-4 mr-2"}),c("nav.subscription")]}),u&&s.jsxs("button",{onClick:()=>{e("/admin"),i(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[s.jsx(mv,{className:"w-4 h-4 mr-2"}),"Admin Panel"]}),s.jsxs("button",{onClick:()=>o(),className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[s.jsx(I6,{className:"w-4 h-4 mr-2"}),c("nav.signOut")]})]})]}),s.jsx("div",{className:"md:hidden",children:s.jsx("button",{onClick:()=>n(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none",children:r?s.jsx(Ye,{className:"block h-6 w-6"}):s.jsx(F6,{className:"block h-6 w-6"})})})]})]})}),r&&s.jsx("div",{className:"md:hidden",children:s.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[f.map(p=>s.jsxs("button",{onClick:y=>{p.external?m(p.path,y):(e(p.path),n(!1))},className:`w-full text-left px-3 py-2 rounded-md text-base font-medium flex items-center space-x-3 ${h(p.path)&&!p.external?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[p.icon,s.jsx("span",{children:p.label}),p.external&&s.jsx(As,{className:"w-3 h-3 ml-1"})]},p.path)),s.jsxs("button",{onClick:p=>m("https://profitestrategista.com.br/robots",p),className:"w-full text-left px-3 py-2 rounded-md text-base font-medium flex items-center space-x-3 bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(U6,{className:"w-5 h-5"}),s.jsx("span",{children:"Opcionais"}),s.jsx(As,{className:"w-3 h-3 ml-1"})]}),s.jsx("div",{className:"pt-4 pb-3 border-t border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between px-3",children:[s.jsx(Oc,{}),s.jsx(ax,{})]})})]})})]})}function v8({robotId:e,versionId:t,versionName:r,description:n,tags:a,createdAt:i,createdBy:o,onUpdate:l}){const[c,d]=g.useState(!1),[u,h]=g.useState(n),[m,f]=g.useState(a),[p,y]=g.useState(!1),[v,x]=g.useState(!1),[b,j]=g.useState(!1),[N,w]=g.useState(""),[_,k]=g.useState(""),[S,E]=g.useState(""),[P,C]=g.useState(!1),[A,O]=g.useState(!1),[$,L]=g.useState(!1),H=["trailing","sem-trailing","tendencia","reversao","medias-moveis","rompimento","volatilidade-alta","volatilidade-baixa","correlacao","alvo-longo","alvo-curto","hft","scalping","intraday","swing"],U=[{id:"M1",name:"1 minuto"},{id:"M5",name:"5 minutos"},{id:"M15",name:"15 minutos"},{id:"M30",name:"30 minutos"},{id:"H1",name:"1 hora"},{id:"H4",name:"4 horas"},{id:"D1",name:"1 dia"},{id:"W1",name:"1 semana"}],T=["WINFUT","WDOFUT","PETR4","VALE3","ITUB4","BBDC4","ABEV3","MGLU3","BOVA11"];g.useEffect(()=>{h(n),f(a)},[n,a]);const M=I=>{if(!I)return"";const Q=new Date(I);return new Intl.DateTimeFormat("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(Q)},z=()=>m.filter(I=>I.startsWith("tf-")).map(I=>{const Q=I.replace("tf-","").toUpperCase(),re=U.find(he=>he.id===Q);return{id:Q,name:re?re.name:Q}}),B=()=>m.filter(I=>I.startsWith("ativo-")).map(I=>I.replace("ativo-","").toUpperCase()),F=()=>m.filter(I=>!I.startsWith("tf-")&&!I.startsWith("ativo-")),K=async()=>{x(!0);try{await l({description:u,tags:m}),d(!1)}catch(I){console.error("Error updating robot info:",I)}finally{x(!1)}},Y=()=>{h(n),f(a),d(!1)},W=I=>{m.includes(I)?f(m.filter(Q=>Q!==I)):f([...m,I])},te=I=>{const Q=`tf-${I.toLowerCase()}`;m.includes(Q)?f(m.filter(re=>re!==Q)):f([...m,Q])},ie=I=>{const Q=`ativo-${I.toLowerCase()}`;m.includes(Q)?f(m.filter(re=>re!==Q)):f([...m,Q])},D=()=>{N.trim()&&!m.includes(N.trim())&&(f([...m,N.trim()]),w(""),C(!1))},R=()=>{if(_.trim()){const I=`tf-${_.trim().toLowerCase()}`;m.includes(I)||(f([...m,I]),k(""),O(!1))}},q=()=>{if(S.trim()){const I=`ativo-${S.trim().toLowerCase()}`;m.includes(I)||(f([...m,I]),E(""),L(!1))}},X=async()=>{try{const I=`Informaes da Verso

Nome: ${r}
Criada em: ${M(i)}
Criada por: ${o?"Usurio":"IA"}
Descrio completa: ${n}
Tags: ${a.join(", ")}
`;await navigator.clipboard.writeText(I),j(!0),setTimeout(()=>{j(!1)},2e3);const Q=document.createElement("div");Q.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",Q.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Informaes da verso copiadas para a rea de transferncia!
      `,document.body.appendChild(Q),setTimeout(()=>{document.body.removeChild(Q)},3e3)}catch(I){console.error("Failed to copy version info:",I),alert("Falha ao copiar informaes da verso")}};return s.jsxs("div",{className:"bg-gray-800 px-4 py-2 border-b border-gray-700 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ho,{className:"w-4 h-4 text-blue-400 mr-2"}),s.jsx("h3",{className:"font-medium text-white",children:"Informaes da Verso"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:Y,className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Cancelar edio",children:s.jsx(Ye,{className:"w-4 h-4"})}),s.jsx("button",{onClick:K,className:"p-1 hover:bg-gray-700 rounded text-blue-400 hover:text-blue-300",title:"Salvar alteraes",disabled:v,children:v?s.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}):s.jsx(id,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>d(!0),className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Editar informaes",children:s.jsx(Yh,{className:"w-4 h-4"})}),s.jsx("button",{onClick:X,className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Copiar informaes",children:b?s.jsx(yt,{className:"w-4 h-4 text-green-500"}):s.jsx(_6,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>y(!p),className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:p?"Recolher painel":"Expandir painel",children:p?s.jsx(at,{className:"w-4 h-4"}):s.jsx(He,{className:"w-4 h-4"})})]})})]}),s.jsx("div",{className:"mt-2 p-3 bg-gray-700 rounded-md",children:c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:u,onChange:I=>h(I.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-md px-3 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva esta verso do rob..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Perodos (Timeframes)"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:U.map(I=>s.jsxs("button",{type:"button",onClick:()=>te(I.id),className:`px-2 py-1 rounded-md text-xs flex items-center ${m.includes(`tf-${I.id.toLowerCase()}`)?"bg-purple-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-600"}`,children:[s.jsx(Br,{className:"w-3 h-3 mr-1"}),I.name]},I.id))}),A?s.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[s.jsx("input",{type:"text",value:_,onChange:I=>k(I.target.value),placeholder:"Perodo personalizado",className:"flex-1 bg-gray-800 border border-gray-600 rounded-l-md px-3 py-1.5 text-white text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:R,disabled:!_.trim(),className:"bg-purple-600 hover:bg-purple-700 text-white px-2 py-1.5 rounded-r-md text-xs disabled:opacity-50",children:"Adicionar"}),s.jsx("button",{type:"button",onClick:()=>O(!1),className:"bg-gray-800 hover:bg-gray-600 text-white px-2 py-1.5 rounded-md text-xs",children:"Cancelar"})]}):s.jsxs("button",{type:"button",onClick:()=>O(!0),className:"text-purple-400 hover:text-purple-300 text-xs flex items-center mb-2",children:[s.jsx(ts,{className:"w-3 h-3 mr-1"}),"Adicionar Perodo Personalizado"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Ativos"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:T.map(I=>s.jsxs("button",{type:"button",onClick:()=>ie(I),className:`px-2 py-1 rounded-md text-xs flex items-center ${m.includes(`ativo-${I.toLowerCase()}`)?"bg-green-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-600"}`,children:[s.jsx(Mn,{className:"w-3 h-3 mr-1"}),I]},I))}),$?s.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[s.jsx("input",{type:"text",value:S,onChange:I=>E(I.target.value),placeholder:"Ativo personalizado",className:"flex-1 bg-gray-800 border border-gray-600 rounded-l-md px-3 py-1.5 text-white text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:q,disabled:!S.trim(),className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1.5 rounded-r-md text-xs disabled:opacity-50",children:"Adicionar"}),s.jsx("button",{type:"button",onClick:()=>L(!1),className:"bg-gray-800 hover:bg-gray-600 text-white px-2 py-1.5 rounded-md text-xs",children:"Cancelar"})]}):s.jsxs("button",{type:"button",onClick:()=>L(!0),className:"text-green-400 hover:text-green-300 text-xs flex items-center mb-2",children:[s.jsx(ts,{className:"w-3 h-3 mr-1"}),"Adicionar Ativo Personalizado"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:H.map(I=>s.jsx("button",{type:"button",onClick:()=>W(I),className:`px-2 py-1 rounded-md text-xs ${m.includes(I)?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-600"}`,children:I},I))}),P?s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"text",value:N,onChange:I=>w(I.target.value),placeholder:"Tag personalizada",className:"flex-1 bg-gray-800 border border-gray-600 rounded-l-md px-3 py-1.5 text-white text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:D,disabled:!N.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1.5 rounded-r-md text-xs disabled:opacity-50",children:"Adicionar"}),s.jsx("button",{type:"button",onClick:()=>C(!1),className:"bg-gray-800 hover:bg-gray-600 text-white px-2 py-1.5 rounded-md text-xs",children:"Cancelar"})]}):s.jsxs("button",{type:"button",onClick:()=>C(!0),className:"text-blue-400 hover:text-blue-300 text-xs flex items-center",children:[s.jsx(ts,{className:"w-3 h-3 mr-1"}),"Adicionar Tag Personalizada"]})]})]}):s.jsxs("div",{className:`space-y-2 ${p?"":"max-h-32 overflow-hidden"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Criada em:"}),s.jsx("p",{className:"text-sm",children:M(i)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Criada por:"}),s.jsx("p",{className:"text-sm",children:o?"Usurio":"IA"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Descrio:"}),s.jsx("p",{className:"text-sm whitespace-pre-line",children:n})]}),z().length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Perodos:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:z().map(I=>s.jsxs("span",{className:"px-2 py-0.5 text-xs bg-purple-900 text-purple-300 rounded flex items-center",children:[s.jsx(Br,{className:"w-3 h-3 mr-1"}),I.name]},I.id))})]}),B().length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Ativos:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:B().map(I=>s.jsxs("span",{className:"px-2 py-0.5 text-xs bg-green-900 text-green-300 rounded flex items-center",children:[s.jsx(Mn,{className:"w-3 h-3 mr-1"}),I]},I))})]}),F().length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Tags:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:F().map(I=>s.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-900 text-blue-300 rounded",children:I},I))})]})]})})]})}function b8({robotId:e,robotName:t}){g.useState(!1);const[r,n]=g.useState(null),[a,i]=g.useState(null),[o,l]=g.useState(!0),[c,d]=g.useState(!0),[u,h]=g.useState(!0);Lt();const{versions:m,loadVersions:f}=vl(),[p,y]=g.useState(!1);g.useEffect(()=>{e&&f(e)},[e,f]);const v=async()=>{y(!0),n(null);try{if(!m.length)throw new Error("Nenhuma verso encontrada para este rob");const _=m[0].code,k=`
Analise o seguinte cdigo de rob de trading chamado "${t}" e fornea uma anlise tcnica detalhada com base na estratgia implementada.

Cdigo do rob:
\`\`\`
${_}
\`\`\`

Fornea as seguintes mtricas em formato de texto:
- Profit Factor (estimativa)
- Win Rate (estimativa em %)
- Payoff (estimativa)
- Max Drawdown (estimativa em %)
- Sharpe Ratio (estimativa)
- Total Trades (estimativa)
- Average Trade (estimativa)
- Expectancy (estimativa)
- Recovery Factor (estimativa)
- Max Consecutive Losses (estimativa)
- Time in Market (estimativa em %)
- Profitability (estimativa em %)
- Volatility (estimativa em %)
- Best Timeframe
- Best Assets (2-3 ativos)
- Best Market Conditions (2-4 condies)
- Worst Market Conditions (2-4 condies)
- Risk Level (Baixo, Mdio ou Alto)

Baseie suas estimativas na anlise do cdigo, considerando os indicadores utilizados, regras de entrada e sada, gerenciamento de risco e outras caractersticas da estratgia.

Fornea uma anlise estruturada com sees claras para cada mtrica.
`,E=(await nn.chat.completions.create({model:"gpt-4",messages:[{role:"assistant",content:"Voc  um especialista em anlise de robs de trading. Sua tarefa  analisar o cdigo do rob e fornecer mtricas tcnicas estimadas com base na estratgia implementada."},{role:"user",content:k}],temperature:.7})).choices[0].message.content;if(!E)throw new Error("Resposta vazia da API");try{const P=x(E);i(P)}catch(P){throw console.error("Error parsing response:",P),new Error("Erro ao processar a resposta da anlise")}}catch(w){console.error("Error generating technical info:",w),n(w instanceof Error?w.message:"Erro ao gerar informaes tcnicas")}finally{y(!1)}};function x(w){console.log("Extracting metrics from text:",w);const _={profitFactor:0,winRate:0,payoff:0,maxDrawdown:0,sharpeRatio:0,totalTrades:0,averageTrade:0,expectancy:0,recoveryFactor:0,maxConsecutiveLosses:0,timeInMarket:0,profitability:0,volatility:0,bestTimeframe:"",bestAssets:[],bestMarketConditions:[],worstMarketConditions:[],riskLevel:"Mdio"},k=w.match(/profit\s*factor\s*:?\s*([\d\.\-]+)/i);k&&(_.profitFactor=parseFloat(k[1]));const S=w.match(/win\s*rate\s*:?\s*([\d\.\-]+)%?/i);S&&(_.winRate=parseFloat(S[1]));const E=w.match(/payoff\s*:?\s*([\d\.\-]+)/i);E&&(_.payoff=parseFloat(E[1]));const P=w.match(/max\s*drawdown\s*:?\s*([\d\.\-]+)%?/i);P&&(_.maxDrawdown=parseFloat(P[1]));const C=w.match(/sharpe\s*ratio\s*:?\s*([\d\.\-]+)/i);C&&(_.sharpeRatio=parseFloat(C[1]));const A=w.match(/total\s*trades\s*:?\s*(\d+)/i);A&&(_.totalTrades=parseInt(A[1]));const O=w.match(/average\s*trade\s*:?\s*([\d\.\-]+)/i);O&&(_.averageTrade=parseFloat(O[1]));const $=w.match(/expectancy\s*:?\s*([\d\.\-]+)/i);$&&(_.expectancy=parseFloat($[1]));const L=w.match(/recovery\s*factor\s*:?\s*([\d\.\-]+)/i);L&&(_.recoveryFactor=parseFloat(L[1]));const H=w.match(/max\s*consecutive\s*losses\s*:?\s*(\d+)/i);H&&(_.maxConsecutiveLosses=parseInt(H[1]));const U=w.match(/time\s*in\s*market\s*:?\s*([\d\.\-]+)%?/i);U&&(_.timeInMarket=parseFloat(U[1]));const T=w.match(/profitability\s*:?\s*([\d\.\-]+)%?/i);T&&(_.profitability=parseFloat(T[1]));const M=w.match(/volatility\s*:?\s*([\d\.\-]+)%?/i);M&&(_.volatility=parseFloat(M[1]));const z=w.match(/best\s*timeframe\s*:?\s*([^\n,\.]+)/i);z&&(_.bestTimeframe=z[1].trim());const B=w.match(/best\s*assets\s*:?\s*([\s\S]*?)(?=best\s*market|worst\s*market|risk\s*level|$)/i);if(B){const W=B[1].match(/[-*]\s*([^\n]+)/g);if(W)_.bestAssets=W.map(te=>te.replace(/[-*]\s*/,"").trim()).filter(te=>te.length>0);else{const te=B[1].trim();te&&(_.bestAssets=te.split(/,\s*/).map(ie=>ie.trim()).filter(ie=>ie.length>0))}}const F=w.match(/best\s*market\s*conditions\s*:?\s*([\s\S]*?)(?=worst\s*market|risk\s*level|$)/i);if(F){const W=F[1].match(/[-*]\s*([^\n]+)/g);if(W)_.bestMarketConditions=W.map(te=>te.replace(/[-*]\s*/,"").trim()).filter(te=>te.length>0);else{const te=F[1].trim();te&&(_.bestMarketConditions=te.split(/,\s*/).map(ie=>ie.trim()).filter(ie=>ie.length>0))}}const K=w.match(/worst\s*market\s*conditions\s*:?\s*([\s\S]*?)(?=risk\s*level|$)/i);if(K){const W=K[1].match(/[-*]\s*([^\n]+)/g);if(W)_.worstMarketConditions=W.map(te=>te.replace(/[-*]\s*/,"").trim()).filter(te=>te.length>0);else{const te=K[1].trim();te&&(_.worstMarketConditions=te.split(/,\s*/).map(ie=>ie.trim()).filter(ie=>ie.length>0))}}const Y=w.match(/risk\s*level\s*:?\s*([^\n,\.]+)/i);return Y&&(_.riskLevel=Y[1].trim()),_.bestAssets.length===0&&(_.bestAssets=["WINFUT","WDOFUT"]),_.bestMarketConditions.length===0&&(_.bestMarketConditions=["Mercados em tendncia","Volatilidade moderada"]),_.worstMarketConditions.length===0&&(_.worstMarketConditions=["Mercados lateralizados","Volatilidade extrema"]),_.bestTimeframe||(_.bestTimeframe="M5"),_.profitFactor===0&&(_.profitFactor=1.5),_.winRate===0&&(_.winRate=50),_.payoff===0&&(_.payoff=1.2),_.maxDrawdown===0&&(_.maxDrawdown=15),_.totalTrades===0&&(_.totalTrades=100),_.averageTrade===0&&(_.averageTrade=10),_.expectancy===0&&(_.expectancy=.5),_.recoveryFactor===0&&(_.recoveryFactor=2),_.maxConsecutiveLosses===0&&(_.maxConsecutiveLosses=3),_.timeInMarket===0&&(_.timeInMarket=40),_.profitability===0&&(_.profitability=60),_.volatility===0&&(_.volatility=20),_}const b=()=>{if(!a)return;const w=`
# Ficha Tcnica do Rob: ${t}

## Mtricas de Performance
- Profit Factor: ${a.profitFactor.toFixed(2)}
- Payoff: ${a.payoff.toFixed(2)}
- Win Rate: ${a.winRate.toFixed(2)}%
- Total Trades: ${a.totalTrades}
- Average Win: ${a.averageWin.toFixed(2)}
- Average Loss: ${a.averageLoss.toFixed(2)}
- Max Drawdown: ${a.maxDrawdown.toFixed(2)}%
- Max Consecutive Losses: ${a.maxConsecutiveLosses}
- Sharpe Ratio: ${a.sharpeRatio.toFixed(2)}
- Recovery Factor: ${a.recoveryFactor.toFixed(2)}
- Expectancy: ${a.expectancy.toFixed(2)}
- Average Trade: ${a.averageTrade.toFixed(2)}
- Time in Market: ${a.timeInMarket.toFixed(2)}%

## Condies de Mercado
### Melhores Condies
${a.bestMarketConditions.map(E=>`- ${E}`).join(`
`)}

### Piores Condies
${a.worstMarketConditions.map(E=>`- ${E}`).join(`
`)}

## Informaes Adicionais
- Timeframe Ideal: ${a.bestTimeframe}
- Ativos Recomendados: ${a.bestAssets.join(", ")}
- Nvel de Risco: ${a.riskLevel}

Relatrio gerado em: ${new Date().toLocaleString()}
`,_=new Blob([w],{type:"text/plain"}),k=URL.createObjectURL(_),S=document.createElement("a");S.href=k,S.download=`ficha-tecnica-${t.replace(/\s+/g,"-").toLowerCase()}.txt`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(k)},j=(w,_=!1,k=2)=>w==null?"N/A":_?w>=70?`Excelente (${w.toFixed(k)}%)`:w>=55?`Bom (${w.toFixed(k)}%)`:w>=45?`Regular (${w.toFixed(k)}%)`:`Baixo (${w.toFixed(k)}%)`:w<=0?`Negativo (${w.toFixed(k)})`:w>=2?`Excelente (${w.toFixed(k)})`:w>=1.5?`Bom (${w.toFixed(k)})`:w>=1?`Aceitvel (${w.toFixed(k)})`:`Insuficiente (${w.toFixed(k)})`,N=(w,_)=>{switch(w){case"profitFactor":return _>=1.5?"text-green-500":_>=1?"text-yellow-500":"text-red-500";case"winRate":return _>=60?"text-green-500":_>=45?"text-yellow-500":"text-red-500";case"payoff":return _>=1.5?"text-green-500":_>=1?"text-yellow-500":"text-red-500";case"maxDrawdown":return _<=10?"text-green-500":_<=20?"text-yellow-500":"text-red-500";case"sharpeRatio":return _>=1?"text-green-500":_>=.5?"text-yellow-500":"text-red-500";case"recoveryFactor":return _>=3?"text-green-500":_>=1?"text-yellow-500":"text-red-500";case"expectancy":return _>=.5?"text-green-500":_>=0?"text-yellow-500":"text-red-500";case"profitability":return _>=60?"text-green-500":_>=40?"text-yellow-500":"text-red-500";default:return"text-gray-300"}};return s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(or,{className:"w-5 h-5 text-blue-400 mr-2"}),s.jsx("h3",{className:"font-medium",children:"Ficha Tcnica do Rob"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:b,className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Baixar ficha tcnica",children:s.jsx(Wi,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>l(!o),className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:o?"Ocultar detalhes":"Mostrar detalhes",children:o?s.jsx(at,{className:"w-4 h-4"}):s.jsx(He,{className:"w-4 h-4"})})]}):s.jsx("button",{onClick:v,disabled:p,className:`px-3 py-1.5 rounded-md text-sm flex items-center ${p?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:p?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"w-4 h-4 mr-1.5 animate-spin"}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(We,{className:"w-4 h-4 mr-1.5"}),"Gerar Ficha Tcnica"]})})})]}),r&&s.jsxs("div",{className:"p-4 bg-red-500 bg-opacity-10 border-b border-red-500 flex items-center",children:[s.jsx(ut,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-red-500",children:r})]}),a&&o&&s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-medium mb-3 flex items-center",children:[s.jsx(tl,{className:"w-4 h-4 text-yellow-500 mr-2"}),"Mtricas de Performance"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),s.jsx("p",{className:`text-lg font-bold ${N("profitFactor",a.profitFactor)}`,children:j(a.profitFactor)})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),s.jsx("p",{className:`text-lg font-bold ${N("winRate",a.winRate)}`,children:j(a.winRate,!0)})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Payoff"}),s.jsx("p",{className:`text-lg font-bold ${N("payoff",a.payoff)}`,children:j(a.payoff)})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Drawdown Mx."}),s.jsx("p",{className:`text-lg font-bold ${N("maxDrawdown",a.maxDrawdown)}`,children:j(a.maxDrawdown,!0)})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-medium mb-3 flex items-center",children:[s.jsx(el,{className:"w-4 h-4 text-blue-500 mr-2"}),"Mtricas Adicionais"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Total de Trades"}),s.jsx("p",{className:"text-lg font-bold",children:a.totalTrades>100?`Alto Volume (${a.totalTrades})`:`Baixo Volume (${a.totalTrades})`})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Sharpe Ratio"}),s.jsx("p",{className:`text-lg font-bold ${N("sharpeRatio",a.sharpeRatio)}`,children:a.sharpeRatio>=1?`Excelente (${a.sharpeRatio.toFixed(2)})`:a.sharpeRatio>=.5?`Bom (${a.sharpeRatio.toFixed(2)})`:`Baixo (${a.sharpeRatio.toFixed(2)})`})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Expectativa"}),s.jsx("p",{className:`text-lg font-bold ${N("expectancy",a.expectancy)}`,children:a.expectancy>=.5?`Excelente (${a.expectancy.toFixed(2)})`:a.expectancy>=0?`Positivo (${a.expectancy.toFixed(2)})`:`Negativo (${a.expectancy.toFixed(2)})`})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Rentabilidade"}),s.jsx("p",{className:`text-lg font-bold ${N("profitability",a.profitability)}`,children:a.profitability>=60?`Excelente (${a.profitability.toFixed(2)}%)`:a.profitability>=40?`Bom (${a.profitability.toFixed(2)}%)`:`Baixo (${a.profitability.toFixed(2)}%)`})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"text-lg font-medium flex items-center",children:[s.jsx(Pt,{className:"w-4 h-4 text-green-500 mr-2"}),"Condies de Mercado"]}),s.jsx("button",{onClick:()=>d(!c),className:"p-1 hover:bg-gray-700 rounded",children:c?s.jsx(at,{className:"w-4 h-4 text-gray-400"}):s.jsx(He,{className:"w-4 h-4 text-gray-400"})})]}),c&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("h5",{className:"text-sm font-medium mb-2 text-green-400",children:"Melhores Condies"}),s.jsx("ul",{className:"space-y-1.5",children:a.bestMarketConditions.map((w,_)=>s.jsxs("li",{className:"flex items-start text-sm",children:[s.jsx(yt,{className:"w-4 h-4 text-green-500 mr-1.5 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:w})]},_))})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("h5",{className:"text-sm font-medium mb-2 text-red-400",children:"Piores Condies"}),s.jsx("ul",{className:"space-y-1.5",children:a.worstMarketConditions.map((w,_)=>s.jsxs("li",{className:"flex items-start text-sm",children:[s.jsx(Ye,{className:"w-4 h-4 text-red-500 mr-1.5 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:w})]},_))})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"text-lg font-medium flex items-center",children:[s.jsx(ut,{className:"w-4 h-4 text-yellow-500 mr-2"}),"Anlise de Risco"]}),s.jsx("button",{onClick:()=>h(!u),className:"p-1 hover:bg-gray-700 rounded",children:u?s.jsx(at,{className:"w-4 h-4 text-gray-400"}):s.jsx(He,{className:"w-4 h-4 text-gray-400"})})]}),u&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Nvel de Risco"}),s.jsx("div",{className:`inline-block px-2 py-1 rounded-full text-sm font-medium ${a.riskLevel.toLowerCase().includes("alto")?"bg-red-500 bg-opacity-20 text-red-400":a.riskLevel.toLowerCase().includes("mdio")?"bg-yellow-500 bg-opacity-20 text-yellow-400":"bg-green-500 bg-opacity-20 text-green-400"}`,children:a.riskLevel.toLowerCase()==="baixo"?"Baixo - Adequado para iniciantes":a.riskLevel.toLowerCase()==="mdio"?"Mdio - Para traders intermedirios":"Alto - Para traders experientes"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Timeframe Ideal"}),s.jsx("p",{className:"text-lg font-bold",children:a.bestTimeframe})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Ativos Recomendados"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.bestAssets.map((w,_)=>s.jsx("span",{className:"px-2 py-0.5 bg-blue-900 bg-opacity-50 rounded text-blue-300 text-xs",children:w},_))})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Volatilidade"}),s.jsx("p",{className:"text-lg font-bold",children:a.volatility>30?`Alta (${a.volatility.toFixed(2)}%)`:a.volatility<10?`Baixa (${a.volatility.toFixed(2)}%)`:`Mdia (${a.volatility.toFixed(2)}%)`})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Recuperao"}),s.jsx("p",{className:"text-lg font-bold",children:a.recoveryFactor>=3?`Excelente (${a.recoveryFactor.toFixed(2)})`:a.recoveryFactor>=1?`Bom (${a.recoveryFactor.toFixed(2)})`:`Insuficiente (${a.recoveryFactor.toFixed(2)})`})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mx. Perdas Consecutivas"}),s.jsx("p",{className:"text-lg font-bold",children:a.maxConsecutiveLosses>5?`Preocupante (${a.maxConsecutiveLosses})`:`Aceitvel (${a.maxConsecutiveLosses})`})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Tempo no Mercado"}),s.jsx("p",{className:"text-lg font-bold",children:a.timeInMarket>80?`Muito Exposto (${a.timeInMarket.toFixed(2)}%)`:a.timeInMarket<20?`Pouco Exposto (${a.timeInMarket.toFixed(2)}%)`:`Equilibrado (${a.timeInMarket.toFixed(2)}%)`})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Volatilidade"}),s.jsx("p",{className:"text-lg font-bold",children:a.volatility>30?`Alta (${a.volatility.toFixed(2)}%)`:a.volatility<10?`Baixa (${a.volatility.toFixed(2)}%)`:`Mdia (${a.volatility.toFixed(2)}%)`})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-900 bg-opacity-20 border border-blue-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(hh,{className:"w-5 h-5 text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("p",{className:"text-sm text-blue-300",children:[s.jsx("strong",{children:"Nota:"})," Estas mtricas so estimativas baseadas na anlise do cdigo do rob e podem variar dependendo das condies de mercado, configuraes e outros fatores. Recomendamos realizar backtests e testes em conta demo antes de utilizar o rob em operaes reais."]})]})})]})]})}function w8(){var ue;const{robotId:e}=uD(),t=At();g.useState(null),g.useState("dark");const[r,n]=g.useState("ntsl");g.useState(1);const[a,i]=g.useState(null),[o,l]=g.useState(!1);g.useState(!0);const[c,d]=g.useState(!1),[u,h]=g.useState(!1),[m,f]=g.useState(""),[p,y]=g.useState(""),[v,x]=g.useState(!1),[b,j]=g.useState(null);g.useState(!1);const[N,w]=g.useState(!1),[_,k]=g.useState(!1),[S,E]=g.useState(!0),[P,C]=g.useState([]),[A,O]=g.useState("");g.useState(!1);const[$,L]=g.useState(""),[H,U]=g.useState("");g.useState(!1);const[T,M]=g.useState(!1);Lt();const{robots:z,versions:B,currentVersion:F,loadVersions:K,createVersion:Y,updateVersion:W,loadRobots:te,renameRobot:ie}=vl(),{t:D}=Ys();g.useEffect(()=>{te()},[te]),g.useEffect(()=>{if(e){const ne=z.find(se=>se.id===e);ne&&(f(ne.name),K(e).then(se=>{if(se.length>0){const we=se[0];i(we.version_name),y(we.code),O(we.description||""),C(we.tags||[]),L(we.created_at),U(we.created_by||"")}}))}},[e,z]);const R=ne=>{y(ne)},q=async()=>{if(!e||!a){alert("Selecione um rob e uma verso para salvar");return}try{const ne=B.find(we=>we.version_name===a);if(!ne)throw new Error("Verso no encontrada");await W(ne.id,{code:p,updated_at:new Date().toISOString()});const se=document.createElement("div");se.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",se.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Verso salva com sucesso!
      `,document.body.appendChild(se),setTimeout(()=>{document.body.removeChild(se)},3e3)}catch(ne){console.error("Erro ao salvar rob:",ne),alert(ne instanceof Error?ne.message:"Erro ao salvar verso. Tente novamente.")}},X=ne=>{if(!B.some(Ae=>Ae.version_name===ne))return ne;let se=1,we=`${ne} (${se})`;for(;B.some(Ae=>Ae.version_name===we);)se++,we=`${ne} (${se})`;return we},I=async(ne,se,we)=>{if(!e){alert("Rob no encontrado. Por favor, selecione um rob vlido");return}try{const Ae=X(ne);if(!await Y(e,Ae,p,se,we))throw new Error("Falha ao criar verso");d(!1),i(Ae),await K(e),alert("Nova verso criada com sucesso!")}catch(Ae){const Qe=Ae instanceof Error?Ae.message:"Erro ao criar verso";alert(Qe)}},Q=async ne=>{if(i(ne),!e)return;const se=B.find(we=>we.version_name===ne);se&&(y(se.code),O(se.description||""),C(se.tags||[]),L(se.created_at),U(se.created_by||""))},re=async()=>{if(!e||!m.trim()){j("O nome do rob no pode estar vazio");return}x(!0),j(null);try{await ie(e,m.trim()),h(!1),await te()}catch(ne){console.error("Error renaming robot:",ne),j(ne instanceof Error?ne.message:"Erro ao renomear rob")}finally{x(!1)}},he=async()=>{try{await navigator.clipboard.writeText(p),k(!0),setTimeout(()=>k(!1),2e3);const ne=document.createElement("div");ne.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",ne.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Code copied to clipboard!
      `,document.body.appendChild(ne),setTimeout(()=>{document.body.removeChild(ne)},3e3)}catch(ne){console.error("Failed to copy code:",ne),alert("Failed to copy code to clipboard")}},be=()=>{const ne=new Blob([p],{type:"text/plain"}),se=URL.createObjectURL(ne),we=document.createElement("a");we.href=se,we.download=`${m}_${a||"latest"}.txt`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(se)},fe=async(ne,se,we)=>{if(y(ne),e)try{let Qe=`Verso ${B.length+1}`;Qe=X(Qe);const xn=se||"Verso gerada por IA",ss=we&&we.length>0?we:["tendencia"];if(await Y(e,Qe,ne,xn,ss)){i(Qe),await K(e),O(xn),C(ss),L(new Date().toISOString()),U("");const yn=document.createElement("div");yn.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",yn.innerHTML=`
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            Nova verso "${Qe}" criada automaticamente!
          `,document.body.appendChild(yn),setTimeout(()=>{document.body.removeChild(yn)},3e3)}}catch(Ae){console.error("Error creating version:",Ae);const Qe=document.createElement("div");Qe.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md z-50 flex items-center",Qe.innerHTML=`
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
          </svg>
          Erro ao salvar verso: ${Ae instanceof Error?Ae.message:"Erro desconhecido"}
        `,document.body.appendChild(Qe),setTimeout(()=>{document.body.removeChild(Qe)},5e3)}},_e=async ne=>{if(!e||!a){alert("Selecione um rob e uma verso para atualizar");return}try{const se=B.find(Ae=>Ae.version_name===a);if(!se)throw new Error("Verso no encontrada");await W(se.id,{description:ne.description,tags:ne.tags}),O(ne.description),C(ne.tags);const we=document.createElement("div");we.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",we.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Informaes da verso atualizadas com sucesso!
      `,document.body.appendChild(we),setTimeout(()=>{document.body.removeChild(we)},3e3),await K(e)}catch(se){console.error("Error updating version info:",se),alert(se instanceof Error?se.message:"Erro ao atualizar informaes da verso. Tente novamente.")}},G=e?z.find(ne=>ne.id===e):null;return G?s.jsxs("div",{className:"min-h-screen h-screen bg-[#1E1E1E] text-gray-100 flex flex-col overflow-hidden",children:[s.jsx(ns,{}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("div",{className:"w-112 border-r border-gray-800 flex flex-col",children:s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(x8,{onGenerateCode:fe,robotId:e,robotName:m,selectedVersion:a})})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"border-b border-gray-800 bg-gray-900 p-4 flex-shrink-0",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>t("/robots"),className:"p-2 hover:bg-gray-800 rounded-full",title:"Back to robots",children:s.jsx(Gs,{className:"w-5 h-5"})}),s.jsxs("button",{onClick:()=>t("/robots"),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2 text-sm",title:"View all robots",children:[s.jsx(O6,{className:"w-4 h-4"}),s.jsx("span",{children:D("nav.robots")})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[u?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",value:m,onChange:ne=>f(ne.target.value),className:"px-2 py-1 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),s.jsx("button",{onClick:()=>{h(!1),f(G.name)},className:"p-1 text-gray-400 hover:text-white",disabled:v,children:s.jsx(Ye,{className:"w-4 h-4"})}),s.jsx("button",{onClick:re,className:"p-1 text-blue-400 hover:text-blue-300",disabled:v,children:v?s.jsx(kr,{className:"w-4 h-4 animate-spin"}):s.jsx(yt,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h2",{className:"text-lg font-medium",children:m}),s.jsx("button",{onClick:()=>h(!0),className:"p-1 text-gray-400 hover:text-white",title:"Rename robot",children:s.jsx(Yh,{className:"w-4 h-4"})})]}),a&&s.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["(",a,")"]}),b&&s.jsx("span",{className:"text-sm text-red-500 ml-2",children:b})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:q,className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 rounded-md flex items-center space-x-2",title:"Save current version",disabled:!a,children:[s.jsx(id,{className:"w-4 h-4"}),s.jsx("span",{children:D("button.save")})]}),s.jsxs("button",{onClick:()=>d(!0),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center space-x-2",title:"Create new version",children:[s.jsx(ad,{className:"w-4 h-4"}),s.jsx("span",{children:D("button.newVersion")})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>w(!N),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2",title:"Export code",children:[s.jsx(S6,{className:"w-4 h-4"}),s.jsx("span",{children:D("button.export")}),s.jsx(He,{className:"w-4 h-4 ml-1"})]}),N&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10",children:[s.jsxs("button",{onClick:()=>{he(),w(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:[s.jsx(OS,{className:"w-4 h-4 mr-2"}),"Copy to Clipboard"]}),s.jsxs("button",{onClick:()=>{be(),w(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Download as File"]})]})]}),s.jsxs("button",{onClick:()=>l(!0),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2",title:"Share robot",children:[s.jsx(od,{className:"w-4 h-4"}),s.jsx("span",{children:D("button.share")})]}),s.jsx("button",{className:"p-2 hover:bg-gray-800 rounded-full",title:"Settings",children:s.jsx(mv,{className:"w-5 h-5 text-gray-400"})})]})]})}),T&&e&&s.jsx(b8,{robotId:e,robotName:m}),a&&s.jsx(v8,{robotId:e,versionId:((ue=B.find(ne=>ne.version_name===a))==null?void 0:ue.id)||null,versionName:a,description:A,tags:P,createdAt:$,createdBy:H,onUpdate:_e}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx("div",{className:"h-full",children:s.jsx(sL,{fileId:e,content:p,language:r,onContentChange:R,versions:B,selectedVersion:a,onVersionSelect:Q,showCreateVersionModal:c,setShowCreateVersionModal:d})})})]})]}),o&&s.jsx(iL,{isOpen:o,onClose:()=>l(!1),robotName:m}),c&&s.jsx(cL,{isOpen:c,onClose:()=>d(!1),onSave:I,existingVersions:B.map(ne=>ne.version_name),suggestedName:`v${B.length+1}.0.0`,suggestedDescription:A}),S&&s.jsx(y8,{onClose:()=>E(!1)})]}):s.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ut,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Robot Not Found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Select a robot from your list to start editing"}),s.jsxs("button",{onClick:()=>t("/robots"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg flex items-center mx-auto",children:[s.jsx(RS,{className:"w-5 h-5 mr-2"}),"My Robots"]})]})})}function j8({className:e=""}){const{robots:t,robotLimit:r}=vl(),{profile:n}=Lt(),{t:a,language:i}=Ys(),o=At(),l=t.length,c=l>=r*.8,d=l>=r,u=()=>Math.min(100,l/r*100),h=()=>{o("/subscription")};return s.jsxs("div",{className:`bg-gray-800 rounded-lg p-4 ${e}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("h3",{className:"font-medium text-white",children:i==="en"?"Robot Quota":"Cota de Robs"})}),(n==null?void 0:n.plan)&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(ys,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsx("span",{className:"text-sm text-gray-300",children:n.plan})]})]}),s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsxs("span",{className:"text-gray-400",children:[l," / ",r," ",i==="en"?"robots":"robs"]}),s.jsxs("span",{className:`${c?"text-yellow-400":d?"text-red-400":"text-green-400"}`,children:[u().toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${d?"bg-red-500":c?"bg-yellow-500":"bg-green-500"}`,style:{width:`${u()}%`}})})]}),c&&s.jsxs("div",{className:"mt-3",children:[d?s.jsxs("div",{className:"flex items-start text-xs text-red-400 mb-2",children:[s.jsx(sd,{className:"w-4 h-4 mr-1 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:i==="en"?"You have reached your robot limit. Upgrade your plan to create more robots.":"Voc atingiu seu limite de robs. Atualize seu plano para criar mais robs."})]}):s.jsxs("div",{className:"flex items-start text-xs text-yellow-400 mb-2",children:[s.jsx(sd,{className:"w-4 h-4 mr-1 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:i==="en"?"You are approaching your robot limit.":"Voc est se aproximando do seu limite de robs."})]}),s.jsx("button",{onClick:h,className:"w-full py-1.5 bg-blue-600 hover:bg-blue-700 rounded text-xs font-medium",children:i==="en"?"Upgrade Plan":"Atualizar Plano"})]})]})}function N8(){const e=At(),[t,r]=g.useState(""),[n,a]=g.useState("updated"),[i,o]=g.useState(!1),[l,c]=g.useState(!1),[d,u]=g.useState(""),[h,m]=g.useState(null),[f,p]=g.useState(null),[y,v]=g.useState(null),[x,b]=g.useState(!1);g.useState(!1);const[j,N]=g.useState(!1),{robots:w,loadRobots:_,createRobot:k,deleteRobot:S,renameRobot:E,isLoading:P,robotLimit:C,getRobotLimit:A}=vl(),{signOut:O,profile:$}=Lt(),{t:L,language:H}=Ys();g.useEffect(()=>{_(),A()},[_,A]);const U=async()=>{if(!d.trim()){p("Robot name cannot be empty");return}try{if(w.length>=C)throw new Error(`You have reached your limit of ${C} robots. Please upgrade your plan to create more robots.`);const Y=await k(d);Y&&(o(!1),u(""),v("Robot created successfully"),e(`/editor/${Y.id}`))}catch(Y){p(Y instanceof Error?Y.message:"Failed to create robot")}},T=async()=>{if(h){if(!d.trim()){p("Robot name cannot be empty");return}try{N(!0),await E(h.id,d),c(!1),m(null),u(""),v("Robot renamed successfully"),await _()}catch(Y){p(Y instanceof Error?Y.message:"Failed to rename robot")}finally{N(!1)}}},M=async Y=>{try{b(!0),await S(Y),v("Robot deleted successfully")}catch(W){p(W instanceof Error?W.message:"Failed to delete robot")}finally{b(!1)}},z=(Y,W,te)=>{te.stopPropagation(),e(`/editor/${Y}?action=export`)},B=()=>{window.open("https://buy.stripe.com/fZe5nX2320AB4EgfZC","_blank")},F=[...w].filter(Y=>Y.name.toLowerCase().includes(t.toLowerCase())).sort((Y,W)=>n==="name"?Y.name.localeCompare(W.name):new Date(W.created_at||"").getTime()-new Date(Y.created_at||"").getTime()),K=Y=>{if(!Y)return"";const W=new Date(Y),ie=Math.floor((new Date().getTime()-W.getTime())/(1e3*60*60*24));return ie===0?"Today":ie===1?"Yesterday":ie<7?`${ie} days ago`:W.toLocaleDateString()};return s.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[s.jsx(ns,{}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold",children:L("nav.robots")}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:B,className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md flex items-center",title:"Buy more tokens",children:[s.jsx(uh,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:H==="en"?"Buy Tokens":"Comprar Tokens"})]}),s.jsx("button",{onClick:()=>_(),className:"p-2 hover:bg-gray-800 rounded",title:"Refresh robots",children:s.jsx(kr,{className:`w-5 h-5 text-gray-400 ${P?"animate-spin":""}`})}),s.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",disabled:w.length>=C,children:[s.jsx(ts,{className:"w-4 h-4 mr-2"}),L("button.createRobot")]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsx(j8,{})}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"relative w-72",children:[s.jsx(Od,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search robots...",value:t,onChange:Y=>r(Y.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Sort by:"}),s.jsxs("select",{value:n,onChange:Y=>a(Y.target.value),className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"updated",children:"Last Updated"}),s.jsx("option",{value:"name",children:"Name"})]})]})]}),f&&s.jsxs("div",{className:"mb-6 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-start text-red-500",children:[s.jsx(ut,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("p",{children:f}),s.jsx("button",{onClick:()=>p(null),className:"ml-auto",title:"Dismiss error",children:s.jsx(Ye,{className:"w-4 h-4"})})]}),y&&s.jsxs("div",{className:"mb-6 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-start text-green-500",children:[s.jsx("div",{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5",children:""}),s.jsx("p",{children:y}),s.jsx("button",{onClick:()=>v(null),className:"ml-auto",title:"Dismiss message",children:s.jsx(Ye,{className:"w-4 h-4"})})]}),P&&w.length===0?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):F.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(E6,{className:"w-16 h-16 text-gray-600 mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No robots found"}),s.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:t?`No robots match your search "${t}"`:"Create your first robot to get started"}),t?s.jsx("button",{onClick:()=>r(""),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-md",children:"Clear Search"}):s.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",disabled:w.length>=C,children:[s.jsx(ts,{className:"w-4 h-4 mr-2"}),L("button.createRobot")]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(Y=>s.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg overflow-hidden hover:border-blue-500 transition-colors cursor-pointer group",onClick:()=>e(`/editor/${Y.id}`),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(RS,{className:"w-8 h-8 text-blue-500 mr-3"}),s.jsx("h3",{className:"text-lg font-semibold",children:Y.name})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:W=>{W.stopPropagation(),m(Y),u(Y.name),c(!0)},className:"p-1 hover:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Rename robot",children:s.jsx(Yh,{className:"w-5 h-5 text-gray-400 hover:text-blue-500"})}),s.jsx("button",{onClick:W=>{W.stopPropagation(),M(Y.id)},disabled:x,className:`p-1 hover:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-opacity
                          ${x?"cursor-not-allowed opacity-50":""}`,title:"Delete robot",children:s.jsx(Ac,{className:`w-5 h-5 text-gray-400 ${!x&&"hover:text-red-500"}`})})]})]}),s.jsxs("div",{className:"mt-3 flex items-center text-sm text-gray-400",children:[s.jsx(Br,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:["Updated ",K(Y.updated_at)]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(vs,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsx("span",{className:"text-sm text-gray-400",children:($==null?void 0:$.name)||"You"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:W=>z(Y.id,Y.name,W),className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"Export robot",children:s.jsx(Wi,{className:"w-4 h-4 hover:text-blue-400"})}),s.jsx("button",{onClick:W=>{W.stopPropagation()},className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"Share robot",children:s.jsx(od,{className:"w-4 h-4"})}),s.jsx("button",{onClick:W=>{W.stopPropagation()},className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"Robot settings",children:s.jsx(mv,{className:"w-4 h-4"})})]})]})]})},Y.id))})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-6 relative",onClick:Y=>Y.stopPropagation(),children:[s.jsx("button",{onClick:()=>{o(!1),u("")},className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(ht,{className:"w-12 h-12 text-blue-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:L("button.createRobot")}),s.jsx("p",{className:"mt-2 text-gray-400",children:"Enter a name for your new robot"})]}),w.length>=C&&s.jsxs("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center",children:[s.jsx(sd,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-500",children:H==="en"?`You have reached your limit of ${C} robots.`:`Voc atingiu seu limite de ${C} robs.`}),s.jsxs("button",{onClick:()=>{o(!1),e("/subscription")},className:"text-blue-400 hover:text-blue-300 text-sm mt-1",children:[H==="en"?"Upgrade your plan":"Atualize seu plano"," "]})]})]}),s.jsxs("form",{onSubmit:Y=>{Y.preventDefault(),U()},className:"space-y-4",children:[s.jsx("input",{type:"text",value:d,onChange:Y=>u(Y.target.value),placeholder:"Robot name",autoFocus:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:w.length>=C}),s.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium",disabled:w.length>=C,children:L("button.createRobot")})]})]})}),l&&h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-6 relative",onClick:Y=>Y.stopPropagation(),children:[s.jsx("button",{onClick:()=>{c(!1),m(null),u("")},className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:j,children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(Yh,{className:"w-12 h-12 text-blue-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:L("robot.rename")}),s.jsxs("p",{className:"mt-2 text-gray-400",children:['Enter a new name for "',h.name,'"']})]}),s.jsxs("form",{onSubmit:Y=>{Y.preventDefault(),T()},className:"space-y-4",children:[s.jsx("input",{type:"text",value:d,onChange:Y=>u(Y.target.value),placeholder:"New robot name",autoFocus:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:j}),s.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium flex items-center justify-center",disabled:j,children:j?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"w-4 h-4 mr-2 animate-spin"}),"Renaming..."]}):L("robot.rename")})]})]})})]})}function _8(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(null);g.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:d}}=await de.auth.getUser();if(!d)return;const{data:u,error:h}=await de.from("sharing_invites").select(`
          id,
          robot_name,
          permission,
          created_at,
          created_by,
          expires_at
        `).eq("email",d.email).eq("is_active",!0).is("accepted_at",null).order("created_at",{ascending:!1});if(h)throw h;if(!u)return;const m=[...new Set(u.map(x=>x.created_by))],{data:f,error:p}=await de.from("profiles").select("id, email").in("id",m);if(p)throw p;const y=new Map((f||[]).map(x=>[x.id,x.email])),v=u.map(x=>({...x,created_by_email:y.get(x.created_by)}));t(v)}catch(d){console.error("Error loading invites:",d),i(d instanceof Error?d.message:"Failed to load invites")}finally{n(!1)}},l=async d=>{try{const{data:{user:u}}=await de.auth.getUser();if(!u)throw new Error("Not authenticated");const{error:h}=await de.from("sharing_invites").update({accepted_at:new Date().toISOString(),is_active:!1}).eq("id",d.id);if(h)throw h;const{error:m}=await de.from("shared_robots").insert({robot_name:d.robot_name,user_id:u.id,permission:d.permission,created_by:d.created_by});if(m)throw m;t(e.filter(f=>f.id!==d.id))}catch(u){console.error("Error accepting invite:",u),i(u instanceof Error?u.message:"Failed to accept invite")}},c=async d=>{try{const{error:u}=await de.from("sharing_invites").update({is_active:!1,accepted_at:null}).eq("id",d);if(u)throw u;t(e.filter(h=>h.id!==d))}catch(u){console.error("Error declining invite:",u),i(u instanceof Error?u.message:"Failed to decline invite")}};return r?s.jsx("div",{className:"text-center py-4",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mx-auto"})}):a?s.jsxs("div",{className:"p-4 bg-red-500 bg-opacity-10 border border-red-500 rounded-md text-red-500 flex items-center",children:[s.jsx(ut,{className:"w-5 h-5 mr-2"}),s.jsx("span",{children:a})]}):e.length===0?s.jsx("div",{className:"text-center py-4 text-gray-400",children:"No pending invites"}):s.jsx("div",{className:"space-y-3",children:e.map(d=>s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center",children:s.jsx(vs,{className:"w-4 h-4 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:d.created_by_email}),s.jsx("p",{className:"text-sm text-gray-400",children:"invited you to collaborate"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>l(d),className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center",title:"Accept invite",children:[s.jsx(yt,{className:"w-4 h-4 mr-1"}),"Accept"]}),s.jsxs("button",{onClick:()=>c(d.id),className:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center",title:"Decline invite",children:[s.jsx(Ye,{className:"w-4 h-4 mr-1"}),"Decline"]})]})]}),s.jsx("div",{className:"bg-gray-900 rounded p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-400",children:d.robot_name}),s.jsx("p",{className:"text-sm text-gray-400",children:d.permission==="edit"?"Editor access":"Viewer access"})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Expires ",new Date(d.expires_at).toLocaleDateString()]})]})})]},d.id))})}function k8(){var b;const e=At(),{profile:t,updateProfile:r}=Lt(),[n,a]=g.useState((t==null?void 0:t.name)||""),[i,o]=g.useState((t==null?void 0:t.phone)||""),[l,c]=g.useState((t==null?void 0:t.avatar_url)||""),[d,u]=g.useState(!1),[h,m]=g.useState(null),[f,p]=g.useState(null);g.useEffect(()=>{t&&(a(t.name||""),o(t.phone||""),c(t.avatar_url||""))},[t]);const y=async j=>{var N;try{u(!0),m(null);const w=(N=j.target.files)==null?void 0:N[0];if(!w)return;if(!w.type.startsWith("image/"))throw new Error("Please upload an image file");if(w.size>5*1024*1024)throw new Error("Image size should be less than 5MB");const _=w.name.split(".").pop(),S=`avatars/${`${Math.random()}.${_}`}`,{error:E,data:P}=await de.storage.from("avatars").upload(S,w);if(E)throw E;const{data:{publicUrl:C}}=de.storage.from("avatars").getPublicUrl(S);await r({avatar_url:C}),c(C),p("Profile photo updated successfully")}catch(w){console.error("Error uploading avatar:",w),m(w instanceof Error?w.message:"Error uploading image")}finally{u(!1)}},v=async j=>{j.preventDefault(),m(null),p(null);try{await r({name:n.trim(),phone:i.trim()||null}),p("Profile updated successfully")}catch(N){console.error("Error updating profile:",N),m(N instanceof Error?N.message:"Error updating profile")}},x=async()=>{try{m(null),await r({avatar_url:null}),c(""),p("Profile photo removed successfully")}catch(j){console.error("Error removing avatar:",j),m(j instanceof Error?j.message:"Error removing photo")}};return t?s.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-900 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>e(-1),className:"mr-4 p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Back",children:s.jsx(Gs,{className:"w-5 h-5"})}),s.jsxs("h1",{className:"text-xl font-semibold flex items-center",children:[s.jsx(vs,{className:"w-5 h-5 mr-2"}),"Profile Settings"]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("button",{onClick:()=>e("/subscription"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center space-x-2",children:[s.jsx(ys,{className:"w-4 h-4"}),s.jsx("span",{children:"Subscription"})]})})]}),s.jsxs("div",{className:"p-6",children:[h&&s.jsx("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md text-red-500",children:h}),f&&s.jsx("div",{className:"mb-4 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md text-green-500",children:f}),s.jsxs("div",{className:"mb-8 bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ys,{className:"w-5 h-5 text-yellow-500"}),s.jsx("h2",{className:"text-lg font-medium",children:t.plan||"Free Forever"})]}),s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-500 bg-opacity-20 text-green-400",children:t.plan_status||"Active"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Next Billing"}),s.jsx("p",{className:"font-medium",children:t.plan_renewal_date?new Date(t.plan_renewal_date).toLocaleDateString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Token Balance"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(We,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsxs("p",{className:"font-medium",children:[((b=t.token_balance)==null?void 0:b.toLocaleString())||0," tokens"]})]})]}),s.jsx("div",{children:s.jsx("button",{onClick:()=>e("/subscription"),className:"text-blue-400 hover:text-blue-300 text-sm",children:"View Details "})})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(w6,{className:"w-5 h-5 text-blue-400 mr-2"}),s.jsx("h2",{className:"text-lg font-medium",children:"Pending Invites"})]}),s.jsx(_8,{})]}),s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden",children:l?s.jsx("img",{src:l,alt:"Profile",className:"w-full h-full object-cover"}):s.jsx(vs,{className:"w-12 h-12 text-gray-400"})}),s.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 rounded-full p-2 cursor-pointer hover:bg-blue-700",children:[s.jsx(N6,{className:"w-4 h-4"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:y,disabled:d})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Profile Photo"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Upload a photo to make your profile more personal"}),s.jsxs("div",{className:"mt-3 flex space-x-3",children:[s.jsxs("label",{className:"px-4 py-2 bg-blue-600 text-white rounded-md cursor-pointer hover:bg-blue-700",children:["Upload New",s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:y,disabled:d})]}),l&&s.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600",children:"Remove"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Email Address"}),s.jsxs("div",{className:"mt-1 flex items-center space-x-2 px-3 py-2 bg-gray-900 rounded-md",children:[s.jsx(gf,{className:"w-5 h-5 text-gray-400"}),s.jsx("span",{className:"text-gray-300",children:t.email})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300",children:"Phone Number"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx(LS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"tel",id:"phone",value:i,onChange:j=>o(j.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-900 border border-gray-700 rounded-md text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+55 (11) 98765-4321"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Display Name"}),s.jsx("input",{type:"text",id:"name",value:n,onChange:j=>a(j.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your name"})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>e(-1),className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})]})]})})}):null}function S8(){const e=At(),t=()=>{window.open("https://profitestrategista.com.br/login","_blank")};return s.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[s.jsx(ns,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Back to robots",children:s.jsx(Gs,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-2xl font-bold",children:"Comunidade de Trading"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:t,children:[s.jsx("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-indigo-700 flex items-center justify-center",children:s.jsx(bs,{className:"w-24 h-24 text-white opacity-75"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Comunidade de Traders"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Conecte-se com outros traders, compartilhe estratgias e aprenda com os melhores profissionais do mercado."}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(vs,{className:"w-4 h-4 text-blue-400 mr-1"}),s.jsx("span",{className:"text-sm text-gray-400",children:"500+ membros"})]}),s.jsx(As,{className:"w-5 h-5 text-blue-400"})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:t,children:[s.jsx("div",{className:"h-48 bg-gradient-to-r from-green-600 to-teal-700 flex items-center justify-center",children:s.jsx(ht,{className:"w-24 h-24 text-white opacity-75"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Robs Gratuitos"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Acesse uma biblioteca de robs de trading gratuitos desenvolvidos pela comunidade e compartilhe os seus."}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(A6,{className:"w-4 h-4 text-green-400 mr-1"}),s.jsx("span",{className:"text-sm text-gray-400",children:"200+ robs"})]}),s.jsx(As,{className:"w-5 h-5 text-green-400"})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:t,children:[s.jsx("div",{className:"h-48 bg-gradient-to-r from-purple-600 to-pink-700 flex items-center justify-center",children:s.jsx(rl,{className:"w-24 h-24 text-white opacity-75"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Frum de Discusso"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Participe de discusses sobre estratgias, anlise tcnica e compartilhe suas operaes com outros traders."}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(G6,{className:"w-4 h-4 text-purple-400 mr-1"}),s.jsx("span",{className:"text-sm text-gray-400",children:"1000+ tpicos"})]}),s.jsx(As,{className:"w-5 h-5 text-purple-400"})]})]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8 mb-12",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[s.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Junte-se  nossa comunidade hoje"}),s.jsx("p",{className:"text-blue-100 max-w-xl mb-4",children:"Acesse nossa plataforma completa de comunidade, com fruns, robs gratuitos, anlises compartilhadas e muito mais."}),s.jsxs("div",{className:"flex items-center text-sm text-blue-200",children:[s.jsx(Br,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"Acesso imediato aps o login"})]})]}),s.jsxs("button",{onClick:t,className:"px-6 py-3 bg-white text-blue-900 font-medium rounded-md hover:bg-gray-100 flex items-center",children:["Acessar Comunidade",s.jsx(As,{className:"w-4 h-4 ml-2"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-blue-600 rounded-full p-3 mr-4",children:s.jsx(kn,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Robs Verificados"})]}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Todos os robs gratuitos so testados e verificados pela nossa equipe para garantir qualidade e segurana."}),s.jsxs("button",{onClick:t,className:"text-blue-400 hover:text-blue-300 flex items-center text-sm",children:["Ver robs verificados",s.jsx(As,{className:"w-4 h-4 ml-1"})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-green-600 rounded-full p-3 mr-4",children:s.jsx(tx,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Biblioteca de Conhecimento"})]}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Acesse artigos, tutoriais e recursos educacionais compartilhados pela comunidade para aprimorar suas habilidades."}),s.jsxs("button",{onClick:t,className:"text-green-400 hover:text-green-300 flex items-center text-sm",children:["Explorar biblioteca",s.jsx(As,{className:"w-4 h-4 ml-1"})]})]})]})]})]})}function Qj(){const e=At(),{profile:t}=Lt(),r={name:(t==null?void 0:t.plan)||"Free",status:(t==null?void 0:t.plan_status)||"active",renewalDate:(t==null?void 0:t.plan_renewal_date)||new Date().toISOString(),tokenBalance:(t==null?void 0:t.token_balance)||0},n=[{id:"free",name:"Free",price:"R$ 0,00",features:["At 5 robs de trading","Anlise bsica de backtest","Acesso  comunidade","100 tokens iniciais"]},{id:"pro1",name:"PRO 1",price:"R$ 259,80/ms",features:["At 25 robs de trading","Anlise de backtest intermediria","Acesso  comunidade","5.000 tokens/ms","Suporte por email"]},{id:"pro2",name:"PRO 2",price:"R$ 499,80/ms",features:["At 100 robs de trading","Anlise de backtest avanada","Suporte prioritrio","12.500 tokens/ms","API para integrao","Indicadores exclusivos"],isPopular:!0},{id:"pro3",name:"PRO 3",price:"R$ 999,80/ms",features:["Robs ilimitados","Anlise de backtest completa","Suporte dedicado","30.000 tokens/ms","API para integrao","Indicadores exclusivos","Opes de white-label"]}],i=(()=>{switch(r.name){case"Free":return 100;case"PRO 1":return 5e3;case"PRO 2":return 12500;case"PRO 3":return 3e4;default:return 100}})(),o=()=>{window.open("https://buy.stripe.com/fZe5nX2320AB4EgfZC","_blank")},l=d=>{let u="Ol vim do DevHub Trader e quero mais informaes e ajuda para criar robs";switch(d){case"pro1":u="Ol vim do DevHub Trader e quero mais informaes e ajuda para fazer upgrade para o plano PRO 1 (R$ 259,80/ms).";break;case"pro2":u="Ol vim do DevHub Trader e quero mais informaes e ajuda para fazer upgrade para o plano PRO 2 (R$ 499,80/ms).";break;case"pro3":u="Ol vim do DevHub Trader e quero mais informaes e ajuda para fazer upgrade para o plano PRO 3 (R$ 999,80/ms).";break;default:u=`Ol vim do DevHub Trader e quero mais informaes e ajuda para fazer upgrade do meu plano atual (${r.name}).`}const h=encodeURIComponent(u);window.open(`https://wa.me/5511975333355?text=${h}`,"_blank")},c=()=>{const d=`Ol vim do DevHub Trader e quero mais informaes e ajuda para fazer downgrade do meu plano atual (${r.name}).`,u=encodeURIComponent(d);window.open(`https://wa.me/5511975333355?text=${u}`,"_blank")};return s.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[s.jsx(ns,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full",title:"Back",children:s.jsx(Gs,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-2xl font-bold",children:"Subscription & Tokens"})]})}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ys,{className:"w-6 h-6 text-yellow-500"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Current Plan"})]}),s.jsx("span",{className:"px-3 py-1 bg-green-600 bg-opacity-20 text-green-400 rounded-full text-sm",children:r.status==="active"?"Active":"Inactive"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Plan"}),s.jsx("p",{className:"text-lg font-medium",children:r.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Status"}),s.jsx("p",{className:"text-lg font-medium",children:r.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Next Renewal"}),s.jsx("p",{className:"text-lg font-medium",children:new Date(r.renewalDate).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Token Balance"}),s.jsxs("p",{className:"text-lg font-medium flex items-center",children:[s.jsx(Oc,{showLabel:!1}),s.jsx("span",{className:"ml-1",children:"tokens"})]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700 flex justify-between",children:[s.jsxs("button",{onClick:c,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md flex items-center",children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Downgrade Plan"]}),s.jsxs("button",{onClick:()=>l(""),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})]}),s.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Available Plans"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:n.map(d=>s.jsxs("div",{className:`bg-gray-800 rounded-lg p-6 relative ${d.isPopular?"ring-2 ring-blue-500":""}`,children:[d.isPopular&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-blue-600 rounded-full text-sm font-medium",children:"Most Popular"}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:d.name}),d.id==="pro2"&&s.jsx(kn,{className:"w-5 h-5 text-yellow-500"}),d.id==="pro3"&&s.jsx(Ii,{className:"w-5 h-5 text-purple-500"})]}),s.jsx("p",{className:"text-2xl font-bold mb-4",children:d.price}),s.jsx("ul",{className:"space-y-3 mb-6",children:d.features.map((u,h)=>s.jsxs("li",{className:"flex items-center text-gray-300",children:[s.jsx(yt,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),s.jsx("span",{children:u})]},h))}),s.jsx("button",{onClick:()=>r.name===d.name?null:l(d.id),className:`w-full py-2 rounded-md flex items-center justify-center ${r.name===d.name?"bg-green-600 hover:bg-green-700":d.isPopular?"bg-blue-600 hover:bg-blue-700":"bg-gray-700 hover:bg-gray-600"}`,children:r.name===d.name?"Current Plan":s.jsxs(s.Fragment,{children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Upgrade"]})})]},d.id))}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(We,{className:"w-6 h-6 text-yellow-500"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Token Reload"})]})}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[s.jsxs("div",{className:"mb-4 md:mb-0",children:[s.jsx("p",{className:"text-lg mb-2",children:"Need more tokens?"}),s.jsx("p",{className:"text-gray-400",children:"Purchase additional tokens to continue using AI features"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:"R$ 299,80"}),s.jsx("p",{className:"text-sm text-gray-400",children:"per reload"})]}),s.jsxs("button",{onClick:o,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Buy Tokens"]})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(We,{className:"w-6 h-6 text-yellow-500"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Token Usage"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"Monthly Allocation"}),s.jsxs("span",{className:"font-medium",children:[i.toLocaleString()," tokens"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(100,r.tokenBalance/i*100)}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Available"}),s.jsx("p",{className:"text-xl font-medium",children:r.tokenBalance.toLocaleString()})]}),s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Used This Month"}),s.jsx("p",{className:"text-xl font-medium",children:Math.max(0,i-r.tokenBalance).toLocaleString()})]}),s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Resets In"}),s.jsx("p",{className:"text-xl font-medium",children:"23 days"})]})]})]})]})]})]})}function C8(){const e=At(),{profile:t}=Lt(),[r,n]=g.useState(""),[a,i]=g.useState("all"),[o,l]=g.useState(!1),[c,d]=g.useState(null),[u,h]=g.useState("10"),[m,f]=g.useState([]),[p,y]=g.useState(!0),[v,x]=g.useState(null),[b,j]=g.useState(null),[N,w]=g.useState(!1),[_,k]=g.useState(!1),[S,E]=g.useState(""),[P,C]=g.useState("10"),[A,O]=g.useState(!1),[$,L]=g.useState(null),[H,U]=g.useState(!1),[T,M]=g.useState(!1),[z,B]=g.useState(null),[F,K]=g.useState(!1),[Y,W]=g.useState(""),te=[{id:"free",name:"Free",tokenAllocation:100,robotLimit:5,description:"Basic plan with limited features"},{id:"pro1",name:"PRO 1",tokenAllocation:5e3,robotLimit:25,description:"For beginners with more tokens and robots"},{id:"pro2",name:"PRO 2",tokenAllocation:12500,robotLimit:100,description:"Professional plan with advanced features"},{id:"pro3",name:"PRO 3",tokenAllocation:3e4,robotLimit:999,description:"Premium plan with unlimited robots"}],ie=["pedropardal04@gmail.com","profitestrategista@gmail.com"];g.useEffect(()=>{t!=null&&t.email&&ie.includes(t.email)&&D()},[t]);const D=async()=>{try{y(!0),x(null);const{data:G,error:ue}=await de.from("profiles").select("id, email, name, phone, token_balance, plan, plan_status, updated_at");if(ue)throw ue;const ne=G.map(se=>({id:se.id,email:se.email,name:se.name||se.email.split("@")[0],phone:se.phone||null,plan:se.plan||"Free",status:se.plan_status||"active",token_balance:se.token_balance||0,last_sign_in_at:se.updated_at}));f(ne)}catch(G){x(G instanceof Error?G.message:"Failed to load users")}finally{y(!1)}},R=async()=>{if($)try{U(!0),x(null);const{data:{session:G}}=await de.auth.getSession();if(!(G!=null&&G.access_token))throw new Error("No valid authentication session");const ue=await fetch("https://kjprgjvqceedibcekkep.supabase.co/functions/v1/delete-user",{method:"POST",headers:{Authorization:`Bearer ${G.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({userId:$.id})});if(!ue.ok){const se=await ue.json().catch(()=>({error:`HTTP error! status: ${ue.status}`}));throw new Error(se.error||`Failed to delete user (Status: ${ue.status})`)}let ne;try{ne=await ue.json()}catch{throw new Error("Invalid response from server")}if(!ne.success)throw new Error(ne.error||"Failed to delete user");f(m.filter(se=>se.id!==$.id)),j(`User ${$.email} deleted successfully`),setTimeout(()=>j(null),3e3),O(!1),L(null)}catch(G){x(G instanceof Error?G.message:"Failed to delete user"),setTimeout(()=>x(null),5e3)}finally{U(!1)}},q=async()=>{if(c)try{w(!0);const G=parseInt(u);if(isNaN(G)||G<=0)throw new Error("Please enter a valid token amount");const{error:ue}=await de.from("profiles").update({token_balance:(c.token_balance||0)+G}).eq("id",c.id);if(ue)throw ue;const ne=m.map(se=>se.id===c.id?{...se,token_balance:(se.token_balance||0)+G}:se);f(ne),j(`Added ${G} tokens to ${c.email}`),setTimeout(()=>j(null),3e3),l(!1),d(null),h("10")}catch(G){x(G instanceof Error?G.message:"Failed to add tokens"),setTimeout(()=>x(null),3e3)}finally{w(!1)}},X=async()=>{try{w(!0);const G=parseInt(P);if(isNaN(G)||G<=0)throw new Error("Please enter a valid token amount");if(!S)throw new Error("Please enter an email address");const{data:{session:ue}}=await de.auth.getSession();if(!(ue!=null&&ue.access_token))throw new Error("No valid authentication session");const ne=await fetch("https://kjprgjvqceedibcekkep.supabase.co/functions/v1/add-tokens",{method:"POST",headers:{Authorization:`Bearer ${ue.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({email:S,amount:G})});if(!ne.ok){const we=await ne.json().catch(()=>({error:`HTTP error! status: ${ne.status}`}));throw new Error(we.error||`Failed to add tokens (Status: ${ne.status})`)}let se;try{se=await ne.json()}catch{throw new Error("Invalid response from server")}if(!se.success)throw new Error(se.error||"Failed to add tokens");j(`Added ${G} tokens to ${S}`),setTimeout(()=>j(null),3e3),k(!1),E(""),C("10"),await D()}catch(G){x(G instanceof Error?G.message:"Failed to add tokens"),setTimeout(()=>x(null),3e3)}finally{w(!1)}},I=async()=>{if(!(!z||!Y))try{K(!0);const G=te.find(se=>se.id===Y);if(!G)throw new Error("Invalid plan selected");const{error:ue}=await de.from("profiles").update({plan:G.name,plan_status:"active",plan_renewal_date:new Date(Date.now()+30*24*60*60*1e3).toISOString()}).eq("id",z.id);if(ue)throw ue;const ne=m.map(se=>se.id===z.id?{...se,plan:G.name,status:"active"}:se);f(ne),j(`Changed ${z.email}'s plan to ${G.name}`),setTimeout(()=>j(null),3e3),M(!1),B(null),W("")}catch(G){x(G instanceof Error?G.message:"Failed to change plan"),setTimeout(()=>x(null),3e3)}finally{K(!1)}},Q=G=>{d(G),l(!0)},re=G=>{var ue;B(G),W(((ue=te.find(ne=>ne.name===G.plan))==null?void 0:ue.id)||"free"),M(!0)},he=G=>{L(G),O(!0)},be=async(G,ue)=>{try{const{error:ne}=await de.from("profiles").update({plan_status:ue}).eq("id",G);if(ne)throw ne;f(m.map(se=>se.id===G?{...se,status:ue}:se)),j(`User status updated to ${ue}`),setTimeout(()=>j(null),3e3)}catch(ne){x(ne instanceof Error?ne.message:"Failed to update user status"),setTimeout(()=>x(null),3e3)}},fe=G=>{const ue=new Date(G);return ue.toLocaleDateString()+" "+ue.toLocaleTimeString()},_e=m.filter(G=>(a==="all"||G.status===a)&&(G.email.toLowerCase().includes(r.toLowerCase())||G.name.toLowerCase().includes(r.toLowerCase())));return!(t!=null&&t.email)||!ie.includes(t.email)?s.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ut,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"You don't have permission to access this page."}),s.jsx("button",{onClick:()=>e("/robots"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Back to Robots"})]})}):s.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[s.jsx(ns,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full",title:"Back",children:s.jsx(Gs,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-2xl font-bold",children:"Admin Panel"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md flex items-center space-x-2",children:[s.jsx(We,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Tokens"})]}),s.jsxs("button",{onClick:()=>{},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2",children:[s.jsx(J6,{className:"w-4 h-4"}),s.jsx("span",{children:"Add User"})]}),s.jsxs("button",{onClick:()=>{},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2",children:[s.jsx(Wi,{className:"w-4 h-4"}),s.jsx("span",{children:"Export Data"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Users"}),s.jsx(bs,{className:"w-5 h-5 text-blue-500"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:m.length}),s.jsx("p",{className:"text-sm text-gray-400",children:"Total Users"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:m.filter(G=>G.status==="active").length}),s.jsx("p",{className:"text-sm text-gray-400",children:"Active Users"})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Subscriptions"}),s.jsx(ys,{className:"w-5 h-5 text-yellow-500"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:m.filter(G=>G.plan!=="Free").length}),s.jsx("p",{className:"text-sm text-gray-400",children:"Paid Plans"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:m.filter(G=>G.plan==="Free").length}),s.jsx("p",{className:"text-sm text-gray-400",children:"Free Plans"})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Token Usage"}),s.jsx(We,{className:"w-5 h-5 text-yellow-500"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:m.reduce((G,ue)=>G+(ue.token_balance||0),0).toLocaleString()}),s.jsx("p",{className:"text-sm text-gray-400",children:"Total Tokens"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:m.length>0?(m.reduce((G,ue)=>G+(ue.token_balance||0),0)/m.length).toFixed(0):0}),s.jsx("p",{className:"text-sm text-gray-400",children:"Avg per User"})]})]})]})]}),b&&s.jsxs("div",{className:"mb-6 p-4 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center",children:[s.jsx(yt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("p",{className:"text-green-500",children:b})]}),v&&s.jsxs("div",{className:"mb-6 p-4 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center",children:[s.jsx(ut,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),s.jsx("p",{className:"text-red-500",children:v})]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[s.jsx("div",{className:"flex-1 w-full md:w-auto",children:s.jsxs("div",{className:"relative",children:[s.jsx(Od,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search users...",value:r,onChange:G=>n(G.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[s.jsxs("select",{value:a,onChange:G=>i(G.target.value),className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Users"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"suspended",children:"Suspended"})]}),s.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-800 rounded-md border border-gray-700",title:"Refresh",children:s.jsx(kr,{className:`w-5 h-5 text-gray-400 ${p?"animate-spin":""}`})})]})]}),s.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:p?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(kr,{className:"w-8 h-8 text-blue-500 animate-spin"})}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-900",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Plan"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Tokens"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Last Login"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-700",children:_e.map(G=>s.jsxs("tr",{className:"hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:G.name}),s.jsx("div",{className:"text-sm text-gray-400",children:G.email})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-500 bg-opacity-20 text-blue-400",children:G.plan}),s.jsx("button",{onClick:()=>re(G),className:"ml-2 p-1 hover:bg-gray-700 rounded-full",title:"Change plan",children:s.jsx(bj,{className:"w-4 h-4 text-gray-400"})})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${G.status==="active"?"bg-green-500 bg-opacity-20 text-green-400":"bg-red-500 bg-opacity-20 text-red-400"}`,children:G.status})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[G.token_balance.toLocaleString(),s.jsx("button",{onClick:()=>Q(G),className:"ml-2 p-1 hover:bg-gray-700 rounded-full",title:"Add tokens",children:s.jsx(V6,{className:"w-4 h-4 text-green-400"})})]})}),s.jsx("td",{className:"px-6 py-4 text-gray-400",children:G.phone||"Not provided"}),s.jsx("td",{className:"px-6 py-4 text-gray-400",children:fe(G.last_sign_in_at)}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{className:"p-1.5 hover:bg-gray-700 rounded",title:"Edit user",children:s.jsx(bj,{className:"w-4 h-4 text-gray-400"})}),G.status==="active"?s.jsx("button",{onClick:()=>be(G.id,"suspended"),className:"p-1.5 hover:bg-gray-700 rounded",title:"Suspend user",children:s.jsx(z6,{className:"w-4 h-4 text-red-400"})}):s.jsx("button",{onClick:()=>be(G.id,"active"),className:"p-1.5 hover:bg-gray-700 rounded",title:"Activate user",children:s.jsx(yt,{className:"w-4 h-4 text-green-400"})}),s.jsx("button",{onClick:()=>he(G),className:"p-1.5 hover:bg-gray-700 rounded",title:"Delete user",children:s.jsx(Ac,{className:"w-4 h-4 text-red-400"})})]})})]},G.id))})]})})]}),o&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[s.jsx("button",{onClick:()=>{l(!1),d(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(We,{className:"w-12 h-12 text-yellow-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Add Tokens"}),s.jsxs("p",{className:"mt-2 text-gray-400",children:["Add tokens to ",c.name,"'s account"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Balance"}),s.jsxs("div",{className:"px-3 py-2 bg-gray-700 rounded-md text-white",children:[c.token_balance.toLocaleString()," tokens"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Token Amount"}),s.jsx("input",{type:"number",value:u,onChange:G=>h(G.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>{l(!1),d(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:N,children:"Cancel"}),s.jsx("button",{onClick:q,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white flex items-center",disabled:N,children:N?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Add Tokens"})]})]})]})}),_&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[s.jsx("button",{onClick:()=>k(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:N,children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(We,{className:"w-12 h-12 text-yellow-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Add Tokens by Email"}),s.jsx("p",{className:"mt-2 text-gray-400",children:"Add tokens to a user's account by email"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"User Email"}),s.jsx("input",{type:"email",value:S,onChange:G=>E(G.target.value),placeholder:"user@example.com",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Token Amount"}),s.jsx("input",{type:"number",value:P,onChange:G=>C(G.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:N,children:"Cancel"}),s.jsx("button",{onClick:X,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white flex items-center",disabled:N||!S||!P,children:N?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Add Tokens"})]})]})]})}),A&&$&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[s.jsx("button",{onClick:()=>{O(!1),L(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:H,children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(Ac,{className:"w-12 h-12 text-red-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Delete User"}),s.jsxs("p",{className:"mt-2 text-gray-400",children:["Are you sure you want to delete ",$.email,"?"]})]}),s.jsx("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ut,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),s.jsx("p",{className:"text-red-400 text-sm",children:"This action cannot be undone. All user data, including robots, versions, and settings will be permanently deleted."})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>{O(!1),L(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:H,children:"Cancel"}),s.jsx("button",{onClick:R,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md text-white flex items-center",disabled:H,children:H?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ac,{className:"w-4 h-4 mr-2"}),"Delete User"]})})]})]})}),T&&z&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[s.jsx("button",{onClick:()=>{M(!1),B(null),W("")},className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:F,children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(rx,{className:"w-12 h-12 text-blue-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Change Plan"}),s.jsxs("p",{className:"mt-2 text-gray-400",children:["Update subscription plan for ",z.email]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Plan"}),s.jsx("div",{className:"px-3 py-2 bg-gray-700 rounded-md text-white",children:z.plan})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Plan"}),s.jsx("select",{value:Y,onChange:G=>W(G.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:te.map(G=>s.jsxs("option",{value:G.id,children:[G.name," - ",G.tokenAllocation.toLocaleString()," tokens, ",G.robotLimit," robots"]},G.id))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>{M(!1),B(null),W("")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:F,children:"Cancel"}),s.jsx("button",{onClick:I,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white flex items-center",disabled:F||!Y,children:F?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Change Plan"})]})]})]})})]})}function P8(){const e=At(),t=r=>{const n=`Ol vim do DevHub Trader e quero mais informaes e ajuda para criar robs${r?` - ${r}`:""}`,a=encodeURIComponent(n);window.open(`https://wa.me/5511975333355?text=${a}`,"_blank")};return s.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[s.jsx(ns,{}),s.jsx("div",{className:"bg-gray-900 border-b border-gray-800",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Back to robots",children:s.jsx(Gs,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-2xl font-bold",children:"Robs Prontos e Copy Trade"})]})})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer",children:[s.jsx("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-indigo-700 flex items-center justify-center",children:s.jsx(Wi,{className:"w-24 h-24 text-white opacity-75"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Robs Prontos"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Adquira robs de trading j configurados e prontos para operar em diversos mercados."}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ir,{className:"w-4 h-4 text-green-400 mr-1"}),s.jsx("span",{className:"text-sm text-gray-400",children:"Resultados comprovados"})]}),s.jsxs("button",{onClick:()=>t("Robs Prontos"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md flex items-center",children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Contato"]})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer",children:[s.jsx("div",{className:"h-48 bg-gradient-to-r from-green-600 to-teal-700 flex items-center justify-center",children:s.jsx(bs,{className:"w-24 h-24 text-white opacity-75"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Copy Trade"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Copie automaticamente as operaes dos melhores traders da plataforma e lucre junto."}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ir,{className:"w-4 h-4 text-green-400 mr-1"}),s.jsx("span",{className:"text-sm text-gray-400",children:"Sem conhecimento tcnico"})]}),s.jsxs("button",{onClick:()=>t("Copy Trade"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md flex items-center",children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Contato"]})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer",children:[s.jsx("div",{className:"h-48 bg-gradient-to-r from-purple-600 to-pink-700 flex items-center justify-center",children:s.jsx(uv,{className:"w-24 h-24 text-white opacity-75"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Estratgias Personalizadas"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Solicite o desenvolvimento de estratgias sob medida para suas necessidades especficas."}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ir,{className:"w-4 h-4 text-green-400 mr-1"}),s.jsx("span",{className:"text-sm text-gray-400",children:"Suporte dedicado"})]}),s.jsxs("button",{onClick:()=>t("Estratgias Personalizadas"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md flex items-center",children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Solicitar"]})]})]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8 mb-12",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[s.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Robs prontos para todos os perfis"}),s.jsx("p",{className:"text-blue-100 max-w-xl mb-4",children:"Acesse nossa plataforma completa com dezenas de robs prontos para uso, estratgias testadas e sistema de copy trade."}),s.jsxs("div",{className:"flex items-center text-sm text-blue-200",children:[s.jsx(Br,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"Comece a operar em minutos"})]})]}),s.jsxs("button",{onClick:()=>t("Plataforma Completa"),className:"px-6 py-3 bg-green-500 text-white font-medium rounded-md hover:bg-green-600 flex items-center",children:[s.jsx(kt,{className:"w-5 h-5 mr-2"}),"Falar com Especialista"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-blue-600 rounded-full p-3 mr-4",children:s.jsx(kn,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Robs Verificados"})]}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Todos os robs so testados e verificados pela nossa equipe para garantir qualidade e segurana."}),s.jsxs("button",{onClick:()=>t("Robs Verificados"),className:"text-green-400 hover:text-green-300 flex items-center text-sm",children:[s.jsx(kt,{className:"w-4 h-4 mr-1"}),"Fale com um especialista"]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-green-600 rounded-full p-3 mr-4",children:s.jsx(tl,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Copy Trade Premium"})]}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Copie as operaes dos melhores traders da plataforma e obtenha resultados consistentes sem precisar operar."}),s.jsxs("button",{onClick:()=>t("Copy Trade Premium"),className:"text-green-400 hover:text-green-300 flex items-center text-sm",children:[s.jsx(kt,{className:"w-4 h-4 mr-1"}),"Conhecer Copy Trade"]})]})]})]})]})}function E8(){const e=At(),{signUpWithEmail:t,profile:r}=Lt(),[n,a]=g.useState(1),[i,o]=g.useState({fullName:"",email:"",password:"",confirmPassword:"",specialty:"",experience:"",portfolio:"",phone:"",agreeTerms:!1}),[l,c]=g.useState(!1),[d,u]=g.useState(null),[h,m]=g.useState(!1),[f,p]=g.useState(!1),y=["algorithmic-trading","machine-learning","technical-analysis","risk-management","backtesting","strategy-development"],v=_=>{const{name:k,value:S,type:E}=_.target,P=E==="checkbox"?_.target.checked:void 0;o(C=>({...C,[k]:E==="checkbox"?P:S}))},x=()=>{if(u(null),n===1){if(!i.fullName.trim())return"Full name is required";if(!i.email.trim())return"Email is required";if(!i.email.includes("@"))return"Please enter a valid email";if(!i.password)return"Password is required";if(i.password.length<6)return"Password must be at least 6 characters";if(i.password!==i.confirmPassword)return"Passwords do not match";if(!i.phone.trim())return"Phone number is required"}if(n===2){if(!i.specialty)return"Please select your specialty";if(!i.experience.trim())return"Please describe your experience"}return n===3&&!i.agreeTerms?"You must agree to the terms and conditions":null},b=()=>{const _=x();if(_){u(_);return}a(k=>k+1)},j=()=>{a(_=>_-1)},N=async _=>{_.preventDefault();const k=x();if(k){u(k);return}m(!0),u(null);try{const S=`Ol vim do DevHub Trader e quero mais informaes e ajuda para me tornar um desenvolvedor. Meus dados: Nome: ${i.fullName}, Email: ${i.email}, Telefone: ${i.phone}, Especialidade: ${i.specialty}`,E=encodeURIComponent(S);p(!0),setTimeout(()=>{window.open(`https://wa.me/5511975333355?text=${E}`,"_blank"),e("/experts")},3e3)}catch(S){console.error("Error registering developer:",S),u(S instanceof Error?S.message:"Failed to register. Please try again.")}finally{m(!1)}},w=_=>_.split("-").map(k=>k.charAt(0).toUpperCase()+k.slice(1)).join(" ");return r?(e("/robots"),null):s.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e("/experts"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Back to experts",children:s.jsx(Gs,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-2xl font-bold",children:"Become a Developer"})]})}),s.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8 mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[s.jsxs("div",{className:"md:w-2/3 mb-6 md:mb-0 md:pr-8",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Join Our Developer Network"}),s.jsx("p",{className:"text-blue-100 mb-4",children:"Become a certified trading developer and connect with clients looking for your expertise. Grow your business and showcase your skills to our community."}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{className:"bg-blue-800 bg-opacity-50 rounded-lg px-4 py-2 flex items-center",children:[s.jsx(tl,{className:"w-5 h-5 text-yellow-400 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Monthly Subscription"}),s.jsx("p",{className:"text-blue-200 text-sm",children:"R$ 199,90/month"})]})]}),s.jsxs("div",{className:"bg-blue-800 bg-opacity-50 rounded-lg px-4 py-2 flex items-center",children:[s.jsx(Ii,{className:"w-5 h-5 text-green-400 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"One-time Registration"}),s.jsx("p",{className:"text-blue-200 text-sm",children:"R$ 499,90"})]})]})]})]}),s.jsx("div",{className:"md:w-1/3 flex justify-center",children:s.jsx("div",{className:"bg-blue-800 bg-opacity-40 rounded-full p-8",children:s.jsx(ht,{className:"w-24 h-24 text-white"})})})]})}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n>=1?"bg-blue-600":"bg-gray-700"}`,children:s.jsx(vs,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-sm mt-2",children:"Account"})]}),s.jsx("div",{className:`flex-1 h-1 mx-2 ${n>=2?"bg-blue-600":"bg-gray-700"}`}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n>=2?"bg-blue-600":"bg-gray-700"}`,children:s.jsx(uv,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-sm mt-2",children:"Profile"})]}),s.jsx("div",{className:`flex-1 h-1 mx-2 ${n>=3?"bg-blue-600":"bg-gray-700"}`}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n>=3?"bg-blue-600":"bg-gray-700"}`,children:s.jsx(rx,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-sm mt-2",children:"Payment"})]})]})}),d&&s.jsxs("div",{className:"mb-6 p-4 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center",children:[s.jsx(ut,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),s.jsx("p",{className:"text-red-500",children:d})]}),f&&s.jsxs("div",{className:"mb-6 p-4 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center",children:[s.jsx(Ir,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-500 font-medium",children:"Registration request sent!"}),s.jsx("p",{className:"text-green-400 text-sm",children:"Redirecting you to WhatsApp to complete your registration..."})]})]}),s.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:s.jsxs("form",{onSubmit:N,children:[n===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Account Information"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",name:"fullName",value:i.fullName,onChange:v,placeholder:"Your full name",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(gf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"email",name:"email",value:i.email,onChange:v,placeholder:"your@email.com",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(Phone,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:v,placeholder:"+55 (11) 98765-4321",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:l?"text":"password",name:"password",value:i.password,onChange:v,placeholder:"",className:"w-full pl-10 pr-10 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:l?s.jsx(MS,{className:"w-5 h-5"}):s.jsx(hv,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Password must be at least 6 characters"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:l?"text":"password",name:"confirmPassword",value:i.confirmPassword,onChange:v,placeholder:"",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),n===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Developer Profile"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Primary Specialty"}),s.jsxs("div",{className:"relative",children:[s.jsx(yj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsxs("select",{name:"specialty",value:i.specialty,onChange:v,className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none",children:[s.jsx("option",{value:"",children:"Select your specialty"}),y.filter(_=>_!=="all").map(_=>s.jsx("option",{value:_,children:w(_)},_))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Experience"}),s.jsx("textarea",{name:"experience",value:i.experience,onChange:v,rows:4,placeholder:"Describe your experience in trading and development...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Portfolio URL (optional)"}),s.jsxs("div",{className:"relative",children:[s.jsx(yj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"url",name:"portfolio",value:i.portfolio,onChange:v,placeholder:"https://your-portfolio.com",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),n===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Information"}),s.jsx("div",{className:"bg-blue-900 bg-opacity-30 border border-blue-800 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-blue-600 rounded-full p-2 mr-4 flex-shrink-0",children:s.jsx(kn,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Developer Subscription"}),s.jsx("p",{className:"text-blue-200 mb-2",children:"Join our network of certified developers"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-baseline",children:[s.jsx("span",{className:"text-2xl font-bold",children:"R$ 199,90"}),s.jsx("span",{className:"text-blue-300 ml-2",children:"/month"})]}),s.jsxs("div",{className:"flex items-baseline mt-1",children:[s.jsx("span",{className:"text-lg font-bold",children:"+ R$ 499,90"}),s.jsx("span",{className:"text-blue-300 ml-2",children:"one-time registration fee"})]})]}),s.jsxs("ul",{className:"mt-3 space-y-1",children:[s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(Ir,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),s.jsx("span",{children:"Featured listing in our experts directory"})]}),s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(Ir,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),s.jsx("span",{children:"Direct client connections"})]}),s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(Ir,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),s.jsx("span",{children:"5,000 tokens monthly"})]}),s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(Ir,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),s.jsx("span",{children:"Developer badge and verification"})]}),s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(Ir,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),s.jsx("span",{children:"Priority support and resources"})]})]})]})]})}),s.jsxs("div",{className:"flex items-start mt-4",children:[s.jsx("input",{type:"checkbox",id:"agreeTerms",name:"agreeTerms",checked:i.agreeTerms,onChange:v,className:"mt-1 mr-2"}),s.jsxs("label",{htmlFor:"agreeTerms",className:"text-sm text-gray-300",children:["I agree to the ",s.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300",children:"Terms of Service"})," and ",s.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300",children:"Privacy Policy"}),". I understand that I will be charged R$ 199,90 monthly and a one-time registration fee of R$ 499,90."]})]})]}),s.jsxs("div",{className:"flex justify-between mt-8",children:[n>1?s.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Previous"}):s.jsx("button",{type:"button",onClick:()=>e("/experts"),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Cancel"}),n<3?s.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Next"}):s.jsx("button",{type:"submit",disabled:h||f,className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:h?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kt,{className:"w-5 h-5 mr-2"}),"Complete Registration"]})})]})]})}),s.jsxs("div",{className:"mt-8 bg-gray-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[s.jsx(tl,{className:"w-6 h-6 text-yellow-500 mr-2"}),"Developer Benefits"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"bg-blue-600 rounded-full p-2 mr-3",children:s.jsx(bs,{className:"w-5 h-5"})}),s.jsx("h3",{className:"font-medium",children:"Client Connections"})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Get direct access to clients looking for trading expertise and development services."})]}),s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"bg-green-600 rounded-full p-2 mr-3",children:s.jsx(kn,{className:"w-5 h-5"})}),s.jsx("h3",{className:"font-medium",children:"Verification Badge"})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Stand out with a verified developer badge that builds trust with potential clients."})]}),s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"bg-purple-600 rounded-full p-2 mr-3",children:s.jsx(We,{className:"w-5 h-5"})}),s.jsx("h3",{className:"font-medium",children:"Premium Tools"})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Access premium development tools and 5,000 monthly tokens for AI assistance."})]})]})]}),s.jsxs("div",{className:"mt-8 bg-gray-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[s.jsx(rx,{className:"w-6 h-6 text-blue-500 mr-2"}),"Pricing Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-medium",children:"Monthly Subscription"}),s.jsx("div",{className:"bg-blue-600 rounded-full px-3 py-1 text-sm",children:"Recurring"})]}),s.jsxs("div",{className:"text-2xl font-bold mb-2",children:["R$ 199,90",s.jsx("span",{className:"text-sm font-normal text-gray-400",children:"/month"})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Billed monthly. Cancel anytime. Includes all developer benefits and platform access."})]}),s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-medium",children:"Registration Fee"}),s.jsx("div",{className:"bg-green-600 rounded-full px-3 py-1 text-sm",children:"One-time"})]}),s.jsx("div",{className:"text-2xl font-bold mb-2",children:"R$ 499,90"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"One-time payment for account verification, profile setup, and initial platform onboarding."})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-900 bg-opacity-30 border border-blue-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ir,{className:"w-5 h-5 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),s.jsxs("p",{className:"text-blue-100 text-sm",children:["Your first payment today will be ",s.jsx("span",{className:"font-bold",children:"R$ 699,80"})," (R$ 199,90 + R$ 499,90). After that, you'll be charged R$ 199,90 monthly."]})]})})]})]})})}function A8(){At();const e=t=>{const r=`Ol vim do DevHub Trader e quero mais informaes e ajuda para criar robs${t?` - ${t}`:""}`,n=encodeURIComponent(r);window.open(`https://wa.me/5511975333355?text=${n}`,"_blank")};return s.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[s.jsx(ns,{}),s.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[s.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Mesa Proprietria de Trading"}),s.jsx("p",{className:"text-xl text-blue-100 mb-6",children:"Opere com nosso capital e divida os lucros. Sem risco financeiro para voc."}),s.jsxs("button",{onClick:()=>e("Mesa Proprietria"),className:"px-6 py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center",children:[s.jsx(kt,{className:"w-5 h-5 mr-2"}),"Falar com Especialista"]})]}),s.jsx("div",{className:"md:w-1/2 flex justify-center",children:s.jsx("div",{className:"bg-blue-800 bg-opacity-30 rounded-lg p-8",children:s.jsx(j6,{className:"w-32 h-32 text-blue-300"})})})]})})}),s.jsx("div",{className:"py-12 bg-gray-900",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Traders Ativos"}),s.jsx(bs,{className:"w-6 h-6 text-blue-500"})]}),s.jsx("p",{className:"text-3xl font-bold",children:"120+"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Operando diariamente"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Capital Gerenciado"}),s.jsx(Kh,{className:"w-6 h-6 text-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold",children:"R$ 5M+"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Em operaes ativas"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Retorno Mdio"}),s.jsx(or,{className:"w-6 h-6 text-yellow-500"})]}),s.jsx("p",{className:"text-3xl font-bold",children:"3.2%"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Mensal por trader"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Anos de Mercado"}),s.jsx(Mn,{className:"w-6 h-6 text-purple-500"})]}),s.jsx("p",{className:"text-3xl font-bold",children:"8+"}),s.jsx("p",{className:"text-sm text-gray-400",children:"De experincia"})]})]})})}),s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:()=>e("Capital Gerenciado"),children:[s.jsx("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-indigo-700 flex items-center justify-center",children:s.jsx(Kh,{className:"w-24 h-24 text-white opacity-75"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Capital Gerenciado"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Opere com nosso capital e divida os lucros. Planos a partir de R$ 5.000 at R$ 50.000."}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ir,{className:"w-4 h-4 text-green-400 mr-1"}),s.jsx("span",{className:"text-sm text-gray-400",children:"Sem risco financeiro"})]}),s.jsx(Ec,{className:"w-5 h-5 text-blue-400"})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:()=>e("Mentoria Especializada"),children:[s.jsx("div",{className:"h-48 bg-gradient-to-r from-green-600 to-teal-700 flex items-center justify-center",children:s.jsx(bs,{className:"w-24 h-24 text-white opacity-75"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Mentoria Especializada"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Receba orientao de traders profissionais e desenvolva suas habilidades com suporte contnuo."}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ir,{className:"w-4 h-4 text-green-400 mr-1"}),s.jsx("span",{className:"text-sm text-gray-400",children:"Acompanhamento semanal"})]}),s.jsx(Ec,{className:"w-5 h-5 text-green-400"})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:()=>e("Estratgias Exclusivas"),children:[s.jsx("div",{className:"h-48 bg-gradient-to-r from-purple-600 to-pink-700 flex items-center justify-center",children:s.jsx(or,{className:"w-24 h-24 text-white opacity-75"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Estratgias Exclusivas"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Acesse estratgias proprietrias desenvolvidas por nossa equipe com alto ndice de assertividade."}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ir,{className:"w-4 h-4 text-green-400 mr-1"}),s.jsx("span",{className:"text-sm text-gray-400",children:"Resultados comprovados"})]}),s.jsx(Ec,{className:"w-5 h-5 text-purple-400"})]})]})]})]})})}),s.jsx("div",{className:"py-12 bg-gray-900",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[s.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Pronto para comear?"}),s.jsx("p",{className:"text-blue-100 max-w-xl mb-4",children:"Acesse nossa plataforma completa de mesa proprietria e comece a operar com nosso capital hoje mesmo."}),s.jsxs("div",{className:"flex items-center text-sm text-blue-200",children:[s.jsx(Br,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"Processo de avaliao rpido e 100% online"})]})]}),s.jsxs("button",{onClick:()=>e("Mesa Proprietria - CTA"),className:"px-6 py-3 bg-green-500 text-white font-medium rounded-md hover:bg-green-600 flex items-center",children:[s.jsx(kt,{className:"w-5 h-5 mr-2"}),"Falar com Especialista"]})]})})})}),s.jsx("div",{className:"py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Comece sua jornada como trader profissional"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto mb-8",children:"Junte-se a centenas de traders que j esto operando com nosso capital e transformando suas carreiras."}),s.jsxs("button",{onClick:()=>e("Jornada Trader Profissional"),className:"px-8 py-4 bg-green-500 hover:bg-green-600 rounded-md font-medium text-lg inline-flex items-center",children:[s.jsx(kt,{className:"w-5 h-5 mr-2"}),"Falar com Especialista"]})]})})]})}function T8(){At();const[e,t]=g.useState(null),[r,n]=g.useState(!1),[a,i]=g.useState(!1),[o,l]=g.useState(null),c=[{id:"1",name:"Trend Master Pro",description:"Estratgia de seguimento de tendncia com filtros avanados e gerenciamento de risco dinmico.",price:"R$ 997",platform:"Profit",market:"Mini ndice",timeframe:"M5",rating:4.8,reviews:124,image:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=500&h=300&fit=crop",featured:!0},{id:"2",name:"Reversal Hunter",description:"Estratgia de reverso  mdia com identificao precisa de pontos de entrada e sada.",price:"R$ 897",platform:"Profit",market:"Mini Dlar",timeframe:"M15",rating:4.6,reviews:98,image:"https://images.unsplash.com/photo-1535320903710-d993d3d77d29?w=500&h=300&fit=crop"},{id:"3",name:"Scalper Elite",description:"Estratgia de scalping de alta frequncia para operaes rpidas e precisas.",price:"R$ 1.297",platform:"Profit",market:"Mini ndice/Dlar",timeframe:"M1/M5",rating:4.9,reviews:156,image:"https://images.unsplash.com/photo-1642790551116-18e150f248e5?w=500&h=300&fit=crop"},{id:"4",name:"Breakout Master",description:"Estratgia especializada em identificar e operar rompimentos de suportes e resistncias.",price:"R$ 997",platform:"Profit",market:"Mini ndice",timeframe:"M15/H1",rating:4.7,reviews:87,image:"https://images.unsplash.com/photo-1559526324-593bc073d938?w=500&h=300&fit=crop"}],d=[{question:"Como funcionam as estratgias para Profit?",answer:"Nossas estratgias so desenvolvidas especificamente para a plataforma Profit. Aps a compra, voc recebe um arquivo de configurao que pode ser importado diretamente na plataforma. Todas as estratgias vm com instrues detalhadas de instalao e uso."},{question:"As estratgias funcionam em outras plataformas?",answer:"No, nossas estratgias so desenvolvidas exclusivamente para a plataforma Profit. Cada plataforma tem sua prpria linguagem e estrutura, por isso no  possvel utilizar em outras plataformas como MetaTrader ou TradingView."},{question:"Posso personalizar as estratgias?",answer:"Sim, todas as nossas estratgias permitem personalizao dos principais parmetros como stop loss, take profit, horrios de operao e filtros. No entanto, o cdigo-fonte no  fornecido para preservar a propriedade intelectual."},{question:"Vocs oferecem suporte aps a compra?",answer:"Sim, oferecemos suporte tcnico por 6 meses aps a compra. Isso inclui ajuda com instalao, configurao e otimizao da estratgia para seu perfil de risco. Aps esse perodo,  possvel adquirir extenses de suporte."},{question:"Qual a garantia de que as estratgias so lucrativas?",answer:"Todas as nossas estratgias passam por rigorosos testes de backtesting e so utilizadas por traders reais. Oferecemos uma garantia de 30 dias: se a estratgia no atender s suas expectativas, devolvemos seu dinheiro. No entanto,  importante lembrar que resultados passados no garantem resultados futuros."},{question:"Como recebo a estratgia aps a compra?",answer:"Aps a confirmao do pagamento, voc receber um email com os arquivos da estratgia e instrues detalhadas de instalao. Normalmente, o envio  feito em at 24 horas teis."}],u=p=>{t(e===p?null:p)},h=p=>{const y=`Ol vim do DevHub Trader e quero mais informaes e ajuda para criar robs${p?` - ${p}`:""}`,v=encodeURIComponent(y);window.open(`https://wa.me/5511975333355?text=${v}`,"_blank")},m=p=>{p.preventDefault(),h("Formulrio de Contato"),n(!1)},f=p=>{p.preventDefault(),o&&h(`Compra de Estratgia - ${o.name}`),i(!1),l(null)};return s.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[s.jsx(ns,{}),s.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[s.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Profit Estrategista"}),s.jsx("p",{className:"text-xl text-blue-100 mb-6",children:"Estratgias automatizadas de alta performance para a plataforma Profit."}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{onClick:()=>{const p=document.getElementById("strategies");p==null||p.scrollIntoView({behavior:"smooth"})},className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md font-medium",children:"Ver Estratgias"}),s.jsxs("button",{onClick:()=>h("Demonstrao"),className:"px-6 py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center justify-center",children:[s.jsx(kt,{className:"w-5 h-5 mr-2"}),"Solicitar Demonstrao"]})]})]}),s.jsx("div",{className:"md:w-1/2 flex justify-center",children:s.jsx("div",{className:"bg-blue-800 bg-opacity-40 rounded-lg p-8",children:s.jsx(ht,{className:"w-32 h-32 text-blue-300"})})})]})})}),s.jsx("div",{className:"py-12 bg-gray-900",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Estratgias"}),s.jsx(ht,{className:"w-6 h-6 text-blue-500"})]}),s.jsx("p",{className:"text-3xl font-bold",children:"12+"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Estratgias disponveis"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Clientes"}),s.jsx(bs,{className:"w-6 h-6 text-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold",children:"500+"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Traders satisfeitos"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Rentabilidade"}),s.jsx(or,{className:"w-6 h-6 text-yellow-500"})]}),s.jsx("p",{className:"text-3xl font-bold",children:"2.5%"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Mdia mensal"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Suporte"}),s.jsx(Mn,{className:"w-6 h-6 text-purple-500"})]}),s.jsx("p",{className:"text-3xl font-bold",children:"6"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Meses inclusos"})]})]})})}),s.jsx("div",{className:"py-16",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Por Que Escolher Nossas Estratgias"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Desenvolvidas por traders profissionais com anos de experincia no mercado."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-blue-600 rounded-full p-3 mr-4",children:s.jsx(or,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Performance Comprovada"})]}),s.jsx("p",{className:"text-gray-300",children:"Todas as estratgias so testadas em condies reais de mercado e possuem histrico de performance comprovada."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-green-600 rounded-full p-3 mr-4",children:s.jsx(Ii,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Gerenciamento de Risco"})]}),s.jsx("p",{className:"text-gray-300",children:"Sistemas avanados de gerenciamento de risco para proteger seu capital e maximizar seus ganhos."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-purple-600 rounded-full p-3 mr-4",children:s.jsx(We,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Suporte Especializado"})]}),s.jsx("p",{className:"text-gray-300",children:"Suporte tcnico especializado por 6 meses para ajudar na configurao e otimizao da sua estratgia."})]})]})]})}),s.jsx("div",{id:"strategies",className:"py-16 bg-gray-900",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Nossas Estratgias"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Escolha a estratgia que melhor se adapta ao seu perfil e objetivos."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(p=>s.jsxs("div",{className:`bg-gray-800 rounded-lg overflow-hidden ${p.featured?"ring-2 ring-blue-500":""}`,children:[p.featured&&s.jsx("div",{className:"bg-blue-600 text-center py-2",children:s.jsx("p",{className:"text-sm font-medium",children:"Mais Vendida"})}),s.jsx("img",{src:p.image,alt:p.name,className:"w-full h-48 object-cover"}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:p.name}),s.jsx("p",{className:"text-gray-300 mb-4",children:p.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx("span",{className:"px-2 py-1 bg-gray-700 rounded-full text-xs",children:p.platform}),s.jsx("span",{className:"px-2 py-1 bg-gray-700 rounded-full text-xs",children:p.market}),s.jsx("span",{className:"px-2 py-1 bg-gray-700 rounded-full text-xs",children:p.timeframe})]}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"flex mr-2",children:[1,2,3,4,5].map(y=>s.jsx(kn,{className:`w-4 h-4 ${y<=Math.floor(p.rating)?"text-yellow-500":"text-gray-600"}`,fill:y<=Math.floor(p.rating)?"currentColor":"none"},y))}),s.jsxs("span",{className:"text-sm text-gray-400",children:["(",p.reviews," avaliaes)"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-2xl font-bold",children:p.price}),s.jsxs("button",{onClick:()=>h(`Estratgia ${p.name}`),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md flex items-center",children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Comprar"]})]})]})]},p.id))}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs("button",{onClick:()=>h("Estratgia Personalizada"),className:"px-6 py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center mx-auto",children:[s.jsx(kt,{className:"w-5 h-5 mr-2"}),"Solicitar Estratgia Personalizada"]})})]})}),s.jsx("div",{className:"py-16",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Como Funciona"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Processo simples para comear a operar com nossas estratgias automatizadas."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-xl font-bold",children:"1"}),s.jsx("h3",{className:"text-xl font-semibold mb-4 mt-4",children:"Escolha"}),s.jsx("p",{className:"text-gray-300",children:"Selecione a estratgia que melhor se adapta ao seu perfil e objetivos de trading."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-xl font-bold",children:"2"}),s.jsx("h3",{className:"text-xl font-semibold mb-4 mt-4",children:"Compre"}),s.jsx("p",{className:"text-gray-300",children:"Entre em contato conosco via WhatsApp para finalizar sua compra de forma segura."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-xl font-bold",children:"3"}),s.jsx("h3",{className:"text-xl font-semibold mb-4 mt-4",children:"Instale"}),s.jsx("p",{className:"text-gray-300",children:"Receba os arquivos por email e siga as instrues detalhadas de instalao."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-xl font-bold",children:"4"}),s.jsx("h3",{className:"text-xl font-semibold mb-4 mt-4",children:"Opere"}),s.jsx("p",{className:"text-gray-300",children:"Configure a estratgia conforme suas preferncias e comece a operar automaticamente."})]})]})]})}),s.jsx("div",{className:"py-16 bg-gray-900",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"O Que Dizem Nossos Clientes"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Veja o que os traders que utilizam nossas estratgias tm a dizer."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop",alt:"Cliente",className:"w-12 h-12 rounded-full mr-4"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Carlos Mendes"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Trader h 3 anos"})]})]}),s.jsx("p",{className:"text-gray-300",children:'"A estratgia Trend Master Pro superou todas as minhas expectativas. O suporte tcnico  excelente e os resultados so consistentes."'}),s.jsx("div",{className:"flex mt-4",children:[1,2,3,4,5].map(p=>s.jsx(kn,{className:"w-5 h-5 text-yellow-500",fill:"currentColor"},p))})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop",alt:"Cliente",className:"w-12 h-12 rounded-full mr-4"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Fernanda Silva"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Trader h 2 anos"})]})]}),s.jsx("p",{className:"text-gray-300",children:'"Comecei com a Reversal Hunter e depois adquiri a Scalper Elite. Ambas so excelentes e me ajudaram a ter consistncia nos resultados."'}),s.jsx("div",{className:"flex mt-4",children:[1,2,3,4,5].map(p=>s.jsx(kn,{className:`w-5 h-5 ${p<=4?"text-yellow-500":"text-gray-600"}`,fill:p<=4?"currentColor":"none"},p))})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop",alt:"Cliente",className:"w-12 h-12 rounded-full mr-4"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Ricardo Alves"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Trader h 5 anos"})]})]}),s.jsx("p",{className:"text-gray-300",children:'"Como trader experiente, posso dizer que as estratgias da Profit Estrategista esto entre as melhores que j utilizei. Recomendo fortemente."'}),s.jsx("div",{className:"flex mt-4",children:[1,2,3,4,5].map(p=>s.jsx(kn,{className:"w-5 h-5 text-yellow-500",fill:"currentColor"},p))})]})]})]})}),s.jsx("div",{className:"py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Perguntas Frequentes"}),s.jsx("p",{className:"text-xl text-gray-400",children:"Tire suas dvidas sobre nossas estratgias"})]}),s.jsx("div",{className:"space-y-4",children:d.map((p,y)=>s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>u(y),className:"w-full px-6 py-4 text-left flex items-center justify-between focus:outline-none",children:[s.jsx("h3",{className:"text-lg font-medium",children:p.question}),e===y?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})]}),e===y&&s.jsx("div",{className:"px-6 pb-4",children:s.jsx("p",{className:"text-gray-300",children:p.answer})})]},y))})]})}),s.jsx("div",{className:"py-16 bg-gray-900",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[s.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pronto para automatizar suas operaes?"}),s.jsx("p",{className:"text-blue-100 max-w-xl mb-6",children:"Escolha uma de nossas estratgias prontas ou solicite uma estratgia personalizada para suas necessidades especficas."}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{onClick:()=>{const p=document.getElementById("strategies");p==null||p.scrollIntoView({behavior:"smooth"})},className:"px-6 py-3 bg-white text-blue-900 font-medium rounded-md hover:bg-gray-100",children:"Ver Estratgias"}),s.jsxs("button",{onClick:()=>h("Estratgia Personalizada"),className:"px-6 py-3 bg-green-500 hover:bg-green-600 text-white font-medium rounded-md flex items-center justify-center",children:[s.jsx(kt,{className:"w-5 h-5 mr-2"}),"Estratgia Personalizada"]})]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(ht,{className:"w-32 h-32 text-blue-300"})})]})})})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[s.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:s.jsx(Ye,{className:"w-6 h-6"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Solicitar Informaes"}),s.jsx("p",{className:"text-gray-400 mt-2",children:"Preencha o formulrio abaixo para receber mais informaes sobre nossas estratgias"})]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),s.jsx("input",{type:"email",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Interesse"}),s.jsxs("select",{className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma opo"}),s.jsx("option",{value:"strategy",children:"Estratgia especfica"}),s.jsx("option",{value:"custom",children:"Estratgia personalizada"}),s.jsx("option",{value:"demo",children:"Demonstrao"}),s.jsx("option",{value:"other",children:"Outro"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Mensagem"}),s.jsx("textarea",{rows:4,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("button",{type:"submit",className:"w-full py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center justify-center",children:[s.jsx(kt,{className:"w-5 h-5 mr-2"}),"Enviar Mensagem"]})]})]})}),a&&o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[s.jsx("button",{onClick:()=>{i(!1),l(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:s.jsx(Ye,{className:"w-6 h-6"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Comprar Estratgia"}),s.jsxs("p",{className:"text-gray-400 mt-2",children:[o.name," - ",o.price]})]}),s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("h3",{className:"font-medium",children:"Detalhes da Estratgia"})}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(yt,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),s.jsxs("span",{children:["Plataforma: ",o.platform]})]}),s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(yt,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),s.jsxs("span",{children:["Mercado: ",o.market]})]}),s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(yt,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),s.jsxs("span",{children:["Timeframe: ",o.timeframe]})]}),s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(yt,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),s.jsx("span",{children:"Suporte tcnico por 6 meses"})]}),s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(yt,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),s.jsx("span",{children:"Atualizaes gratuitas"})]}),s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(yt,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),s.jsx("span",{children:"Garantia de 30 dias"})]})]})]}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),s.jsx("input",{type:"email",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",id:"terms",className:"mt-1 mr-2",required:!0}),s.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-300",children:["Concordo com os ",s.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300",children:"Termos e Condies"})," e ",s.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300",children:"Poltica de Privacidade"})]})]}),s.jsxs("button",{type:"submit",className:"w-full py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center justify-center",children:[s.jsx(kt,{className:"w-5 h-5 mr-2"}),"Finalizar Compra"]})]})]})})]})}function Zj({message:e="Ol vim do DevHub Trader e quero mais informaes e ajuda para criar robs"}){const[t,r]=Kt.useState(!1),n=()=>{const a=encodeURIComponent(e);window.open(`https://wa.me/5511975333355?text=${a}`,"_blank")};return s.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[t&&s.jsxs("div",{className:"absolute bottom-16 right-0 bg-white rounded-lg shadow-xl p-4 mb-4 w-72 transform transition-all duration-300 ease-in-out",children:[s.jsx("button",{onClick:()=>r(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:s.jsx(Ye,{className:"w-4 h-4"})}),s.jsx("p",{className:"text-gray-800 text-sm mb-3",children:"Precisa de ajuda com seus robs de trading?"}),s.jsxs("button",{onClick:n,className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-md flex items-center justify-center",children:[s.jsx("span",{className:"mr-2",children:"Fale conosco"}),s.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})]})]}),s.jsx("button",{onClick:()=>r(!t),className:"bg-green-500 hover:bg-green-600 text-white rounded-full p-4 shadow-lg flex items-center justify-center","aria-label":"Contact via WhatsApp",children:s.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})})]})}function lP({metrics:e,showTitle:t=!0}){const[r,n]=g.useState(!1),[a,i]=g.useState({});g.useEffect(()=>{i({...e||{}})},[e]);const o=g.useCallback((u,h)=>{if(isNaN(h)||h===null||h===void 0)return"text-gray-300";switch(u){case"profitFactor":return h>=1.5?"text-green-500":h>=1?"text-yellow-500":"text-red-500";case"payoff":return h>=1.5?"text-green-500":h>=1?"text-yellow-500":"text-red-500";case"winRate":return h>=60?"text-green-500":h>=45?"text-yellow-500":"text-red-500";case"maxDrawdown":return h<=10?"text-green-500":h<=20?"text-yellow-500":"text-red-500";case"sharpeRatio":return h>=1?"text-green-500":h>=.5?"text-yellow-500":"text-red-500";case"recoveryFactor":return h>=3?"text-green-500":h>=1?"text-yellow-500":"text-red-500";case"netProfit":return h>0?"text-green-500":h===0?"text-gray-300":"text-red-500";default:return"text-gray-300"}},[]),l=g.useCallback((u,h=!1,m=!1)=>{if(u==null||isNaN(Number(u)))return"N/A";const f=Number(u);return m?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f):h?`${f.toFixed(2)}%`:f.toFixed(2)},[]),c={totalTrades:e==null?void 0:e.totalTrades,tradesLucrativos:e==null?void 0:e.profitableTrades,tradesComPerda:e==null?void 0:e.lossTrades,ganhoMedio:e==null?void 0:e.averageWin,perdaMedia:e==null?void 0:e.averageLoss,maxPerdasConsecutivas:e==null?void 0:e.maxConsecutiveLosses,maxGanhosConsecutivos:e==null?void 0:e.maxConsecutiveWins},d={tradeMedio:e==null?void 0:e.averageTrade,maiorGanho:e==null?void 0:e.maiorGanho,maiorPerda:e==null?void 0:e.maiorPerda,ganhoBruto:e==null?void 0:e.grossProfit,perdaBruta:e==null?void 0:e.grossLoss,tradesLucrativosPercent:e==null?void 0:e.winRate,tradesComPerdaPercent:(e==null?void 0:e.winRate)!==void 0&&(e==null?void 0:e.winRate)!==null?Math.max(0,100-Number(e==null?void 0:e.winRate)):void 0};return s.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden shadow-lg",children:[t&&s.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-800",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(or,{className:"w-5 h-5 text-blue-500 mr-2"}),s.jsx("h2",{className:"text-lg font-medium",children:"Mtricas de Performance"})]}),s.jsx("button",{onClick:()=>n(!r),className:"p-1 hover:bg-gray-800 rounded-full",children:r?s.jsx(He,{className:"w-5 h-5 text-gray-400"}):s.jsx(at,{className:"w-5 h-5 text-gray-400"})})]}),!r&&s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Lucro Lquido"}),s.jsx("p",{className:`text-3xl font-bold ${o("netProfit",Number(e==null?void 0:e.netProfit))}`,children:l(Number(e==null?void 0:e.netProfit),!1,!0)})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Drawdown Mximo R$"}),s.jsx("p",{className:"text-3xl font-bold text-red-500",children:l(a.maxDrawdownAmount,!1,!0)}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[l(a.maxDrawdown,!0)," do capital"]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total de Trades"}),s.jsx("p",{className:"text-3xl font-bold",children:(e==null?void 0:e.totalTrades)??"N/A"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Fator de Lucro"}),s.jsx("p",{className:`text-2xl font-bold ${o("profitFactor",Number(e==null?void 0:e.profitFactor))}`,children:l(Number(e==null?void 0:e.profitFactor))})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Payoff"}),s.jsx("p",{className:`text-2xl font-bold ${o("payoff",Number(e==null?void 0:e.payoff))}`,children:l(Number(e==null?void 0:e.payoff))}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Ganho Mdio / Perda Mdia (Total)"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Sharpe Ratio"}),s.jsx("p",{className:`text-2xl font-bold ${o("sharpeRatio",a.sharpeRatio)}`,children:l(a.sharpeRatio)})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Fator de Recuperao"}),s.jsx("p",{className:`text-2xl font-bold ${o("recoveryFactor",a.recoveryFactor)}`,children:l(a.recoveryFactor)})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Taxa de Acerto"}),s.jsx("p",{className:`text-2xl font-bold ${o("winRate",Number(e==null?void 0:e.winRate))}`,children:l(Number(e==null?void 0:e.winRate),!0)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[s.jsx(Pt,{className:"w-4 h-4 text-blue-400 mr-2"}),"Estatsticas de Trades"]}),s.jsx("table",{className:"w-full text-sm",children:s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Total de Trades"}),s.jsx("td",{className:"py-2 text-right",children:c.totalTrades??"N/A"})]}),s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Trades Lucrativos"}),s.jsx("td",{className:"py-2 text-right text-green-500",children:c.tradesLucrativos??"N/A"})]}),s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Trades com Perda"}),s.jsx("td",{className:"py-2 text-right text-red-500",children:c.tradesComPerda??"N/A"})]}),s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Ganho Mdio"}),s.jsx("td",{className:"py-2 text-right text-green-500",children:l(c.ganhoMedio,!1,!0)})]}),s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Perda Mdia"}),s.jsx("td",{className:"py-2 text-right text-red-500",children:l(c.perdaMedia!==void 0&&c.perdaMedia!==null?Math.abs(Number(c.perdaMedia)):void 0,!1,!0)})]}),s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Mx. Perdas Consecutivas"}),s.jsx("td",{className:"py-2 text-right",children:c.maxPerdasConsecutivas??"N/A"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Mx. Ganhos Consecutivos"}),s.jsx("td",{className:"py-2 text-right text-green-500",children:c.maxGanhosConsecutivos??"N/A"})]})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[s.jsx(tl,{className:"w-4 h-4 text-blue-400 mr-2"}),"Mtricas Avanadas"]}),s.jsx("table",{className:"w-full text-sm",children:s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Trade Mdio"}),s.jsx("td",{className:"py-2 text-right",children:l(d.tradeMedio,!1,!0)})]}),s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Maior Ganho"}),s.jsx("td",{className:"py-2 text-right text-green-500",children:l(d.maiorGanho,!1,!0)})]}),s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Maior Perda"}),s.jsx("td",{className:"py-2 text-right text-red-500",children:l(d.maiorPerda,!1,!0)})]}),s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Ganho Bruto"}),s.jsx("td",{className:"py-2 text-right text-green-500",children:l(d.ganhoBruto,!1,!0)})]}),s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Perda Bruta"}),s.jsx("td",{className:"py-2 text-right text-red-500",children:l(d.perdaBruta,!1,!0)})]}),s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Trades Lucrativos"}),s.jsx("td",{className:"py-2 text-right",children:l(d.tradesLucrativosPercent,!0)})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 text-gray-400",children:"Trades com Perda"}),s.jsx("td",{className:"py-2 text-right",children:l(d.tradesComPerdaPercent,!0)})]})]})})]})]})]})]})}const O8={BASE_URL:"https://api.devhubtrader.com.br",TIMEOUT:3e4,DEFAULT_HEADERS:{"Content-Type":"application/json"},DEVELOPMENT:{BASE_URL:"http://localhost:5002",CORS_ORIGINS:["http://localhost:4173","http://localhost:3000"]},PRODUCTION:{BASE_URL:"https://api.devhubtrader.com.br",CORS_ORIGINS:["https://devhubtrader.com.br","https://www.devhubtrader.com.br","http://devhubtrader.com.br","http://www.devhubtrader.com.br"]}},wt=e=>{const t=O8.BASE_URL,r=e.startsWith("/")?e:`/${e}`;return`${t}${r}`};function cP({isAnalyzing:e,setIsAnalyzing:t,error:r,setError:n,analysisResult:a,onMetricsReceived:i,backtestData:o}){const[l,c]=g.useState([{id:"welcome",role:"assistant",content:"Ol! Estou analisando seus dados de backtest. Voc pode me perguntar sobre os resultados ou pedir sugestes para melhorar sua estratgia."}]),[d,u]=g.useState(""),[h,m]=g.useState(!1),f=g.useRef(null),{profile:p,updateTokenBalance:y}=Lt(),v=wt("/chat");g.useEffect(()=>{if(a){const _=a,k=A=>typeof A=="number"?A:void 0,S=k(_==null?void 0:_.profitFactor),E=k(_==null?void 0:_.winRate),P=k(_==null?void 0:_.maxDrawdown),C=k(_==null?void 0:_.netProfit);b("assistant",`Anlise concluda! Aqui esto os principais resultados:

- Profit Factor: ${S!==void 0?S.toFixed(2):"N/A"}
- Win Rate: ${E!==void 0?E.toFixed(2):"N/A"}%
- Drawdown Mximo: ${P!==void 0?P.toFixed(2):"N/A"}%
- Lucro Lquido: R$ ${C!==void 0?C.toFixed(2):"N/A"}

Voc pode me perguntar mais detalhes sobre esses resultados ou pedir sugestes para melhorar a estratgia.`)}},[a]),g.useEffect(()=>{r&&b("assistant",`Ocorreu um erro: ${r}`)},[r]);const x=()=>{var _;(_=f.current)==null||_.scrollIntoView({behavior:"smooth"})},b=(_,k)=>{const S={id:Date.now().toString(),role:_,content:k};c(E=>[...E,S]),setTimeout(x,0)},j=_=>{let k="";if(o){const E={performanceMetrics:o==null?void 0:o["Performance Metrics"],dayOfWeekAnalysis:o==null?void 0:o["Day of Week Analysis"],monthlyAnalysis:o==null?void 0:o["Monthly Analysis"],trades:Array.isArray(o==null?void 0:o.trades)?(o==null?void 0:o.trades).slice(0,50):[],totalTrades:Array.isArray(o==null?void 0:o.trades)?(o==null?void 0:o.trades).length:0};k=`
CONTEXTO DOS DADOS DE BACKTEST:
${JSON.stringify(E,null,2)}

PERGUNTA DO USURIO: ${_}

Por favor, analise os dados fornecidos e responda  pergunta do usurio com base nas informaes reais do backtest. Fornea insights especficos e sugestes prticas para melhorar a estratgia de trading.
`}else k=_;return[{role:"user",content:"Voc  um especialista em anlise de trading e backtesting. Analise os dados fornecidos e fornea insights valiosos e sugestes prticas para melhorar estratgias de trading."},...l.map(E=>({role:E.role,content:E.content})),{role:"user",content:k}]},N=async _=>{_.preventDefault()},w=async _=>{if(!o){n("Por favor, faa upload de um arquivo de backtest primeiro.");return}if(((p==null?void 0:p.token_balance)||0)<_.tokens){n(`Saldo de tokens insuficiente. Esta anlise requer ${_.tokens} tokens.`);return}b("user",_.prompt),m(!0),t(!0),n(null);try{const S=j(_.prompt),E=await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:S})});if(!E.ok)throw new Error(`Erro na API: ${E.status} ${E.statusText}`);const P=await E.json();if(P.error)throw new Error(P.error);if(P.content)b("assistant",P.content),i==null||i(P.metrics??P);else throw new Error("Resposta invlida da API");await y(-_.tokens)}catch(S){console.error("Erro ao processar prompt rpido:",S),n(S instanceof Error?S.message:"Erro ao processar anlise")}finally{m(!1),t(!1)}};return s.jsxs("div",{className:"flex flex-col h-full bg-gray-900 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.map(_=>s.jsx("div",{className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${_.role==="user"?"bg-blue-600 text-white":"bg-gray-800 text-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center mb-1",children:[_.role==="assistant"?s.jsx(wa,{className:"w-4 h-4 mr-2 text-blue-400"}):s.jsx(vs,{className:"w-4 h-4 mr-2 text-gray-300"}),s.jsx("span",{className:"text-xs font-medium",children:_.role==="assistant"?"Assistente IA":"Voc"})]}),s.jsx("p",{className:"whitespace-pre-line",children:_.content})]})},_.id)),h&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-800 rounded-lg p-3 max-w-[80%]",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(wa,{className:"w-4 h-4 mr-2 text-blue-400"}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}),r&&s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"bg-red-500 bg-opacity-10 border border-red-500 rounded-lg p-3 text-red-500 flex items-center",children:[s.jsx(BS,{className:"w-4 h-4 mr-2 flex-shrink-0"}),s.jsx("p",{children:r})]})}),s.jsx("div",{ref:f})]}),s.jsxs("div",{className:"border-t border-gray-800 p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[s.jsxs("button",{onClick:()=>w({id:"portfolio-analysis",label:"Anlise da Carteira",prompt:"Analise minha carteira de trading com base nos dados de backtest fornecidos. Identifique pontos fortes, fracos e oportunidades de melhoria.",tokens:500,icon:s.jsx(Jh,{className:"w-4 h-4"})}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",disabled:!o||e,children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Jh,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"font-medium text-sm",children:"Anlise da Carteira"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-400",children:"500 tokens"}),s.jsx(We,{className:"w-3 h-3 text-yellow-500"})]})]}),s.jsxs("button",{onClick:()=>w({id:"uncorrelated-portfolio",label:"Portflio Sem Correlao",prompt:"Com base nos dados de backtest, monte um portflio de estratgias sem correlao para diversificar riscos e maximizar retornos consistentes.",tokens:1e3,icon:s.jsx(ad,{className:"w-4 h-4"})}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",disabled:!o||e,children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(ad,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"font-medium text-sm",children:"Portflio Sem Correlao"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-400",children:"1000 tokens"}),s.jsx(We,{className:"w-3 h-3 text-yellow-500"})]})]}),s.jsxs("button",{onClick:()=>w({id:"risk-return-portfolio",label:"Portflio Risco-Retorno",prompt:"Crie um portflio otimizado focando na relao risco-retorno ideal com base nos dados de performance das estratgias analisadas.",tokens:1e3,icon:s.jsx(Pt,{className:"w-4 h-4"})}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",disabled:!o||e,children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Pt,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"font-medium text-sm",children:"Portflio Risco-Retorno"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-400",children:"1000 tokens"}),s.jsx(We,{className:"w-3 h-3 text-yellow-500"})]})]}),s.jsxs("button",{onClick:()=>w({id:"consistency-portfolio",label:"Portflio Consistncia",prompt:"Monte um portflio priorizando consistncia e estabilidade de retornos, minimizando drawdowns e volatilidade excessiva.",tokens:1e3,icon:s.jsx(Ii,{className:"w-4 h-4"})}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",disabled:!o||e,children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Ii,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"font-medium text-sm",children:"Portflio Consistncia"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-400",children:"1000 tokens"}),s.jsx(We,{className:"w-3 h-3 text-yellow-500"})]})]})]}),s.jsxs("form",{onSubmit:N,className:"flex space-x-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",value:d,onChange:_=>u(_.target.value),placeholder:"Use os botes acima para anlises especficas...",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!0}),s.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-gray-400 flex items-center",children:[s.jsx(We,{className:"w-3 h-3 mr-1 text-yellow-500"}),"Apenas prompts pr-definidos"]})]}),s.jsx("button",{type:"submit",disabled:!0,className:"p-2 rounded-md bg-gray-700 text-gray-400 cursor-not-allowed",children:s.jsx(sx,{className:"w-5 h-5"})})]})]})]})}function M8({files:e,setFiles:t,error:r,isLoading:n,handleFileChange:a,handleDragOver:i,handleDrop:o,handleRemoveFile:l,handleUpload:c,fileInputRef:d}){return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8 border-2 border-blue-600 border-opacity-30",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[s.jsx(es,{className:"w-5 h-5 text-blue-400 mr-2"}),"Upload de Arquivo CSV"]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center mb-6 cursor-pointer hover:border-blue-500 transition-colors",onDragOver:i,onDrop:o,onClick:()=>{var u;return(u=d.current)==null?void 0:u.click()},children:[s.jsx("input",{type:"file",ref:d,onChange:a,className:"hidden",accept:".csv",multiple:!0}),s.jsx(es,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.length>0?s.jsxs("div",{children:[s.jsxs("p",{className:"text-lg font-medium text-blue-400",children:[e.length," arquivo(s) selecionado(s)"]}),s.jsx("ul",{className:"mt-2 text-sm text-gray-400",children:e.map((u,h)=>s.jsxs("li",{className:"flex items-center justify-between py-1",children:[s.jsxs("span",{children:[u.name," (",(u.size/1024).toFixed(2)," KB)"]}),s.jsx("button",{onClick:m=>{m.stopPropagation(),l(h)},className:"text-gray-400 hover:text-red-400",children:s.jsx(Ye,{className:"w-4 h-4"})})]},h))})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"Arraste e solte seu(s) arquivo(s) CSV aqui"}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"ou clique para selecionar arquivos"}),s.jsxs("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md inline-flex items-center",children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Selecionar Arquivos"]})]})]}),r&&s.jsxs("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center text-red-500",children:[s.jsx(ut,{className:"w-5 h-5 mr-2 flex-shrink-0"}),s.jsx("p",{children:r})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:c,disabled:e.length===0||n,className:`px-4 py-2 rounded-md flex items-center ${e.length===0||n?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:n?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"w-5 h-5 mr-2 animate-spin"}),"Analisando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(or,{className:"w-5 h-5 mr-2"}),"Analisar Backtest"]})})})]})}function D8({selectedStrategy:e,setSelectedStrategy:t,selectedAsset:r,setSelectedAsset:n,availableStrategies:a,availableAssets:i,setShowUploadForm:o,files:l=[],selectedFiles:c=[],setSelectedFiles:d,showConsolidated:u=!0,setShowConsolidated:h,onResetFilters:m,trades:f=[],fileResults:p}){const y=l.length>1,v=g.useMemo(()=>{const C=new Set;return f&&f.length>0&&f.forEach(A=>{A.symbol&&C.add(A.symbol)}),p&&Object.keys(p).length>0&&Object.values(p).forEach(A=>{const O=A.trades;O&&Array.isArray(O)&&O.forEach($=>{$.symbol&&C.add($.symbol)})}),C.size===0&&i.length>0&&i.forEach(A=>C.add(A)),Array.from(C).sort()},[f,p,i]),x=v.length>0;console.log(" StrategySelector renderizado:",{selectedStrategy:e,availableStrategies:a,hasMultipleFiles:y,dynamicAvailableAssets:v,hasAvailableAssets:x});const b=C=>{if(d)if(c.includes(C)){const A=c.filter(O=>O!==C);d(A),A.length===0&&(console.log(" Nenhum arquivo selecionado, voltando para modo consolidado"),h&&h(!0),t&&t(null))}else{const A=[...c,C];d(A),A.length===l.length&&(console.log(" Todas as estratgias selecionadas, trocando para modo consolidado"),h&&h(!0),t&&t(null))}},j=()=>{d&&(d(l.map(C=>C.name)),h&&h(!0),t&&t(null))},N=()=>{d&&(d([]),h&&h(!0),t&&t(null))},w=()=>{t(null),n(null),d&&d(l.map(C=>C.name)),h&&h(!0),m&&m()},_=C=>{t(C),d&&C?(d([`${C}.csv`]),h&&h(!1)):d&&!C&&(d(l.map(A=>A.name)),h&&h(!0))},k=()=>{if(!h)return;const C=!u;h(C),C?(d&&d(l.map(A=>A.name)),t&&t(null)):d&&c.length===0&&d(l.map(A=>A.name))},S=!u&&c.length>1,E=()=>u?e||"":c.length===0?"":c.length===1?c[0].replace(".csv",""):"multiple",P=()=>u?a:c.map(C=>C.replace(".csv",""));return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Estratgia"}),s.jsxs("select",{value:E(),onChange:C=>{const A=C.target.value;A!=="multiple"&&_(A||null)},disabled:S,className:`px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 ${S?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx("option",{value:"",children:"Todas as estratgias"}),!u&&c.length>1&&s.jsxs("option",{value:"multiple",disabled:!0,children:["Mltiplas estratgias (",c.length,")"]}),P().map(C=>s.jsx("option",{value:C,children:C},C))]}),S&&s.jsx("div",{className:"text-xs text-yellow-400 mt-1",children:"Use a seleo individual abaixo para mltiplas estratgias"})]}),x&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Ativo"}),s.jsxs("select",{value:r||"",onChange:C=>n(C.target.value||null),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Todos os ativos"}),v.map(C=>s.jsx("option",{value:C,children:C},C))]})]}),y&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Modo"}),s.jsx("button",{onClick:k,className:`px-3 py-2 rounded-md text-sm transition-colors ${u?"bg-blue-600 text-white":"bg-purple-600 text-white"}`,children:u?" Consolidado":" Individual"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:w,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-md flex items-center",children:[s.jsx(DS,{className:"w-4 h-4 mr-2"}),"Limpar Filtros"]}),s.jsxs("button",{onClick:()=>o(!0),className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Adicionar CSV"]})]})]}),(y||e||r)&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[y&&s.jsxs("span",{children:[" ",u?`${l.length} arquivos consolidados`:`${c.length}/${l.length} selecionados`]}),!u&&c.length===1&&s.jsxs("span",{children:[" ",c[0].replace(".csv","")]}),!u&&c.length>1&&s.jsxs("span",{children:[" Mltiplas estratgias (",c.length,")"]}),u&&e&&s.jsxs("span",{children:[" ",e]}),r&&s.jsxs("span",{children:[" ",r]})]}),y&&!u&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:j,className:"text-xs text-blue-400 hover:text-blue-300",children:"Selecionar Todos"}),s.jsx("span",{className:"text-gray-600",children:"|"}),s.jsx("button",{onClick:N,className:"text-xs text-red-400 hover:text-red-300",children:"Desmarcar Todos"})]})]})}),y&&!u&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:l.map((C,A)=>s.jsxs("div",{className:`p-2 rounded border cursor-pointer transition-all text-xs ${c.includes(C.name)?"border-blue-500 bg-blue-500 bg-opacity-10":"border-gray-600 bg-gray-700 hover:border-gray-500"}`,onClick:()=>b(C.name),title:C.name,children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(es,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:C.name.replace(".csv","")}),c.includes(C.name)&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(C.size/1024).toFixed(1)," KB"]})]},A))})})]})}function R8({sampleTrades:e}){const[t,r]=g.useState(!1),[n,a]=g.useState(""),[i,o]=g.useState(null),[l,c]=g.useState(null),[d,u]=g.useState(null),[h,m]=g.useState("all"),[f,p]=g.useState("entry_date"),[y,v]=g.useState("desc"),[x,b]=g.useState(null),[j,N]=g.useState(!1),[w,_]=g.useState(new Set),[k,S]=g.useState(1),[E,P]=g.useState(25),C=Array.isArray(e)?e:(e==null?void 0:e.trades)||[],A=g.useMemo(()=>[...new Set(C.map(D=>D.symbol).filter(Boolean))].sort(),[C]),O=g.useMemo(()=>[...new Set(C.map(D=>D.strategy).filter(Boolean))].sort(),[C]);g.useEffect(()=>{console.log("sampleTrades",e),console.log("extracted trades",C)},[e,C]);const $=g.useMemo(()=>{if(!C||!Array.isArray(C))return[];const D=C.filter(R=>{var q,X;if(n){const I=n.toLowerCase();if(!((q=R.symbol)!=null&&q.toLowerCase().includes(I)||(X=R.strategy)!=null&&X.toLowerCase().includes(I)||R.direction.toLowerCase().includes(I)))return!1}if(i&&R.symbol!==i||l&&R.strategy!==l||d&&R.direction!==d)return!1;if(h!=="all"){const I=new Date(R.entry_date),he=(new Date().getTime()-I.getTime())/(1e3*3600*24);switch(h){case"today":if(he>1)return!1;break;case"week":if(he>7)return!1;break;case"month":if(he>30)return!1;break}}return!0});return D.sort((R,q)=>{let X,I;switch(f){case"entry_date":X=new Date(R.entry_date).getTime(),I=new Date(q.entry_date).getTime();break;case"exit_date":X=new Date(R.exit_date).getTime(),I=new Date(q.exit_date).getTime();break;default:X=R[f],I=q[f]}return y==="asc"?X>I?1:-1:X<I?1:-1}),D},[C,n,i,l,d,h,f,y]),L=Math.ceil($.length/E),H=(k-1)*E,U=H+E,T=$.slice(H,U);g.useEffect(()=>{S(1)},[n,i,l,d,h]);const M=D=>{f===D?v(y==="asc"?"desc":"asc"):(p(D),v("desc"))},z=()=>{a(""),o(null),c(null),u(null),m("all"),S(1)},B=D=>D<1?`${Math.round(D*60)}m`:D<24?`${D.toFixed(1)}h`:`${Math.floor(D/24)}d ${Math.round(D%24)}h`,F=D=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D),K=D=>{const R=[["ID","Data Entrada","Data Sada","Ativo","Estratgia","Direo","Preo Entrada","Preo Sada","Durao","Giro Total","Quantidade","P&L (R$)","P&L (%)"],...D.map(Q=>{var re,he;return[Q.id||"",new Date(Q.entry_date).toLocaleDateString("pt-BR")+" "+new Date(Q.entry_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),new Date(Q.exit_date).toLocaleDateString("pt-BR")+" "+new Date(Q.exit_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),Q.symbol||"N/A",Q.strategy||"N/A",Q.direction==="long"?"Long":"Short",Q.entry_price.toString(),Q.exit_price.toString(),Q.duration?B(Q.duration):"N/A",((re=Q.quantity_total)==null?void 0:re.toString())||"N/A",((he=Q.quantity_compra)==null?void 0:he.toString())||"N/A",Q.pnl.toString(),Q.pnl_pct.toFixed(2)+"%"]})].map(Q=>Q.join(",")).join(`
`),q=new Blob([R],{type:"text/csv;charset=utf-8;"}),X=document.createElement("a"),I=URL.createObjectURL(q);X.setAttribute("href",I),X.setAttribute("download",`operacoes_${new Date().toISOString().split("T")[0]}.csv`),X.style.visibility="hidden",document.body.appendChild(X),X.click(),document.body.removeChild(X)},Y=()=>{if(w.size>0){const D=$.filter((R,q)=>w.has(R.id||q));K(D)}else K($)},W=D=>{const R=new Set(w);R.has(D)?R.delete(D):R.add(D),_(R)},te=$.reduce((D,R)=>D+R.pnl,0),ie=$.length>0?$.filter(D=>D.pnl>0).length/$.length*100:0;return s.jsx("div",{className:"rounded-lg bg-gray-800 text-white p-6 flex-col ",children:s.jsxs("div",{className:"max-w-7xl mx-auto ",children:[s.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"p-6 border-b border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx($i,{className:"w-6 h-6 text-blue-400 mr-3"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Histrico de Operaes"}),s.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[$.length," operaes  P&L Total:",s.jsx("span",{className:`ml-1 font-medium ${te>=0?"text-green-400":"text-red-400"}`,children:F(te)})," Win Rate: ",s.jsxs("span",{className:"text-blue-400 font-medium",children:[ie.toFixed(1),"%"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{onClick:Y,className:`flex items-center gap-2 px-4 py-2 text-white rounded-lg transition-colors text-sm font-medium ${w.size>0?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,title:w.size>0?`Baixar ${w.size} operao(es) selecionada(s)`:`Baixar ${$.length} operao(es) exibida(s) nos filtros atuais`,children:[s.jsx(Wi,{className:"w-4 h-4"}),w.size>0?`Baixar (${w.size})`:"Baixar"]})}),s.jsx("div",{className:"text-xs text-gray-400 text-right max-w-xs",children:"O download ser feito com base nos itens exibidos nessa lista, caso precise de alguma operao especfica, filtre-a"})]}),s.jsx("button",{onClick:()=>r(!t),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:t?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]})]}),t&&s.jsxs("div",{className:"p-6 ",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Buscar por ativo, estratgia...",value:n,onChange:D=>a(D.target.value),className:"pl-9 pr-4 py-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mn,{className:"w-4 h-4 text-gray-400"}),s.jsxs("select",{value:h,onChange:D=>m(D.target.value),className:"px-3 py-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todas as datas"}),s.jsx("option",{value:"today",children:"Hoje"}),s.jsx("option",{value:"week",children:"ltima semana"}),s.jsx("option",{value:"month",children:"ltimo ms"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>N(!j),className:`flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm transition-colors ${j?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[s.jsx(DS,{className:"w-4 h-4"}),"Filtros"]}),(i||l||d||n)&&s.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-3 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm transition-colors",children:[s.jsx(Ye,{className:"w-4 h-4"}),"Limpar"]})]})]}),j&&s.jsx("div",{className:"mt-4 p-4 bg-gray-700 bg-opacity-50 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-medium",children:"Ativo"}),s.jsxs("select",{value:i||"",onChange:D=>o(D.target.value||null),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Todos os ativos"}),A.map(D=>s.jsx("option",{value:D,children:D},D))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-medium",children:"Estratgia"}),s.jsxs("select",{value:l||"",onChange:D=>c(D.target.value||null),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Todas as estratgias"}),O.map(D=>s.jsx("option",{value:D,children:D},D))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-medium",children:"Direo"}),s.jsxs("select",{value:d||"",onChange:D=>u(D.target.value||null),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Todas as direes"}),s.jsx("option",{value:"long",children:"Compra (Long)"}),s.jsx("option",{value:"short",children:"Venda (Short)"})]})]})]})})]}),s.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-700 bg-gray-800 shadow-lg",children:T.length>0?s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gradient-to-r from-gray-700 to-gray-800",children:s.jsxs("tr",{className:"border-b border-gray-600",children:[s.jsx("th",{className:"px-5 py-3 text-center w-12",children:s.jsx("input",{type:"checkbox",checked:w.size===$.length&&$.length>0,onChange:D=>{D.target.checked?_(new Set($.map((R,q)=>R.id||q))):_(new Set)},className:"rounded border-gray-500 bg-gray-700 text-blue-500 focus:ring-blue-400 focus:ring-2 transition-all"})}),s.jsx("th",{className:"px-5 py-3 text-left",children:s.jsxs("button",{onClick:()=>M("entry_date"),className:"flex items-center gap-2 hover:text-blue-400 transition-colors font-medium",children:["Data Entrada",s.jsx(Kl,{className:"w-4 h-4"})]})}),s.jsx("th",{className:"px-5 py-3 text-left",children:s.jsxs("button",{onClick:()=>M("exit_date"),className:"flex items-center gap-2 hover:text-blue-400 transition-colors font-medium",children:["Data Sada",s.jsx(Kl,{className:"w-4 h-4"})]})}),s.jsx("th",{className:"px-5 py-3 text-center",children:s.jsxs("button",{onClick:()=>M("symbol"),className:"flex items-center gap-2 hover:text-blue-400 transition-colors font-medium",children:["Ativo",s.jsx(Kl,{className:"w-4 h-4"})]})}),s.jsx("th",{className:"px-5 py-3 text-center font-medium",children:"Estratgia"}),s.jsx("th",{className:"px-5 py-3 text-center font-medium",children:"Direo"}),s.jsx("th",{className:"px-5 py-3 text-right font-medium",children:"Entrada"}),s.jsx("th",{className:"px-5 py-3 text-right font-medium",children:"Sada"}),s.jsx("th",{className:"px-5 py-3 text-center font-medium",children:"Durao"}),s.jsx("th",{className:"px-5 py-3 text-center font-medium",children:"Giro Total"}),s.jsx("th",{className:"px-5 py-3 text-center font-medium",children:"Quantidade"}),s.jsx("th",{className:"px-5 py-3 text-right",children:s.jsxs("button",{onClick:()=>M("pnl"),className:"flex items-center gap-2 hover:text-blue-400 transition-colors font-medium",children:["P&L (R$)",s.jsx(Kl,{className:"w-4 h-4"})]})}),s.jsx("th",{className:"px-5 py-3 text-right",children:s.jsxs("button",{onClick:()=>M("pnl_pct"),className:"flex items-center gap-2 hover:text-blue-400 transition-colors font-medium",children:["P&L (%)",s.jsx(Kl,{className:"w-4 h-4"})]})}),s.jsx("th",{className:"px-5 py-3 text-center font-medium",children:"Detalhes"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-700",children:T.map((D,R)=>s.jsxs("tr",{className:`group transition-all duration-200 hover:bg-gray-700/50 ${D.pnl>0?"hover:bg-green-900/20 border-l-4 border-l-green-500/30":"hover:bg-red-900/20 border-l-4 border-l-red-500/30"} ${D.pnl>0?"bg-green-900/5":"bg-red-900/5"}`,children:[s.jsx("td",{className:"px-5 py-3 text-center",children:s.jsx("input",{type:"checkbox",checked:w.has(D.id||R),onChange:()=>W(D.id||R),className:"rounded border-gray-500 bg-gray-700 text-blue-500 focus:ring-blue-400 focus:ring-2 transition-all"})}),s.jsx("td",{className:"px-5 py-3",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-white text-sm",children:new Date(D.entry_date).toLocaleDateString("pt-BR")}),s.jsx("span",{className:"text-xs text-gray-400",children:new Date(D.entry_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})}),s.jsx("td",{className:"px-5 py-3",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-white text-sm",children:new Date(D.exit_date).toLocaleDateString("pt-BR")}),s.jsx("span",{className:"text-xs text-gray-400",children:new Date(D.exit_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})}),s.jsx("td",{className:"px-5 py-3 text-center",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-blue-900/50 text-blue-300 border border-blue-700/30",children:D.symbol||"N/A"})}),s.jsx("td",{className:"px-5 py-3 text-center",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-600/50 text-gray-200 border border-gray-500/30",children:D.strategy||"N/A"})}),s.jsx("td",{className:"px-5 py-3 text-center",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${D.direction==="long"?"bg-green-900/50 text-green-300 border border-green-700/30":"bg-red-900/50 text-red-300 border border-red-700/30"}`,children:[D.direction==="long"?s.jsx(Pt,{className:"w-3 h-3"}):s.jsx(nl,{className:"w-3 h-3"}),D.direction==="long"?"Long":"Short"]})}),s.jsx("td",{className:"px-5 py-3 text-right",children:s.jsx("span",{className:"font-mono text-xs font-medium text-white",children:F(D.entry_price)})}),s.jsx("td",{className:"px-5 py-3 text-right",children:s.jsx("span",{className:"font-mono text-xs font-medium text-white",children:F(D.exit_price)})}),s.jsx("td",{className:"px-5 py-3 text-center",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-600/30 text-gray-300",children:D.duration?B(D.duration):"N/A"})}),s.jsx("td",{className:"px-5 py-3 text-center",children:s.jsx("span",{className:"font-mono text-xs text-gray-300",children:(D==null?void 0:D.quantity_total)||"N/A"})}),s.jsx("td",{className:"px-5 py-3 text-center",children:s.jsx("span",{className:"font-mono text-xs text-gray-300",children:(D==null?void 0:D.quantity_compra)||"N/A"})}),s.jsxs("td",{className:`px-5 py-3 text-right font-mono text-xs font-bold ${D.pnl>0?"text-green-400":"text-red-400"}`,children:[D.pnl>0?"+":"",F(D.pnl)]}),s.jsxs("td",{className:`px-5 py-3 text-right font-mono text-xs font-bold ${D.pnl_pct>0?"text-green-400":"text-red-400"}`,children:[D.pnl_pct>0?"+":"",D.pnl_pct.toFixed(2),"%"]}),s.jsx("td",{className:"px-5 py-3 text-center",children:s.jsx("button",{onClick:()=>b(D),className:"p-1.5 hover:bg-gray-600 rounded-lg transition-all duration-200 group-hover:bg-gray-600/50",title:"Ver detalhes",children:s.jsx(hv,{className:"w-3.5 h-3.5 text-gray-400 group-hover:text-blue-400 transition-colors"})})})]},D.id||R))})]}):s.jsxs("div",{className:"text-center py-16 bg-gray-800/50",children:[s.jsx($i,{className:"w-16 h-16 text-gray-500 mx-auto mb-6"}),s.jsx("div",{className:"text-gray-300 text-xl font-medium mb-3",children:"Nenhuma operao encontrada"}),s.jsx("div",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"Tente ajustar os filtros de busca ou verificar se h dados disponveis"})]})}),L>1&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-700 rounded-lg mt-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Itens por pgina:"}),s.jsxs("select",{value:E,onChange:D=>{P(Number(D.target.value)),S(1)},className:"px-2 py-1 bg-gray-600 border border-gray-500 rounded text-sm",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]})]}),s.jsxs("div",{className:"text-sm text-gray-300",children:["Mostrando ",H+1," a ",Math.min(U,$.length)," de ",$.length," operaes"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>S(1),disabled:k===1,className:"px-3 py-1 text-sm bg-gray-600 hover:bg-gray-500 disabled:bg-gray-700 disabled:text-gray-500 rounded transition-colors",children:"Primeira"}),s.jsx("button",{onClick:()=>S(D=>Math.max(1,D-1)),disabled:k===1,className:"p-2 hover:bg-gray-600 disabled:bg-gray-700 disabled:text-gray-500 rounded transition-colors",children:s.jsx(at,{className:"w-4 h-4 text-gray-400"})}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,L)},(D,R)=>{let q;return L<=5||k<=3?q=R+1:k>=L-2?q=L-4+R:q=k-2+R,s.jsx("button",{onClick:()=>S(q),className:`px-3 py-1 text-sm rounded transition-colors ${k===q?"bg-blue-600 text-white":"bg-gray-600 hover:bg-gray-500 text-gray-300"}`,children:q},q)})}),s.jsx("button",{onClick:()=>S(D=>Math.min(L,D+1)),disabled:k===L,className:"p-2 hover:bg-gray-600 disabled:bg-gray-700 disabled:text-gray-500 rounded transition-colors",children:s.jsx(He,{className:"w-4 h-4 text-gray-400"})}),s.jsx("button",{onClick:()=>S(L),disabled:k===L,className:"px-3 py-1 text-sm bg-gray-600 hover:bg-gray-500 disabled:bg-gray-700 disabled:text-gray-500 rounded transition-colors",children:"ltima"})]})]})]})]}),x&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Detalhes da Operao"}),s.jsx("button",{onClick:()=>b(null),className:"p-1 hover:bg-gray-700 rounded",children:s.jsx(Ye,{className:"w-5 h-5 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[x.id&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"ID:"}),s.jsxs("span",{children:["#",x.id]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Ativo:"}),s.jsx("span",{className:"font-medium text-blue-400",children:x.symbol||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Estratgia:"}),s.jsx("span",{children:x.strategy||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Direo:"}),s.jsxs("span",{className:`flex items-center gap-1 ${x.direction==="long"?"text-green-400":"text-red-400"}`,children:[x.direction==="long"?s.jsx(Pt,{className:"w-4 h-4"}):s.jsx(nl,{className:"w-4 h-4"}),x.direction==="long"?"Long":"Short"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Quantidade:"}),s.jsx("span",{children:x.quantity||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Durao:"}),s.jsx("span",{children:x.duration?B(x.duration):"N/A"})]}),s.jsx("hr",{className:"border-gray-700"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Preo de Entrada:"}),s.jsx("span",{className:"font-mono",children:F(x.entry_price)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Preo de Sada:"}),s.jsx("span",{className:"font-mono",children:F(x.exit_price)})]}),x.drawdown!==void 0&&x.drawdown!==0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Drawdown:"}),s.jsx("span",{className:"text-red-400",children:F(x.drawdown)})]}),x.max_gain!==void 0&&x.max_gain!==0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Ganho Mximo:"}),s.jsx("span",{className:"text-green-400",children:F(x.max_gain)})]}),x.max_loss!==void 0&&x.max_loss!==0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Perda Mxima:"}),s.jsx("span",{className:"text-red-400",children:F(x.max_loss)})]}),s.jsxs("div",{className:"flex justify-between text-lg font-medium",children:[s.jsx("span",{className:"text-gray-400",children:"P&L Total:"}),s.jsxs("span",{className:x.pnl>0?"text-green-400":"text-red-400",children:[x.pnl>0?"+":"",F(x.pnl)," (",x.pnl_pct>0?"+":"",x.pnl_pct.toFixed(2),"%)"]})]})]})]})})]})})}function dP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=dP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ge(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=dP(e))&&(n&&(n+=" "),n+=t);return n}var Af={},uP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(uP);var Kv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Kv);var Gv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Gv);var Tf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const d=r[i];l?d==="\\"&&i+1<a?(i++,o+=r[i]):d===l?l="":o+=d:c?d==='"'||d==="'"?l=d:d==="]"?(c=!1,n.push(o),o=""):o+=d:d==="["?(c=!0,o&&(n.push(o),o="")):d==="."?o&&(n.push(o),o=""):o+=d,i++}return o&&n.push(o),n}e.toPath=t})(Tf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uP,r=Kv,n=Gv,a=Tf;function i(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?r.isDeepKey(c)?i(l,a.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return o(l,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function o(l,c,d){if(c.length===0)return d;let u=l;for(let h=0;h<c.length;h++){if(u==null||t.isUnsafeProperty(c[h]))return d;u=u[c[h]]}return u===void 0?d:u}e.get=i})(Af);var $8=Af.get;const Li=Ns($8);var hP={exports:{}},Xe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv=Symbol.for("react.transitional.element"),Jv=Symbol.for("react.portal"),Of=Symbol.for("react.fragment"),Mf=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),Rf=Symbol.for("react.consumer"),$f=Symbol.for("react.context"),If=Symbol.for("react.forward_ref"),Lf=Symbol.for("react.suspense"),Ff=Symbol.for("react.suspense_list"),Bf=Symbol.for("react.memo"),zf=Symbol.for("react.lazy"),I8=Symbol.for("react.view_transition"),L8=Symbol.for("react.client.reference");function $n(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Yv:switch(e=e.type,e){case Of:case Df:case Mf:case Lf:case Ff:case I8:return e;default:switch(e=e&&e.$$typeof,e){case $f:case If:case zf:case Bf:return e;case Rf:return e;default:return t}}case Jv:return t}}}Xe.ContextConsumer=Rf;Xe.ContextProvider=$f;Xe.Element=Yv;Xe.ForwardRef=If;Xe.Fragment=Of;Xe.Lazy=zf;Xe.Memo=Bf;Xe.Portal=Jv;Xe.Profiler=Df;Xe.StrictMode=Mf;Xe.Suspense=Lf;Xe.SuspenseList=Ff;Xe.isContextConsumer=function(e){return $n(e)===Rf};Xe.isContextProvider=function(e){return $n(e)===$f};Xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yv};Xe.isForwardRef=function(e){return $n(e)===If};Xe.isFragment=function(e){return $n(e)===Of};Xe.isLazy=function(e){return $n(e)===zf};Xe.isMemo=function(e){return $n(e)===Bf};Xe.isPortal=function(e){return $n(e)===Jv};Xe.isProfiler=function(e){return $n(e)===Df};Xe.isStrictMode=function(e){return $n(e)===Mf};Xe.isSuspense=function(e){return $n(e)===Lf};Xe.isSuspenseList=function(e){return $n(e)===Ff};Xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Of||e===Df||e===Mf||e===Lf||e===Ff||typeof e=="object"&&e!==null&&(e.$$typeof===zf||e.$$typeof===Bf||e.$$typeof===$f||e.$$typeof===Rf||e.$$typeof===If||e.$$typeof===L8||e.getModuleId!==void 0)};Xe.typeOf=$n;hP.exports=Xe;var F8=hP.exports,Cn=e=>e===0?0:e>0?1:-1,un=e=>typeof e=="number"&&e!=+e,yi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ye=e=>(typeof e=="number"||e instanceof Number)&&!un(e),ws=e=>ye(e)||typeof e=="string",B8=0,al=e=>{var t=++B8;return"".concat(e||"").concat(t)},La=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ye(t)&&typeof t!="string")return n;var i;if(yi(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return un(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},mP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Gl=(e,t)=>ye(e)&&ye(t)?r=>e+r*(t-e):()=>t;function oo(e,t,r){return ye(e)&&ye(t)?e+r*(t-e):t}function Xv(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Li(n,t))===r)}var ft=e=>e===null||typeof e>"u",Qv=e=>ft(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),z8=["viewBox","children"],U8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eN=["points","pathLength"],Ep={svg:z8,polygon:eN,polyline:eN},Zv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],eb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Zv.includes(a)&&(n[a]=i=>r[a](r,i))}),n},q8=(e,t,r)=>n=>(e(t,r,n),null),V8=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Zv.includes(a)&&typeof i=="function"&&(n||(n={}),n[a]=q8(i,t,r))}),n},tN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",rN=null,Ap=null,fP=e=>{if(e===rN&&Array.isArray(Ap))return Ap;var t=[];return g.Children.forEach(e,r=>{ft(r)||(F8.isFragment(r)?t=t.concat(fP(r.props.children)):t.push(r))}),Ap=t,rN=e,t};function pP(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>tN(a)):n=[tN(t)],fP(e).forEach(a=>{var i=Li(a,"type.displayName")||Li(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var Uf=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,W8=(e,t,r,n)=>{var a,i=(a=n&&(Ep==null?void 0:Ep[n]))!==null&&a!==void 0?a:[];return t.startsWith("data-")||typeof e!="function"&&(n&&i.includes(t)||U8.includes(t))||r&&Zv.includes(t)},Fe=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var o;W8((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(a[i]=n[i])}),a},H8=["children","width","height","viewBox","className","style","title","desc"];function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(null,arguments)}function K8(e,t){if(e==null)return{};var r,n,a=G8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function G8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gP=g.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=K8(e,H8),h=i||{width:n,height:a,x:0,y:0},m=Ge("recharts-surface",o);return g.createElement("svg",vx({},Fe(u,!0,"svg"),{className:m,width:n,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,d),r)}),Y8=["children","className"];function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bx.apply(null,arguments)}function J8(e,t){if(e==null)return{};var r,n,a=X8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hn=g.forwardRef((e,t)=>{var{children:r,className:n}=e,a=J8(e,Y8),i=Ge("recharts-layer",n);return g.createElement("g",bx({className:i},Fe(a,!0),{ref:t}),r)}),Q8=g.createContext(null);function gt(e){return function(){return e}}const wx=Math.PI,jx=2*wx,ci=1e-6,Z8=jx-ci;function xP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function e7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xP;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class t7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xP:e7(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=a-r,u=o-t,h=l-r,m=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>ci)if(!(Math.abs(h*c-d*u)>ci)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let f=n-o,p=a-l,y=c*c+d*d,v=f*f+p*p,x=Math.sqrt(y),b=Math.sqrt(m),j=i*Math.tan((wx-Math.acos((y+m-v)/(2*x*b)))/2),N=j/b,w=j/x;Math.abs(N-1)>ci&&this._append`L${t+N*u},${r+N*h}`,this._append`A${i},${i},0,0,${+(h*f>u*p)},${this._x1=t+w*c},${this._y1=r+w*d}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=t+l,u=r+c,h=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>ci||Math.abs(this._y1-u)>ci)&&this._append`L${d},${u}`,n&&(m<0&&(m=m%jx+jx),m>Z8?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=d},${this._y1=u}`:m>ci&&this._append`A${n},${n},0,${+(m>=wx)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function yP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new t7(t)}function tb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vP(e){this._context=e}vP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qf(e){return new vP(e)}function bP(e){return e[0]}function wP(e){return e[1]}function jP(e,t){var r=gt(!0),n=null,a=qf,i=null,o=yP(l);e=typeof e=="function"?e:e===void 0?bP:gt(e),t=typeof t=="function"?t:t===void 0?wP:gt(t);function l(c){var d,u=(c=tb(c)).length,h,m=!1,f;for(n==null&&(i=a(f=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(h,d,c),+t(h,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:gt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:gt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:gt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function $u(e,t,r){var n=null,a=gt(!0),i=null,o=qf,l=null,c=yP(d);e=typeof e=="function"?e:e===void 0?bP:gt(+e),t=typeof t=="function"?t:gt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?wP:gt(+r);function d(h){var m,f,p,y=(h=tb(h)).length,v,x=!1,b,j=new Array(y),N=new Array(y);for(i==null&&(l=o(b=c())),m=0;m<=y;++m){if(!(m<y&&a(v=h[m],m,h))===x)if(x=!x)f=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=m-1;p>=f;--p)l.point(j[p],N[p]);l.lineEnd(),l.areaEnd()}x&&(j[m]=+e(v,m,h),N[m]=+t(v,m,h),l.point(n?+n(v,m,h):j[m],r?+r(v,m,h):N[m]))}if(b)return l=null,b+""||null}function u(){return jP().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:gt(+h),n=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:gt(+h),d):e},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:gt(+h),d):n},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:gt(+h),r=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:gt(+h),d):t},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:gt(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:gt(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class NP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function r7(e){return new NP(e,!0)}function n7(e){return new NP(e,!1)}function nm(){}function sm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _P(e){this._context=e}_P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s7(e){return new _P(e)}function kP(e){this._context=e}kP.prototype={areaStart:nm,areaEnd:nm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a7(e){return new kP(e)}function SP(e){this._context=e}SP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:sm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i7(e){return new SP(e)}function CP(e){this._context=e}CP.prototype={areaStart:nm,areaEnd:nm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function o7(e){return new CP(e)}function nN(e){return e<0?-1:1}function sN(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(nN(i)+nN(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function aN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Tp(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function am(e){this._context=e}am.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tp(this,this._t0,aN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Tp(this,aN(this,r=sN(this,e,t)),r);break;default:Tp(this,this._t0,r=sN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function PP(e){this._context=new EP(e)}(PP.prototype=Object.create(am.prototype)).point=function(e,t){am.prototype.point.call(this,t,e)};function EP(e){this._context=e}EP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function l7(e){return new am(e)}function c7(e){return new PP(e)}function AP(e){this._context=e}AP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=iN(e),a=iN(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iN(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function d7(e){return new AP(e)}function Vf(e,t){this._context=e,this._t=t}Vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function u7(e){return new Vf(e,.5)}function h7(e){return new Vf(e,0)}function m7(e){return new Vf(e,1)}function il(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Nx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function f7(e,t){return e[t]}function p7(e){const t=[];return t.key=e,t}function g7(){var e=gt([]),t=Nx,r=il,n=f7;function a(i){var o=Array.from(e.apply(this,arguments),p7),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(h,o[l].key,d,i)]).data=h;for(l=0,u=tb(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:gt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:gt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Nx:typeof i=="function"?i:gt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??il,a):r},a}function x7(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}il(e,t)}}function y7(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}il(e,t)}}function v7(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[n][1]||0,m=u[n-1][1]||0,f=(h-m)/2,p=0;p<l;++p){var y=e[t[p]],v=y[n][1]||0,x=y[n-1][1]||0;f+=v-x}c+=h,d+=f*h}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,il(e,t)}}var TP={},OP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(OP);var rb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(rb);var MP={},Wf={},DP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(DP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DP;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Wf);var RP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(RP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wf,r=RP;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(MP);var $P={},IP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Af;function r(n){return function(a){return t.get(a,n)}}e.property=r})(IP);var LP={},Op={},Mp={},nb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(nb);var sb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(sb);var Hf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Hf);var oN;function b7(){return oN||(oN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ab(),r=nb,n=sb,a=Hf;function i(h,m,f){return typeof f!="function"?t.isMatch(h,m):o(h,m,function p(y,v,x,b,j,N){const w=f(y,v,x,b,j,N);return w!==void 0?!!w:o(y,v,p,N)},new Map)}function o(h,m,f,p){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,f,p);case"function":return Object.keys(m).length>0?o(h,{...m},f,p):a.eq(h,m);default:return r.isObject(h)?typeof m=="string"?m==="":!0:a.eq(h,m)}}function l(h,m,f,p){if(m==null)return!0;if(Array.isArray(m))return d(h,m,f,p);if(m instanceof Map)return c(h,m,f,p);if(m instanceof Set)return u(h,m,f,p);const y=Object.keys(m);if(h==null)return y.length===0;if(y.length===0)return!0;if(p&&p.has(m))return p.get(m)===h;p&&p.set(m,h);try{for(let v=0;v<y.length;v++){const x=y[v];if(!n.isPrimitive(h)&&!(x in h)||m[x]===void 0&&h[x]!==void 0||m[x]===null&&h[x]!==null||!f(h[x],m[x],x,h,m,p))return!1}return!0}finally{p&&p.delete(m)}}function c(h,m,f,p){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[y,v]of m.entries()){const x=h.get(y);if(f(x,v,y,h,m,p)===!1)return!1}return!0}function d(h,m,f,p){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const y=new Set;for(let v=0;v<m.length;v++){const x=m[v];let b=!1;for(let j=0;j<h.length;j++){if(y.has(j))continue;const N=h[j];let w=!1;if(f(N,x,v,h,m,p)&&(w=!0),w){y.add(j),b=!0;break}}if(!b)return!1}return!0}function u(h,m,f,p){return m.size===0?!0:h instanceof Set?d([...h],[...m],f,p):!1}e.isMatchWith=i,e.isSetMatch=u}(Mp)),Mp}var lN;function ab(){return lN||(lN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b7();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(Op)),Op}var FP={},ib={},ob={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(ob);var Kf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Kf);var Gf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",h="[object Function]",m="[object ArrayBuffer]",f="[object Object]",p="[object Error]",y="[object DataView]",v="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",N="[object BigUint64Array]",w="[object Int8Array]",_="[object Int16Array]",k="[object Int32Array]",S="[object BigInt64Array]",E="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=m,e.arrayTag=u,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=N,e.booleanTag=a,e.dataViewTag=y,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=E,e.float64ArrayTag=P,e.functionTag=h,e.int16ArrayTag=_,e.int32ArrayTag=k,e.int8ArrayTag=w,e.mapTag=c,e.numberTag=n,e.objectTag=f,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=x})(Gf);var BP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(BP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ob,r=Kf,n=Gf,a=sb,i=BP;function o(u,h){return l(u,void 0,u,new Map,h)}function l(u,h,m,f=new Map,p=void 0){const y=p==null?void 0:p(u,h,m,f);if(y!=null)return y;if(a.isPrimitive(u))return u;if(f.has(u))return f.get(u);if(Array.isArray(u)){const v=new Array(u.length);f.set(u,v);for(let x=0;x<u.length;x++)v[x]=l(u[x],x,m,f,p);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;f.set(u,v);for(const[x,b]of u)v.set(x,l(b,x,m,f,p));return v}if(u instanceof Set){const v=new Set;f.set(u,v);for(const x of u)v.add(l(x,void 0,m,f,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);f.set(u,v);for(let x=0;x<u.length;x++)v[x]=l(u[x],x,m,f,p);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return f.set(u,v),c(v,u,m,f,p),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return f.set(u,v),c(v,u,m,f,p),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return f.set(u,v),c(v,u,m,f,p),v}if(u instanceof Error){const v=new u.constructor;return f.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,c(v,u,m,f,p),v}if(typeof u=="object"&&d(u)){const v=Object.create(Object.getPrototypeOf(u));return f.set(u,v),c(v,u,m,f,p),v}return u}function c(u,h,m=u,f,p){const y=[...Object.keys(h),...t.getSymbols(h)];for(let v=0;v<y.length;v++){const x=y[v],b=Object.getOwnPropertyDescriptor(u,x);(b==null||b.writable)&&(u[x]=l(h[x],x,m,f,p))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(ib);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ib;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(FP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ab(),r=FP;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(LP);var zP={},UP={},qP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ib,r=Gf;function n(a,i){return t.cloneDeepWith(a,(o,l,c,d)=>{const u=i==null?void 0:i(o,l,c,d);if(u!=null)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}})}e.cloneDeepWith=n})(qP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qP;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(UP);var VP={},lb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(lb);var WP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kf;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(WP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kv,r=lb,n=WP,a=Tf;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let d=o;for(let u=0;u<c.length;u++){const h=c[u];if((d==null||!Object.hasOwn(d,h))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(h)&&h<d.length))return!1;d=d[h]}return!0}e.has=i})(VP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ab(),r=Gv,n=UP,a=Af,i=VP;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(d){const u=a.get(d,l);return u===void 0?i.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(zP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rb,r=IP,n=LP,a=zP;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})($P);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OP,r=rb,n=MP,a=$P;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(TP);var w7=TP.uniqBy;const cN=Ns(w7);function j7(e,t,r){return t===!0?cN(e,r):typeof t=="function"?cN(e,t):e}var cb=g.createContext(null),N7=e=>e,Or=()=>{var e=g.useContext(cb);return e?e.store.dispatch:N7},vh=()=>{},_7=()=>vh,k7=(e,t)=>e===t;function Ne(e){var t=g.useContext(cb);return aS.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:_7,t?t.store.getState:vh,t?t.store.getState:vh,t?e:vh,k7)}function S7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function C7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function P7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var dN=e=>Array.isArray(e)?e:[e];function E7(e){const t=Array.isArray(e[0])?e[0]:e;return P7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function A7(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var T7=class{constructor(e){this.value=e}deref(){return this.value}},O7=typeof WeakRef<"u"?WeakRef:T7,M7=0,uN=1;function Iu(){return{s:M7,v:void 0,o:null,p:null}}function HP(e,t={}){let r=Iu();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var h;let l=r;const{length:c}=arguments;for(let m=0,f=c;m<f;m++){const p=arguments[m];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const v=y.get(p);v===void 0?(l=Iu(),y.set(p,l)):l=v}else{let y=l.p;y===null&&(l.p=y=new Map);const v=y.get(p);v===void 0?(l=Iu(),y.set(p,l)):l=v}}const d=l;let u;if(l.s===uN)u=l.v;else if(u=e.apply(null,arguments),i++,n){const m=((h=a==null?void 0:a.deref)==null?void 0:h.call(a))??a;m!=null&&n(m,u)&&(u=m,i!==0&&i--),a=typeof u=="object"&&u!==null||typeof u=="function"?new O7(u):u}return d.s=uN,d.v=u,u}return o.clearCache=()=>{r=Iu(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function D7(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,c={},d=a.pop();typeof d=="object"&&(c=d,d=a.pop()),S7(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:h,memoizeOptions:m=[],argsMemoize:f=HP,argsMemoizeOptions:p=[],devModeChecks:y={}}=u,v=dN(m),x=dN(p),b=E7(a),j=h(function(){return i++,d.apply(null,arguments)},...v),N=f(function(){o++;const _=A7(b,arguments);return l=j.apply(null,_),l},...x);return Object.assign(N,{resultFunc:d,memoizedResultFunc:j,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var ee=D7(HP),R7=Object.assign((e,t=ee)=>{C7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>R7}),KP={},GP={},YP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(YP);var JP={},db={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(db);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=db,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(JP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YP,r=JP,n=Tf;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(f=>String(f));const d=(f,p)=>{let y=f;for(let v=0;v<p.length&&y!=null;++v)y=y[p[v]];return y},u=(f,p)=>p==null||f==null?p:typeof f=="object"&&"key"in f?Object.hasOwn(p,f.key)?p[f.key]:d(p,f.path):typeof f=="function"?f(p):Array.isArray(f)?d(p,f):typeof p=="object"?p[f]:p,h=o.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||r.isKey(f)?f:{key:f,path:n.toPath(f)}));return i.map(f=>({original:f,criteria:h.map(p=>u(p,f))})).slice().sort((f,p)=>{for(let y=0;y<h.length;y++){const v=t.compareValues(f.criteria[y],p.criteria[y],l[y]);if(v!==0)return v}return 0}).map(f=>f.original)}e.orderBy=a})(GP);var XP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<i?o(u,c+1):a.push(u)}};return o(r,0),a}e.flatten=t})(XP);var ub={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lb,r=Wf,n=nb,a=Hf;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=i})(ub);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GP,r=XP,n=ub;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(KP);var $7=KP.sortBy;const Yf=Ns($7);var QP=e=>e.legend.settings,I7=e=>e.legend.size,L7=e=>e.legend.payload;ee([L7,QP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Yf(n,r):n});var Lu=1;function F7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Lu||Math.abs(o.left-t.left)>Lu||Math.abs(o.top-t.top)>Lu||Math.abs(o.width-t.width)>Lu)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function er(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var B7=typeof Symbol=="function"&&Symbol.observable||"@@observable",hN=B7,Dp=()=>Math.random().toString(36).substring(7).split("").join("."),z7={INIT:`@@redux/INIT${Dp()}`,REPLACE:`@@redux/REPLACE${Dp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dp()}`},im=z7;function hb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ZP(e,t,r){if(typeof e!="function")throw new Error(er(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(er(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(er(1));return r(ZP)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((v,x)=>{o.set(x,v)}))}function u(){if(c)throw new Error(er(3));return a}function h(v){if(typeof v!="function")throw new Error(er(4));if(c)throw new Error(er(5));let x=!0;d();const b=l++;return o.set(b,v),function(){if(x){if(c)throw new Error(er(6));x=!1,d(),o.delete(b),i=null}}}function m(v){if(!hb(v))throw new Error(er(7));if(typeof v.type>"u")throw new Error(er(8));if(typeof v.type!="string")throw new Error(er(17));if(c)throw new Error(er(9));try{c=!0,a=n(a,v)}finally{c=!1}return(i=o).forEach(b=>{b()}),v}function f(v){if(typeof v!="function")throw new Error(er(10));n=v,m({type:im.REPLACE})}function p(){const v=h;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(er(11));function b(){const N=x;N.next&&N.next(u())}return b(),{unsubscribe:v(b)}},[hN](){return this}}}return m({type:im.INIT}),{dispatch:m,subscribe:h,getState:u,replaceReducer:f,[hN]:p}}function U7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:im.INIT})>"u")throw new Error(er(12));if(typeof r(void 0,{type:im.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(er(13))})}function eE(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{U7(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const d={};for(let u=0;u<n.length;u++){const h=n[u],m=r[h],f=o[h],p=m(f,l);if(typeof p>"u")throw l&&l.type,new Error(er(14));d[h]=p,c=c||p!==f}return c=c||n.length!==Object.keys(o).length,c?d:o}}function om(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function q7(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(er(15))};const o={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=om(...l)(a.dispatch),{...a,dispatch:i}}}function tE(e){return hb(e)&&"type"in e&&typeof e.type=="string"}var rE=Symbol.for("immer-nothing"),mN=Symbol.for("immer-draftable"),mn=Symbol.for("immer-state");function Yn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ol=Object.getPrototypeOf;function Fi(e){return!!e&&!!e[mn]}function qs(e){var t;return e?nE(e)||Array.isArray(e)||!!e[mN]||!!((t=e.constructor)!=null&&t[mN])||Xf(e)||Qf(e):!1}var V7=Object.prototype.constructor.toString();function nE(e){if(!e||typeof e!="object")return!1;const t=ol(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===V7}function lm(e,t){Jf(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Jf(e){const t=e[mn];return t?t.type_:Array.isArray(e)?1:Xf(e)?2:Qf(e)?3:0}function _x(e,t){return Jf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sE(e,t,r){const n=Jf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function W7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Xf(e){return e instanceof Map}function Qf(e){return e instanceof Set}function di(e){return e.copy_||e.base_}function kx(e,t){if(Xf(e))return new Map(e);if(Qf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=nE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[mn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(ol(e),n)}else{const n=ol(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function mb(e,t=!1){return Zf(e)||Fi(e)||!qs(e)||(Jf(e)>1&&(e.set=e.add=e.clear=e.delete=H7),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>mb(n,!0))),e}function H7(){Yn(2)}function Zf(e){return Object.isFrozen(e)}var K7={};function Bi(e){const t=K7[e];return t||Yn(0,e),t}var ud;function aE(){return ud}function G7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fN(e,t){t&&(Bi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Sx(e){Cx(e),e.drafts_.forEach(Y7),e.drafts_=null}function Cx(e){e===ud&&(ud=e.parent_)}function pN(e){return ud=G7(ud,e)}function Y7(e){const t=e[mn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function gN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[mn].modified_&&(Sx(t),Yn(4)),qs(e)&&(e=cm(t,e),t.parent_||dm(t,e)),t.patches_&&Bi("Patches").generateReplacementPatches_(r[mn].base_,e,t.patches_,t.inversePatches_)):e=cm(t,r,[]),Sx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rE?e:void 0}function cm(e,t,r){if(Zf(t))return t;const n=t[mn];if(!n)return lm(t,(a,i)=>xN(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return dm(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,o=!1;n.type_===3&&(i=new Set(a),a.clear(),o=!0),lm(i,(l,c)=>xN(e,n,a,l,c,r,o)),dm(e,a,!1),r&&e.patches_&&Bi("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function xN(e,t,r,n,a,i,o){if(Fi(a)){const l=i&&t&&t.type_!==3&&!_x(t.assigned_,n)?i.concat(n):void 0,c=cm(e,a,l);if(sE(r,n,c),Fi(c))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(qs(a)&&!Zf(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;cm(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&dm(e,a)}}function dm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mb(t,r)}function J7(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:aE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=fb;r&&(a=[n],i=hd);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var fb={get(e,t){if(t===mn)return e;const r=di(e);if(!_x(r,t))return X7(e,r,t);const n=r[t];return e.finalized_||!qs(n)?n:n===Rp(e.base_,t)?($p(e),e.copy_[t]=Ex(n,e)):n},has(e,t){return t in di(e)},ownKeys(e){return Reflect.ownKeys(di(e))},set(e,t,r){const n=iE(di(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Rp(di(e),t),i=a==null?void 0:a[mn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(W7(r,a)&&(r!==void 0||_x(e.base_,t)))return!0;$p(e),Px(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Rp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,$p(e),Px(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=di(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Yn(11)},getPrototypeOf(e){return ol(e.base_)},setPrototypeOf(){Yn(12)}},hd={};lm(fb,(e,t)=>{hd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});hd.deleteProperty=function(e,t){return hd.set.call(this,e,t,void 0)};hd.set=function(e,t,r){return fb.set.call(this,e[0],t,r,e[0])};function Rp(e,t){const r=e[mn];return(r?di(r):e)[t]}function X7(e,t,r){var a;const n=iE(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function iE(e,t){if(!(t in e))return;let r=ol(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ol(r)}}function Px(e){e.modified_||(e.modified_=!0,e.parent_&&Px(e.parent_))}function $p(e){e.copy_||(e.copy_=kx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Q7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...d){return o.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&Yn(6),n!==void 0&&typeof n!="function"&&Yn(7);let a;if(qs(t)){const i=pN(this),o=Ex(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Sx(i):Cx(i)}return fN(i,n),gN(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===rE&&(a=void 0),this.autoFreeze_&&mb(a,!0),n){const i=[],o=[];Bi("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Yn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){qs(e)||Yn(8),Fi(e)&&(e=Oa(e));const t=pN(this),r=Ex(e,void 0);return r[mn].isManual_=!0,Cx(t),r}finishDraft(e,t){const r=e&&e[mn];(!r||!r.isManual_)&&Yn(9);const{scope_:n}=r;return fN(n,t),gN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Bi("Patches").applyPatches_;return Fi(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Ex(e,t){const r=Xf(e)?Bi("MapSet").proxyMap_(e,t):Qf(e)?Bi("MapSet").proxySet_(e,t):J7(e,t);return(t?t.scope_:aE()).drafts_.push(r),r}function Oa(e){return Fi(e)||Yn(10,e),oE(e)}function oE(e){if(!qs(e)||Zf(e))return e;const t=e[mn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=kx(e,t.scope_.immer_.useStrictShallowCopy_)}else r=kx(e,!0);return lm(r,(n,a)=>{sE(r,n,oE(a))}),t&&(t.finalized_=!1),r}var fn=new Q7,lE=fn.produce;fn.produceWithPatches.bind(fn);fn.setAutoFreeze.bind(fn);fn.setUseStrictShallowCopy.bind(fn);fn.applyPatches.bind(fn);fn.createDraft.bind(fn);fn.finishDraft.bind(fn);function cE(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var Z7=cE(),eF=cE,tF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?om:om.apply(null,arguments)};function Dn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(cn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>tE(n)&&n.type===e,r}var dE=class pc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,pc.prototype)}static get[Symbol.species](){return pc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new pc(...t[0].concat(this)):new pc(...t.concat(this))}};function yN(e){return qs(e)?lE(e,()=>{}):e}function Fu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function rF(e){return typeof e=="boolean"}var nF=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new dE;return r&&(rF(r)?o.push(Z7):o.push(eF(r.extraArgument))),o},sF="RTK_autoBatch",vN=e=>t=>{setTimeout(t,e)},aF=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:vN(10):e.type==="callback"?e.queueNotification:vN(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const h=()=>a&&u(),m=n.subscribe(h);return l.add(u),()=>{m(),l.delete(u)}},dispatch(u){var h;try{return a=!((h=u==null?void 0:u.meta)!=null&&h[sF]),i=!a,i&&(o||(o=!0,c(d))),n.dispatch(u)}finally{a=!0}}})},iF=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new dE(e);return n&&a.push(aF(typeof n=="object"?n:void 0)),a};function oF(e){const t=nF(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(hb(r))c=eE(r);else throw new Error(cn(1));let d;typeof n=="function"?d=n(t):d=t();let u=om;a&&(u=tF({trace:!1,...typeof a=="object"&&a}));const h=q7(...d),m=iF(h);let f=typeof l=="function"?l(m):m();const p=u(...f);return ZP(c,o,p)}function uE(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(cn(28));if(l in t)throw new Error(cn(29));return t[l]=o,a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function lF(e){return typeof e=="function"}function cF(e,t){let[r,n,a]=uE(t),i;if(lF(e))i=()=>yN(e());else{const l=yN(e);i=()=>l}function o(l=i(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[a]),d.reduce((u,h)=>{if(h)if(Fi(u)){const f=h(u,c);return f===void 0?u:f}else{if(qs(u))return lE(u,m=>h(m,c));{const m=h(u,c);if(m===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return u},l)}return o.getInitialState=i,o}var dF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uF=(e=21)=>{let t="",r=e;for(;r--;)t+=dF[Math.random()*64|0];return t},hF=Symbol.for("rtk-slice-createasyncthunk");function mF(e,t){return`${e}/${t}`}function fF({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[hF];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(cn(11));typeof process<"u";const l=(typeof a.reducers=="function"?a.reducers(gF()):a.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(N,w){const _=typeof N=="string"?N:N.type;if(!_)throw new Error(cn(12));if(_ in d.sliceCaseReducersByType)throw new Error(cn(13));return d.sliceCaseReducersByType[_]=w,u},addMatcher(N,w){return d.sliceMatchers.push({matcher:N,reducer:w}),u},exposeAction(N,w){return d.actionCreators[N]=w,u},exposeCaseReducer(N,w){return d.sliceCaseReducersByName[N]=w,u}};c.forEach(N=>{const w=l[N],_={reducerName:N,type:mF(i,N),createNotation:typeof a.reducers=="function"};yF(w)?bF(_,w,u,t):xF(_,w,u)});function h(){const[N={},w=[],_=void 0]=typeof a.extraReducers=="function"?uE(a.extraReducers):[a.extraReducers],k={...N,...d.sliceCaseReducersByType};return cF(a.initialState,S=>{for(let E in k)S.addCase(E,k[E]);for(let E of d.sliceMatchers)S.addMatcher(E.matcher,E.reducer);for(let E of w)S.addMatcher(E.matcher,E.reducer);_&&S.addDefaultCase(_)})}const m=N=>N,f=new Map,p=new WeakMap;let y;function v(N,w){return y||(y=h()),y(N,w)}function x(){return y||(y=h()),y.getInitialState()}function b(N,w=!1){function _(S){let E=S[N];return typeof E>"u"&&w&&(E=Fu(p,_,x)),E}function k(S=m){const E=Fu(f,w,()=>new WeakMap);return Fu(E,S,()=>{const P={};for(const[C,A]of Object.entries(a.selectors??{}))P[C]=pF(A,S,()=>Fu(p,S,x),w);return P})}return{reducerPath:N,getSelectors:k,get selectors(){return k(_)},selectSlice:_}}const j={name:i,reducer:v,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:x,...b(o),injectInto(N,{reducerPath:w,..._}={}){const k=w??o;return N.inject({reducerPath:k,reducer:v},_),{...j,...b(k,!0)}}};return j}}function pF(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var In=fF();function gF(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function xF({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!vF(n))throw new Error(cn(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Dn(e,o):Dn(e))}function yF(e){return e._reducerDefinitionType==="asyncThunk"}function vF(e){return e._reducerDefinitionType==="reducerWithPrepare"}function bF({type:e,reducerName:t},r,n,a){if(!a)throw new Error(cn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=r,h=a(e,i,u);n.exposeAction(t,h),o&&n.addCase(h.fulfilled,o),l&&n.addCase(h.pending,l),c&&n.addCase(h.rejected,c),d&&n.addMatcher(h.settled,d),n.exposeCaseReducer(t,{fulfilled:o||Bu,pending:l||Bu,rejected:c||Bu,settled:d||Bu})}function Bu(){}var wF="task",hE="listener",mE="completed",pb="cancelled",jF=`task-${pb}`,NF=`task-${mE}`,Ax=`${hE}-${pb}`,_F=`${hE}-${mE}`,e0=class{constructor(e){R0(this,"name","TaskAbortError");R0(this,"message");this.code=e,this.message=`${wF} ${pb} (reason: ${e})`}},gb=(e,t)=>{if(typeof e!="function")throw new TypeError(cn(32))},um=()=>{},fE=(e,t=um)=>(e.catch(t),e),pE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ci=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Pi=e=>{if(e.aborted){const{reason:t}=e;throw new e0(t)}};function gE(e,t){let r=um;return new Promise((n,a)=>{const i=()=>a(new e0(e.reason));if(e.aborted){i();return}r=pE(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=um})}var kF=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof e0?"cancelled":"rejected",error:r}}finally{t==null||t()}},hm=e=>t=>fE(gE(e,t).then(r=>(Pi(e),r))),xE=e=>{const t=hm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Uo}=Object,bN={},t0="listenerMiddleware",SF=(e,t)=>{const r=n=>pE(e,()=>Ci(n,e.reason));return(n,a)=>{gb(n);const i=new AbortController;r(i);const o=kF(async()=>{Pi(e),Pi(i.signal);const l=await n({pause:hm(i.signal),delay:xE(i.signal),signal:i.signal});return Pi(i.signal),l},()=>Ci(i,NF));return a!=null&&a.autoJoin&&t.push(o.catch(um)),{result:hm(e)(o),cancel(){Ci(i,jF)}}}},CF=(e,t)=>{const r=async(n,a)=>{Pi(t);let i=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:n,effect:(h,m)=>{m.unsubscribe(),c([h,m.getState(),m.getOriginalState()])}});i=()=>{u(),d()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await gE(t,Promise.race(l));return Pi(t),c}finally{i()}};return(n,a)=>fE(r(n,a))},yE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Dn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(cn(21));return gb(i),{predicate:a,type:t,effect:i}},vE=Uo(e=>{const{type:t,predicate:r,effect:n}=yE(e);return{id:uF(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(cn(22))}}},{withTypes:()=>vE}),wN=(e,t)=>{const{type:r,effect:n,predicate:a}=yE(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Tx=e=>{e.pending.forEach(t=>{Ci(t,Ax)})},PF=e=>()=>{e.forEach(Tx),e.clear()},jN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},bE=Uo(Dn(`${t0}/add`),{withTypes:()=>bE}),EF=Dn(`${t0}/removeAll`),wE=Uo(Dn(`${t0}/remove`),{withTypes:()=>wE}),AF=(...e)=>{console.error(`${t0}/error`,...e)},Bd=(e={})=>{const t=new Map,{extra:r,onError:n=AF}=e;gb(n);const a=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),h=>{u.unsubscribe(),h!=null&&h.cancelActive&&Tx(u)}),i=u=>{const h=wN(t,u)??vE(u);return a(h)};Uo(i,{withTypes:()=>i});const o=u=>{const h=wN(t,u);return h&&(h.unsubscribe(),u.cancelActive&&Tx(h)),!!h};Uo(o,{withTypes:()=>o});const l=async(u,h,m,f)=>{const p=new AbortController,y=CF(i,p.signal),v=[];try{u.pending.add(p),await Promise.resolve(u.effect(h,Uo({},m,{getOriginalState:f,condition:(x,b)=>y(x,b).then(Boolean),take:y,delay:xE(p.signal),pause:hm(p.signal),extra:r,signal:p.signal,fork:SF(p.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((x,b,j)=>{x!==p&&(Ci(x,Ax),j.delete(x))})},cancel:()=>{Ci(p,Ax),u.pending.delete(p)},throwIfCancelled:()=>{Pi(p.signal)}})))}catch(x){x instanceof e0||jN(n,x,{raisedBy:"effect"})}finally{await Promise.all(v),Ci(p,_F),u.pending.delete(p)}},c=PF(t);return{middleware:u=>h=>m=>{if(!tE(m))return h(m);if(bE.match(m))return i(m.payload);if(EF.match(m)){c();return}if(wE.match(m))return o(m.payload);let f=u.getState();const p=()=>{if(f===bN)throw new Error(cn(23));return f};let y;try{if(y=h(m),t.size>0){const v=u.getState(),x=Array.from(t.values());for(const b of x){let j=!1;try{j=b.predicate(m,v,f)}catch(N){j=!1,jN(n,N,{raisedBy:"predicate"})}j&&l(b,m,u,p)}}}finally{f=bN}return y},startListening:i,stopListening:o,clearListeners:c}};function cn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TF={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},jE=In({name:"chartLayout",initialState:TF,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:OF,setLayout:MF,setChartSize:DF,setScale:RF}=jE.actions,$F=jE.reducer;function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){IF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IF(e,t,r){return(t=LF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LF(e){var t=FF(e,"string");return typeof t=="symbol"?t:t+""}function FF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mm=Math.PI/180,BF=e=>e*180/Math.PI,sr=(e,t,r,n)=>({x:e+Math.cos(-mm*n)*r,y:t+Math.sin(-mm*n)*r}),zF=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},UF=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},qF=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=UF({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:BF(c),angleInRadian:c}},VF=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},WF=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},HF=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=qF({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:d}=VF(t),u=i,h;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;h=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;h=u>=d&&u<=c}return h?_N(_N({},t),{},{radius:a,angle:WF(u,t)}):null};function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){KF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KF(e,t,r){return(t=GF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GF(e){var t=YF(e,"string");return typeof t=="symbol"?t:t+""}function YF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pr(e,t,r){return ft(e)||ft(t)?r:ws(t)?Li(e,t,r):typeof t=="function"?t(e):r}var JF=(e,t,r,n,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?r[c-1].coordinate:r[l-1].coordinate,u=r[c].coordinate,h=c>=l-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(Cn(u-d)!==Cn(h-u)){var f=[];if(Cn(h-u)===Cn(a[1]-a[0])){m=h;var p=u+a[1]-a[0];f[0]=Math.min(p,(p+d)/2),f[1]=Math.max(p,(p+d)/2)}else{m=d;var y=h+a[1]-a[0];f[0]=Math.min(u,(y+u)/2),f[1]=Math.max(u,(y+u)/2)}var v=[Math.min(u,(m+u)/2),Math.max(u,(m+u)/2)];if(e>v[0]&&e<=v[1]||e>=f[0]&&e<=f[1]){({index:o}=r[c]);break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(e>(x+u)/2&&e<=(b+u)/2){({index:o}=r[c]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},XF=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ye(e[i]))return Nn(Nn({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ye(e[o]))return Nn(Nn({},e),{},{[o]:e[o]+(a||0)})}return e},_s=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",NE=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},_E=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:h,niceTicks:m,axisType:f}=e;if(!o)return null;var p=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=a==="category"&&o.bandwidth?o.bandwidth()/p:0;if(y=f==="angleAxis"&&i&&i.length>=2?Cn(i[0]-i[1])*2*y:y,h||m){var v=(h||m||[]).map((x,b)=>{var j=n?n.indexOf(x):x;return{coordinate:o(j)+y,value:x,offset:y,index:b}});return v.filter(x=>!un(x.coordinate))}return c&&d?d.map((x,b)=>({coordinate:o(x)+y,value:x,index:b,offset:y})):o.ticks&&!r&&u!=null?o.ticks(u).map((x,b)=>({coordinate:o(x)+y,value:x,offset:y,index:b})):o.domain().map((x,b)=>({coordinate:o(x)+y,value:n?n[x]:x,index:b,offset:y}))},SN=1e-4,QF=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-SN,i=Math.max(n[0],n[1])+SN,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},ZF=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=un(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},e9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=un(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},t9={sign:ZF,expand:x7,none:il,silhouette:y7,wiggle:v7,positive:e9},r9=(e,t,r)=>{var n=t9[r],a=g7().keys(t).value((i,o)=>+Pr(i,o,0)).order(Nx).offset(n);return a(e)};function kE(e){return e==null?void 0:String(e)}function fm(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ft(a[t.dataKey])){var l=Xv(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Pr(a,ft(o)?t.dataKey:o);return ft(c)?null:t.scale(c)}var n9=e=>{var t=e.flat(2).filter(ye);return[Math.min(...t),Math.max(...t)]},s9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],a9=(e,t,r)=>{if(e!=null)return s9(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((c,d)=>{var u=n9(d.slice(t,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},CN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,md=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Yf(t,u=>u.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],d=a[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function EN(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Nn(Nn({},t),{},{dataKey:r,payload:n,value:a,name:i})}function r0(e,t){if(e)return String(e);if(typeof t=="string")return t}function i9(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?HF({x:e,y:t},n):null}var o9=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Nn(Nn(Nn({},n),sr(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=n;return Nn(Nn(Nn({},n),sr(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},l9=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Wa=e=>e.layout.width,Ha=e=>e.layout.height,c9=e=>e.layout.scale,SE=e=>e.layout.margin,xb=ee(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),yb=ee(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),d9="data-recharts-item-index",u9="data-recharts-item-data-key",n0=60;function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){h9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h9(e,t,r){return(t=m9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m9(e){var t=f9(e,"string");return typeof t=="symbol"?t:t+""}function f9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p9=e=>e.brush.height,vr=ee([Wa,Ha,SE,p9,xb,yb,QP,I7],(e,t,r,n,a,i,o,l)=>{var c=i.reduce((p,y)=>{var{orientation:v}=y;if(!y.mirror&&!y.hide){var x=typeof y.width=="number"?y.width:n0;return ia(ia({},p),{},{[v]:p[v]+x})}return p},{left:r.left||0,right:r.right||0}),d=a.reduce((p,y)=>{var{orientation:v}=y;return!y.mirror&&!y.hide?ia(ia({},p),{},{[v]:Li(p,"".concat(v))+y.height}):p},{top:r.top||0,bottom:r.bottom||0}),u=ia(ia({},d),c),h=u.bottom;u.bottom+=n,u=XF(u,o,l);var m=e-u.left-u.right,f=t-u.top-u.bottom;return ia(ia({brushBottom:h},u),{},{width:Math.max(m,0),height:Math.max(f,0)})}),g9=ee(vr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),CE=ee(Wa,Ha,(e,t)=>({x:0,y:0,width:e,height:t})),x9=g.createContext(null),Mr=()=>g.useContext(x9)!=null,s0=e=>e.brush,a0=ee([s0,vr,SE],(e,t,r)=>({height:e.height,x:ye(e.x)?e.x:t.left,y:ye(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ye(e.width)?e.width:t.width})),vb=()=>{var e,t=Mr(),r=Ne(g9),n=Ne(a0),a=(e=Ne(s0))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},y9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_l=()=>{var e;return(e=Ne(vr))!==null&&e!==void 0?e:y9},PE=()=>Ne(Wa),EE=()=>Ne(Ha),tt=e=>e.layout.layoutType,i0=()=>Ne(tt),v9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},AE=In({name:"legend",initialState:v9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Oa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:OX,setLegendSettings:MX,addLegendPayload:b9,removeLegendPayload:w9}=AE.actions,j9=AE.reducer;function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ox.apply(null,arguments)}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){N9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N9(e,t,r){return(t=_9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _9(e){var t=k9(e,"string");return typeof t=="symbol"?t:t+""}function k9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S9(e){return Array.isArray(e)&&ws(e[0])&&ws(e[1])?e.join(" ~ "):e}var C9=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:h,accessibilityLayer:m=!1}=e,f=()=>{if(i&&i.length){var w={padding:0,margin:0},_=(l?Yf(i,l):i).map((k,S)=>{if(k.type==="none")return null;var E=k.formatter||o||S9,{value:P,name:C}=k,A=P,O=C;if(E){var $=E(P,C,k,S,i);if(Array.isArray($))[A,O]=$;else if($!=null)A=$;else return null}var L=Ip({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:L},ws(O)?g.createElement("span",{className:"recharts-tooltip-item-name"},O):null,ws(O)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},A),g.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:w},_)}return null},p=Ip({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=Ip({margin:0},a),v=!ft(u),x=v?u:"",b=Ge("recharts-default-tooltip",c),j=Ge("recharts-tooltip-label",d);v&&h&&i!==void 0&&i!==null&&(x=h(u,i));var N=m?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Ox({className:b,style:p},N),g.createElement("p",{className:j,style:y},g.isValidElement(x)?x:"".concat(x)),f())},Yl="recharts-tooltip-wrapper",P9={visibility:"hidden"};function E9(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ge(Yl,{["".concat(Yl,"-right")]:ye(r)&&t&&ye(t.x)&&r>=t.x,["".concat(Yl,"-left")]:ye(r)&&t&&ye(t.x)&&r<t.x,["".concat(Yl,"-bottom")]:ye(n)&&t&&ye(t.y)&&n>=t.y,["".concat(Yl,"-top")]:ye(n)&&t&&ye(t.y)&&n<t.y})}function ON(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(i&&ye(i[n]))return i[n];var u=r[n]-l-(a>0?a:0),h=r[n]+a;if(t[n])return o[n]?u:h;var m=c[n];if(m==null)return 0;if(o[n]){var f=u,p=m;return f<p?Math.max(h,m):Math.max(u,m)}if(d==null)return 0;var y=h+l,v=m+d;return y>v?Math.max(u,m):Math.max(h,m)}function A9(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function T9(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,d,u,h;return o.height>0&&o.width>0&&r?(u=ON({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=ON({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=A9({translateX:u,translateY:h,useTranslate3d:l})):d=P9,{cssProperties:d,cssClasses:E9({translateX:u,translateY:h,coordinate:r})}}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){Mx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mx(e,t,r){return(t=O9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O9(e){var t=M9(e,"string");return typeof t=="symbol"?t:t+""}function M9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class D9 extends g.PureComponent{constructor(){super(...arguments),Mx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Mx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:h,useTranslate3d:m,viewBox:f,wrapperStyle:p,lastBoundingBox:y,innerRef:v,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:j}=T9({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:h,tooltipBox:{height:y.height,width:y.width},useTranslate3d:m,viewBox:f}),N=x?{}:zu(zu({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),w=zu(zu({},N),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:w,ref:v},i)}}var R9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),kl={isSsr:R9()},TE=()=>Ne(e=>e.rootProps.accessibilityLayer);function Er(e){return Number.isFinite(e)}function pm(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(null,arguments)}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){$9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $9(e,t,r){return(t=I9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I9(e){var t=L9(e,"string");return typeof t=="symbol"?t:t+""}function L9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $N={curveBasisClosed:a7,curveBasisOpen:i7,curveBasis:s7,curveBumpX:r7,curveBumpY:n7,curveLinearClosed:o7,curveLinear:qf,curveMonotoneX:l7,curveMonotoneY:c7,curveNatural:d7,curveStep:u7,curveStepAfter:m7,curveStepBefore:h7},Uu=e=>Er(e.x)&&Er(e.y),Jl=e=>e.x,Xl=e=>e.y,F9=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Qv(e));return(r==="curveMonotone"||r==="curveBump")&&t?$N["".concat(r).concat(t==="vertical"?"Y":"X")]:$N[r]||qf},B9=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=F9(t,a),l=i?r.filter(Uu):r,c;if(Array.isArray(n)){var d=i?n.filter(h=>Uu(h)):n,u=l.map((h,m)=>RN(RN({},h),{},{base:d[m]}));return a==="vertical"?c=$u().y(Xl).x1(Jl).x0(h=>h.base.x):c=$u().x(Jl).y1(Xl).y0(h=>h.base.y),c.defined(Uu).curve(o),c(u)}return a==="vertical"&&ye(n)?c=$u().y(Xl).x1(Jl).x0(n):ye(n)?c=$u().x(Jl).y1(Xl).y0(n):c=jP().x(Jl).y(Xl),c.defined(Uu).curve(o),c(l)},Rc=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?B9(e):n;return g.createElement("path",Dx({},Fe(e,!1),eb(e),{className:Ge("recharts-curve",t),d:i===null?void 0:i,ref:a}))},z9=["x","y","top","left","width","height","className"];function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rx.apply(null,arguments)}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q9(e,t,r){return(t=V9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V9(e){var t=W9(e,"string");return typeof t=="symbol"?t:t+""}function W9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H9(e,t){if(e==null)return{};var r,n,a=K9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function K9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var G9=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Y9=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=H9(e,z9),d=U9({x:t,y:r,top:n,left:a,width:i,height:o},c);return!ye(t)||!ye(r)||!ye(i)||!ye(o)||!ye(n)||!ye(a)?null:g.createElement("path",Rx({},Fe(d,!0),{className:Ge("recharts-cross",l),d:G9(t,r,i,o,n,a)}))};function J9(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){Q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q9(e,t,r){return(t=Z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z9(e){var t=eB(e,"string");return typeof t=="symbol"?t:t+""}function eB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ka(e,t){var r=X9({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}var OE={},ME={},DE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(DE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DE,r=ob,n=Kf,a=Gf,i=Hf;function o(d,u,h){return l(d,u,void 0,void 0,void 0,void 0,h)}function l(d,u,h,m,f,p,y){const v=y(d,u,h,m,f,p);if(v!==void 0)return v;if(typeof d==typeof u)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===u;case"number":return d===u||Object.is(d,u);case"function":return d===u;case"object":return c(d,u,p,y)}return c(d,u,p,y)}function c(d,u,h,m){if(Object.is(d,u))return!0;let f=n.getTag(d),p=n.getTag(u);if(f===a.argumentsTag&&(f=a.objectTag),p===a.argumentsTag&&(p=a.objectTag),f!==p)return!1;switch(f){case a.stringTag:return d.toString()===u.toString();case a.numberTag:{const x=d.valueOf(),b=u.valueOf();return i.eq(x,b)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(d.valueOf(),u.valueOf());case a.regexpTag:return d.source===u.source&&d.flags===u.flags;case a.functionTag:return d===u}h=h??new Map;const y=h.get(d),v=h.get(u);if(y!=null&&v!=null)return y===u;h.set(d,u),h.set(u,d);try{switch(f){case a.mapTag:{if(d.size!==u.size)return!1;for(const[x,b]of d.entries())if(!u.has(x)||!l(b,u.get(x),x,d,u,h,m))return!1;return!0}case a.setTag:{if(d.size!==u.size)return!1;const x=Array.from(d.values()),b=Array.from(u.values());for(let j=0;j<x.length;j++){const N=x[j],w=b.findIndex(_=>l(N,_,void 0,d,u,h,m));if(w===-1)return!1;b.splice(w,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(u)||d.length!==u.length)return!1;for(let x=0;x<d.length;x++)if(!l(d[x],u[x],x,d,u,h,m))return!1;return!0}case a.arrayBufferTag:return d.byteLength!==u.byteLength?!1:c(new Uint8Array(d),new Uint8Array(u),h,m);case a.dataViewTag:return d.byteLength!==u.byteLength||d.byteOffset!==u.byteOffset?!1:c(new Uint8Array(d),new Uint8Array(u),h,m);case a.errorTag:return d.name===u.name&&d.message===u.message;case a.objectTag:{if(!(c(d.constructor,u.constructor,h,m)||t.isPlainObject(d)&&t.isPlainObject(u)))return!1;const b=[...Object.keys(d),...r.getSymbols(d)],j=[...Object.keys(u),...r.getSymbols(u)];if(b.length!==j.length)return!1;for(let N=0;N<b.length;N++){const w=b[N],_=d[w];if(!Object.hasOwn(u,w))return!1;const k=u[w];if(!l(_,k,w,d,u,h,m))return!1}return!0}default:return!1}}finally{h.delete(d),h.delete(u)}}e.isEqualWith=o})(ME);var RE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(RE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ME,r=RE;function n(a,i){return t.isEqualWith(a,i,r.noop)}e.isEqual=n})(OE);var tB=OE.isEqual;const rB=Ns(tB);function nB(e){var t={},r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...d]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,d),c);return}i(c),a=e.setTimeout(i.bind(null,d));return}typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}var gm=1e-4,$E=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],IE=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),FN=(e,t)=>r=>{var n=$E(e,t);return IE(n,r)},sB=(e,t)=>r=>{var n=$E(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return IE(a,r)},BN=function(){for(var t,r,n,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else o.length===4&&([t,n,r,a]=o);var d=FN(t,r),u=FN(n,a),h=sB(t,r),m=p=>p>1?1:p<0?0:p,f=p=>{for(var y=p>1?1:p,v=y,x=0;x<8;++x){var b=d(v)-y,j=h(v);if(Math.abs(b-y)<gm||j<gm)return u(v);v=m(v-b/j)}return u(v)};return f.isStepper=!1,f},aB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,c)=>{var d=-(o-l)*r,u=c*n,h=c+(d-u)*a/1e3,m=c*a/1e3+o;return Math.abs(m-l)<gm&&Math.abs(h)<gm?[l,0]:[m,h]};return i.isStepper=!0,i.dt=a,i},iB=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BN(e);case"spring":return aB();default:if(e.split("(")[0]==="cubic-bezier")return BN(e)}return typeof e=="function"?e:null};function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){oB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oB(e,t,r){return(t=lB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lB(e){var t=cB(e,"string");return typeof t=="symbol"?t:t+""}function cB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dB=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),uB=(e,t,r)=>e.map(n=>"".concat(dB(n)," ").concat(t,"ms ").concat(r)).join(","),hB=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),fd=(e,t)=>Object.keys(t).reduce((r,n)=>UN(UN({},r),{},{[n]:e(n,t[n])}),{});function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){mB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mB(e,t,r){return(t=fB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fB(e){var t=pB(e,"string");return typeof t=="symbol"?t:t+""}function pB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xm=(e,t,r)=>e+(t-e)*r,$x=e=>{var{from:t,to:r}=e;return t!==r},LE=(e,t,r)=>{var n=fd((a,i)=>{if($x(i)){var[o,l]=e(i.from,i.to,i.velocity);return nr(nr({},i),{},{from:o,velocity:l})}return i},t);return r<1?fd((a,i)=>$x(i)?nr(nr({},i),{},{velocity:xm(i.velocity,n[a].velocity,r),from:xm(i.from,n[a].from,r)}):i,t):LE(e,n,r-1)};function gB(e,t,r,n,a,i){var o,l=n.reduce((m,f)=>nr(nr({},m),{},{[f]:{from:e[f],velocity:0,to:t[f]}}),{}),c=()=>fd((m,f)=>f.from,l),d=()=>!Object.values(l).filter($x).length,u=null,h=m=>{o||(o=m);var f=m-o,p=f/r.dt;l=LE(r,l,p),a(nr(nr(nr({},e),t),c())),o=m,d()||(u=i.setTimeout(h))};return()=>(u=i.setTimeout(h),()=>{u()})}function xB(e,t,r,n,a,i,o){var l=null,c=a.reduce((h,m)=>nr(nr({},h),{},{[m]:[e[m],t[m]]}),{}),d,u=h=>{d||(d=h);var m=(h-d)/n,f=fd((y,v)=>xm(...v,r(m)),c);if(i(nr(nr(nr({},e),t),f)),m<1)l=o.setTimeout(u);else{var p=fd((y,v)=>xm(...v,r(1)),c);i(nr(nr(nr({},e),t),p))}};return()=>(l=o.setTimeout(u),()=>{l()})}const yB=(e,t,r,n,a,i)=>{var o=hB(e,t);return r.isStepper===!0?gB(e,t,r,o,a,i):xB(e,t,r,n,o,a,i)};class vB{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}var bB=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ix.apply(null,arguments)}function wB(e,t){if(e==null)return{};var r,n,a=jB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){vi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vi(e,t,r){return(t=NB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NB(e){var t=_B(e,"string");return typeof t=="symbol"?t:t+""}function _B(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kB(){return nB(new vB)}class bb extends g.PureComponent{constructor(t,r){super(t,r),vi(this,"mounted",!1),vi(this,"manager",null),vi(this,"stopJSAnimation",null),vi(this,"unSubscribe",null);var{isActive:n,attributeName:a,from:i,to:o,children:l,duration:c,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(i){if(typeof l=="function"){this.state={style:i};return}this.state={style:a?{[a]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:a,shouldReAnimate:i,to:o,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var d={style:a?{[a]:o}:o};this.state&&c&&(a&&c[a]!==o||!a&&c!==o)&&this.setState(d);return}if(!(rB(t.to,o)&&t.canBegin&&t.isActive)){var u=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=u||i?l:t.to;if(this.state&&c){var m={style:a?{[a]:h}:h};(a&&c[a]!==h||!a&&c!==h)&&this.setState(m)}this.runAnimation(oa(oa({},this.props),{},{from:h,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c}=t,d=yB(r,n,iB(i),a,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=d()};this.manager.start([c,o,u,a,l])}runAnimation(t){var{begin:r,duration:n,attributeName:a,to:i,easing:o,onAnimationStart:l,onAnimationEnd:c,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof d=="function"||o==="spring"){this.runJSAnimation(t);return}var u=a?{[a]:i}:i,h=uB(Object.keys(u),n,o);this.manager.start([l,r,oa(oa({},u),{},{transition:h}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:a,attributeName:i,easing:o,isActive:l,from:c,to:d,canBegin:u,onAnimationEnd:h,shouldReAnimate:m,onAnimationReStart:f,animationManager:p}=t,y=wB(t,bB),v=g.Children.count(r),x=this.state.style;if(typeof r=="function")return r(x);if(!l||v===0||a<=0)return r;var b=j=>{var{style:N={},className:w}=j.props,_=g.cloneElement(j,oa(oa({},y),{},{style:oa(oa({},N),x),className:w}));return _};return v===1?b(g.Children.only(r)):g.createElement("div",null,g.Children.map(r,j=>b(j)))}}vi(bb,"displayName","Animate");vi(bb,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var SB=g.createContext(null);function pd(e){var t,r,n=g.useContext(SB);return g.createElement(bb,Ix({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:kB()}))}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(null,arguments)}var WN=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],h=0,m=4;h<m;h++)u[h]=a[h]>i?i:a[h];d="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),d+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*u[1])),d+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),d+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*u[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var f=Math.min(i,a);d="M ".concat(e,",").concat(t+o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,`
            L `).concat(e+r-l*f,",").concat(t,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*f,`
            L `).concat(e+r,",").concat(t+n-o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r-l*f,",").concat(t+n,`
            L `).concat(e+l*f,",").concat(t+n,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*f," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},CB={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PB=e=>{var t=Ka(e,CB),r=g.useRef(null),[n,a]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&a(x)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:h,animationDuration:m,animationBegin:f,isAnimationActive:p,isUpdateAnimationActive:y}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var v=Ge("recharts-rectangle",u);return y?g.createElement(pd,{canBegin:n>0,from:{width:l,height:c,x:i,y:o},to:{width:l,height:c,x:i,y:o},duration:m,animationEasing:h,isActive:y},x=>{var{width:b,height:j,x:N,y:w}=x;return g.createElement(pd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:m,isActive:p,easing:h},g.createElement("path",ym({},Fe(t,!0),{className:v,d:WN(N,w,b,j,d),ref:r})))}):g.createElement("path",ym({},Fe(t,!0),{className:v,d:WN(i,o,l,c,d)}))};function FE(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=sr(t,r,n,a),l=sr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(null,arguments)}var EB=(e,t)=>{var r=Cn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},qu=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,d=l*(o?1:-1)+n,u=Math.asin(l/d)/mm,h=c?a:a+i*u,m=sr(t,r,d,h),f=sr(t,r,n,h),p=c?a-i*u:a,y=sr(t,r,d*Math.cos(u*mm),p);return{center:m,circleTangency:f,lineTangency:y,theta:u}},BE=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=EB(i,o),c=i+l,d=sr(t,r,a,i),u=sr(t,r,a,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var m=sr(t,r,n,i),f=sr(t,r,n,c);h+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(t,",").concat(r," Z");return h},AB=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=Cn(d-c),{circleTangency:h,lineTangency:m,theta:f}=qu({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:p,lineTangency:y,theta:v}=qu({cx:t,cy:r,radius:a,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),x=l?Math.abs(c-d):Math.abs(c-d)-f-v;if(x<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):BE({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:d});var b="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:N,theta:w}=qu({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:_,lineTangency:k,theta:S}=qu({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),E=l?Math.abs(c-d):Math.abs(c-d)-w-S;if(E<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},TB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OB=e=>{var t=Ka(e,TB),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:h}=t;if(i<a||d===u)return null;var m=Ge("recharts-sector",h),f=i-a,p=La(o,f,0,!0),y;return p>0&&Math.abs(d-u)<360?y=AB({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,f/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):y=BE({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u}),g.createElement("path",Lx({},Fe(t,!0),{className:m,d:y}))};function MB(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:d,outerRadius:u,angle:h}=t,m=sr(l,c,d,h),f=sr(l,c,u,h);n=m.x,a=m.y,i=f.x,o=f.y}else return FE(t);return[{x:n,y:a},{x:i,y:o}]}var zE={},UE={},qE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=db;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(qE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qE;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(UE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ub,r=UE;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=a,a+=o;return c}e.range=n})(zE);var DB=zE.range;const VE=Ns(DB);function Ma(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RB(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wb(e){let t,r,n;e.length!==2?(t=Ma,r=(l,c)=>Ma(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ma||e===RB?e:$B,r=e,n=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function $B(){return 0}function WE(e){return e===null?NaN:+e}function*IB(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const LB=wb(Ma),zd=LB.right;wb(WE).center;class HN extends Map{constructor(t,r=zB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(KN(this,t))}has(t){return super.has(KN(this,t))}set(t,r){return super.set(FB(this,t),r)}delete(t){return super.delete(BB(this,t))}}function KN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function FB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function BB({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function zB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function UB(e=Ma){if(e===Ma)return HE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function HE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const qB=Math.sqrt(50),VB=Math.sqrt(10),WB=Math.sqrt(2);function vm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=qB?10:i>=VB?5:i>=WB?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?vm(e,t,r*2):[l,c,d]}function Fx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?vm(t,e,r):vm(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function Bx(e,t,r){return t=+t,e=+e,r=+r,vm(e,t,r)[2]}function zx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Bx(t,e,r):Bx(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function GN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function YN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function KE(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?HE:UB(a);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),f=Math.max(r,Math.floor(t-d*h/c+m)),p=Math.min(n,Math.floor(t+(c-d)*h/c+m));KE(e,t,f,p,a)}const i=e[t];let o=r,l=n;for(Ql(e,r,t),a(e[n],i)>0&&Ql(e,r,n);o<l;){for(Ql(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Ql(e,r,l):(++l,Ql(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ql(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function HB(e,t,r){if(e=Float64Array.from(IB(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return YN(e);if(t>=1)return GN(e);var n,a=(n-1)*t,i=Math.floor(a),o=GN(KE(e,i).subarray(0,i+1)),l=YN(e.subarray(i+1));return o+(l-o)*(a-i)}}function KB(e,t,r=WE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function GB(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ln(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Js(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ux=Symbol("implicit");function jb(){var e=new HN,t=[],r=[],n=Ux;function a(i){let o=e.get(i);if(o===void 0){if(n!==Ux)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new HN;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return jb(t,r).unknown(n)},Ln.apply(a,arguments),a}function Nb(){var e=jb().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var m=t().length,f=a<n,p=f?a:n,y=f?n:a;i=(y-p)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),p+=(y-p-i*(m-c))*u,o=i*(1-c),l&&(p=Math.round(p),o=Math.round(o));var v=GB(m).map(function(x){return p+i*x});return r(f?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),h()):u},e.copy=function(){return Nb(t(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Ln.apply(h(),arguments)}function GE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return GE(t())},e}function YB(){return GE(Nb.apply(null,arguments).paddingInner(1))}function _b(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function YE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ud(){}var gd=.7,bm=1/gd,qo="\\s*([+-]?\\d+)\\s*",xd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JB=/^#([0-9a-f]{3,8})$/,XB=new RegExp(`^rgb\\(${qo},${qo},${qo}\\)$`),QB=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),ZB=new RegExp(`^rgba\\(${qo},${qo},${qo},${xd}\\)$`),ez=new RegExp(`^rgba\\(${xs},${xs},${xs},${xd}\\)$`),tz=new RegExp(`^hsl\\(${xd},${xs},${xs}\\)$`),rz=new RegExp(`^hsla\\(${xd},${xs},${xs},${xd}\\)$`),JN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_b(Ud,yd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XN,formatHex:XN,formatHex8:nz,formatHsl:sz,formatRgb:QN,toString:QN});function XN(){return this.rgb().formatHex()}function nz(){return this.rgb().formatHex8()}function sz(){return JE(this).formatHsl()}function QN(){return this.rgb().formatRgb()}function yd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=JB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ZN(t):r===3?new Ur(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Vu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Vu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=XB.exec(e))?new Ur(t[1],t[2],t[3],1):(t=QB.exec(e))?new Ur(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ZB.exec(e))?Vu(t[1],t[2],t[3],t[4]):(t=ez.exec(e))?Vu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tz.exec(e))?r2(t[1],t[2]/100,t[3]/100,1):(t=rz.exec(e))?r2(t[1],t[2]/100,t[3]/100,t[4]):JN.hasOwnProperty(e)?ZN(JN[e]):e==="transparent"?new Ur(NaN,NaN,NaN,0):null}function ZN(e){return new Ur(e>>16&255,e>>8&255,e&255,1)}function Vu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ur(e,t,r,n)}function az(e){return e instanceof Ud||(e=yd(e)),e?(e=e.rgb(),new Ur(e.r,e.g,e.b,e.opacity)):new Ur}function qx(e,t,r,n){return arguments.length===1?az(e):new Ur(e,t,r,n??1)}function Ur(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}_b(Ur,qx,YE(Ud,{brighter(e){return e=e==null?bm:Math.pow(bm,e),new Ur(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gd:Math.pow(gd,e),new Ur(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ur(Ei(this.r),Ei(this.g),Ei(this.b),wm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e2,formatHex:e2,formatHex8:iz,formatRgb:t2,toString:t2}));function e2(){return`#${bi(this.r)}${bi(this.g)}${bi(this.b)}`}function iz(){return`#${bi(this.r)}${bi(this.g)}${bi(this.b)}${bi((isNaN(this.opacity)?1:this.opacity)*255)}`}function t2(){const e=wm(this.opacity);return`${e===1?"rgb(":"rgba("}${Ei(this.r)}, ${Ei(this.g)}, ${Ei(this.b)}${e===1?")":`, ${e})`}`}function wm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ei(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bi(e){return e=Ei(e),(e<16?"0":"")+e.toString(16)}function r2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Jn(e,t,r,n)}function JE(e){if(e instanceof Jn)return new Jn(e.h,e.s,e.l,e.opacity);if(e instanceof Ud||(e=yd(e)),!e)return new Jn;if(e instanceof Jn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Jn(o,l,c,e.opacity)}function oz(e,t,r,n){return arguments.length===1?JE(e):new Jn(e,t,r,n??1)}function Jn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_b(Jn,oz,YE(Ud,{brighter(e){return e=e==null?bm:Math.pow(bm,e),new Jn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gd:Math.pow(gd,e),new Jn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ur(Lp(e>=240?e-240:e+120,a,n),Lp(e,a,n),Lp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Jn(n2(this.h),Wu(this.s),Wu(this.l),wm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wm(this.opacity);return`${e===1?"hsl(":"hsla("}${n2(this.h)}, ${Wu(this.s)*100}%, ${Wu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function n2(e){return e=(e||0)%360,e<0?e+360:e}function Wu(e){return Math.max(0,Math.min(1,e||0))}function Lp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const kb=e=>()=>e;function lz(e,t){return function(r){return e+r*t}}function cz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function dz(e){return(e=+e)==1?XE:function(t,r){return r-t?cz(t,r,e):kb(isNaN(t)?r:t)}}function XE(e,t){var r=t-e;return r?lz(e,r):kb(isNaN(e)?t:e)}const s2=function e(t){var r=dz(t);function n(a,i){var o=r((a=qx(a)).r,(i=qx(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=XE(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=e,n}(1);function uz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function hz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mz(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Sl(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function fz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function jm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function pz(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Sl(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Vx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fp=new RegExp(Vx.source,"g");function gz(e){return function(){return e}}function xz(e){return function(t){return e(t)+""}}function yz(e,t){var r=Vx.lastIndex=Fp.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Vx.exec(e))&&(a=Fp.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:jm(n,a)})),r=Fp.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?xz(c[0].x):gz(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Sl(e,t){var r=typeof t,n;return t==null||r==="boolean"?kb(t):(r==="number"?jm:r==="string"?(n=yd(t))?(t=n,s2):yz:t instanceof yd?s2:t instanceof Date?fz:hz(t)?uz:Array.isArray(t)?mz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pz:jm)(e,t)}function Sb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function vz(e,t){t===void 0&&(t=e,e=Sl);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function bz(e){return function(){return e}}function Nm(e){return+e}var a2=[0,1];function Sr(e){return e}function Wx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:bz(isNaN(t)?NaN:.5)}function wz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function jz(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Wx(a,n),i=r(o,i)):(n=Wx(n,a),i=r(i,o)),function(l){return i(n(l))}}function Nz(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Wx(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=zd(e,l,1,n)-1;return i[c](a[c](l))}}function qd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function o0(){var e=a2,t=a2,r=Sl,n,a,i,o=Sr,l,c,d;function u(){var m=Math.min(e.length,t.length);return o!==Sr&&(o=wz(e[0],e[m-1])),l=m>2?Nz:jz,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return h.invert=function(m){return o(a((d||(d=l(t,e.map(n),jm)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,Nm),u()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),r=Sb,u()},h.clamp=function(m){return arguments.length?(o=m?!0:Sr,u()):o!==Sr},h.interpolate=function(m){return arguments.length?(r=m,u()):r},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,f){return n=m,a=f,u()}}function Cb(){return o0()(Sr,Sr)}function _z(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _m(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ll(e){return e=_m(Math.abs(e)),e?e[1]:NaN}function kz(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Sz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Cz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vd(e){if(!(t=Cz.exec(e)))throw new Error("invalid format: "+e);var t;return new Pb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vd.prototype=Pb.prototype;function Pb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Pb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pz(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var QE;function Ez(e,t){var r=_m(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(QE=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+_m(e,Math.max(0,t+i-1))[0]}function i2(e,t){var r=_m(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const o2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_z,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>i2(e*100,t),r:i2,s:Ez,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function l2(e){return e}var c2=Array.prototype.map,d2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Az(e){var t=e.grouping===void 0||e.thousands===void 0?l2:kz(c2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?l2:Sz(c2.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=vd(h);var m=h.fill,f=h.align,p=h.sign,y=h.symbol,v=h.zero,x=h.width,b=h.comma,j=h.precision,N=h.trim,w=h.type;w==="n"?(b=!0,w="g"):o2[w]||(j===void 0&&(j=12),N=!0,w="g"),(v||m==="0"&&f==="=")&&(v=!0,m="0",f="=");var _=y==="$"?r:y==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k=y==="$"?n:/[%p]/.test(w)?o:"",S=o2[w],E=/[defgprs%]/.test(w);j=j===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function P(C){var A=_,O=k,$,L,H;if(w==="c")O=S(C)+O,C="";else{C=+C;var U=C<0||1/C<0;if(C=isNaN(C)?c:S(Math.abs(C),j),N&&(C=Pz(C)),U&&+C==0&&p!=="+"&&(U=!1),A=(U?p==="("?p:l:p==="-"||p==="("?"":p)+A,O=(w==="s"?d2[8+QE/3]:"")+O+(U&&p==="("?")":""),E){for($=-1,L=C.length;++$<L;)if(H=C.charCodeAt($),48>H||H>57){O=(H===46?a+C.slice($+1):C.slice($))+O,C=C.slice(0,$);break}}}b&&!v&&(C=t(C,1/0));var T=A.length+C.length+O.length,M=T<x?new Array(x-T+1).join(m):"";switch(b&&v&&(C=t(M+C,M.length?x-O.length:1/0),M=""),f){case"<":C=A+C+O+M;break;case"=":C=A+M+C+O;break;case"^":C=M.slice(0,T=M.length>>1)+A+C+O+M.slice(T);break;default:C=M+A+C+O;break}return i(C)}return P.toString=function(){return h+""},P}function u(h,m){var f=d((h=vd(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(ll(m)/3)))*3,y=Math.pow(10,-p),v=d2[8+p/3];return function(x){return f(y*x)+v}}return{format:d,formatPrefix:u}}var Hu,Eb,ZE;Tz({thousands:",",grouping:[3],currency:["$",""]});function Tz(e){return Hu=Az(e),Eb=Hu.format,ZE=Hu.formatPrefix,Hu}function Oz(e){return Math.max(0,-ll(Math.abs(e)))}function Mz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ll(t)/3)))*3-ll(Math.abs(e)))}function Dz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ll(t)-ll(e))+1}function eA(e,t,r,n){var a=zx(e,t,r),i;switch(n=vd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Mz(a,o))&&(n.precision=i),ZE(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Dz(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Oz(a))&&(n.precision=i-(n.type==="%")*2);break}}return Eb(n)}function Ga(e){var t=e.domain;return e.ticks=function(r){var n=t();return Fx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return eA(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=Bx(o,l,r),d===c)return n[a]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function tA(){var e=Cb();return e.copy=function(){return qd(e,tA())},Ln.apply(e,arguments),Ga(e)}function rA(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Nm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return rA(e).unknown(t)},e=arguments.length?Array.from(e,Nm):[0,1],Ga(r)}function nA(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function u2(e){return Math.log(e)}function h2(e){return Math.exp(e)}function Rz(e){return-Math.log(-e)}function $z(e){return-Math.exp(-e)}function Iz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Lz(e){return e===10?Iz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Fz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function m2(e){return(t,r)=>-e(-t,r)}function Ab(e){const t=e(u2,h2),r=t.domain;let n=10,a,i;function o(){return a=Fz(n),i=Lz(n),r()[0]<0?(a=m2(a),i=m2(i),e(Rz,$z)):e(u2,h2),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let m=a(d),f=a(u),p,y;const v=l==null?10:+l;let x=[];if(!(n%1)&&f-m<v){if(m=Math.floor(m),f=Math.ceil(f),d>0){for(;m<=f;++m)for(p=1;p<n;++p)if(y=m<0?p/i(-m):p*i(m),!(y<d)){if(y>u)break;x.push(y)}}else for(;m<=f;++m)for(p=n-1;p>=1;--p)if(y=m>0?p/i(-m):p*i(m),!(y<d)){if(y>u)break;x.push(y)}x.length*2<v&&(x=Fx(d,u,v))}else x=Fx(m,f,Math.min(f-m,v)).map(i);return h?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=vd(c)).precision==null&&(c.trim=!0),c=Eb(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*n<n-.5&&(h*=n),h<=d?c(u):""}},t.nice=()=>r(nA(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function sA(){const e=Ab(o0()).domain([1,10]);return e.copy=()=>qd(e,sA()).base(e.base()),Ln.apply(e,arguments),e}function f2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function p2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Tb(e){var t=1,r=e(f2(t),p2(t));return r.constant=function(n){return arguments.length?e(f2(t=+n),p2(t)):t},Ga(r)}function aA(){var e=Tb(o0());return e.copy=function(){return qd(e,aA()).constant(e.constant())},Ln.apply(e,arguments)}function g2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Bz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zz(e){return e<0?-e*e:e*e}function Ob(e){var t=e(Sr,Sr),r=1;function n(){return r===1?e(Sr,Sr):r===.5?e(Bz,zz):e(g2(r),g2(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ga(t)}function Mb(){var e=Ob(o0());return e.copy=function(){return qd(e,Mb()).exponent(e.exponent())},Ln.apply(e,arguments),e}function Uz(){return Mb.apply(null,arguments).exponent(.5)}function x2(e){return Math.sign(e)*e*e}function qz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function iA(){var e=Cb(),t=[0,1],r=!1,n;function a(i){var o=qz(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(x2(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Nm)).map(x2)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return iA(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ln.apply(a,arguments),Ga(a)}function oA(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=KB(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[zd(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ma),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return oA().domain(e).range(t).unknown(n)},Ln.apply(i,arguments)}function lA(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[zd(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return lA().domain([e,t]).range(a).unknown(i)},Ln.apply(Ga(o),arguments)}function cA(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[zd(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return cA().domain(e).range(t).unknown(r)},Ln.apply(a,arguments)}const Bp=new Date,zp=new Date;function Ft(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>Ft(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Bp.setTime(+i),zp.setTime(+o),e(Bp),e(zp),Math.floor(r(Bp,zp))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const km=Ft(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);km.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ft(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):km);km.range;const Rs=1e3,Pn=Rs*60,$s=Pn*60,Vs=$s*24,Db=Vs*7,y2=Vs*30,Up=Vs*365,wi=Ft(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCSeconds());wi.range;const Rb=Ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rs)},(e,t)=>{e.setTime(+e+t*Pn)},(e,t)=>(t-e)/Pn,e=>e.getMinutes());Rb.range;const $b=Ft(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Pn)},(e,t)=>(t-e)/Pn,e=>e.getUTCMinutes());$b.range;const Ib=Ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rs-e.getMinutes()*Pn)},(e,t)=>{e.setTime(+e+t*$s)},(e,t)=>(t-e)/$s,e=>e.getHours());Ib.range;const Lb=Ft(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$s)},(e,t)=>(t-e)/$s,e=>e.getUTCHours());Lb.range;const Vd=Ft(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Pn)/Vs,e=>e.getDate()-1);Vd.range;const l0=Ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vs,e=>e.getUTCDate()-1);l0.range;const dA=Ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vs,e=>Math.floor(e/Vs));dA.range;function Hi(e){return Ft(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Pn)/Db)}const c0=Hi(0),Sm=Hi(1),Vz=Hi(2),Wz=Hi(3),cl=Hi(4),Hz=Hi(5),Kz=Hi(6);c0.range;Sm.range;Vz.range;Wz.range;cl.range;Hz.range;Kz.range;function Ki(e){return Ft(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Db)}const d0=Ki(0),Cm=Ki(1),Gz=Ki(2),Yz=Ki(3),dl=Ki(4),Jz=Ki(5),Xz=Ki(6);d0.range;Cm.range;Gz.range;Yz.range;dl.range;Jz.range;Xz.range;const Fb=Ft(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Fb.range;const Bb=Ft(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Bb.range;const Ws=Ft(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ws.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ft(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ws.range;const Hs=Ft(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ft(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Hs.range;function uA(e,t,r,n,a,i){const o=[[wi,1,Rs],[wi,5,5*Rs],[wi,15,15*Rs],[wi,30,30*Rs],[i,1,Pn],[i,5,5*Pn],[i,15,15*Pn],[i,30,30*Pn],[a,1,$s],[a,3,3*$s],[a,6,6*$s],[a,12,12*$s],[n,1,Vs],[n,2,2*Vs],[r,1,Db],[t,1,y2],[t,3,3*y2],[e,1,Up]];function l(d,u,h){const m=u<d;m&&([d,u]=[u,d]);const f=h&&typeof h.range=="function"?h:c(d,u,h),p=f?f.range(d,+u+1):[];return m?p.reverse():p}function c(d,u,h){const m=Math.abs(u-d)/h,f=wb(([,,v])=>v).right(o,m);if(f===o.length)return e.every(zx(d/Up,u/Up,h));if(f===0)return km.every(Math.max(zx(d,u,h),1));const[p,y]=o[m/o[f-1][2]<o[f][2]/m?f-1:f];return p.every(y)}return[l,c]}const[Qz,Zz]=uA(Hs,Bb,d0,dA,Lb,$b),[eU,tU]=uA(Ws,Fb,c0,Vd,Ib,Rb);function qp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Vp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function rU(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=ec(a),u=tc(a),h=ec(i),m=tc(i),f=ec(o),p=tc(o),y=ec(l),v=tc(l),x=ec(c),b=tc(c),j={a:U,A:T,b:M,B:z,c:null,d:_2,e:_2,f:kU,g:RU,G:IU,H:jU,I:NU,j:_U,L:hA,m:SU,M:CU,p:B,q:F,Q:C2,s:P2,S:PU,u:EU,U:AU,V:TU,w:OU,W:MU,x:null,X:null,y:DU,Y:$U,Z:LU,"%":S2},N={a:K,A:Y,b:W,B:te,c:null,d:k2,e:k2,f:UU,g:QU,G:eq,H:FU,I:BU,j:zU,L:fA,m:qU,M:VU,p:ie,q:D,Q:C2,s:P2,S:WU,u:HU,U:KU,V:GU,w:YU,W:JU,x:null,X:null,y:XU,Y:ZU,Z:tq,"%":S2},w={a:P,A:C,b:A,B:O,c:$,d:j2,e:j2,f:yU,g:w2,G:b2,H:N2,I:N2,j:fU,L:xU,m:mU,M:pU,p:E,q:hU,Q:bU,s:wU,S:gU,u:oU,U:lU,V:cU,w:iU,W:dU,x:L,X:H,y:w2,Y:b2,Z:uU,"%":vU};j.x=_(r,j),j.X=_(n,j),j.c=_(t,j),N.x=_(r,N),N.X=_(n,N),N.c=_(t,N);function _(R,q){return function(X){var I=[],Q=-1,re=0,he=R.length,be,fe,_e;for(X instanceof Date||(X=new Date(+X));++Q<he;)R.charCodeAt(Q)===37&&(I.push(R.slice(re,Q)),(fe=v2[be=R.charAt(++Q)])!=null?be=R.charAt(++Q):fe=be==="e"?" ":"0",(_e=q[be])&&(be=_e(X,fe)),I.push(be),re=Q+1);return I.push(R.slice(re,Q)),I.join("")}}function k(R,q){return function(X){var I=Zl(1900,void 0,1),Q=S(I,R,X+="",0),re,he;if(Q!=X.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(q&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(re=Vp(Zl(I.y,0,1)),he=re.getUTCDay(),re=he>4||he===0?Cm.ceil(re):Cm(re),re=l0.offset(re,(I.V-1)*7),I.y=re.getUTCFullYear(),I.m=re.getUTCMonth(),I.d=re.getUTCDate()+(I.w+6)%7):(re=qp(Zl(I.y,0,1)),he=re.getDay(),re=he>4||he===0?Sm.ceil(re):Sm(re),re=Vd.offset(re,(I.V-1)*7),I.y=re.getFullYear(),I.m=re.getMonth(),I.d=re.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),he="Z"in I?Vp(Zl(I.y,0,1)).getUTCDay():qp(Zl(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(he+5)%7:I.w+I.U*7-(he+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,Vp(I)):qp(I)}}function S(R,q,X,I){for(var Q=0,re=q.length,he=X.length,be,fe;Q<re;){if(I>=he)return-1;if(be=q.charCodeAt(Q++),be===37){if(be=q.charAt(Q++),fe=w[be in v2?q.charAt(Q++):be],!fe||(I=fe(R,X,I))<0)return-1}else if(be!=X.charCodeAt(I++))return-1}return I}function E(R,q,X){var I=d.exec(q.slice(X));return I?(R.p=u.get(I[0].toLowerCase()),X+I[0].length):-1}function P(R,q,X){var I=f.exec(q.slice(X));return I?(R.w=p.get(I[0].toLowerCase()),X+I[0].length):-1}function C(R,q,X){var I=h.exec(q.slice(X));return I?(R.w=m.get(I[0].toLowerCase()),X+I[0].length):-1}function A(R,q,X){var I=x.exec(q.slice(X));return I?(R.m=b.get(I[0].toLowerCase()),X+I[0].length):-1}function O(R,q,X){var I=y.exec(q.slice(X));return I?(R.m=v.get(I[0].toLowerCase()),X+I[0].length):-1}function $(R,q,X){return S(R,t,q,X)}function L(R,q,X){return S(R,r,q,X)}function H(R,q,X){return S(R,n,q,X)}function U(R){return o[R.getDay()]}function T(R){return i[R.getDay()]}function M(R){return c[R.getMonth()]}function z(R){return l[R.getMonth()]}function B(R){return a[+(R.getHours()>=12)]}function F(R){return 1+~~(R.getMonth()/3)}function K(R){return o[R.getUTCDay()]}function Y(R){return i[R.getUTCDay()]}function W(R){return c[R.getUTCMonth()]}function te(R){return l[R.getUTCMonth()]}function ie(R){return a[+(R.getUTCHours()>=12)]}function D(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var q=_(R+="",j);return q.toString=function(){return R},q},parse:function(R){var q=k(R+="",!1);return q.toString=function(){return R},q},utcFormat:function(R){var q=_(R+="",N);return q.toString=function(){return R},q},utcParse:function(R){var q=k(R+="",!0);return q.toString=function(){return R},q}}}var v2={"-":"",_:" ",0:"0"},Yt=/^\s*\d+/,nU=/^%/,sU=/[\\^$*+?|[\]().{}]/g;function Ie(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function aU(e){return e.replace(sU,"\\$&")}function ec(e){return new RegExp("^(?:"+e.map(aU).join("|")+")","i")}function tc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function iU(e,t,r){var n=Yt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function oU(e,t,r){var n=Yt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function lU(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function cU(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function dU(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function b2(e,t,r){var n=Yt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function w2(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uU(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function hU(e,t,r){var n=Yt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function mU(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function j2(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function fU(e,t,r){var n=Yt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function N2(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function pU(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function gU(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function xU(e,t,r){var n=Yt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function yU(e,t,r){var n=Yt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function vU(e,t,r){var n=nU.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function bU(e,t,r){var n=Yt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function wU(e,t,r){var n=Yt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function _2(e,t){return Ie(e.getDate(),t,2)}function jU(e,t){return Ie(e.getHours(),t,2)}function NU(e,t){return Ie(e.getHours()%12||12,t,2)}function _U(e,t){return Ie(1+Vd.count(Ws(e),e),t,3)}function hA(e,t){return Ie(e.getMilliseconds(),t,3)}function kU(e,t){return hA(e,t)+"000"}function SU(e,t){return Ie(e.getMonth()+1,t,2)}function CU(e,t){return Ie(e.getMinutes(),t,2)}function PU(e,t){return Ie(e.getSeconds(),t,2)}function EU(e){var t=e.getDay();return t===0?7:t}function AU(e,t){return Ie(c0.count(Ws(e)-1,e),t,2)}function mA(e){var t=e.getDay();return t>=4||t===0?cl(e):cl.ceil(e)}function TU(e,t){return e=mA(e),Ie(cl.count(Ws(e),e)+(Ws(e).getDay()===4),t,2)}function OU(e){return e.getDay()}function MU(e,t){return Ie(Sm.count(Ws(e)-1,e),t,2)}function DU(e,t){return Ie(e.getFullYear()%100,t,2)}function RU(e,t){return e=mA(e),Ie(e.getFullYear()%100,t,2)}function $U(e,t){return Ie(e.getFullYear()%1e4,t,4)}function IU(e,t){var r=e.getDay();return e=r>=4||r===0?cl(e):cl.ceil(e),Ie(e.getFullYear()%1e4,t,4)}function LU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ie(t/60|0,"0",2)+Ie(t%60,"0",2)}function k2(e,t){return Ie(e.getUTCDate(),t,2)}function FU(e,t){return Ie(e.getUTCHours(),t,2)}function BU(e,t){return Ie(e.getUTCHours()%12||12,t,2)}function zU(e,t){return Ie(1+l0.count(Hs(e),e),t,3)}function fA(e,t){return Ie(e.getUTCMilliseconds(),t,3)}function UU(e,t){return fA(e,t)+"000"}function qU(e,t){return Ie(e.getUTCMonth()+1,t,2)}function VU(e,t){return Ie(e.getUTCMinutes(),t,2)}function WU(e,t){return Ie(e.getUTCSeconds(),t,2)}function HU(e){var t=e.getUTCDay();return t===0?7:t}function KU(e,t){return Ie(d0.count(Hs(e)-1,e),t,2)}function pA(e){var t=e.getUTCDay();return t>=4||t===0?dl(e):dl.ceil(e)}function GU(e,t){return e=pA(e),Ie(dl.count(Hs(e),e)+(Hs(e).getUTCDay()===4),t,2)}function YU(e){return e.getUTCDay()}function JU(e,t){return Ie(Cm.count(Hs(e)-1,e),t,2)}function XU(e,t){return Ie(e.getUTCFullYear()%100,t,2)}function QU(e,t){return e=pA(e),Ie(e.getUTCFullYear()%100,t,2)}function ZU(e,t){return Ie(e.getUTCFullYear()%1e4,t,4)}function eq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?dl(e):dl.ceil(e),Ie(e.getUTCFullYear()%1e4,t,4)}function tq(){return"+0000"}function S2(){return"%"}function C2(e){return+e}function P2(e){return Math.floor(+e/1e3)}var lo,gA,xA;rq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rq(e){return lo=rU(e),gA=lo.format,lo.parse,xA=lo.utcFormat,lo.utcParse,lo}function nq(e){return new Date(e)}function sq(e){return e instanceof Date?+e:+new Date(+e)}function zb(e,t,r,n,a,i,o,l,c,d){var u=Cb(),h=u.invert,m=u.domain,f=d(".%L"),p=d(":%S"),y=d("%I:%M"),v=d("%I %p"),x=d("%a %d"),b=d("%b %d"),j=d("%B"),N=d("%Y");function w(_){return(c(_)<_?f:l(_)<_?p:o(_)<_?y:i(_)<_?v:n(_)<_?a(_)<_?x:b:r(_)<_?j:N)(_)}return u.invert=function(_){return new Date(h(_))},u.domain=function(_){return arguments.length?m(Array.from(_,sq)):m().map(nq)},u.ticks=function(_){var k=m();return e(k[0],k[k.length-1],_??10)},u.tickFormat=function(_,k){return k==null?w:d(k)},u.nice=function(_){var k=m();return(!_||typeof _.range!="function")&&(_=t(k[0],k[k.length-1],_??10)),_?m(nA(k,_)):u},u.copy=function(){return qd(u,zb(e,t,r,n,a,i,o,l,c,d))},u}function aq(){return Ln.apply(zb(eU,tU,Ws,Fb,c0,Vd,Ib,Rb,wi,gA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iq(){return Ln.apply(zb(Qz,Zz,Hs,Bb,d0,l0,Lb,$b,wi,xA).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function u0(){var e=0,t=1,r,n,a,i,o=Sr,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(m){var f,p;return arguments.length?([f,p]=m,o=h(f,p),d):[o(0),o(1)]}}return d.range=u(Sl),d.rangeRound=u(Sb),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),d}}function Ya(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yA(){var e=Ga(u0()(Sr));return e.copy=function(){return Ya(e,yA())},Js.apply(e,arguments)}function vA(){var e=Ab(u0()).domain([1,10]);return e.copy=function(){return Ya(e,vA()).base(e.base())},Js.apply(e,arguments)}function bA(){var e=Tb(u0());return e.copy=function(){return Ya(e,bA()).constant(e.constant())},Js.apply(e,arguments)}function Ub(){var e=Ob(u0());return e.copy=function(){return Ya(e,Ub()).exponent(e.exponent())},Js.apply(e,arguments)}function oq(){return Ub.apply(null,arguments).exponent(.5)}function wA(){var e=[],t=Sr;function r(n){if(n!=null&&!isNaN(n=+n))return t((zd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ma),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>HB(e,i/n))},r.copy=function(){return wA(t).domain(e)},Js.apply(r,arguments)}function h0(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,d=Sr,u,h=!1,m;function f(y){return isNaN(y=+y)?m:(y=.5+((y=+u(y))-i)*(n*y<n*i?l:c),d(h?Math.max(0,Math.min(1,y)):y))}f.domain=function(y){return arguments.length?([e,t,r]=y,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f):[e,t,r]},f.clamp=function(y){return arguments.length?(h=!!y,f):h},f.interpolator=function(y){return arguments.length?(d=y,f):d};function p(y){return function(v){var x,b,j;return arguments.length?([x,b,j]=v,d=vz(y,[x,b,j]),f):[d(0),d(.5),d(1)]}}return f.range=p(Sl),f.rangeRound=p(Sb),f.unknown=function(y){return arguments.length?(m=y,f):m},function(y){return u=y,a=y(e),i=y(t),o=y(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f}}function jA(){var e=Ga(h0()(Sr));return e.copy=function(){return Ya(e,jA())},Js.apply(e,arguments)}function NA(){var e=Ab(h0()).domain([.1,1,10]);return e.copy=function(){return Ya(e,NA()).base(e.base())},Js.apply(e,arguments)}function _A(){var e=Tb(h0());return e.copy=function(){return Ya(e,_A()).constant(e.constant())},Js.apply(e,arguments)}function qb(){var e=Ob(h0());return e.copy=function(){return Ya(e,qb()).exponent(e.exponent())},Js.apply(e,arguments)}function lq(){return qb.apply(null,arguments).exponent(.5)}const gc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nb,scaleDiverging:jA,scaleDivergingLog:NA,scaleDivergingPow:qb,scaleDivergingSqrt:lq,scaleDivergingSymlog:_A,scaleIdentity:rA,scaleImplicit:Ux,scaleLinear:tA,scaleLog:sA,scaleOrdinal:jb,scalePoint:YB,scalePow:Mb,scaleQuantile:oA,scaleQuantize:lA,scaleRadial:iA,scaleSequential:yA,scaleSequentialLog:vA,scaleSequentialPow:Ub,scaleSequentialQuantile:wA,scaleSequentialSqrt:oq,scaleSequentialSymlog:bA,scaleSqrt:Uz,scaleSymlog:aA,scaleThreshold:cA,scaleTime:aq,scaleUtc:iq,tickFormat:eA},Symbol.toStringTag,{value:"Module"}));var Cl=e=>e.chartData,cq=ee([Cl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Vb=(e,t,r,n)=>n?cq(e):Cl(e);function ul(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Er(t)&&Er(r))return!0}return!1}function E2(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function dq(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Er(r))a=r;else if(typeof r=="function")return;if(Er(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(ul(o))return o}}function uq(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ul(n))return E2(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(ye(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&CN.test(a)){var c=CN.exec(a);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ye(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&PN.test(i)){var u=PN.exec(i);if(u==null||t==null)l=void 0;else{var h=+u[1];l=t[1]+h}}else l=t==null?void 0:t[1];var m=[o,l];if(ul(m))return t==null?m:E2(m,t,r)}}}var Pl=1e9,hq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Hb,lt=!0,Rn="[DecimalError] ",Ai=Rn+"Invalid argument: ",Wb=Rn+"Exponent out of range: ",El=Math.floor,ui=Math.pow,mq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,an,Wt=1e7,nt=7,kA=9007199254740991,Pm=El(kA/nt),xe={};xe.absoluteValue=xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};xe.comparedTo=xe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*nt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};xe.dividedBy=xe.div=function(e){return Ls(this,new this.constructor(e))};xe.dividedToIntegerBy=xe.idiv=function(e){var t=this,r=t.constructor;return Je(Ls(t,new r(e),0,1),r.precision)};xe.equals=xe.eq=function(e){return!this.cmp(e)};xe.exponent=function(){return Et(this)};xe.greaterThan=xe.gt=function(e){return this.cmp(e)>0};xe.greaterThanOrEqualTo=xe.gte=function(e){return this.cmp(e)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(e){return this.cmp(e)<0};xe.lessThanOrEqualTo=xe.lte=function(e){return this.cmp(e)<1};xe.logarithm=xe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(an))throw Error(Rn+"NaN");if(r.s<1)throw Error(Rn+(r.s?"NaN":"-Infinity"));return r.eq(an)?new n(0):(lt=!1,t=Ls(bd(r,i),bd(e,i),i),lt=!0,Je(t,a))};xe.minus=xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PA(t,e):SA(t,(e.s=-e.s,e))};xe.modulo=xe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Rn+"NaN");return r.s?(lt=!1,t=Ls(r,e,0,1).times(e),lt=!0,r.minus(t)):Je(new n(r),a)};xe.naturalExponential=xe.exp=function(){return CA(this)};xe.naturalLogarithm=xe.ln=function(){return bd(this)};xe.negated=xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};xe.plus=xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SA(t,e):PA(t,(e.s=-e.s,e))};xe.precision=xe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ai+e);if(t=Et(a)+1,n=a.d.length-1,r=n*nt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};xe.squareRoot=xe.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Rn+"NaN")}for(e=Et(l),lt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=fs(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=El((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Ls(l,i,o+2)).times(.5),fs(i.d).slice(0,o)===(t=fs(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Je(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return lt=!0,Je(n,r)};xe.times=xe.mul=function(e){var t,r,n,a,i,o,l,c,d,u=this,h=u.constructor,m=u.d,f=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,r=u.e+e.e,c=m.length,d=f.length,c<d&&(i=m,m=f,f=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+f[n]*m[a-n-1]+t,i[a--]=l%Wt|0,t=l/Wt|0;i[a]=(i[a]+t)%Wt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,lt?Je(e,h.precision):e};xe.toDecimalPlaces=xe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(js(e,0,Pl),t===void 0?t=n.rounding:js(t,0,8),Je(r,e+Et(r)+1,t))};xe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=zi(n,!0):(js(e,0,Pl),t===void 0?t=a.rounding:js(t,0,8),n=Je(new a(n),e+1,t),r=zi(n,!0,e+1)),r};xe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?zi(a):(js(e,0,Pl),t===void 0?t=i.rounding:js(t,0,8),n=Je(new i(a),e+Et(a)+1,t),r=zi(n.abs(),!1,e+Et(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};xe.toInteger=xe.toint=function(){var e=this,t=e.constructor;return Je(new t(e),Et(e)+1,t.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(an);if(l=new c(l),!l.s){if(e.s<1)throw Error(Rn+"Infinity");return l}if(l.eq(an))return l;if(n=c.precision,e.eq(an))return Je(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=kA){for(a=new c(an),t=Math.ceil(n/nt+4),lt=!1;r%2&&(a=a.times(l),T2(a.d,t)),r=El(r/2),r!==0;)l=l.times(l),T2(l.d,t);return lt=!0,e.s<0?new c(an).div(a):Je(a,n)}}else if(i<0)throw Error(Rn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,lt=!1,a=e.times(bd(l,n+d)),lt=!0,a=CA(a),a.s=i,a};xe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Et(a),n=zi(a,r<=i.toExpNeg||r>=i.toExpPos)):(js(e,1,Pl),t===void 0?t=i.rounding:js(t,0,8),a=Je(new i(a),e,t),r=Et(a),n=zi(a,e<=r||r<=i.toExpNeg,e)),n};xe.toSignificantDigits=xe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(js(e,1,Pl),t===void 0?t=n.rounding:js(t,0,8)),Je(new n(r),e,t)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Et(e),r=e.constructor;return zi(e,t<=r.toExpNeg||t>=r.toExpPos)};function SA(e,t){var r,n,a,i,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),lt?Je(t,h):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(h/nt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Wt|0,c[i]%=Wt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,lt?Je(t,h):t}function js(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ai+e)}function fs(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=nt-n.length,r&&(i+=ma(r)),i+=n;o=e[t],n=o+"",r=nt-n.length,r&&(i+=ma(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ls=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Wt|0,o=i/Wt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Wt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,d,u,h,m,f,p,y,v,x,b,j,N,w,_,k,S,E=n.constructor,P=n.s==a.s?1:-1,C=n.d,A=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Rn+"Division by zero");for(c=n.e-a.e,k=A.length,w=C.length,f=new E(P),p=f.d=[],d=0;A[d]==(C[d]||0);)++d;if(A[d]>(C[d]||0)&&--c,i==null?b=i=E.precision:o?b=i+(Et(n)-Et(a))+1:b=i,b<0)return new E(0);if(b=b/nt+2|0,d=0,k==1)for(u=0,A=A[0],b++;(d<w||u)&&b--;d++)j=u*Wt+(C[d]||0),p[d]=j/A|0,u=j%A|0;else{for(u=Wt/(A[0]+1)|0,u>1&&(A=e(A,u),C=e(C,u),k=A.length,w=C.length),N=k,y=C.slice(0,k),v=y.length;v<k;)y[v++]=0;S=A.slice(),S.unshift(0),_=A[0],A[1]>=Wt/2&&++_;do u=0,l=t(A,y,k,v),l<0?(x=y[0],k!=v&&(x=x*Wt+(y[1]||0)),u=x/_|0,u>1?(u>=Wt&&(u=Wt-1),h=e(A,u),m=h.length,v=y.length,l=t(h,y,m,v),l==1&&(u--,r(h,k<m?S:A,m))):(u==0&&(l=u=1),h=A.slice()),m=h.length,m<v&&h.unshift(0),r(y,h,v),l==-1&&(v=y.length,l=t(A,y,k,v),l<1&&(u++,r(y,k<v?S:A,v))),v=y.length):l===0&&(u++,y=[0]),p[d++]=u,l&&y[0]?y[v++]=C[N]||0:(y=[C[N]],v=1);while((N++<w||y[0]!==void 0)&&b--)}return p[0]||p.shift(),f.e=c,Je(f,o?i+Et(f)+1:i)}}();function CA(e,t){var r,n,a,i,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(Et(e)>16)throw Error(Wb+Et(e));if(!e.s)return new u(an);for(t==null?(lt=!1,l=h):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(ui(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new u(an),u.precision=l;;){if(a=Je(a.times(e),l),r=r.times(++c),o=i.plus(Ls(a,r,l)),fs(o.d).slice(0,l)===fs(i.d).slice(0,l)){for(;d--;)i=Je(i.times(i),l);return u.precision=h,t==null?(lt=!0,Je(i,h)):i}i=o}}function Et(e){for(var t=e.e*nt,r=e.d[0];r>=10;r/=10)t++;return t}function Wp(e,t,r){if(t>e.LN10.sd())throw lt=!0,r&&(e.precision=r),Error(Rn+"LN10 precision limit exceeded");return Je(new e(e.LN10),t)}function ma(e){for(var t="";e--;)t+="0";return t}function bd(e,t){var r,n,a,i,o,l,c,d,u,h=1,m=10,f=e,p=f.d,y=f.constructor,v=y.precision;if(f.s<1)throw Error(Rn+(f.s?"NaN":"-Infinity"));if(f.eq(an))return new y(0);if(t==null?(lt=!1,d=v):d=t,f.eq(10))return t==null&&(lt=!0),Wp(y,d);if(d+=m,y.precision=d,r=fs(p),n=r.charAt(0),i=Et(f),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(e),r=fs(f.d),n=r.charAt(0),h++;i=Et(f),n>1?(f=new y("0."+r),i++):f=new y(n+"."+r.slice(1))}else return c=Wp(y,d+2,v).times(i+""),f=bd(new y(n+"."+r.slice(1)),d-m).plus(c),y.precision=v,t==null?(lt=!0,Je(f,v)):f;for(l=o=f=Ls(f.minus(an),f.plus(an),d),u=Je(f.times(f),d),a=3;;){if(o=Je(o.times(u),d),c=l.plus(Ls(o,new y(a),d)),fs(c.d).slice(0,d)===fs(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(Wp(y,d+2,v).times(i+""))),l=Ls(l,new y(h),d),y.precision=v,t==null?(lt=!0,Je(l,v)):l;l=c,a+=2}}function A2(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=El(r/nt),e.d=[],n=(r+1)%nt,r<0&&(n+=nt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=nt;n<a;)e.d.push(+t.slice(n,n+=nt));t=t.slice(n),n=nt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),lt&&(e.e>Pm||e.e<-Pm))throw Error(Wb+r)}else e.s=0,e.e=0,e.d=[0];return e}function Je(e,t,r){var n,a,i,o,l,c,d,u,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=nt,a=t,d=h[u=0];else{if(u=Math.ceil((n+1)/nt),i=h.length,u>=i)return e;for(d=i=h[u],o=1;i>=10;i/=10)o++;n%=nt,a=n-nt+o}if(r!==void 0&&(i=ui(10,o-a-1),l=d/i%10|0,c=t<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/ui(10,o-a):0:h[u-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=Et(e),h.length=1,t=t-i-1,h[0]=ui(10,(nt-t%nt)%nt),e.e=El(-t/nt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=u,i=1,u--):(h.length=u+1,i=ui(10,nt-n),h[u]=a>0?(d/ui(10,o-a)%ui(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==Wt&&(h[0]=1,++e.e);break}else{if(h[u]+=i,h[u]!=Wt)break;h[u--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(lt&&(e.e>Pm||e.e<-Pm))throw Error(Wb+Et(e));return e}function PA(e,t){var r,n,a,i,o,l,c,d,u,h,m=e.constructor,f=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),lt?Je(t,f):t;if(c=e.d,h=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,n=d,l=c.length),a=Math.max(Math.ceil(f/nt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=Wt-1;--c[i],c[a]+=Wt}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,lt?Je(t,f):t):new m(0)}function zi(e,t,r){var n,a=Et(e),i=fs(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ma(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ma(-a-1)+i,r&&(n=r-o)>0&&(i+=ma(n))):a>=o?(i+=ma(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ma(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ma(n))),e.s<0?"-"+i:i}function T2(e,t){if(e.length>t)return e.length=t,!0}function EA(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ai+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return A2(o,i.toString())}else if(typeof i!="string")throw Error(Ai+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,mq.test(i))A2(o,i);else throw Error(Ai+i)}if(a.prototype=xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=EA,a.config=a.set=fq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function fq(e){if(!e||typeof e!="object")throw Error(Rn+"Object expected");var t,r,n,a=["precision",1,Pl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(El(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ai+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ai+r+": "+n);return this}var Hb=EA(hq);an=new Hb(1);const ze=Hb;var pq=e=>e,AA={"@@functional/placeholder":!0},TA=e=>e===AA,O2=e=>function t(){return arguments.length===0||arguments.length===1&&TA(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},OA=(e,t)=>e===1?t:O2(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==AA).length;return i>=e?t(...n):OA(e-i,O2(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=n.map(u=>TA(u)?l.shift():u);return t(...d,...l)}))}),m0=e=>OA(e.length,e),Hx=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},gq=m0((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),xq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return pq;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},Kx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),MA=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,r=e(...a)),r}};function DA(e){var t;return e===0?t=1:t=Math.floor(new ze(e).abs().log(10).toNumber())+1,t}function RA(e,t,r){for(var n=new ze(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}m0((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});m0((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});m0((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var $A=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},IA=(e,t,r)=>{if(e.lte(0))return new ze(0);var n=DA(e.toNumber()),a=new ze(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new ze(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new ze(c.toNumber()):new ze(Math.ceil(c.toNumber()))},yq=(e,t,r)=>{var n=new ze(1),a=new ze(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ze(10).pow(DA(e)-1),a=new ze(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ze(Math.floor(e)))}else e===0?a=new ze(Math.floor((t-1)/2)):r||(a=new ze(Math.floor(e)));var o=Math.floor((t-1)/2),l=xq(gq(c=>a.add(new ze(c-o).mul(n)).toNumber()),Hx);return l(0,t)},LA=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ze(0),tickMin:new ze(0),tickMax:new ze(0)};var o=IA(new ze(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new ze(0):(l=new ze(t).add(r).div(2),l=l.sub(new ze(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new ze(r).sub(l).div(o).toNumber()),u=c+d+1;return u>n?LA(t,r,n,a,i+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:o,tickMin:l.sub(new ze(c).mul(o)),tickMax:l.add(new ze(d).mul(o))})};function vq(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=$A([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Hx(0,n-1).map(()=>1/0)]:[...Hx(0,n-1).map(()=>-1/0),l];return t>r?Kx(c):c}if(o===l)return yq(o,n,a);var{step:d,tickMin:u,tickMax:h}=LA(o,l,i,a,0),m=RA(u,h.add(new ze(.1).mul(d)),d);return t>r?Kx(m):m}function bq(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=$A([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=IA(new ze(o).sub(i).div(l-1),a,0),d=[...RA(new ze(i),new ze(o).sub(new ze(.99).mul(c)),c),o];return r>n?Kx(d):d}var wq=MA(vq),jq=MA(bq),Nq=e=>e.rootProps.barCategoryGap,f0=e=>e.rootProps.stackOffset,Kb=e=>e.options.chartName,Gb=e=>e.rootProps.syncId,FA=e=>e.rootProps.syncMethod,Yb=e=>e.options.eventEmitter,Ts={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},rn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},p0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},_q={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:Ts.reversed,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:Ts.type,unit:void 0},kq={allowDataOverflow:rn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,ticks:void 0,type:rn.type,unit:void 0},Sq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Cq={allowDataOverflow:rn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,ticks:void 0,type:"category",unit:void 0},Jb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Sq:_q,Xb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Cq:kq,g0=e=>e.polarOptions,Qb=ee([Wa,Ha,vr],zF),BA=ee([g0,Qb],(e,t)=>{if(e!=null)return La(e.innerRadius,t,0)}),zA=ee([g0,Qb],(e,t)=>{if(e!=null)return La(e.outerRadius,t,t*.8)}),Pq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},UA=ee([g0],Pq);ee([Jb,UA],p0);var qA=ee([Qb,BA,zA],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ee([Xb,qA],p0);var Eq=ee([tt,g0,BA,zA,Wa,Ha],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:d}=t;return{cx:La(o,a,a/2),cy:La(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),Jt=(e,t)=>t,x0=(e,t,r)=>r;function M2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(r),!0).forEach(function(n){Aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aq(e,t,r){return(t=Tq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gx=[0,"auto"],Qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Xs=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Qr},Zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Gx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:n0},Ja=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Zr},Mq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Zb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Mq},Hr=(e,t,r)=>{switch(t){case"xAxis":return Xs(e,r);case"yAxis":return Ja(e,r);case"zAxis":return Zb(e,r);case"angleAxis":return Jb(e,r);case"radiusAxis":return Xb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Dq=(e,t,r)=>{switch(t){case"xAxis":return Xs(e,r);case"yAxis":return Ja(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Wd=(e,t,r)=>{switch(t){case"xAxis":return Xs(e,r);case"yAxis":return Ja(e,r);case"angleAxis":return Jb(e,r);case"radiusAxis":return Xb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},VA=e=>e.graphicalItems.countOfBars>0;function WA(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ew=e=>e.graphicalItems.cartesianItems,Rq=ee([Jt,x0],WA),HA=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Hd=ee([ew,Hr,Rq],HA),KA=e=>e.filter(t=>t.stackId===void 0),$q=ee([Hd],KA),GA=e=>e.map(t=>t.data).filter(Boolean).flat(1),Iq=ee([Hd],GA),YA=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},y0=ee([Iq,Vb],YA),JA=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Pr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Pr(a,n)}))):e.map(n=>({value:n})),v0=ee([y0,Hr,Hd],JA);function XA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Gi(e){return e.filter(t=>ws(t)||t instanceof Date).map(Number).filter(t=>un(t)===!1)}function Lq(e,t,r){return!r||typeof t!="number"||un(t)?[]:r.length?Gi(r.flatMap(n=>{var a=Pr(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Er(i)||!Er(o)))return[t-i,t+o]})):[]}var QA=(e,t,r)=>{var n={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,c=l.map(d=>d.dataKey);return[o,{stackedData:r9(e,c,r),graphicalItems:l}]}))},Yx=ee([y0,Hd,f0],QA),ZA=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=a9(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Fq=ee([Yx,Cl,Jt],ZA),e3=(e,t,r,n)=>r.length>0?e.flatMap(a=>r.flatMap(i=>{var o,l,c=(o=i.errorBars)===null||o===void 0?void 0:o.filter(u=>XA(n,u)),d=Pr(a,(l=t.dataKey)!==null&&l!==void 0?l:i.dataKey);return{value:d,errorDomain:Lq(a,d,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Pr(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Bq=ee(y0,Hr,$q,Jt,e3);function zq(e){var{value:t}=e;if(ws(t)||t instanceof Date)return t}var Uq=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Gi(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qq=(e,t,r)=>{var n=e.map(zq).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&mP(n))?VE(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},tw=e=>{var t;if(e==null||!("domain"in e))return Gx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Gi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Gx},rw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},t3=e=>e.referenceElements.dots,Al=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Vq=ee([t3,Jt,x0],Al),r3=e=>e.referenceElements.areas,Wq=ee([r3,Jt,x0],Al),n3=e=>e.referenceElements.lines,Hq=ee([n3,Jt,x0],Al),s3=(e,t)=>{var r=Gi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Kq=ee(Vq,Jt,s3),a3=(e,t)=>{var r=Gi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Gq=ee([Wq,Jt],a3),i3=(e,t)=>{var r=Gi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Yq=ee(Hq,Jt,i3),Jq=ee(Kq,Yq,Gq,(e,t,r)=>rw(e,r,t)),Xq=ee([Hr],tw),o3=(e,t,r,n,a)=>{var i=dq(t,e.allowDataOverflow);return i??uq(t,rw(r,a,Uq(n)),e.allowDataOverflow)},Qq=ee([Hr,Xq,Fq,Bq,Jq],o3),Zq=[0,1],l3=(e,t,r,n,a,i,o)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:l,type:c}=e,d=_s(t,i);return d&&l==null?VE(0,r.length):c==="category"?qq(n,e,d):a==="expand"?Zq:o}},nw=ee([Hr,tt,y0,v0,f0,Jt,Qq],l3),c3=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Qv(i));return l in gc?l:"point"}}},Kd=ee([Hr,tt,VA,Kb,Jt],c3);function eV(e){if(e!=null){if(e in gc)return gc[e]();var t="scale".concat(Qv(e));if(t in gc)return gc[t]()}}function sw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=eV(t);if(a!=null){var i=a.domain(r).range(n);return QF(i),i}}}var d3=(e,t,r)=>{var n=tw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ul(e))return wq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ul(e))return jq(e,t.tickCount,t.allowDecimals)}},aw=ee([nw,Wd,Kd],d3),u3=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ul(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},tV=ee([Hr,nw,aw,Jt],u3),rV=ee(v0,Hr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Gi(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),h3=ee(rV,tt,Nq,vr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Er(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=La(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),nV=(e,t)=>{var r=Xs(e,t);return r==null||typeof r.padding!="string"?0:h3(e,"xAxis",t,r.padding)},sV=(e,t)=>{var r=Ja(e,t);return r==null||typeof r.padding!="string"?0:h3(e,"yAxis",t,r.padding)},aV=ee(Xs,nV,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),iV=ee(Ja,sV,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),oV=ee([vr,aV,a0,s0,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),lV=ee([vr,tt,iV,a0,s0,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Gd=(e,t,r,n)=>{var a;switch(t){case"xAxis":return oV(e,r,n);case"yAxis":return lV(e,r,n);case"zAxis":return(a=Zb(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return UA(e);case"radiusAxis":return qA(e,r);default:return}},m3=ee([Hr,Gd],p0),Tl=ee([Hr,Kd,tV,m3],sw);ee(Hd,Jt,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>XA(t,r)));function f3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var b0=(e,t)=>t,w0=(e,t,r)=>r,cV=ee(xb,b0,w0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(f3)),dV=ee(yb,b0,w0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(f3)),p3=(e,t)=>({width:e.width,height:t.height}),uV=(e,t)=>{var r=typeof t.width=="number"?t.width:n0;return{width:r,height:e.height}},hV=ee(vr,Xs,p3),mV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},fV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},pV=ee(Ha,vr,cV,b0,w0,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=p3(t,l);o==null&&(o=mV(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),i}),gV=ee(Wa,vr,dV,b0,w0,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=uV(t,l);o==null&&(o=fV(t,n,e));var d=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),i}),xV=(e,t)=>{var r=vr(e),n=Xs(e,t);if(n!=null){var a=pV(e,n.orientation,n.mirror),i=a[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},yV=(e,t)=>{var r=vr(e),n=Ja(e,t);if(n!=null){var a=gV(e,n.orientation,n.mirror),i=a[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},vV=ee(vr,Ja,(e,t)=>{var r=typeof t.width=="number"?t.width:n0;return{width:r,height:e.height}}),g3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=_s(e,n),c=t.map(d=>d.value);if(o&&l&&i==="category"&&a&&mP(c))return c}},iw=ee([tt,v0,Hr,Jt],g3),x3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=_s(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},ow=ee([tt,v0,Wd,Jt],x3),D2=ee([tt,Dq,Kd,Tl,iw,ow,Gd,aw,Jt],(e,t,r,n,a,i,o,l,c)=>{if(t==null)return null;var d=_s(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:n}}),bV=(e,t,r,n,a,i,o,l,c)=>{if(!(t==null||n==null)){var d=_s(e,c),{type:u,ticks:h,tickCount:m}=t,f=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/f:0;p=c==="angleAxis"&&i!=null&&i.length>=2?Cn(i[0]-i[1])*2*p:p;var y=h||a;if(y){var v=y.map((x,b)=>{var j=o?o.indexOf(x):x;return{index:b,coordinate:n(j)+p,value:x,offset:p}});return v.filter(x=>!un(x.coordinate))}return d&&l?l.map((x,b)=>({coordinate:n(x)+p,value:x,index:b,offset:p})):n.ticks?n.ticks(m).map(x=>({coordinate:n(x)+p,value:x,offset:p})):n.domain().map((x,b)=>({coordinate:n(x)+p,value:o?o[x]:x,index:b,offset:p}))}},y3=ee([tt,Wd,Kd,Tl,aw,Gd,iw,ow,Jt],bV),wV=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=_s(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Cn(n[0]-n[1])*2*d:d,l&&i?i.map((u,h)=>({coordinate:r(u)+d,value:u,index:h,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,h)=>({coordinate:r(u)+d,value:a?a[u]:u,index:h,offset:d}))}},j0=ee([tt,Wd,Tl,Gd,iw,ow,Jt],wV),Ol=ee(Hr,Tl,(e,t)=>{if(!(e==null||t==null))return Em(Em({},e),{},{scale:t})}),jV=ee([Hr,Kd,nw,m3],sw);ee((e,t,r)=>Zb(e,r),jV,(e,t)=>{if(!(e==null||t==null))return Em(Em({},e),{},{scale:t})});var NV=ee([tt,xb,yb],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),v3=e=>e.options.defaultTooltipEventType,b3=e=>e.options.validateTooltipEventTypes;function w3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function lw(e,t){var r=v3(e),n=b3(e);return w3(t,r,n)}function _V(e){return Ne(t=>lw(t,e))}var j3=(e,t)=>{var r,n=Number(t);if(!(un(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},kV=e=>e.tooltip.settings,xa={active:!1,index:null,dataKey:void 0,coordinate:void 0},SV={itemInteraction:{click:xa,hover:xa},axisInteraction:{click:xa,hover:xa},keyboardInteraction:xa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},N3=In({name:"tooltip",initialState:SV,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Oa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:CV,removeTooltipEntrySettings:PV,setTooltipSettingsState:EV,setActiveMouseOverItemIndex:AV,mouseLeaveItem:DX,mouseLeaveChart:_3,setActiveClickItemIndex:RX,setMouseOverAxisIndex:k3,setMouseClickAxisIndex:TV,setSyncInteraction:Jx,setKeyboardInteraction:Xx}=N3.actions,OV=N3.reducer;function R2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(r),!0).forEach(function(n){MV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MV(e,t,r){return(t=DV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DV(e){var t=RV(e,"string");return typeof t=="symbol"?t:t+""}function RV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $V(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function IV(e){return e.index!=null}var S3=(e,t,r,n)=>{if(t==null)return xa;var a=$V(e,t,r);if(a==null)return xa;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(IV(a)){if(i)return Ku(Ku({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Ku(Ku({},xa),{},{coordinate:a.coordinate})},cw=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Er(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},C3=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],d=c==null?void 0:l(c.positions,i);if(d!=null)return d;var u=a==null?void 0:a[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},P3=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},N0=e=>e.options.tooltipPayloadSearcher,Ml=e=>e.tooltip,Xt=e=>{var t=tt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Dl=e=>e.tooltip.settings.axisId,br=e=>{var t=Xt(e),r=Dl(e);return Wd(e,t,r)},dw=ee([br,tt,VA,Kb,Xt],c3),LV=ee([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),FV=ee([Xt,Dl],WA),_0=ee([LV,br,FV],HA),BV=ee([_0],GA),Yi=ee([BV,Cl],YA),uw=ee([Yi,br,_0],JA),zV=ee([br],tw),UV=ee([Yi,_0,f0],QA),qV=ee([UV,Cl,Xt],ZA),VV=ee([_0],KA),WV=ee([Yi,br,VV,Xt],e3),HV=ee([t3,Xt,Dl],Al),KV=ee([HV,Xt],s3),GV=ee([r3,Xt,Dl],Al),YV=ee([GV,Xt],a3),JV=ee([n3,Xt,Dl],Al),XV=ee([JV,Xt],i3),QV=ee([KV,XV,YV],rw),ZV=ee([br,zV,qV,WV,QV],o3),E3=ee([br,tt,Yi,uw,f0,Xt,ZV],l3),eW=ee([E3,br,dw],d3),tW=ee([br,E3,eW,Xt],u3),A3=e=>{var t=Xt(e),r=Dl(e),n=!1;return Gd(e,t,r,n)},T3=ee([br,A3],p0),O3=ee([br,dw,tW,T3],sw),rW=ee([tt,uw,br,Xt],g3),nW=ee([tt,uw,br,Xt],x3),sW=(e,t,r,n,a,i,o,l)=>{if(t){var{type:c}=t,d=_s(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return h=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Cn(a[0]-a[1])*2*h:h,d&&o?o.map((m,f)=>({coordinate:n(m)+h,value:m,index:f,offset:h})):n.domain().map((m,f)=>({coordinate:n(m)+h,value:i?i[m]:m,index:f,offset:h}))}}},Qs=ee([tt,br,dw,O3,A3,rW,nW,Xt],sW),M3=ee([v3,b3,kV],(e,t,r)=>w3(r.shared,e,t)),D3=e=>e.tooltip.settings.trigger,hw=e=>e.tooltip.settings.defaultIndex,k0=ee([Ml,M3,D3,hw],S3),Am=ee([k0,Yi],cw),R3=ee([Qs,Am],j3),aW=ee([k0],e=>{if(e)return e.dataKey}),iW=ee([Ml,M3,D3,hw],P3),oW=ee([Wa,Ha,tt,vr,Qs,hw,iW,N0],C3),lW=ee([k0,oW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),cW=ee([k0],e=>e.active);function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){dW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dW(e,t,r){return(t=uW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=hW(e,"string");return typeof t=="symbol"?t:t+""}function hW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $3=()=>Ne(br),mW=()=>{var e=$3(),t=Ne(Qs),r=Ne(O3);return md(I2(I2({},e),{},{scale:r}),t)};function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){fW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fW(e,t,r){return(t=pW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pW(e){var t=gW(e,"string");return typeof t=="symbol"?t:t+""}function gW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I3=()=>Ne(Kb),mw=(e,t)=>t,L3=(e,t,r)=>r,fw=(e,t,r,n)=>n;function xW(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}var yW=ee(Qs,e=>Yf(e,t=>t.coordinate)),pw=ee([Ml,mw,L3,fw],S3),F3=ee([pw,Yi],cw),vW=(e,t,r)=>{if(t!=null){var n=Ml(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},B3=ee([Ml,mw,L3,fw],P3),Tm=ee([Wa,Ha,tt,vr,Qs,fw,B3,N0],C3),bW=ee([pw,Tm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),z3=ee(Qs,F3,j3);function wW(e,t){return e??t}var jW=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,h=[];return e.reduce((m,f)=>{var p,{dataDefinedOnItem:y,settings:v}=f,x=wW(y,l),b=xW(x,d,u),j=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n==null?void 0:n.dataKey,N=v==null?void 0:v.nameKey,w;if(n!=null&&n.dataKey&&!(n!=null&&n.allowDuplicatedCategory)&&Array.isArray(b)&&o==="axis"?w=Xv(b,n.dataKey,a):w=i(b,t,c,N),Array.isArray(w))w.forEach(k=>{var S=F2(F2({},v),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});m.push(EN({tooltipEntrySettings:S,dataKey:k.dataKey,payload:k.payload,value:Pr(k.payload,k.dataKey),name:k.name}))});else{var _;m.push(EN({tooltipEntrySettings:v,dataKey:j,payload:w,value:Pr(w,j),name:(_=Pr(w,N))!==null&&_!==void 0?_:v==null?void 0:v.name}))}return m},h)}},NW=ee([B3,F3,Cl,br,z3,N0,mw],jW),_W=ee([pw],e=>({isActive:e.active,activeIndex:e.index})),kW=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i)){var c=i9(e.chartX,e.chartY,t,r,l);if(c){var d=l9(c,t),u=JF(d,o,i,n,a),h=o9(t,i,u,c);return{activeIndex:String(u),activeCoordinate:h}}}};function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qx.apply(null,arguments)}function B2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(r),!0).forEach(function(n){SW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SW(e,t,r){return(t=CW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CW(e){var t=PW(e,"string");return typeof t=="symbol"?t:t+""}function PW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EW(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,u=t,h=r,m=n;if(!l||!u||d!=="ScatterChart"&&c!=="axis")return null;var f,p;if(d==="ScatterChart")f=u,p=Y9;else if(d==="BarChart")f=J9(o,u,a,i),p=PB;else if(o==="radial"){var{cx:y,cy:v,radius:x,startAngle:b,endAngle:j}=FE(u);f={cx:y,cy:v,startAngle:b,endAngle:j,innerRadius:x,outerRadius:x},p=OB}else f={points:MB(o,u,a)},p=Rc;var N=typeof l=="object"&&"className"in l?l.className:void 0,w=Gu(Gu(Gu(Gu({stroke:"#ccc",pointerEvents:"none"},a),f),Fe(l,!1)),{},{payload:h,payloadIndex:m,className:Ge("recharts-tooltip-cursor",N)});return g.isValidElement(l)?g.cloneElement(l,w):g.createElement(p,w)}function AW(e){var t=mW(),r=_l(),n=i0(),a=I3();return g.createElement(EW,Qx({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var U3=g.createContext(null),TW=()=>g.useContext(U3),q3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new a(u,h||c,m),p=r?r+d:d;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)t.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,f=h.length,p=new Array(f);m<f;m++)p[m]=h[m].fn;return p},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,m,f,p){var y=r?r+d:d;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,b,j;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,m),!0;case 5:return v.fn.call(v.context,u,h,m,f),!0;case 6:return v.fn.call(v.context,u,h,m,f,p),!0}for(j=1,b=new Array(x-1);j<x;j++)b[j-1]=arguments[j];v.fn.apply(v.context,b)}else{var N=v.length,w;for(j=0;j<N;j++)switch(v[j].once&&this.removeListener(d,v[j].fn,void 0,!0),x){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,u);break;case 3:v[j].fn.call(v[j].context,u,h);break;case 4:v[j].fn.call(v[j].context,u,h,m);break;default:if(!b)for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v[j].fn.apply(v[j].context,b)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,m){var f=r?r+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!m||p.once)&&(!h||p.context===h)&&o(this,f);else{for(var y=0,v=[],x=p.length;y<x;y++)(p[y].fn!==u||m&&!p[y].once||h&&p[y].context!==h)&&v.push(p[y]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(q3);var OW=q3.exports;const MW=Ns(OW);var wd=new MW,Zx="recharts.syncEvent.tooltip",z2="recharts.syncEvent.brush";function DW(e,t){if(t){var r=Number.parseInt(t,10);if(!un(r))return e==null?void 0:e[r]}}var RW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},V3=In({name:"options",initialState:RW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$W=V3.reducer,{createEventEmitter:IW}=V3.actions;function LW(e){return e.tooltip.syncInteraction}var FW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},W3=In({name:"chartData",initialState:FW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:U2,setDataStartEndIndexes:BW,setComputedData:$X}=W3.actions,zW=W3.reducer,H3=()=>{};function UW(){var e=Ne(Gb),t=Ne(Yb),r=Or(),n=Ne(FA),a=Ne(Qs),i=i0(),o=vb(),l=Ne(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return H3;var c=(d,u,h)=>{if(t!==h&&e===d){if(n==="index"){r(u);return}if(a!=null){var m;if(typeof n=="function"){var f={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},p=n(a,f);m=a[p]}else n==="value"&&(m=a.find(_=>String(_.value)===u.payload.label));var{coordinate:y}=u.payload;if(m==null||u.payload.active===!1||y==null||o==null){r(Jx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y:x}=y,b=Math.min(v,o.x+o.width),j=Math.min(x,o.y+o.height),N={x:i==="horizontal"?m.coordinate:b,y:i==="horizontal"?j:m.coordinate},w=Jx({active:u.payload.active,coordinate:N,dataKey:u.payload.dataKey,index:String(m.index),label:u.payload.label});r(w)}}};return wd.on(Zx,c),()=>{wd.off(Zx,c)}},[l,r,t,e,n,a,i,o])}function qW(){var e=Ne(Gb),t=Ne(Yb),r=Or();g.useEffect(()=>{if(e==null)return H3;var n=(a,i,o)=>{t!==o&&e===a&&r(BW(i))};return wd.on(z2,n),()=>{wd.off(z2,n)}},[r,t,e])}function VW(){var e=Or();g.useEffect(()=>{e(IW())},[e]),UW(),qW()}function WW(e,t,r,n,a,i){var o=Ne(m=>vW(m,e,t)),l=Ne(Yb),c=Ne(Gb),d=Ne(FA),u=Ne(LW),h=u==null?void 0:u.active;g.useEffect(()=>{if(!h&&c!=null&&l!=null){var m=Jx({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n});wd.emit(Zx,c,m,l)}},[h,r,o,a,n,l,c,d,i])}function q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(r),!0).forEach(function(n){HW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HW(e,t,r){return(t=KW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YW(e){return e.dataKey}function JW(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(C9,t)}var W2=[],XW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!kl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function H2(e){var t=Ka(e,XW),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:h,reverseDirection:m,useTranslate3d:f,wrapperStyle:p,cursor:y,shared:v,trigger:x,defaultIndex:b,portal:j,axisId:N}=t,w=Or(),_=typeof b=="number"?String(b):b;g.useEffect(()=>{w(EV({shared:v,trigger:x,axisId:N,active:r,defaultIndex:_}))},[w,v,x,N,r,_]);var k=vb(),S=TE(),E=_V(v),{activeIndex:P,isActive:C}=Ne(W=>_W(W,E,x,_)),A=Ne(W=>NW(W,E,x,_)),O=Ne(W=>z3(W,E,x,_)),$=Ne(W=>bW(W,E,x,_)),L=A,H=TW(),U=r??C,[T,M]=F7([L,U]),z=E==="axis"?O:void 0;WW(E,x,$,z,P,U);var B=j??H;if(B==null)return null;var F=L??W2;U||(F=W2),l&&F.length&&(F=j7(L.filter(W=>W.value!=null&&(W.hide!==!0||t.includeHidden)),u,YW));var K=F.length>0,Y=g.createElement(D9,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:U,coordinate:$,hasPayload:K,offset:d,position:h,reverseDirection:m,useTranslate3d:f,viewBox:k,wrapperStyle:p,lastBoundingBox:T,innerRef:M,hasPortalFromProps:!!j},JW(o,V2(V2({},t),{},{payload:F,label:z,active:U,coordinate:$,accessibilityLayer:S})));return g.createElement(g.Fragment,null,Uk.createPortal(Y,B),U&&g.createElement(AW,{cursor:y,tooltipEventType:E,coordinate:$,payload:L,index:P}))}var K3={},G3={},Y3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},h=()=>{d&&u(),y()};let m=null;const f=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,h()},n)},p=()=>{m!==null&&(clearTimeout(m),m=null)},y=()=>{p(),o=void 0,l=null},v=()=>{p(),u()},x=function(...b){if(a!=null&&a.aborted)return;o=this,l=b;const j=m==null;f(),c&&j&&u()};return x.schedule=f,x.cancel=y,x.flush=v,a==null||a.addEventListener("abort",y,{once:!0}),x}e.debounce=t})(Y3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y3;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let u,h=null;const m=t.debounce(function(...y){u=n.apply(this,y),h=null},a,{edges:d}),f=function(...y){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(u=n.apply(this,y),h=Date.now(),m.cancel(),m.schedule(),u):(m.apply(this,y),u)},p=()=>(m.flush(),u);return f.cancel=m.cancel,f.flush=p,f}e.debounce=r})(G3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G3;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,trailing:l,maxWait:a})}e.throttle=r})(K3);var QW=K3.throttle;const ZW=Ns(QW);var $c=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function K2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(r),!0).forEach(function(n){eH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eH(e,t,r){return(t=tH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tH(e){var t=rH(e,"string");return typeof t=="symbol"?t:t+""}function rH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nH=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:h,className:m,onResize:f,style:p={}}=e,y=g.useRef(null),v=g.useRef();v.current=f,g.useImperativeHandle(t,()=>y.current);var[x,b]=g.useState({containerWidth:n.width,containerHeight:n.height}),j=g.useCallback((w,_)=>{b(k=>{var S=Math.round(w),E=Math.round(_);return k.containerWidth===S&&k.containerHeight===E?k:{containerWidth:S,containerHeight:E}})},[]);g.useEffect(()=>{var w=E=>{var P,{width:C,height:A}=E[0].contentRect;j(C,A),(P=v.current)===null||P===void 0||P.call(v,C,A)};u>0&&(w=ZW(w,u,{trailing:!0,leading:!1}));var _=new ResizeObserver(w),{width:k,height:S}=y.current.getBoundingClientRect();return j(k,S),_.observe(y.current),()=>{_.disconnect()}},[j,u]);var N=g.useMemo(()=>{var{containerWidth:w,containerHeight:_}=x;if(w<0||_<0)return null;$c(yi(a)||yi(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),$c(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=yi(a)?w:a,S=yi(i)?_:i;return r&&r>0&&(k?S=k/r:S&&(k=S*r),c&&S>c&&(S=c)),$c(k>0||S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,S,a,i,o,l,r),g.Children.map(d,E=>g.cloneElement(E,{width:k,height:S,style:Hp({height:"100%",width:"100%",maxHeight:S,maxWidth:k},E.props.style)}))},[r,d,i,c,l,o,x,a]);return g.createElement("div",{id:h?"".concat(h):void 0,className:Ge("recharts-responsive-container",m),style:Hp(Hp({},p),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:y},N)});function G2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(r),!0).forEach(function(n){sH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sH(e,t,r){return(t=aH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aH(e){var t=iH(e,"string");return typeof t=="symbol"?t:t+""}function iH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var co={widthCache:{},cacheCount:0},oH=2e3,lH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Y2="recharts_measurement_span";function cH(e){var t=ey({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var Ic=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||kl.isSsr)return{width:0,height:0};var n=cH(r),a=JSON.stringify({text:t,copyStyle:n});if(co.widthCache[a])return co.widthCache[a];try{var i=document.getElementById(Y2);i||(i=document.createElement("span"),i.setAttribute("id",Y2),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ey(ey({},lH),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return co.widthCache[a]=c,++co.cacheCount>oH&&(co.cacheCount=0,co.widthCache={}),c}catch{return{width:0,height:0}}},J2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,J3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hH=Object.keys(J3),Eo="NaN";function mH(e,t){return e*J3[t]}class $r{static parse(t){var r,[,n,a]=(r=uH.exec(t))!==null&&r!==void 0?r:[];return new $r(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,un(t)&&(this.unit=""),r!==""&&!dH.test(r)&&(this.num=NaN,this.unit=""),hH.includes(r)&&(this.num=mH(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new $r(NaN,""):new $r(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new $r(NaN,""):new $r(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $r(NaN,""):new $r(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $r(NaN,""):new $r(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return un(this.num)}}function X3(e){if(e.includes(Eo))return Eo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=J2.exec(t))!==null&&r!==void 0?r:[],o=$r.parse(n??""),l=$r.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Eo;t=t.replace(J2,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,h,m]=(d=X2.exec(t))!==null&&d!==void 0?d:[],f=$r.parse(u??""),p=$r.parse(m??""),y=h==="+"?f.add(p):f.subtract(p);if(y.isNaN())return Eo;t=t.replace(X2,y.toString())}return t}var Q2=/\(([^()]*)\)/;function fH(e){for(var t=e,r;(r=Q2.exec(t))!=null;){var[,n]=r;t=t.replace(Q2,X3(n))}return t}function pH(e){var t=e.replace(/\s+/g,"");return t=fH(t),t=X3(t),t}function gH(e){try{return pH(e)}catch{return Eo}}function Kp(e){var t=gH(e.slice(5,-1));return t===Eo?"":t}var xH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yH=["dx","dy","angle","className","breakAll"];function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty.apply(null,arguments)}function Z2(e,t){if(e==null)return{};var r,n,a=vH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q3=/[ \f\n\r\t\v\u2028\u2029]+/,Z3=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ft(t)||(r?a=t.toString().split(""):a=t.toString().split(Q3));var i=a.map(l=>({word:l,width:Ic(l,n).width})),o=r?0:Ic("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},bH=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,d=ye(i),u=o,h=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce((A,O)=>{var{word:$,width:L}=O,H=A[A.length-1];if(H&&(n==null||a||H.width+L+r<Number(n)))H.words.push($),H.width+=L+r;else{var U={words:[$],width:L};A.push(U)}return A},[])},m=h(t),f=P=>P.reduce((C,A)=>C.width>A.width?C:A);if(!d||a)return m;var p=m.length>i||f(m).width>Number(n);if(!p)return m;for(var y="",v=P=>{var C=u.slice(0,P),A=Z3({breakAll:c,style:l,children:C+y}).wordsWithComputedWidth,O=h(A),$=O.length>i||f(O).width>Number(n);return[$,O]},x=0,b=u.length-1,j=0,N;x<=b&&j<=u.length-1;){var w=Math.floor((x+b)/2),_=w-1,[k,S]=v(_),[E]=v(w);if(!k&&!E&&(x=w+1),k&&E&&(b=w-1),!k&&E){N=S;break}j++}return N||m},e_=e=>{var t=ft(e)?[]:e.toString().split(Q3);return[{words:t}]},wH=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!kl.isSsr){var l,c,d=Z3({breakAll:i,children:n,style:a});if(d){var{wordsWithComputedWidth:u,spaceWidth:h}=d;l=u,c=h}else return e_(n);return bH({breakAll:i,children:n,maxLines:o,style:a},l,c,t,r)}return e_(n)},t_="#808080",gw=g.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=t_}=e,u=Z2(e,xH),h=g.useMemo(()=>wH({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:m,dy:f,angle:p,className:y,breakAll:v}=u,x=Z2(u,yH);if(!ws(r)||!ws(n))return null;var b=r+(ye(m)?m:0),j=n+(ye(f)?f:0),N;switch(c){case"start":N=Kp("calc(".concat(i,")"));break;case"middle":N=Kp("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:N=Kp("calc(".concat(h.length-1," * -").concat(a,")"));break}var w=[];if(o){var _=h[0].width,{width:k}=u;w.push("scale(".concat(ye(k)?k/_:1,")"))}return p&&w.push("rotate(".concat(p,", ").concat(b,", ").concat(j,")")),w.length&&(x.transform=w.join(" ")),g.createElement("text",ty({},Fe(x,!0),{ref:t,x:b,y:j,className:Ge("recharts-text",y),textAnchor:l,fill:d.includes("url")?t_:d}),h.map((S,E)=>{var P=S.words.join(v?"":" ");return g.createElement("tspan",{x:b,dy:E===0?N:a,key:"".concat(P,"-").concat(E)},P)}))});gw.displayName="Text";var jH=["offset"],NH=["labelRef"];function r_(e,t){if(e==null)return{};var r,n,a=_H(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _H(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return(t=SH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SH(e){var t=CH(e,"string");return typeof t=="symbol"?t:t+""}function CH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Os.apply(null,arguments)}var PH=e=>{var{value:t,formatter:r}=e,n=ft(e.children)?t:e.children;return typeof r=="function"?r(n):n},xw=e=>e!=null&&typeof e=="function",EH=(e,t)=>{var r=Cn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},AH=(e,t,r)=>{var{position:n,viewBox:a,offset:i,className:o}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:h,endAngle:m,clockWise:f}=a,p=(d+u)/2,y=EH(h,m),v=y>=0?1:-1,x,b;n==="insideStart"?(x=h+v*i,b=f):n==="insideEnd"?(x=m-v*i,b=!f):n==="end"&&(x=m+v*i,b=f),b=y<=0?b:!b;var j=sr(l,c,p,x),N=sr(l,c,p,x+(b?1:-1)*359),w="M".concat(j.x,",").concat(j.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(N.x,",").concat(N.y),_=ft(e.id)?al("recharts-radial-line-"):e.id;return g.createElement("text",Os({},r,{dominantBaseline:"central",className:Ge("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:_,d:w})),g.createElement("textPath",{xlinkHref:"#".concat(_)},t))},TH=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:a,cy:i,innerRadius:o,outerRadius:l,startAngle:c,endAngle:d}=t,u=(c+d)/2;if(n==="outside"){var{x:h,y:m}=sr(a,i,l+r,u);return{x:h,y:m,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(o+l)/2,{x:p,y}=sr(a,i,f,u);return{x:p,y,textAnchor:"middle",verticalAnchor:"middle"}},OH=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:i,y:o,width:l,height:c}=t,d=c>=0?1:-1,u=d*n,h=d>0?"end":"start",m=d>0?"start":"end",f=l>=0?1:-1,p=f*n,y=f>0?"end":"start",v=f>0?"start":"end";if(a==="top"){var x={x:i+l/2,y:o-d*n,textAnchor:"middle",verticalAnchor:h};return _t(_t({},x),r?{height:Math.max(o-r.y,0),width:l}:{})}if(a==="bottom"){var b={x:i+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:m};return _t(_t({},b),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{})}if(a==="left"){var j={x:i-p,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return _t(_t({},j),r?{width:Math.max(j.x-r.x,0),height:c}:{})}if(a==="right"){var N={x:i+l+p,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return _t(_t({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:c}:{})}var w=r?{width:l,height:c}:{};return a==="insideLeft"?_t({x:i+p,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},w):a==="insideRight"?_t({x:i+l-p,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},w):a==="insideTop"?_t({x:i+l/2,y:o+u,textAnchor:"middle",verticalAnchor:m},w):a==="insideBottom"?_t({x:i+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:h},w):a==="insideTopLeft"?_t({x:i+p,y:o+u,textAnchor:v,verticalAnchor:m},w):a==="insideTopRight"?_t({x:i+l-p,y:o+u,textAnchor:y,verticalAnchor:m},w):a==="insideBottomLeft"?_t({x:i+p,y:o+c-u,textAnchor:v,verticalAnchor:h},w):a==="insideBottomRight"?_t({x:i+l-p,y:o+c-u,textAnchor:y,verticalAnchor:h},w):a&&typeof a=="object"&&(ye(a.x)||yi(a.x))&&(ye(a.y)||yi(a.y))?_t({x:i+La(a.x,l),y:o+La(a.y,c),textAnchor:"end",verticalAnchor:"end"},w):_t({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)},MH=e=>"cx"in e&&ye(e.cx);function sn(e){var{offset:t=5}=e,r=r_(e,jH),n=_t({offset:t},r),{viewBox:a,position:i,value:o,children:l,content:c,className:d="",textBreakAll:u,labelRef:h}=n,m=vb(),f=a||m;if(!f||ft(o)&&ft(l)&&!g.isValidElement(c)&&typeof c!="function")return null;if(g.isValidElement(c)){var p=r_(n,NH);return g.cloneElement(c,p)}var y;if(typeof c=="function"){if(y=g.createElement(c,n),g.isValidElement(y))return y}else y=PH(n);var v=MH(f),x=Fe(n,!0);if(v&&(i==="insideStart"||i==="insideEnd"||i==="end"))return AH(n,y,x);var b=v?TH(n):OH(n,f);return g.createElement(gw,Os({ref:h,className:Ge("recharts-label",d)},x,b,{breakAll:u}),y)}sn.displayName="Label";var e5=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:i,r:o,radius:l,innerRadius:c,outerRadius:d,x:u,y:h,top:m,left:f,width:p,height:y,clockWise:v,labelViewBox:x}=e;if(x)return x;if(ye(p)&&ye(y)){if(ye(u)&&ye(h))return{x:u,y:h,width:p,height:y};if(ye(m)&&ye(f))return{x:m,y:f,width:p,height:y}}if(ye(u)&&ye(h))return{x:u,y:h,width:0,height:0};if(ye(t)&&ye(r))return{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:v};if(e.viewBox)return e.viewBox},DH=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(sn,Os({key:"label-implicit"},n)):ws(e)?g.createElement(sn,Os({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===sn?g.cloneElement(e,_t({key:"label-implicit"},n)):g.createElement(sn,Os({key:"label-implicit",content:e},n)):xw(e)?g.createElement(sn,Os({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(sn,Os({},e,{key:"label-implicit"},n)):null},RH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:a,labelRef:i}=t,o=e5(t),l=pP(a,sn).map((d,u)=>g.cloneElement(d,{viewBox:r||o,key:"label-".concat(u)}));if(!n)return l;var c=DH(t.label,r||o,i);return[c,...l]};sn.parseViewBox=e5;sn.renderCallByParent=RH;var t5={},r5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(r5);var n5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(n5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r5,r=n5,n=Wf;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(t5);var $H=t5.last;const IH=Ns($H);var LH=["valueAccessor"],FH=["data","dataKey","clockWise","id","textBreakAll"];function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Om.apply(null,arguments)}function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){BH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BH(e,t,r){return(t=zH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zH(e){var t=UH(e,"string");return typeof t=="symbol"?t:t+""}function UH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i_(e,t){if(e==null)return{};var r,n,a=qH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VH=e=>Array.isArray(e.value)?IH(e.value):e.value;function Da(e){var{valueAccessor:t=VH}=e,r=i_(e,LH),{data:n,dataKey:a,clockWise:i,id:o,textBreakAll:l}=r,c=i_(r,FH);return!n||!n.length?null:g.createElement(hn,{className:"recharts-label-list"},n.map((d,u)=>{var h=ft(a)?t(d,u):Pr(d&&d.payload,a),m=ft(o)?{}:{id:"".concat(o,"-").concat(u)};return g.createElement(sn,Om({},Fe(d,!0),c,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:sn.parseViewBox(ft(i)?d:a_(a_({},d),{},{clockWise:i})),key:"label-".concat(u),index:u}))}))}Da.displayName="LabelList";function WH(e,t){return e?e===!0?g.createElement(Da,{key:"labelList-implicit",data:t}):g.isValidElement(e)||xw(e)?g.createElement(Da,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?g.createElement(Da,Om({data:t},e,{key:"labelList-implicit"})):null:null}function HH(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,a=pP(n,Da).map((o,l)=>g.cloneElement(o,{data:t,key:"labelList-".concat(l)}));if(!r)return a;var i=WH(e.label,t);return[i,...a]}Da.renderCallByParent=HH;function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(null,arguments)}var yw=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Ge("recharts-dot",a);return t===+t&&r===+r&&n===+n?g.createElement("circle",ry({},Fe(e,!1),eb(e),{className:i,cx:t,cy:r,r:n})):null},KH={radiusAxis:{},angleAxis:{}},GH=In({name:"polarAxis",initialState:KH,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),YH=GH.reducer,JH={countOfBars:0,cartesianItems:[],polarItems:[]},s5=In({name:"graphicalItems",initialState:JH,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},removeCartesianGraphicalItem(e,t){var r=Oa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Oa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:IX,removeBar:LX,addCartesianGraphicalItem:XH,removeCartesianGraphicalItem:QH,addPolarGraphicalItem:FX,removePolarGraphicalItem:BX}=s5.actions,ZH=s5.reducer;function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){eK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eK(e,t,r){return(t=tK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=rK(e,"string");return typeof t=="symbol"?t:t+""}function rK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nK(e){var t=Or();return g.useEffect(()=>{var r=l_(l_({},e),{},{stackId:kE(e.stackId)});return t(XH(r)),()=>{t(QH(r))}},[t,e]),null}function a5(e){var{fn:t,args:r}=e,n=Or(),a=Mr();return g.useEffect(()=>{if(!a){var i=t(r);return n(CV(i)),()=>{n(PV(i))}}},[t,r,n,a]),null}var sK=()=>{};function i5(e){var{legendPayload:t}=e,r=Or(),n=Mr();return g.useEffect(()=>n?sK:(r(b9(t)),()=>{r(w9(t))}),[r,n,t]),null}function o5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(al(t)),n=g.useRef(e);return n.current!==e&&(r.current=al(t),n.current=e),r.current}function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){aK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aK(e,t,r){return(t=iK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iK(e){var t=oK(e,"string");return typeof t=="symbol"?t:t+""}function oK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lK=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=d_(d_({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Fe(a,!1)),eb(a)),l;return g.isValidElement(a)?l=g.cloneElement(a,o):typeof a=="function"?l=a(o):l=g.createElement(yw,o),g.createElement(hn,{className:"recharts-active-dot"},l)};function ny(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=$3(),o=Ne(Am),l=Ne(R3);if(!o)return null;var c,d=i.dataKey;if(d&&!i.allowDuplicatedCategory){var u=typeof d=="function"?h=>d(h.payload):"payload.".concat(d);c=Xv(t,u,l)}else c=t==null?void 0:t[Number(o)];return ft(c)?null:lK({point:c,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:n})}var cK=["children"];function dK(e,t){if(e==null)return{};var r,n,a=uK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var u_=()=>{},l5=g.createContext({addErrorBar:u_,removeErrorBar:u_}),hK={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},c5=g.createContext(hK);function mK(e){var{children:t}=e,r=dK(e,cK);return g.createElement(c5.Provider,{value:r},t)}var fK=()=>g.useContext(c5),d5=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:a,dataKey:i,data:o,stackId:l,hide:c,type:d,barSize:u}=e,[h,m]=g.useState([]),f=g.useCallback(v=>{m(x=>[...x,v])},[m]),p=g.useCallback(v=>{m(x=>x.filter(b=>b!==v))},[m]),y=Mr();return g.createElement(l5.Provider,{value:{addErrorBar:f,removeErrorBar:p}},g.createElement(nK,{type:d,data:o,xAxisId:r,yAxisId:n,zAxisId:a,dataKey:i,errorBars:h,stackId:l,hide:c,barSize:u,isPanorama:y}),t)};function pK(e){var{addErrorBar:t,removeErrorBar:r}=g.useContext(l5);return g.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var gK=e=>{var t=Mr();return Ne(r=>Ol(r,"xAxis",e,t))},xK=e=>{var t=Mr();return Ne(r=>Ol(r,"yAxis",e,t))},yK=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function u5(e,t,r){return(t=vK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(null,arguments)}function wK(e,t){if(e==null)return{};var r,n,a=jK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NK(e){var{direction:t,width:r,dataKey:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l}=e,c=wK(e,yK),d=Fe(c,!1),{data:u,dataPointFormatter:h,xAxisId:m,yAxisId:f,errorBarOffset:p}=fK(),y=gK(m),v=xK(f);if((y==null?void 0:y.scale)==null||(v==null?void 0:v.scale)==null||u==null||t==="x"&&y.type!=="number")return null;var x=u.map(b=>{var{x:j,y:N,value:w,errorVal:_}=h(b,n,t);if(!_)return null;var k=[],S,E;if(Array.isArray(_)?[S,E]=_:S=E=_,t==="x"){var{scale:P}=y,C=N+p,A=C+r,O=C-r,$=P(w-S),L=P(w+E);k.push({x1:L,y1:A,x2:L,y2:O}),k.push({x1:$,y1:C,x2:L,y2:C}),k.push({x1:$,y1:A,x2:$,y2:O})}else if(t==="y"){var{scale:H}=v,U=j+p,T=U-r,M=U+r,z=H(w-S),B=H(w+E);k.push({x1:T,y1:B,x2:M,y2:B}),k.push({x1:U,y1:z,x2:U,y2:B}),k.push({x1:T,y1:z,x2:M,y2:z})}var F="".concat(j+p,"px ").concat(N+p,"px");return g.createElement(hn,jd({className:"recharts-errorBar",key:"bar-".concat(k.map(K=>"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)))},d),k.map(K=>{var Y=a?{transformOrigin:"".concat(K.x1-5,"px")}:void 0;return g.createElement(pd,{from:{transform:"scaleY(0)",transformOrigin:F},to:{transform:"scaleY(1)",transformOrigin:F},begin:i,easing:l,isActive:a,duration:o,key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2),style:{transformOrigin:F}},g.createElement("line",jd({},K,{style:Y})))}))});return g.createElement(hn,{className:"recharts-errorBars"},x)}var h5=g.createContext(void 0);function _K(e){var t=g.useContext(h5);return e??t??"x"}function kK(e){var{direction:t,children:r}=e;return g.createElement(h5.Provider,{value:t},r)}var m5={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function SK(e){var t=_K(e.direction),{width:r,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:o}=Ka(e,m5);return g.createElement(g.Fragment,null,g.createElement(pK,{dataKey:e.dataKey,direction:t}),g.createElement(NK,jd({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:o})))}class f5 extends g.Component{render(){return g.createElement(SK,this.props)}}u5(f5,"defaultProps",m5);u5(f5,"displayName","ErrorBar");function vw(e,t){var r,n,a=Ne(d=>Xs(d,e)),i=Ne(d=>Ja(d,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Qr.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Zr.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function p5(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=_l(),{needClipX:i,needClipY:o,needClip:l}=vw(t,r);if(!l)return null;var{left:c,top:d,width:u,height:h}=a;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:i?c:c-u/2,y:o?d:d-h/2,width:i?u:u*2,height:o?h:h*2}))}var CK=e=>{var{chartData:t}=e,r=Or(),n=Mr();return g.useEffect(()=>n?()=>{}:(r(U2(t)),()=>{r(U2(void 0))}),[t,r,n]),null},h_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},PK=In({name:"brush",initialState:h_,reducers:{setBrushSettings(e,t){return t.payload==null?h_:t.payload}}}),EK=PK.reducer;function AK(e,t,r){return(t=TK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=OK(e,"string");return typeof t=="symbol"?t:t+""}function OK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bw{static create(t){return new bw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}AK(bw,"EPS",1e-4);function MK(e){return(e%180+180)%180}var DK=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=MK(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},RK={dots:[],areas:[],lines:[]},$K=In({name:"referenceElements",initialState:RK,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Oa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Oa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Oa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),IK=$K.reducer,LK=g.createContext(void 0),FK=e=>{var{children:t}=e,[r]=g.useState("".concat(al("recharts"),"-clip")),n=_l();if(n==null)return null;var{left:a,top:i,height:o,width:l}=n;return g.createElement(LK.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:a,y:i,height:o,width:l}))),t)};function Gp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function g5(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function BK(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return DK(n,r)}function zK(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Mm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function UK(e,t){return g5(e,t+1)}function qK(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,h=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:g5(n,d)};var y=c,v,x=()=>(v===void 0&&(v=r(p,y)),v),b=p.coordinate,j=c===0||Mm(e,b,x,u,l);j||(c=0,u=o,d+=1),j&&(u=b+e*(x()/2+a),c+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){VK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VK(e,t,r){return(t=WK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=HK(e,"string");return typeof t=="symbol"?t:t+""}function HK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KK(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,d=function(m){var f=i[m],p,y=()=>(p===void 0&&(p=r(f,m)),p);if(m===o-1){var v=e*(f.coordinate+e*y()/2-c);i[m]=f=pr(pr({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate})}else i[m]=f=pr(pr({},f),{},{tickCoord:f.coordinate});var x=Mm(e,f.tickCoord,y,l,c);x&&(c=f.tickCoord-e*(y()/2+a),i[m]=pr(pr({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function GK(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:c,end:d}=t;if(i){var u=n[l-1],h=r(u,l-1),m=e*(u.coordinate+e*h/2-d);o[l-1]=u=pr(pr({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var f=Mm(e,u.tickCoord,()=>h,c,d);f&&(d=u.tickCoord-e*(h/2+a),o[l-1]=pr(pr({},u),{},{isShow:!0}))}for(var p=i?l-1:l,y=function(b){var j=o[b],N,w=()=>(N===void 0&&(N=r(j,b)),N);if(b===0){var _=e*(j.coordinate-e*w()/2-c);o[b]=j=pr(pr({},j),{},{tickCoord:_<0?j.coordinate-_*e:j.coordinate})}else o[b]=j=pr(pr({},j),{},{tickCoord:j.coordinate});var k=Mm(e,j.tickCoord,w,c,d);k&&(c=j.tickCoord+e*(w()/2+a),o[b]=pr(pr({},j),{},{isShow:!0}))},v=0;v<p;v++)y(v);return o}function ww(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:h}=e;if(!a||!a.length||!n)return[];if(ye(c)||kl.isSsr){var m;return(m=UK(a,ye(c)?c:0))!==null&&m!==void 0?m:[]}var f=[],p=l==="top"||l==="bottom"?"width":"height",y=u&&p==="width"?Ic(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(j,N)=>{var w=typeof d=="function"?d(j.value,N):j.value;return p==="width"?BK(Ic(w,{fontSize:t,letterSpacing:r}),y,h):Ic(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?Cn(a[1].coordinate-a[0].coordinate):1,b=zK(i,x,p);return c==="equidistantPreserveStart"?qK(x,b,v,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=GK(x,b,v,a,o,c==="preserveStartEnd"):f=KK(x,b,v,a,o),f.filter(j=>j.isShow))}var YK=["viewBox"],JK=["viewBox"];function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ao.apply(null,arguments)}function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){jw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p_(e,t){if(e==null)return{};var r,n,a=XK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jw(e,t,r){return(t=QK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Xa extends g.Component{constructor(t){super(t),this.tickRefs=g.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,a=p_(t,YK),i=this.props,{viewBox:o}=i,l=p_(i,JK);return!Gp(n,o)||!Gp(a,l)||!Gp(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:a,height:i,orientation:o,tickSize:l,mirror:c,tickMargin:d}=this.props,u,h,m,f,p,y,v=c?-1:1,x=t.tickSize||l,b=ye(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":u=h=t.coordinate,f=n+ +!c*i,m=f-v*x,y=m-v*d,p=b;break;case"left":m=f=t.coordinate,h=r+ +!c*a,u=h-v*x,p=u-v*d,y=b;break;case"right":m=f=t.coordinate,h=r+ +c*a,u=h+v*x,p=u+v*d,y=b;break;default:u=h=t.coordinate,f=n+ +c*i,m=f+v*x,y=m+v*d,p=b;break}return{line:{x1:u,y1:m,x2:h,y2:f},tick:{x:p,y}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l}=this.props,c=Mt(Mt(Mt({},Fe(this.props,!1)),Fe(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=Mt(Mt({},c),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var u=+(i==="left"&&!o||i==="right"&&o);c=Mt(Mt({},c),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+a})}return g.createElement("line",Ao({},c,{className:Ge("recharts-cartesian-axis-line",Li(l,"className"))}))}static renderTickItem(t,r,n){var a,i=Ge(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))a=g.cloneElement(t,Mt(Mt({},r),{},{className:i}));else if(typeof t=="function")a=t(Mt(Mt({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ge(o,t.className)),a=g.createElement(gw,Ao({},r,{className:o}),n)}return a}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:i,tick:o,tickFormatter:l,unit:c}=this.props,d=ww(Mt(Mt({},this.props),{},{ticks:n}),t,r),u=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=Fe(this.props,!1),f=Fe(o,!1),p=Mt(Mt({},m),{},{fill:"none"},Fe(a,!1)),y=d.map((v,x)=>{var{line:b,tick:j}=this.getTickLineCoord(v),N=Mt(Mt(Mt(Mt({textAnchor:u,verticalAnchor:h},m),{},{stroke:"none",fill:i},f),j),{},{index:x,payload:v,visibleTicksCount:d.length,tickFormatter:l});return g.createElement(hn,Ao({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},V8(this.props,v,x)),a&&g.createElement("line",Ao({},p,b,{className:Ge("recharts-cartesian-axis-tick-line",Li(a,"className"))})),o&&Xa.renderTickItem(o,N,"".concat(typeof l=="function"?l(v.value,x):v.value).concat(c||"")))});return y.length>0?g.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:t,width:r,height:n,className:a,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:g.createElement(hn,{className:Ge("recharts-cartesian-axis",a),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var d=c[0];if(d){var u=window.getComputedStyle(d).fontSize,h=window.getComputedStyle(d).letterSpacing;(u!==this.state.fontSize||h!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),sn.renderCallByParent(this.props))}}jw(Xa,"displayName","CartesianAxis");jw(Xa,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var eG=["x1","y1","x2","y2","key"],tG=["offset"],rG=["xAxisId","yAxisId"],nG=["xAxisId","yAxisId"];function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(n){sG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sG(e,t,r){return(t=aG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aG(e){var t=iG(e,"string");return typeof t=="symbol"?t:t+""}function iG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ji.apply(null,arguments)}function Dm(e,t){if(e==null)return{};var r,n,a=oG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lG=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return g.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function x5(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:o,key:l}=t,c=Dm(t,eG),d=Fe(c,!1),u=Dm(d,tG);r=g.createElement("line",ji({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function cG(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var i=Dm(e,rG),o=a.map((l,c)=>{var d=xr(xr({},i),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return x5(n,d)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function dG(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var i=Dm(e,nG),o=a.map((l,c)=>{var d=xr(xr({},i),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return x5(n,d)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function uG(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=l.map(h=>Math.round(h+a-a)).sort((h,m)=>h-m);a!==d[0]&&d.unshift(0);var u=d.map((h,m)=>{var f=!d[m+1],p=f?a+o-h:d[m+1]-h;if(p<=0)return null;var y=m%t.length;return g.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function hG(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(h=>Math.round(h+a-a)).sort((h,m)=>h-m);a!==d[0]&&d.unshift(0);var u=d.map((h,m)=>{var f=!d[m+1],p=f?a+o-h:d[m+1]-h;if(p<=0)return null;var y=m%r.length;return g.createElement("rect",{key:"react-".concat(m),x:h,y:i,width:p,height:l,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var mG=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return NE(ww(xr(xr(xr({},Xa.defaultProps),r),{},{ticks:_E(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},fG=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return NE(ww(xr(xr(xr({},Xa.defaultProps),r),{},{ticks:_E(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},pG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function sy(e){var t=PE(),r=EE(),n=_l(),a=xr(xr({},Ka(e,pG)),{},{x:ye(e.x)?e.x:n.left,y:ye(e.y)?e.y:n.top,width:ye(e.width)?e.width:n.width,height:ye(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:h,horizontalValues:m,verticalValues:f}=a,p=Mr(),y=Ne(E=>D2(E,"xAxis",i,p)),v=Ne(E=>D2(E,"yAxis",o,p));if(!ye(d)||d<=0||!ye(u)||u<=0||!ye(l)||l!==+l||!ye(c)||c!==+c)return null;var x=a.verticalCoordinatesGenerator||mG,b=a.horizontalCoordinatesGenerator||fG,{horizontalPoints:j,verticalPoints:N}=a;if((!j||!j.length)&&typeof b=="function"){var w=m&&m.length,_=b({yAxis:v?xr(xr({},v),{},{ticks:w?m:v.ticks}):void 0,width:t,height:r,offset:n},w?!0:h);$c(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(j=_)}if((!N||!N.length)&&typeof x=="function"){var k=f&&f.length,S=x({xAxis:y?xr(xr({},y),{},{ticks:k?f:y.ticks}):void 0,width:t,height:r,offset:n},k?!0:h);$c(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(N=S)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(lG,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),g.createElement(uG,ji({},a,{horizontalPoints:j})),g.createElement(hG,ji({},a,{verticalPoints:N})),g.createElement(cG,ji({},a,{offset:n,horizontalPoints:j,xAxis:y,yAxis:v})),g.createElement(dG,ji({},a,{offset:n,verticalPoints:N,xAxis:y,yAxis:v})))}sy.displayName="CartesianGrid";var y5=(e,t,r,n)=>Ol(e,"xAxis",t,n),v5=(e,t,r,n)=>j0(e,"xAxis",t,n),b5=(e,t,r,n)=>Ol(e,"yAxis",r,n),w5=(e,t,r,n)=>j0(e,"yAxis",r,n),gG=ee([tt,y5,b5,v5,w5],(e,t,r,n,a)=>_s(e,"xAxis")?md(t,n,!1):md(r,a,!1)),xG=(e,t,r,n,a)=>a,yG=ee([ew,xG],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),vG=ee([tt,y5,b5,v5,w5,yG,gG,Vb],(e,t,r,n,a,i,o,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{dataKey:h,data:m}=i,f;if(m!=null&&m.length>0?f=m:f=c==null?void 0:c.slice(d,u+1),f!=null)return LG({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:h,bandSize:o,displayedData:f})}}),bG=["type","layout","connectNulls","needClip"],wG=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function j5(e,t){if(e==null)return{};var r,n,a=jG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){S0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S0(e,t,r){return(t=NG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hl.apply(null,arguments)}var kG=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:r0(r,t),payload:e}]};function SG(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:r0(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var N5=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function CG(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var PG=(e,t,r)=>{var n=r.reduce((h,m)=>h+m);if(!n)return N5(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){l=[...r.slice(0,c),i-d];break}var u=l.length%2===0?[0,o]:[o];return[...CG(r,a),...l,...u].map(h=>"".concat(h,"px")).join(", ")};function EG(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Ge("recharts-line-dot",typeof e!="boolean"?e.className:"");r=g.createElement(yw,hl({},t,{className:n}))}return r}function AG(e,t){return e==null?!1:t?!0:e.length===1}function TG(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n;if(!AG(r,a))return null;var l=Uf(a),c=Fe(n,!1),d=Fe(a,!0),u=r.map((m,f)=>{var p=Gn(Gn(Gn({key:"dot-".concat(f),r:3},c),d),{},{index:f,cx:m.x,cy:m.y,dataKey:i,value:m.value,payload:m.payload,points:r});return EG(a,p)}),h={clipPath:o?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):null};return g.createElement(hn,hl({className:"recharts-line-dots",key:"dots"},h),u)}function ay(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i,showLabels:o}=e,{type:l,layout:c,connectNulls:d,needClip:u}=i,h=j5(i,bG),m=Gn(Gn({},Fe(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):null,points:n,type:l,layout:c,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return g.createElement(g.Fragment,null,(n==null?void 0:n.length)>1&&g.createElement(Rc,hl({},m,{pathRef:r})),g.createElement(TG,{points:n,clipPathId:t,props:i}),o&&Da.renderCallByParent(i,n))}function OG(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function MG(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:h,animateNewValues:m,width:f,height:p,onAnimationEnd:y,onAnimationStart:v}=r,x=a.current,b=o5(r,"recharts-line-"),[j,N]=g.useState(!1),w=g.useCallback(()=>{typeof y=="function"&&y(),N(!1)},[y]),_=g.useCallback(()=>{typeof v=="function"&&v(),N(!0)},[v]),k=OG(n.current),S=i.current;return g.createElement(pd,{begin:d,duration:u,isActive:c,easing:h,from:{t:0},to:{t:1},onAnimationEnd:w,onAnimationStart:_,key:b},E=>{var{t:P}=E,C=Gl(S,k+S),A=Math.min(C(P),k),O;if(l){var $="".concat(l).split(/[,\s]+/gim).map(U=>parseFloat(U));O=PG(A,k,$)}else O=N5(k,A);if(x){var L=x.length/o.length,H=P===1?o:o.map((U,T)=>{var M=Math.floor(T*L);if(x[M]){var z=x[M],B=Gl(z.x,U.x),F=Gl(z.y,U.y);return Gn(Gn({},U),{},{x:B(P),y:F(P)})}if(m){var K=Gl(f*2,U.x),Y=Gl(p/2,U.y);return Gn(Gn({},U),{},{x:K(P),y:Y(P)})}return Gn(Gn({},U),{},{x:U.x,y:U.y})});return a.current=H,g.createElement(ay,{props:r,points:H,clipPathId:t,pathRef:n,showLabels:!j,strokeDasharray:O})}return P>0&&k>0&&(a.current=o,i.current=A),g.createElement(ay,{props:r,points:o,clipPathId:t,pathRef:n,showLabels:!j,strokeDasharray:O})})}function DG(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:a}=r,i=g.useRef(null),o=g.useRef(0),l=g.useRef(null),c=i.current;return a&&n&&n.length&&c!==n?g.createElement(MG,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:l}):g.createElement(ay,{props:r,points:n,clipPathId:t,pathRef:l,showLabels:!0})}var RG=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Pr(e.payload,t)});class $G extends g.Component{constructor(){super(...arguments),S0(this,"id",al("recharts-line-"))}render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:o,yAxisId:l,top:c,left:d,width:u,height:h,id:m,needClip:f,layout:p}=this.props;if(r)return null;var y=Ge("recharts-line",i),v=ft(m)?this.id:m,{r:x=3,strokeWidth:b=2}=(t=Fe(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},j=Uf(n),N=x*2+b;return g.createElement(g.Fragment,null,g.createElement(hn,{className:y},f&&g.createElement("defs",null,g.createElement(p5,{clipPathId:v,xAxisId:o,yAxisId:l}),!j&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:d-N/2,y:c-N/2,width:u+N,height:h+N}))),g.createElement(DG,{props:this.props,clipPathId:v}),g.createElement(kK,{direction:p==="horizontal"?"y":"x"},g.createElement(mK,{xAxisId:o,yAxisId:l,data:a,dataPointFormatter:RG,errorBarOffset:0},this.props.children))),g.createElement(ny,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var _5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!kl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function IG(e){var t=Ka(e,_5),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:h,legendType:m,xAxisId:f,yAxisId:p}=t,y=j5(t,wG),{needClip:v}=vw(f,p),{height:x,width:b,left:j,top:N}=_l(),w=i0(),_=Mr(),k=g.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),S=Ne(E=>vG(E,f,p,_,k));return w!=="horizontal"&&w!=="vertical"?null:g.createElement($G,hl({},y,{connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:d,label:h,legendType:m,xAxisId:f,yAxisId:p,points:S,layout:w,height:x,width:b,left:j,top:N,needClip:v}))}function LG(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((d,u)=>{var h=Pr(d,o);return t==="horizontal"?{x:fm({axis:r,ticks:a,bandSize:l,entry:d,index:u}),y:ft(h)?null:n.scale(h),value:h,payload:d}:{x:ft(h)?null:r.scale(h),y:fm({axis:n,ticks:i,bandSize:l,entry:d,index:u}),value:h,payload:d}})}class Nw extends g.PureComponent{render(){return g.createElement(d5,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},g.createElement(i5,{legendPayload:kG(this.props)}),g.createElement(a5,{fn:SG,args:this.props}),g.createElement(IG,this.props))}}S0(Nw,"displayName","Line");S0(Nw,"defaultProps",_5);var k5=(e,t,r,n)=>Ol(e,"xAxis",t,n),S5=(e,t,r,n)=>j0(e,"xAxis",t,n),C5=(e,t,r,n)=>Ol(e,"yAxis",r,n),P5=(e,t,r,n)=>j0(e,"yAxis",r,n),FG=ee([tt,k5,C5,S5,P5],(e,t,r,n,a)=>_s(e,"xAxis")?md(t,n,!1):md(r,a,!1)),BG=(e,t,r,n,a)=>{var i,o=tt(e),l=_s(o,"xAxis"),c;if(l?c=Yx(e,"yAxis",r,n):c=Yx(e,"xAxis",t,n),c!=null){var{dataKey:d,stackId:u}=a;if(u!=null){var h=(i=c[u])===null||i===void 0?void 0:i.stackedData;return h==null?void 0:h.find(m=>m.key===d)}}},zG=(e,t,r,n,a)=>a,UG=ee([ew,zG],(e,t)=>{if(e.some(r=>r.type==="area"&&t.dataKey===r.dataKey&&kE(t.stackId)===r.stackId&&t.data===r.data))return t}),qG=ee([tt,k5,C5,S5,P5,BG,Vb,FG,UG],(e,t,r,n,a,i,o,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:h}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{data:m}=c,f;if(m&&m.length>0?f=m:f=d==null?void 0:d.slice(u,h+1),f!=null){var p=void 0;return lY({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:u,areaSettings:c,stackedData:i,displayedData:f,chartBaseValue:p,bandSize:l})}}}),VG=["layout","type","stroke","connectNulls","isRange"],WG=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function E5(e,t){if(e==null)return{};var r,n,a=HG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){C0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C0(e,t,r){return(t=KG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=GG(e,"string");return typeof t=="symbol"?t:t+""}function GG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ra.apply(null,arguments)}function Rm(e,t){return e&&e!=="none"?e:t}var YG=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Rm(n,a),value:r0(r,t),payload:e}]};function JG(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:r0(o,t),hide:l,type:e.tooltipType,color:Rm(n,i),unit:c}}}var XG=(e,t)=>{var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Ge("recharts-area-dot",typeof e!="boolean"?e.className:"");r=g.createElement(yw,Ra({},t,{className:n}))}return r};function QG(e,t){return e==null?!1:t?!0:e.length===1}function ZG(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:o}=n;if(!QG(r,i))return null;var l=Uf(i),c=Fe(n,!1),d=Fe(i,!0),u=r.map((m,f)=>{var p=Ni(Ni(Ni({key:"dot-".concat(f),r:3},c),d),{},{index:f,cx:m.x,cy:m.y,dataKey:o,value:m.value,payload:m.payload,points:r});return XG(i,p)}),h={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return g.createElement(hn,Ra({className:"recharts-area-dots"},h),u)}function iy(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i,showLabels:o}=e,{layout:l,type:c,stroke:d,connectNulls:u,isRange:h}=i,m=E5(i,VG);return g.createElement(g.Fragment,null,(t==null?void 0:t.length)>1&&g.createElement(hn,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},g.createElement(Rc,Ra({},Fe(m,!0),{points:t,connectNulls:u,type:c,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&g.createElement(Rc,Ra({},Fe(i,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:t})),d!=="none"&&h&&g.createElement(Rc,Ra({},Fe(i,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:r}))),g.createElement(ZG,{points:t,props:i,clipPathId:a}),o&&Da.renderCallByParent(i,t))}function eY(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,o=n[n.length-1].y;if(!Er(i)||!Er(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.x||0));return ye(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.x||0),c)),ye(c)?g.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function tY(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,o=n[n.length-1].x;if(!Er(i)||!Er(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.y||0));return ye(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.y||0),c)),ye(c)?g.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function rY(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?g.createElement(eY,{alpha:t,points:n,baseLine:a,strokeWidth:i}):g.createElement(tY,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function nY(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:h,onAnimationStart:m,onAnimationEnd:f}=n,p=o5(n,"recharts-area-"),[y,v]=g.useState(!0),x=g.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),b=g.useCallback(()=>{typeof m=="function"&&m(),v(!0)},[m]),j=a.current,N=i.current;return g.createElement(pd,{begin:d,duration:u,isActive:c,easing:h,from:{t:0},to:{t:1},onAnimationEnd:x,onAnimationStart:b,key:p},w=>{var{t:_}=w;if(j){var k=j.length/o.length,S=_===1?o:o.map((P,C)=>{var A=Math.floor(C*k);if(j[A]){var O=j[A];return Ni(Ni({},P),{},{x:oo(O.x,P.x,_),y:oo(O.y,P.y,_)})}return P}),E;return ye(l)?E=oo(N,l,_):ft(l)||un(l)?E=oo(N,0,_):E=l.map((P,C)=>{var A=Math.floor(C*k);if(Array.isArray(N)&&N[A]){var O=N[A];return Ni(Ni({},P),{},{x:oo(O.x,P.x,_),y:oo(O.y,P.y,_)})}return P}),_>0&&(a.current=S,i.current=E),g.createElement(iy,{points:S,baseLine:E,needClip:t,clipPathId:r,props:n,showLabels:!y})}return _>0&&(a.current=o,i.current=l),g.createElement(hn,null,g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(r)},g.createElement(rY,{alpha:_,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),g.createElement(hn,{clipPath:"url(#animationClipPath-".concat(r,")")},g.createElement(iy,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n,showLabels:!0})))})}function sY(e){var{needClip:t,clipPathId:r,props:n}=e,{points:a,baseLine:i,isAnimationActive:o}=n,l=g.useRef(null),c=g.useRef(),d=l.current,u=c.current;return o&&a&&a.length&&(d!==a||u!==i)?g.createElement(nY,{needClip:t,clipPathId:r,props:n,previousPointsRef:l,previousBaselineRef:c}):g.createElement(iy,{points:a,baseLine:i,needClip:t,clipPathId:r,props:n,showLabels:!0})}class aY extends g.PureComponent{constructor(){super(...arguments),C0(this,"id",al("recharts-area-"))}render(){var t,{hide:r,dot:n,points:a,className:i,top:o,left:l,needClip:c,xAxisId:d,yAxisId:u,width:h,height:m,id:f,baseLine:p}=this.props;if(r)return null;var y=Ge("recharts-area",i),v=ft(f)?this.id:f,{r:x=3,strokeWidth:b=2}=(t=Fe(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},j=Uf(n),N=x*2+b;return g.createElement(g.Fragment,null,g.createElement(hn,{className:y},c&&g.createElement("defs",null,g.createElement(p5,{clipPathId:v,xAxisId:d,yAxisId:u}),!j&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:l-N/2,y:o-N/2,width:h+N,height:m+N}))),g.createElement(sY,{needClip:c,clipPathId:v,props:this.props})),g.createElement(ny,{points:a,mainColor:Rm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&g.createElement(ny,{points:p,mainColor:Rm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var A5={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!kl.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function iY(e){var t,r=Ka(e,A5),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:d,fillOpacity:u,hide:h,isAnimationActive:m,legendType:f,stroke:p,xAxisId:y,yAxisId:v}=r,x=E5(r,WG),b=i0(),j=I3(),{needClip:N}=vw(y,v),w=Mr(),_=g.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:l,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,l,e.data,e.dataKey]),{points:k,isRange:S,baseLine:E}=(t=Ne($=>qG($,y,v,w,_)))!==null&&t!==void 0?t:{},{height:P,width:C,left:A,top:O}=_l();return b!=="horizontal"&&b!=="vertical"||j!=="AreaChart"&&j!=="ComposedChart"?null:g.createElement(aY,Ra({},x,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:E,connectNulls:l,dot:c,fill:d,fillOpacity:u,height:P,hide:h,layout:b,isAnimationActive:m,isRange:S,legendType:f,needClip:N,points:k,stroke:p,width:C,left:A,top:O,xAxisId:y,yAxisId:v}))}var oY=(e,t,r,n,a)=>{var i=r??t;if(ye(i))return i;var o=e==="horizontal"?a:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function lY(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:h,yAxisTicks:m,bandSize:f}=e,p=a&&a.length,y=oY(i,o,r,l,c),v=i==="horizontal",x=!1,b=d.map((N,w)=>{var _;p?_=a[u+w]:(_=Pr(N,n),Array.isArray(_)?x=!0:_=[y,_]);var k=_[1]==null||p&&!t&&Pr(N,n)==null;return v?{x:fm({axis:l,ticks:h,bandSize:f,entry:N,index:w}),y:k?null:c.scale(_[1]),value:_,payload:N}:{x:k?null:l.scale(_[1]),y:fm({axis:c,ticks:m,bandSize:f,entry:N,index:w}),value:_,payload:N}}),j;return p||x?j=b.map(N=>{var w=Array.isArray(N.value)?N.value[0]:null;return v?{x:N.x,y:w!=null&&N.y!=null?c.scale(w):null}:{x:w!=null?l.scale(w):null,y:N.y}}):j=v?c.scale(y):l.scale(y),{points:b,baseLine:j,isRange:x}}class $m extends g.PureComponent{render(){return g.createElement(d5,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},g.createElement(i5,{legendPayload:YG(this.props)}),g.createElement(a5,{fn:JG,args:this.props}),g.createElement(iY,this.props))}}C0($m,"displayName","Area");C0($m,"defaultProps",A5);function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){cY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cY(e,t,r){return(t=dY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dY(e){var t=uY(e,"string");return typeof t=="symbol"?t:t+""}function uY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hY={xAxis:{},yAxis:{},zAxis:{}},T5=In({name:"cartesianAxis",initialState:hY,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=b_(b_({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:mY,removeXAxis:fY,addYAxis:pY,removeYAxis:gY,addZAxis:zX,removeZAxis:UX,updateYAxisWidth:xY}=T5.actions,yY=T5.reducer,vY=["children"],bY=["dangerouslySetInnerHTML","ticks"];function O5(e,t,r){return(t=wY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wY(e){var t=jY(e,"string");return typeof t=="symbol"?t:t+""}function jY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(null,arguments)}function M5(e,t){if(e==null)return{};var r,n,a=NY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _Y(e){var t=Or(),r=g.useMemo(()=>{var i=M5(e,vY);return i},[e]),n=Ne(i=>Xs(i,r.id)),a=r===n;return g.useEffect(()=>(t(mY(r)),()=>{t(fY(r))}),[r,t]),a?e.children:null}var kY=e=>{var{xAxisId:t,className:r}=e,n=Ne(CE),a=Mr(),i="xAxis",o=Ne(h=>Tl(h,i,t,a)),l=Ne(h=>y3(h,i,t,a)),c=Ne(h=>hV(h,t)),d=Ne(h=>xV(h,t));if(c==null||d==null)return null;var u=M5(e,bY);return g.createElement(Xa,oy({},u,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:Ge("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},SY=e=>{var t,r,n,a,i;return g.createElement(_Y,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},g.createElement(kY,e))};class Im extends g.Component{render(){return g.createElement(SY,this.props)}}O5(Im,"displayName","XAxis");O5(Im,"defaultProps",{allowDataOverflow:Qr.allowDataOverflow,allowDecimals:Qr.allowDecimals,allowDuplicatedCategory:Qr.allowDuplicatedCategory,height:Qr.height,hide:!1,mirror:Qr.mirror,orientation:Qr.orientation,padding:Qr.padding,reversed:Qr.reversed,scale:Qr.scale,tickCount:Qr.tickCount,type:Qr.type,xAxisId:0});var CY=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(u=>{if(u){var h=u.getBoundingClientRect();h.width>o&&(o=h.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,d=o+c+l+(r?n:0);return Math.round(d)}return 0},PY=["dangerouslySetInnerHTML","ticks"];function D5(e,t,r){return(t=EY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EY(e){var t=AY(e,"string");return typeof t=="symbol"?t:t+""}function AY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(null,arguments)}function TY(e,t){if(e==null)return{};var r,n,a=OY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MY(e){var t=Or();return g.useEffect(()=>(t(pY(e)),()=>{t(gY(e))}),[e,t]),null}var DY=e=>{var t,{yAxisId:r,className:n,width:a,label:i}=e,o=g.useRef(null),l=g.useRef(null),c=Ne(CE),d=Mr(),u=Or(),h="yAxis",m=Ne(x=>Tl(x,h,r,d)),f=Ne(x=>vV(x,r)),p=Ne(x=>yV(x,r)),y=Ne(x=>y3(x,h,r,d));if(g.useLayoutEffect(()=>{var x;if(!(a!=="auto"||!f||xw(i)||g.isValidElement(i))){var b=o.current,j=b==null||(x=b.tickRefs)===null||x===void 0?void 0:x.current,{tickSize:N,tickMargin:w}=b.props,_=CY({ticks:j,label:l.current,labelGapWithTick:5,tickSize:N,tickMargin:w});Math.round(f.width)!==Math.round(_)&&u(xY({id:r,width:_}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,f==null?void 0:f.width,f,u,i,r,a]),f==null||p==null)return null;var v=TY(e,PY);return g.createElement(Xa,ly({},v,{ref:o,labelRef:l,scale:m,x:p.x,y:p.y,width:f.width,height:f.height,className:Ge("recharts-".concat(h," ").concat(h),n),viewBox:c,ticks:y}))},RY=e=>{var t,r,n,a,i;return g.createElement(g.Fragment,null,g.createElement(MY,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),g.createElement(DY,e))},$Y={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:Zr.allowDecimals,allowDuplicatedCategory:Zr.allowDuplicatedCategory,hide:!1,mirror:Zr.mirror,orientation:Zr.orientation,padding:Zr.padding,reversed:Zr.reversed,scale:Zr.scale,tickCount:Zr.tickCount,type:Zr.type,width:Zr.width,yAxisId:0};class Lm extends g.Component{render(){return g.createElement(RY,this.props)}}D5(Lm,"displayName","YAxis");D5(Lm,"defaultProps",$Y);var IY={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=g;function LY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FY=typeof Object.is=="function"?Object.is:LY,BY=Yd.useSyncExternalStore,zY=Yd.useRef,UY=Yd.useEffect,qY=Yd.useMemo,VY=Yd.useDebugValue;IY.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=zY(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=qY(function(){function c(f){if(!d){if(d=!0,u=f,f=n(f),a!==void 0&&o.hasValue){var p=o.value;if(a(p,f))return h=p}return h=f}if(p=h,FY(u,f))return p;var y=n(f);return a!==void 0&&a(p,y)?(u=f,p):(u=f,h=y)}var d=!1,u,h,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=BY(e,i[0],i[1]);return UY(function(){o.hasValue=!0,o.value=l},[l]),VY(l),l};function WY(e){e()}function HY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){WY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var w_={notify(){},get:()=>[]};function KY(e,t){let r,n=w_,a=0,i=!1;function o(y){u();const v=n.subscribe(y);let x=!1;return()=>{x||(x=!0,v(),h())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function d(){return i}function u(){a++,r||(r=e.subscribe(c),n=HY())}function h(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=w_)}function m(){i||(i=!0,u())}function f(){i&&(i=!1,h())}const p={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:f,getListeners:()=>n};return p}var GY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YY=GY(),JY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",XY=JY(),QY=()=>YY||XY?g.useLayoutEffect:g.useEffect,ZY=QY(),Yp=Symbol.for("react-redux-context"),Jp=typeof globalThis<"u"?globalThis:{};function eJ(){if(!g.createContext)return{};const e=Jp[Yp]??(Jp[Yp]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var tJ=eJ();function rJ(e){const{children:t,context:r,serverState:n,store:a}=e,i=g.useMemo(()=>{const c=KY(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=g.useMemo(()=>a.getState(),[a]);ZY(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||tJ;return g.createElement(l.Provider,{value:i},t)}var nJ=rJ,sJ=(e,t)=>t,_w=ee([sJ,tt,Eq,Xt,T3,Qs,yW,vr],kW),kw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},R5=Dn("mouseClick"),$5=Bd();$5.startListening({actionCreator:R5,effect:(e,t)=>{var r=e.payload,n=_w(t.getState(),kw(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(TV({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var cy=Dn("mouseMove"),I5=Bd();I5.startListening({actionCreator:cy,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=lw(n,n.tooltip.settings.shared),i=_w(n,kw(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(k3({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(_3()))}});function aJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var j_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},L5=In({name:"rootProps",initialState:j_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:j_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),iJ=L5.reducer,{updateOptions:oJ}=L5.actions,lJ=In({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),cJ=lJ.reducer,F5=Dn("keyDown"),B5=Dn("focus"),Sw=Bd();Sw.startListening({actionCreator:F5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(cw(a,Yi(r))),l=Qs(r);if(i==="Enter"){var c=Tm(r,"axis","hover",String(a.index));t.dispatch(Xx({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var d=NV(r),u=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=o+h*u;if(!(l==null||m>=l.length||m<0)){var f=Tm(r,"axis","hover",String(m));t.dispatch(Xx({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:f}))}}}}});Sw.startListening({actionCreator:B5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=Tm(r,"axis","hover",String(i));t.dispatch(Xx({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var bn=Dn("externalEvent"),z5=Bd();z5.startListening({actionCreator:bn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:lW(r),activeDataKey:aW(r),activeIndex:Am(r),activeLabel:R3(r),activeTooltipIndex:Am(r),isTooltipActive:cW(r)};e.payload.handler(n,e.payload.reactEvent)}}});var dJ=ee([Ml],e=>e.tooltipItemPayloads),uJ=ee([dJ,N0,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),U5=Dn("touchMove"),q5=Bd();q5.startListening({actionCreator:U5,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=lw(n,n.tooltip.settings.shared);if(a==="axis"){var i=_w(n,kw({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(k3({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(d9),u=(o=c.getAttribute(u9))!==null&&o!==void 0?o:void 0,h=uJ(t.getState(),d,u);t.dispatch(AV({activeDataKey:u,activeIndex:d,activeCoordinate:h}))}}});var hJ=eE({brush:EK,cartesianAxis:yY,chartData:zW,graphicalItems:ZH,layout:$F,legend:j9,options:$W,polarAxis:YH,polarOptions:cJ,referenceElements:IK,rootProps:iJ,tooltip:OV}),mJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return oF({reducer:hJ,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([$5.middleware,I5.middleware,Sw.middleware,z5.middleware,q5.middleware]),devTools:{serialize:{replacer:aJ},name:"recharts-".concat(r)}})};function fJ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Mr(),i=g.useRef(null);if(a)return r;i.current==null&&(i.current=mJ(t,n));var o=cb;return g.createElement(nJ,{context:o,store:i.current},r)}function pJ(e){var{layout:t,width:r,height:n,margin:a}=e,i=Or(),o=Mr();return g.useEffect(()=>{o||(i(MF(t)),i(DF({width:r,height:n})),i(OF(a)))},[i,o,t,r,n,a]),null}function gJ(e){var t=Or();return g.useEffect(()=>{t(oJ(e))},[t,e]),null}var xJ=["children"];function yJ(e,t){if(e==null)return{};var r,n,a=vJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(null,arguments)}var bJ={width:"100%",height:"100%"},wJ=g.forwardRef((e,t)=>{var r=PE(),n=EE(),a=TE();if(!pm(r)||!pm(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,d,u;return typeof o.tabIndex=="number"?d=o.tabIndex:d=a?0:void 0,typeof o.role=="string"?u=o.role:u=a?"application":void 0,g.createElement(gP,Fm({},o,{title:l,desc:c,role:u,tabIndex:d,width:r,height:n,style:bJ,ref:t}),i)}),jJ=e=>{var{children:t}=e,r=Ne(a0);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return g.createElement(gP,{width:n,height:a,x:o,y:i},t)},N_=g.forwardRef((e,t)=>{var{children:r}=e,n=yJ(e,xJ),a=Mr();return a?g.createElement(jJ,null,r):g.createElement(wJ,Fm({ref:t},n),r)});function NJ(){var e=Or(),[t,r]=g.useState(null),n=Ne(c9);return g.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Er(i)&&i!==n&&e(RF(i))}},[t,e,n]),r}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){kJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kJ(e,t,r){return(t=SJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SJ(e){var t=CJ(e,"string");return typeof t=="symbol"?t:t+""}function CJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PJ=g.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:h,onMouseUp:m,onTouchEnd:f,onTouchMove:p,onTouchStart:y,style:v,width:x}=e,b=Or(),[j,N]=g.useState(null),[w,_]=g.useState(null);VW();var k=NJ(),S=g.useCallback(F=>{k(F),typeof t=="function"&&t(F),N(F),_(F)},[k,t,N,_]),E=g.useCallback(F=>{b(R5(F)),b(bn({handler:i,reactEvent:F}))},[b,i]),P=g.useCallback(F=>{b(cy(F)),b(bn({handler:d,reactEvent:F}))},[b,d]),C=g.useCallback(F=>{b(_3()),b(bn({handler:u,reactEvent:F}))},[b,u]),A=g.useCallback(F=>{b(cy(F)),b(bn({handler:h,reactEvent:F}))},[b,h]),O=g.useCallback(()=>{b(B5())},[b]),$=g.useCallback(F=>{b(F5(F.key))},[b]),L=g.useCallback(F=>{b(bn({handler:o,reactEvent:F}))},[b,o]),H=g.useCallback(F=>{b(bn({handler:l,reactEvent:F}))},[b,l]),U=g.useCallback(F=>{b(bn({handler:c,reactEvent:F}))},[b,c]),T=g.useCallback(F=>{b(bn({handler:m,reactEvent:F}))},[b,m]),M=g.useCallback(F=>{b(bn({handler:y,reactEvent:F}))},[b,y]),z=g.useCallback(F=>{b(U5(F)),b(bn({handler:p,reactEvent:F}))},[b,p]),B=g.useCallback(F=>{b(bn({handler:f,reactEvent:F}))},[b,f]);return g.createElement(U3.Provider,{value:j},g.createElement(Q8.Provider,{value:w},g.createElement("div",{className:Ge("recharts-wrapper",n),style:_J({position:"relative",cursor:"default",width:x,height:a},v),role:"application",onClick:E,onContextMenu:L,onDoubleClick:H,onFocus:O,onKeyDown:$,onMouseDown:U,onMouseEnter:P,onMouseLeave:C,onMouseMove:A,onMouseUp:T,onTouchEnd:B,onTouchMove:z,onTouchStart:M,ref:S},r)))}),EJ=["children","className","width","height","style","compact","title","desc"];function AJ(e,t){if(e==null)return{};var r,n,a=TJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OJ=g.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:o,compact:l,title:c,desc:d}=e,u=AJ(e,EJ),h=Fe(u,!1);return l?g.createElement(N_,{otherAttributes:h,title:c,desc:d},r):g.createElement(PJ,{className:n,style:o,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(N_,{otherAttributes:h,title:c,desc:d,ref:t},g.createElement(FK,null,r)))}),MJ=["width","height"];function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(null,arguments)}function DJ(e,t){if(e==null)return{};var r,n,a=RJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $J={top:5,right:5,bottom:5,left:5},IJ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$J,reverseStackOrder:!1,syncMethod:"index"},LJ=g.forwardRef(function(t,r){var n,a=Ka(t.categoricalChartProps,IJ),{width:i,height:o}=a,l=DJ(a,MJ);if(!pm(i)||!pm(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,categoricalChartProps:m}=t,f={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,eventEmitter:void 0};return g.createElement(fJ,{preloadedState:{options:f},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:c},g.createElement(CK,{chartData:m.data}),g.createElement(pJ,{width:i,height:o,layout:a.layout,margin:a.margin}),g.createElement(gJ,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),g.createElement(OJ,dy({},l,{width:i,height:o,ref:r})))}),FJ=["axis"],k_=g.forwardRef((e,t)=>g.createElement(LJ,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FJ,tooltipPayloadSearcher:DW,categoricalChartProps:e,ref:t}));function Bm(e,t,r="trade"){const n=[];let a=0,i=0;if(Object.keys(e).forEach(p=>{const y=e[p],v=(y==null?void 0:y.trades)??[];v.length>0&&(y["Performance Metrics"]&&(a+=Number(y["Performance Metrics"]["Net Profit"])||0),v.forEach(x=>{n.push({exit_date:String(x.exit_date||x.entry_date).split("T")[0],pnl:Number(x.pnl)||0,strategy:p,symbol:x.symbol}),i++}))}),n.length===0)return{maxDrawdownAbsoluto:0,maxDrawdownPercent:0,peakMaximo:0,resultadoFinal:0,netProfitTotal:0,totalTrades:0};n.sort((p,y)=>new Date(p.exit_date).getTime()-new Date(y.exit_date).getTime());const o=new Map;n.forEach(p=>{let y;const v=new Date(p.exit_date);switch(r){case"trade":y=`${p.exit_date}_${Math.random()}`;break;case"daily":y=p.exit_date;break;case"weekly":const b=new Date(v);b.setDate(v.getDate()-v.getDay()),y=b.toISOString().split("T")[0];break;case"monthly":y=`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}`;break;default:y=p.exit_date}o.has(y)||o.set(y,{date:p.exit_date,resultado:0,estrategias:new Set});const x=o.get(y);x.resultado+=p.pnl,x.estrategias.add(p.strategy)});const l=Array.from(o.values()).sort((p,y)=>new Date(p.date).getTime()-new Date(y.date).getTime());let c=0,d=0,u=0;l.forEach((p,y)=>{c+=p.resultado,c>d&&(d=c);const v=c-d;v<u&&(u=v)});const h=Math.abs(u),m=d>0?h/d*100:0;return{maxDrawdownAbsoluto:h,maxDrawdownPercent:m,peakMaximo:d,resultadoFinal:c,netProfitTotal:a,totalTrades:i}}function BJ({showEquityCurve:e,setShowEquityCurve:t,selectedStrategy:r,selectedAsset:n,fileResults:a,data:i,showConsolidated:o=!0,selectedFiles:l=[],files:c=[]}){const[d,u]=g.useState("resultado"),[h,m]=g.useState("daily"),[f,p]=g.useState("20"),[y,v]=g.useState("100000"),x=g.useCallback(()=>{if(!a)return{};let S={...a};if(!o&&l.length>0?(S={},l.forEach(E=>{a[E]&&(S[E]=a[E])})):o&&r&&(S={},Object.keys(a).forEach(E=>{(E===r||E===`${r}.csv`)&&(S[E]=a[E])})),n){const E={};Object.keys(S).forEach(P=>{const C=S[P];if(C&&C.trades){const A=C.trades.filter(O=>O.symbol===n);A.length>0&&(E[P]={...C,trades:A})}}),S=E}return S},[a,o,l,r,n]),b=(S,E)=>{const P=["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#EC4899","#84CC16","#6366F1"];return P[E%P.length]},j=g.useMemo(()=>{console.log(" chartData useMemo executado"),console.log(" VERIFICAO CRTICA - Parmetros principais:"),console.log("   chartType:",d),console.log("   showConsolidated:",o),console.log("   selectedStrategy:",r),console.log("   selectedAsset:",n),console.log("   fileResults:",a?Object.keys(a):"null"),console.log("   data:",i?Object.keys(i):"null"),console.log("   showConsolidated:",o),console.log("   selectedFiles:",l),console.log("   files:",c.length),console.log(" PONTO DE VERIFICAO - Chegando na lgica principal"),console.log(" chartType="+d+", showConsolidated="+o);const S=x(),E=S&&Object.keys(S).length>0;if(console.log(" FileResults filtrados:",Object.keys(S)),console.log(" FileResults vlidos:",E),!o&&l.length>0&&E){console.log(" MODO INDIVIDUAL: Usando dados das estratgias selecionadas");const A=Object.keys(S);console.log(" Estratgias selecionadas para modo individual:",A),console.log(" MODO INDIVIDUAL: Usando clculo consolidado para grfico"),console.log(" APLICANDO METODOLOGIA PYTHON - Coletando todos os trades"),console.log(" Referncia: FunCalculos.py linhas 474-476 (cumsum, cummax, equity-peak)");const O=[];if(A.forEach(T=>{const M=S[T];M&&M.trades&&M.trades.forEach(z=>{O.push({...z,strategy:T,pnl:Number(z.pnl)||0,entry_date:z.entry_date??z.date??"1970-01-01",exit_date:z.exit_date??z.entry_date??z.date??"1970-01-01"})})}),console.log(` Total de trades coletados: ${O.length}`),O.length===0){console.warn(" Nenhum trade encontrado para processar");for(const T of A){const M=S[T],z=(M==null?void 0:M["Equity Curve Data"])||(M==null?void 0:M.equity_curve_data);if(z){let B=[];switch(h){case"trade":B=z.trade_by_trade||[];break;case"daily":B=z.daily||[];break;default:B=z.daily||[]}if(B.length>0)return B.map(K=>({...K,saldo:Number(K.saldo??K.resultado??0),valor:Number(K.valor??0),resultado:Number(K.resultado??0),drawdown:Number(K.drawdown??0),drawdownPercent:Number(K.drawdownPercent??0),peak:Number(K.peak??0),trades:Number(K.trades??0),strategy:T}))}}}O.sort((T,M)=>new Date(T.entry_date??T.date??"1970-01-01").getTime()-new Date(M.entry_date??M.date??"1970-01-01").getTime()),console.log(" Trades ordenados cronologicamente"),console.log(" CALCULANDO EQUITY CURVE CONSOLIDADA"),console.log(" Referncia: FunCalculos.py - cumsum, cummax, equity-peak");let $=0,L=0,H=0;const U=[];return O.forEach((T,M)=>{const z=Number(T.pnl)||0;$+=z,$>L&&(L=$);const B=Math.abs(Math.min(0,$-L));B>H&&(H=B);const F=L>0?B/L*100:0;U.push({date:T.entry_date,fullDate:T.entry_date,saldo:$,valor:$,resultado:z,drawdown:B,drawdownPercent:F,peak:L,trades:M+1,strategy:"Consolidado Individual"})}),console.log(" Equity curve consolidada calculada:",U.length,"pontos"),console.log(" Exemplo de dados consolidados:",U[0]),console.log(" ltimo ponto consolidado:",U[U.length-1]),console.log(" Mximo drawdown consolidado:",H),console.log(" Peak consolidado:",L),U}if(o&&E){console.log(" ENTRANDO NO MODO CONSOLIDADO");const A=Object.keys(S);console.log(" Modo consolidado: combinando dados de todas as estratgias:",A),console.log(" Filtro de estratgia:",r||"Todas"),console.log(" Filtro de ativo:",n||"Todos"),console.log(" Tipo de grfico:",d),console.log(" MODO CONSOLIDADO: Usando clculo consolidado para drawdown");const O=[],$=new Set;A.forEach(B=>{var Y;const F=S[B],K=(F==null?void 0:F["Equity Curve Data"])||(F==null?void 0:F.equity_curve_data);if(console.log(` Verificando dados para ${B}:`,{hasStrategyData:!!F,strategyDataKeys:F?Object.keys(F):[],hasEquityCurveData:!!K,equityCurveKeys:K?Object.keys(K):[]}),K){let W=[];switch(h){case"trade":W=K.trade_by_trade||[];break;case"daily":W=K.daily||[];break;default:W=K.daily||[]}console.log(` ${B} - Dados selecionados para ${h}:`,{totalPoints:W.length,sampleData:W[0],lastData:W[W.length-1]});const te=W.map(ie=>({...ie,saldo:Number(ie.saldo??ie.resultado??0),valor:Number(ie.valor??0),resultado:Number(ie.resultado??0),drawdown:Number(ie.drawdown??0),drawdownPercent:Number(ie.drawdownPercent??0),peak:Number(ie.peak??0),trades:Number(ie.trades??0),strategy:B}));te.forEach(ie=>{ie.fullDate&&$.add(ie.fullDate)}),O.push(...te),console.log(` ${B}: ${te.length} pontos adicionados`),console.log(` ${B} - Exemplo de dados processados:`,te[0]),console.log(` ${B} - ltimo ponto:`,te[te.length-1]),console.log(` ${B} - Range de valores saldo:`,{min:Math.min(...te.map(ie=>ie.saldo??0)),max:Math.max(...te.map(ie=>ie.saldo??0)),last:(Y=te[te.length-1])==null?void 0:Y.saldo})}});const L=Array.from($).filter(B=>{if(!B||B==="Invalid Date"||B==="undefined"||B==="null")return!1;try{const F=new Date(B);return!isNaN(F.getTime())}catch{return!1}}).sort((B,F)=>new Date(B).getTime()-new Date(F).getTime());console.log(" Range de datas vlidas:",L[0],"at",L[L.length-1]),console.log(" Total de datas nicas vlidas:",L.length),console.log(" APLICANDO METODOLOGIA PYTHON - Coletando todos os trades"),console.log(" Referncia: FunCalculos.py linhas 474-476 (cumsum, cummax, equity-peak)");const H=[];if(A.forEach(B=>{const F=S[B];F&&F.trades&&F.trades.forEach(K=>{H.push({...K,strategy:B,pnl:Number(K.pnl)||0,entry_date:K.entry_date??K.date??"1970-01-01",exit_date:K.exit_date??K.entry_date??K.date??"1970-01-01"})})}),console.log(` Total de trades coletados: ${H.length}`),H.length===0){if(console.warn(" Nenhum trade encontrado para processar"),i&&i["Equity Curve Data"]){console.log(" CSV NICO: Usando dados de Equity Curve Data");const B=i["Equity Curve Data"];let F=[];switch(h){case"trade":F=B.trade_by_trade||[];break;case"daily":F=B.daily||[];break;default:F=B.daily||[]}if(F.length>0)return console.log(" Dados de equity curve encontrados:",F.length,"pontos"),F.map(K=>({...K,saldo:Number(K.saldo??K.resultado??0),valor:Number(K.valor??0),resultado:Number(K.resultado??0),drawdown:Number(K.drawdown??0),drawdownPercent:Number(K.drawdownPercent??0),peak:Number(K.peak??0),trades:Number(K.trades??0)}))}console.warn(" Nenhum dado vlido encontrado")}H.sort((B,F)=>new Date(B.entry_date??B.date??"1970-01-01").getTime()-new Date(F.entry_date??F.date??"1970-01-01").getTime()),console.log(" Trades ordenados cronologicamente"),console.log(" CALCULANDO EQUITY CURVE CONSOLIDADA"),console.log(" Referncia: FunCalculos.py - cumsum, cummax, equity-peak");let U=0,T=0,M=0;const z=[];return H.forEach((B,F)=>{const K=Number(B.pnl)||0;U+=K,U>T&&(T=U);const Y=Math.abs(Math.min(0,U-T));Y>M&&(M=Y);const W=T>0?Y/T*100:0;z.push({date:B.entry_date,fullDate:B.entry_date,saldo:U,valor:U,resultado:K,drawdown:Y,drawdownPercent:W,peak:T,trades:F+1,strategy:"Consolidado"})}),console.log(" Equity curve consolidada calculada:",z.length,"pontos"),console.log(" Exemplo de dados consolidados:",z[0]),console.log(" ltimo ponto consolidado:",z[z.length-1]),console.log(" Mximo drawdown consolidado:",M),console.log(" Peak consolidado:",T),z}if(i&&i["Equity Curve Data"]){console.log(" CSV NICO: Usando dados de Equity Curve Data");const A=i["Equity Curve Data"];let O=[];switch(h){case"trade":O=A.trade_by_trade||[];break;case"daily":O=A.daily||[];break;default:O=A.daily||[]}if(console.log(` CSV NICO: Dados selecionados para ${h}: ${O.length} pontos`),O.length>0)return console.log(" Dados de equity curve encontrados:",O.length,"pontos"),O.map($=>({...$,saldo:Number($.saldo??$.resultado??0),valor:Number($.valor??0),resultado:Number($.resultado??0),drawdown:Number($.drawdown??0),drawdownPercent:Number($.drawdownPercent??0),peak:Number($.peak??0),trades:Number($.trades??0)}))}if(r&&a){const A=a[r]||a[`${r}.csv`];if(console.log(" Buscando dados da estratgia:",{selectedStrategy:r,hasStrategyData:!!A,availableKeys:Object.keys(a)}),A&&A["Equity Curve Data"]){const O=A["Equity Curve Data"];let $=[];switch(h){case"trade":$=O.trade_by_trade||[];break;case"daily":$=O.daily||[];break;default:$=O.daily||[]}if($.length>0)return console.log(" Dados da estratgia encontrados:",$.length,"pontos"),$.map(L=>({...L,saldo:Number(L.saldo??L.resultado??0),valor:Number(L.valor??0),resultado:Number(L.resultado??0),drawdown:Number(L.drawdown??0),drawdownPercent:Number(L.drawdownPercent??0),peak:Number(L.peak??0),trades:Number(L.trades??0)}))}}console.log(" Nenhum dado direto encontrado; tentando usar dados de Equity Curve do CSV (se houver)");const P=i==null?void 0:i["Equity Curve Data"];return(P?h==="trade"?P.trade_by_trade||[]:P.daily||[]:[]).map(A=>({...A,saldo:Number(A.saldo??A.resultado??0),valor:Number(A.valor??0),resultado:Number(A.resultado??0),drawdown:Number(A.drawdown??0),drawdownPercent:Number(A.drawdownPercent??0),peak:Number(A.peak??0),trades:Number(A.trades??0)}))},[i,h,n,a,o,l,d,r,c.length,x]),N=g.useMemo(()=>{if(f==="nenhuma"||!Array.isArray(j)||j.length===0)return j;const S=parseInt(f);return j.map((E,P)=>{if(P<S-1)return{...E,saldoMA:null};const C=j.slice(P-S+1,P+1).reduce((A,O)=>A+Number(O.saldo??O.resultado??0),0);return{...E,saldoMA:C/S}})},[j,f]),w=g.useMemo(()=>{console.log(" stats useMemo executado"),console.log(" DEBUG STATS - Parmetros:"),console.log("   data existe:",!!i),console.log("   fileResults keys:",a?Object.keys(a):"null"),console.log("   fileResults length:",a?Object.keys(a).length:0),console.log("   showConsolidated:",o),console.log("   selectedStrategy:",r),console.log("   selectedAsset:",n),console.log("   selectedFiles:",l);const S=x(),E=S&&Object.keys(S).length>0;if(console.log(" FileResults filtrados:",Object.keys(S)),console.log(" FileResults vlidos:",E),!o&&l.length>0&&E)if(console.log(" MODO INDIVIDUAL: Calculando stats para estratgias selecionadas"),console.log(" selectedFiles:",l),console.log(" filteredFileResults keys:",Object.keys(S)),console.log(" showConsolidated:",o),console.log(" hasValidFileResults:",E),Object.keys(S).length===1){const C=Object.keys(S)[0],A=S[C];if(console.log(` MODO INDIVIDUAL - Estratgia nica: ${C}`),console.log(" Dados da estratgia:",A),console.log(" Estrutura dos dados:",{keys:A?Object.keys(A):[],hasPerformanceMetrics:!!(A&&A["Performance Metrics"]),performanceMetricsKeys:A&&A["Performance Metrics"]?Object.keys(A["Performance Metrics"]):[]}),console.log(` DEBUG: Verificando trades para ${C}:`,{hasStrategyData:!!A,hasTrades:!!(A&&A.trades),isArray:!!(A&&A.trades&&Array.isArray(A.trades)),tradesLength:A&&A.trades?A.trades.length:0}),A&&A.trades&&Array.isArray(A.trades)){const $=A.trades,L=$.filter(R=>(Number(R.pnl)||0)>0),H=$.filter(R=>(Number(R.pnl)||0)<0),U=L.reduce((R,q)=>R+(Number(q.pnl)||0),0),T=Math.abs(H.reduce((R,q)=>R+(Number(q.pnl)||0),0)),M=T>0?U/T:0,z=$.length>0?L.length/$.length*100:0,B=$.reduce((R,q)=>R+(Number(q.pnl)||0),0),F=B/1e5*100;let K=0,Y=0,W=0;$.sort((R,q)=>new Date(R.entry_date??R.date??"1970-01-01").getTime()-new Date(q.entry_date??q.date??"1970-01-01").getTime()),$.forEach(R=>{const q=Number(R.pnl)||0;K+=q,K>Y&&(Y=K);const X=Math.abs(Math.min(0,K-Y));X>W&&(W=X)});const te=W/1e5*100;console.log(` DEBUG DD Mdio - Dados completos para ${C}:`,{hasStrategyData:!!A,hasPerformanceMetrics:!!(A&&A["Performance Metrics"]),performanceMetrics:A&&A["Performance Metrics"],averageDrawdown:A&&A["Performance Metrics"]?A["Performance Metrics"]["Average Drawdown"]:"N/A"});let ie=0;const D=A&&A["Performance Metrics"];if(D){const R=["Average Drawdown","Average Drawdown ($)","Average Drawdown (%)","Avg Drawdown","Avg Drawdown ($)","Avg Drawdown (%)","drawdown_medio","drawdown_medio_pct"];for(const q of R)if(D[q]!==void 0&&D[q]>0){ie=D[q],console.log(` DD Mdio da API: "${q}" = ${ie}`);break}if(ie===0){console.log(" Calculando DD mdio localmente...");let q=0,X=0;const I=[];$.sort((Q,re)=>new Date(Q.entry_date??Q.date??"1970-01-01").getTime()-new Date(re.entry_date??re.date??"1970-01-01").getTime()),$.forEach(Q=>{const re=Number(Q.pnl)||0;q+=re,q>X&&(X=q);const he=X-q;he>0&&I.push(he)}),I.length>0?(ie=I.reduce((Q,re)=>Q+re,0)/I.length,console.log(` DD Mdio calculado localmente: ${ie.toFixed(2)}`),console.log(` Total de perodos em drawdown: ${I.length}`),console.log(" Drawdowns encontrados:",I.slice(0,5))):console.log(" Nenhum perodo de drawdown encontrado")}}return console.log(` DD Mdio da API para ${C}:`,{drawdownMedio:ie,fromAPI:!!(A&&A["Performance Metrics"]),isZero:ie===0}),console.log(` Mtricas calculadas localmente para ${C}:`,{resultadoLiquido:B,maxDrawdown:W,drawdownMaximoPct:te,drawdownMedio:ie,fatorLucro:M,winRate:z,roi:F,totalTrades:$.length,winningTrades:L.length,losingTrades:H.length}),{resultado:B,maxDrawdown:W,maxDrawdownPercent:te,avgDrawdown:ie,fatorLucro:M,winRate:z,roi:F,totalTrades:$.length,winningTrades:L.length,losingTrades:H.length,pontosComDados:$.length}}else{console.log(` MODO INDIVIDUAL - Estratgia nica: ${C} - Sem trades disponveis`),console.log(" Dados da estratgia:",A);const O=A==null?void 0:A["Performance Metrics"];if(O){const L=Number(O["Net Profit"])||0,H=Math.abs(Number(O["Max Drawdown ($)"])||0),U=H/1e5*100,T=L/1e5*100;return{resultado:L,maxDrawdown:H,maxDrawdownPercent:U,avgDrawdown:Number(O["Average Drawdown ($)"])||0,fatorLucro:Number(O["Profit Factor"])||0,winRate:Number(O["Win Rate (%)"])||0,roi:T,totalTrades:Number(O["Total Trades"])||0,winningTrades:Number(O["Winning Trades"])||0,losingTrades:Number(O["Losing Trades"])||0,pontosComDados:Number(O["Total Trades"])||0}}return{resultado:0,maxDrawdown:0,maxDrawdownPercent:0,avgDrawdown:0,fatorLucro:0,winRate:0,roi:0,totalTrades:0,winningTrades:0,losingTrades:0}}}else{console.log(" MODO INDIVIDUAL - Mltiplas estratgias: Calculando mtricas localmente");try{const C=Bm(S);if(console.log(" Mtricas consolidadas calculadas:",C),C&&C.maxDrawdownAbsoluto>0){const O=C.maxDrawdownAbsoluto/1e5*100;console.log(" DD Mximo % calculado:",O.toFixed(2)+"%");const $=[];Object.values(S).forEach(D=>{D.trades&&Array.isArray(D.trades)&&$.push(...D.trades)});const L=$.filter(D=>(Number(D.pnl)||0)>0),H=$.filter(D=>(Number(D.pnl)||0)<0),U=L.reduce((D,R)=>D+(Number(R.pnl)||0),0),T=Math.abs(H.reduce((D,R)=>D+(Number(R.pnl)||0),0)),M=T>0?U/T:0,z=$.length>0?L.length/$.length*100:0,B=$.reduce((D,R)=>D+(Number(R.pnl)||0),0),F=B/1e5*100;let K=0,Y=0;const W=[];$.sort((D,R)=>new Date(D.entry_date??D.date??"1970-01-01").getTime()-new Date(R.entry_date??R.date??"1970-01-01").getTime()),$.forEach(D=>{const R=Number(D.pnl)||0;K+=R,K>Y&&(Y=K);const q=Math.abs(Math.min(0,K-Y));q>0&&W.push(q)});const te=W.length>0?W.reduce((D,R)=>D+R,0)/W.length:0;console.log(" Mtricas calculadas localmente:",{avgDrawdown:te,fatorLucro:M,winRate:z,roi:F,resultadoLiquidoConsolidado:B,winningTrades:L.length,losingTrades:H.length});const ie={resultado:B,maxDrawdown:C.maxDrawdownAbsoluto,maxDrawdownPercent:O,avgDrawdown:te,fatorLucro:M,winRate:z,roi:F,totalTrades:$.length,winningTrades:L.length,losingTrades:H.length,pontosComDados:$.length};return console.log(" Resultado para modo individual consolidado:",ie),ie}}catch(C){console.error(" Erro ao calcular drawdown consolidado para mltiplas estratgias:",C)}}if(o&&E&&Object.keys(S).length>1){console.log(" MODO CONSOLIDADO: Usando calculateDirectConsolidation (prioridade 1)");try{const C=Bm(S);if(console.log(" Drawdown consolidado calculado:",C),C&&C.maxDrawdownAbsoluto>0){const O=C.maxDrawdownAbsoluto/1e5*100;console.log(" DD Mximo % calculado:",O.toFixed(2)+"%"),console.log("   Frmula: (",C.maxDrawdownAbsoluto,"/",1e5,") * 100 =",O.toFixed(2)+"%");const $=[];Object.values(S).forEach(D=>{D.trades&&Array.isArray(D.trades)&&$.push(...D.trades)});const L=$.filter(D=>(Number(D.pnl)||0)>0),H=$.filter(D=>(Number(D.pnl)||0)<0),U=L.reduce((D,R)=>D+(Number(R.pnl)||0),0),T=Math.abs(H.reduce((D,R)=>D+(Number(R.pnl)||0),0)),M=T>0?U/T:0,z=$.length>0?L.length/$.length*100:0,B=$.reduce((D,R)=>D+(Number(R.pnl)||0),0),F=B/1e5*100;let K=0,Y=0;const W=[];$.sort((D,R)=>new Date(D.entry_date??D.date??"1970-01-01").getTime()-new Date(R.entry_date??R.date??"1970-01-01").getTime()),$.forEach(D=>{const R=Number(D.pnl)||0;K+=R,K>Y&&(Y=K);const q=Math.abs(Math.min(0,K-Y));q>0&&W.push(q)});const te=W.length>0?W.reduce((D,R)=>D+R,0)/W.length:0;console.log(" Mtricas calculadas localmente:",{avgDrawdown:te,fatorLucro:M,winRate:z,roi:F,resultadoLiquidoConsolidado:B,winningTrades:L.length,losingTrades:H.length});const ie={resultado:B,maxDrawdown:C.maxDrawdownAbsoluto,maxDrawdownPercent:O,avgDrawdown:te,fatorLucro:M,winRate:z,roi:F,totalTrades:$.length,winningTrades:L.length,losingTrades:H.length,pontosComDados:$.length};return console.log(" Resultado final para modo consolidado:",ie),console.log("   DD Mximo:",ie.maxDrawdown),console.log("   DD Mximo %:",ie.maxDrawdownPercent),console.log("   DD Mdio:",ie.avgDrawdown),console.log("   Fator de Lucro:",ie.fatorLucro),console.log("   Win Rate:",ie.winRate),console.log("   ROI:",ie.roi),ie}}catch(C){console.error(" Erro ao calcular drawdown consolidado:",C)}}if(o&&E&&Object.keys(S).length===1){console.log(" MODO CONSOLIDADO - CSV NICO: Usando dados do CSV nico"),console.log(" showConsolidated:",o),console.log(" hasValidFileResults:",E),console.log(" filteredFileResults length:",Object.keys(S).length);const C=Object.keys(S)[0],A=S[C];if(console.log(` MODO CONSOLIDADO - CSV NICO: ${C}`),console.log(" Dados da estratgia:",A),A&&A.trades&&Array.isArray(A.trades)){const $=A.trades,L=$.filter(R=>(Number(R.pnl)||0)>0),H=$.filter(R=>(Number(R.pnl)||0)<0),U=L.reduce((R,q)=>R+(Number(q.pnl)||0),0),T=Math.abs(H.reduce((R,q)=>R+(Number(q.pnl)||0),0)),M=T>0?U/T:0,z=$.length>0?L.length/$.length*100:0,B=$.reduce((R,q)=>R+(Number(q.pnl)||0),0),F=B/1e5*100;let K=0,Y=0,W=0;const te=[];$.sort((R,q)=>new Date(R.entry_date??R.date??"").getTime()-new Date(q.entry_date??q.date??"").getTime()),$.forEach(R=>{const q=Number(R.pnl)||0;K+=q,K>Y&&(Y=K);const X=Math.abs(Math.min(0,K-Y));X>W&&(W=X),X>0&&te.push(X)});const ie=W/1e5*100,D=te.length>0?te.reduce((R,q)=>R+q,0)/te.length:0;return console.log(` Mtricas calculadas localmente para ${C}:`,{resultadoLiquido:B,maxDrawdown:W,drawdownMaximoPct:ie,avgDrawdown:D,fatorLucro:M,winRate:z,roi:F,totalTrades:$.length,winningTrades:L.length,losingTrades:H.length}),{resultado:B,maxDrawdown:W,maxDrawdownPercent:ie,avgDrawdown:D,fatorLucro:M,winRate:z,roi:F,totalTrades:$.length,winningTrades:L.length,losingTrades:H.length}}else if(A&&A["Performance Metrics"]){const O=A["Performance Metrics"],$=1e5,L=Number(O["Net Profit"])||0,H=Math.abs(Number(O["Max Drawdown ($)"])||0),U=$>0?H/$*100:0,T=$>0?L/$*100:0;return{resultado:L,maxDrawdown:H,maxDrawdownPercent:U,avgDrawdown:Number(O["Average Drawdown ($)"])||0,fatorLucro:Number(O["Profit Factor"])||0,winRate:Number(O["Win Rate (%)"])||0,roi:T,totalTrades:Number(O["Total Trades"])||0,winningTrades:Number(O["Winning Trades"])||0,losingTrades:Number(O["Losing Trades"])||0}}}if(i&&i["Performance Metrics"]){console.log(" CSV NICO: Calculando mtricas localmente");const C=[];if(i.trades&&Array.isArray(i.trades)?C.push(...i.trades):a&&Object.values(a).forEach(A=>{A.trades&&Array.isArray(A.trades)&&C.push(...A.trades)}),console.log(` Trades obtidos para clculo local: ${C.length}`),C.length>0){const O=C.reduce((R,q)=>R+(Number(q.pnl)||0),0);let $=0,L=0,H=0;C.sort((R,q)=>new Date(R.entry_date??R.date??"1970-01-01").getTime()-new Date(q.entry_date??q.date??"1970-01-01").getTime()),C.forEach(R=>{const q=Number(R.pnl)||0;$+=q,$>L&&(L=$);const X=Math.abs(Math.min(0,$-L));X>H&&(H=X)});const U=H/1e5*100;let T=0,M=0;const z=[];C.forEach(R=>{const q=Number(R.pnl)||0;T+=q,T>M&&(M=T);const X=Math.abs(Math.min(0,T-M));X>0&&z.push(X)});const B=z.length>0?z.reduce((R,q)=>R+q,0)/z.length:0,F=C.filter(R=>(Number(R.pnl)||0)>0),K=C.filter(R=>(Number(R.pnl)||0)<0),Y=F.reduce((R,q)=>R+(Number(q.pnl)||0),0),W=Math.abs(K.reduce((R,q)=>R+(Number(q.pnl)||0),0)),te=W>0?Y/W:0,ie=C.length>0?F.length/C.length*100:0,D=O/1e5*100;return console.log(" Mtricas calculadas localmente:",{resultado:O,maxDrawdown:H,maxDrawdownPercent:U,avgDrawdown:B,fatorLucro:te,winRate:ie,roi:D}),{resultado:O,maxDrawdown:H,maxDrawdownPercent:U,avgDrawdown:B,fatorLucro:te,winRate:ie,roi:D,totalTrades:C.length,winningTrades:F.length,losingTrades:K.length,pontosComDados:C.length}}}console.log(" Sem paths anteriores: utilizando mtricas do CSV nico (se presente)");const P=i==null?void 0:i["Performance Metrics"];if(P){const A=Number(P["Net Profit"])||0,O=Math.abs(Number(P["Max Drawdown ($)"])||0),$=O/1e5*100,L=A/1e5*100;return{resultado:A,maxDrawdown:O,maxDrawdownPercent:$,avgDrawdown:Number(P["Average Drawdown ($)"])||0,fatorLucro:Number(P["Profit Factor"])||0,winRate:Number(P["Win Rate (%)"])||0,roi:L,totalTrades:Number(P["Total Trades"])||0,winningTrades:Number(P["Winning Trades"])||0,losingTrades:Number(P["Losing Trades"])||0,pontosComDados:Number(P["Total Trades"])||0}}return{resultado:0,maxDrawdown:0,maxDrawdownPercent:0,avgDrawdown:0,fatorLucro:0,winRate:0,roi:0,totalTrades:0,winningTrades:0,losingTrades:0}},[i,a,o,x,n,l,r]),_=({active:S,payload:E,label:P})=>{var C;if(S&&E&&E.length){const A=(C=E[0])==null?void 0:C.payload;return s.jsxs("div",{className:"bg-gray-800 border border-gray-600 rounded-lg p-3 shadow-lg",children:[s.jsx("p",{className:"text-gray-300 text-sm mb-2",children:`Data: ${(A==null?void 0:A.fullDate)||P}`}),E.map((O,$)=>{var L;return s.jsxs("p",{className:"text-sm",style:{color:O.color},children:[O.dataKey==="saldo"&&`Saldo: R$ ${O.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,O.dataKey==="valor"&&`Patrimnio: R$ ${O.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,O.dataKey==="resultado"&&`Resultado: R$ ${O.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,O.dataKey==="drawdown"&&`Drawdown: R$ ${O.value.toLocaleString("pt-BR",{minimumFractionDigits:2})} (${((L=A==null?void 0:A.drawdownPercent)==null?void 0:L.toFixed(2))||0}%)`,O.dataKey==="saldoMA"&&`MM ${f}: R$ ${O.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]},$)}),d==="drawdown"&&!A.isStart&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Detalhes do Drawdown Total:"}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Drawdown: R$ ",(A.drawdown||0).toLocaleString("pt-BR",{minimumFractionDigits:2})," (",(A.drawdownPercent||0).toFixed(2),"%)"]}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Pico Mximo: R$ ",(A.peak||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Saldo Atual: R$ ",(A.saldo||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Total de Trades: ",A.trades||0]}),h==="trade"&&A.trade_result&&s.jsxs("p",{className:"text-xs text-gray-400",children:["Resultado do trade: R$ ",A.trade_result.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),h!=="trade"&&A.resultado_periodo&&s.jsxs("p",{className:"text-xs text-gray-400",children:["Resultado do perodo: R$ ",A.resultado_periodo.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),E.map((O,$)=>{var L;return s.jsxs("p",{className:"text-sm",style:{color:O.color},children:[O.dataKey==="drawdown"&&`Drawdown: R$ ${O.value.toLocaleString("pt-BR",{minimumFractionDigits:2})} (${((L=A==null?void 0:A.drawdownPercent)==null?void 0:L.toFixed(2))||0}%)`,O.dataKey==="resultadoMA"&&`MM ${f}: R$ ${O.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]},$)}),A&&d==="resultado"&&!A.isStart&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Detalhes do perodo:"}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Trades: ",A.trades||0]}),h==="trade"&&A.trade_result&&s.jsxs("p",{className:"text-xs text-gray-400",children:["Resultado do trade: R$ ",A.trade_result.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),h!=="trade"&&A.resultado_periodo&&s.jsxs("p",{className:"text-xs text-gray-400",children:["Resultado do perodo: R$ ",A.resultado_periodo.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Saldo: R$ ",(A.saldo||A.resultado||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("p",{className:"text-xs text-gray-400",children:["DD: R$ ",(A.drawdown||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Pico: R$ ",(A.peak||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}return null},k=S=>{if(!S||S==="Invalid Date"||S==="undefined"||S==="null")return"Data Invlida";try{const E=new Date(S);return isNaN(E.getTime())?"Data Invlida":E.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"})}catch(E){return console.error(" Erro ao formatar data:",S,E),"Data Invlida"}};return s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx($i,{className:"w-5 h-5 text-blue-400 mr-2"}),s.jsx("h2",{className:"text-lg font-medium",children:"Grficos"})]}),s.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]}),e&&s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"mb-4 bg-gray-700 p-4 rounded-lg",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Kh,{className:"w-5 h-5 text-green-400 mr-2"}),s.jsx("h3",{className:"font-medium",children:"Patrimnio Total Investido"})]}),s.jsxs("div",{className:"flex items-center space-x-2 w-full md:w-auto",children:[s.jsxs("div",{className:"relative flex-1 md:w-48",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"R$"}),s.jsx("input",{type:"text",value:y.replace(/\B(?=(\d{3})+(?!\d))/g,"."),onChange:S=>{const E=S.target.value.replace(/\./g,"");/^\d*$/.test(E)&&v(E)},className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Valor investido"})]}),s.jsxs("div",{className:"bg-blue-900 bg-opacity-20 px-3 py-2 rounded-md flex items-center",children:[s.jsx(IS,{className:"w-4 h-4 text-blue-400 mr-2"}),s.jsxs("span",{className:"text-blue-300 font-medium",children:["ROI: ",(w.roi??0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),"%"]})]})]})]})}),s.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tipo de Grfico"}),s.jsxs("select",{value:d,onChange:S=>u(S.target.value),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"resultado",children:"Evoluo do Resultado"}),s.jsx("option",{value:"drawdown",children:"Drawdown"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Granularidade"}),s.jsxs("select",{value:h,onChange:S=>m(S.target.value),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"trade",children:"Trade por Trade"}),s.jsx("option",{value:"daily",children:"Dirio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Mdia Mvel"}),s.jsxs("select",{value:f,onChange:S=>p(S.target.value),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"nenhuma",children:"Nenhuma"}),s.jsx("option",{value:"9",children:"MM 9 perodos"}),s.jsx("option",{value:"20",children:"MM 20 perodos"}),s.jsx("option",{value:"50",children:"MM 50 perodos"}),s.jsx("option",{value:"200",children:"MM 200 perodos"}),s.jsx("option",{value:"2000",children:"MM 2000 perodos"})]})]})]})}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[i!=null&&i["Performance Metrics"]?s.jsxs("div",{className:"text-center text-gray-400 mb-4",children:[(r||n)&&s.jsx("div",{className:"mb-2 p-2 bg-blue-900 bg-opacity-20 border border-blue-800 rounded-lg",children:s.jsxs("span",{className:"text-blue-400 text-sm",children:[" Filtros ativos: ",r&&`Estratgia: ${r}`," ",r&&n&&" | "," ",n&&`Ativo: ${n}`]})}),d==="resultado"?`Evoluo do Resultado Total ${h==="trade"?"por Trade":"Diria"} (${w.pontosComDados??0} pontos) - Resultado: R$ ${(w.resultado??0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`:`Drawdown Total ${h==="trade"?"por Trade":"Dirio"} (${w.pontosComDados??0} pontos) - Mximo: R$ ${(w.maxDrawdown??0).toLocaleString("pt-BR",{minimumFractionDigits:2})} (${(w.maxDrawdownPercent??0).toFixed(2)}%)`]}):s.jsx("div",{className:"text-center text-gray-400 mb-4",children:"Nenhum dado de backtest disponvel"}),Array.isArray(j)&&j.length>0?s.jsx("div",{className:"h-64",children:s.jsx(nH,{width:"100%",height:"100%",children:d==="resultado"?s.jsxs(k_,{data:N,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"equityGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:.8}),s.jsx("stop",{offset:"50%",stopColor:"#3B82F6",stopOpacity:.6}),s.jsx("stop",{offset:"100%",stopColor:"#1E40AF",stopOpacity:.2})]})}),s.jsx(sy,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Im,{dataKey:"date",stroke:"#9CA3AF",fontSize:12,tickFormatter:k}),s.jsx(Lm,{stroke:"#9CA3AF",fontSize:12,tickFormatter:S=>S>=1e3?`R$ ${(S/1e3).toFixed(1)}k`:`R$ ${S.toFixed(0)}`}),s.jsx(H2,{content:s.jsx(_,{})}),s.jsx($m,{type:"monotone",dataKey:"saldo",stroke:"#10B981",strokeWidth:3,fill:"url(#equityGradient)",fillOpacity:.6,name:"Evoluo do Resultado Total"}),f!=="nenhuma"&&s.jsx(Nw,{type:"monotone",dataKey:"saldoMA",stroke:"#FBBF24",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:`Mdia Mvel ${f}`})]}):s.jsxs(k_,{data:N,children:[s.jsx(sy,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Im,{dataKey:"date",stroke:"#9CA3AF",fontSize:12,tickFormatter:k}),s.jsx(Lm,{stroke:"#9CA3AF",fontSize:12,tickFormatter:S=>S>=1e3?`R$ ${(S/1e3).toFixed(1)}k`:`R$ ${S.toFixed(0)}`,domain:[0,"dataMax"]}),s.jsx(H2,{content:s.jsx(_,{})}),s.jsx($m,{type:"monotone",dataKey:"drawdown",stroke:"#EF4444",strokeWidth:3,fill:"#EF4444",fillOpacity:.3,name:"Drawdown Total"})]})})}):s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-500",children:[d==="resultado"?s.jsx(R6,{className:"w-16 h-16 text-gray-600 mx-auto mb-2"}):s.jsx($i,{className:"w-16 h-16 text-gray-600 mx-auto mb-2"}),s.jsxs("p",{children:["Nenhum dado disponvel para ",h]})]})})]}),s.jsxs("div",{className:"mt-4 p-3 bg-gray-700 rounded-lg",children:[s.jsxs("div",{className:"mb-2 text-xs text-gray-400 flex items-center",children:[s.jsx("span",{className:"text-green-400 mr-1",children:""}),"Visualizao simplificada - 1 linha por categoria"]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[s.jsxs("div",{className:"mb-4 md:mb-0",children:[s.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-300",children:"Legenda"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${d==="resultado"?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-sm text-gray-400",children:d==="resultado"?"Evoluo do Resultado Total":"Drawdown Total (Clculo Especfico)"})]}),f!=="nenhuma"&&d==="resultado"&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full mr-2"}),s.jsxs("span",{className:"text-sm text-gray-400",children:["Mdia Mvel ",f]})]})]}),o&&a&&Object.keys(a).length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Estratgias consolidadas (",Object.keys(a).length,"):"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(a).map((S,E)=>s.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded",style:{backgroundColor:`${b(S,E)}20`,color:b(S,E),border:`1px solid ${b(S,E)}40`},children:S.replace(".csv","")},E))})]}),!o&&l.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Estratgias selecionadas (",l.length,"):"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:l.map((S,E)=>s.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded",style:{backgroundColor:`${b(S,E)}20`,color:b(S,E),border:`1px solid ${b(S,E)}40`},children:S.replace(".csv","")},E))})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-gray-400 flex items-center",children:["Resultado Total",s.jsx("span",{className:"ml-1 text-green-400 text-xs",children:""})]}),s.jsxs("p",{className:`text-lg font-medium ${(w.resultado??0)>=0?"text-green-400":"text-red-400"}`,children:["R$ ",(w.resultado??0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-gray-400 flex items-center",children:["DD Mximo",s.jsx("span",{className:"ml-1 text-green-400 text-xs",children:""})]}),s.jsxs("p",{className:"text-lg font-medium text-red-400",children:["R$ ",(w.maxDrawdown??0).toLocaleString("pt-BR",{minimumFractionDigits:2}),s.jsxs("span",{className:"text-sm text-gray-400 ml-1",children:["(",(w.maxDrawdownPercent??0).toFixed(2),"%)"]})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-gray-400 flex items-center",children:["DD Mdio",s.jsx("span",{className:"ml-1 text-green-400 text-xs",children:""})]}),s.jsxs("p",{className:"text-lg font-medium text-orange-400",children:["R$ ",(w.avgDrawdown??0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Fator de Lucro"}),s.jsx("p",{className:`text-lg font-medium ${(w.fatorLucro??0)>=1?"text-green-400":"text-red-400"}`,children:(w.fatorLucro??0).toFixed(3)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Win Rate"}),s.jsxs("p",{className:"text-lg font-medium text-blue-400",children:[(w.winRate??0).toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"ROI"}),s.jsxs("p",{className:`text-lg font-medium ${(w.roi??0)>=0?"text-green-400":"text-red-400"}`,children:[(w.roi??0).toFixed(2),"%"]})]})]})]})]})]})]})}const S_={"PIB EUA":["2022-04-28","2022-07-28","2022-10-27","2023-01-26","2023-04-27","2023-07-27","2023-10-26","2025-06-17","2024-01-25","2024-04-25","2024-07-25","2024-10-30","2025-01-30","2025-04-30","2025-07-30","2025-10-30","2026-01-29","2026-04-29","2026-07-29","2026-10-28","2027-01-28","2027-04-28","2027-07-28","2027-10-27","2028-01-27"],"PIB Brasil":["2022-06-02","2022-09-01","2022-12-01","2023-03-02","2023-06-01","2023-09-01","2023-12-05","2024-03-01","2024-06-04","2024-09-02","2024-12-02","2025-03-07","2025-06-02","2025-09-01","2025-12-01","2026-03-02","2026-06-01","2026-09-01","2026-12-01","2027-03-02","2027-06-01","2027-09-01","2027-12-01"],"Vespera de Feriados":["2022-03-28","2022-04-14","2022-06-15","2023-04-06","2023-06-07","2024-03-28","2024-05-29","2025-04-17","2025-06-18","2026-04-02","2026-06-03","2027-03-25","2027-06-23","2022-04-20","2022-04-30","2022-09-06","2022-10-11","2022-11-01","2022-11-14","2022-12-24","2023-04-20","2023-04-30","2023-09-06","2023-10-11","2023-11-01","2023-11-14","2023-12-24","2024-04-20","2024-04-30","2024-09-06","2024-10-11","2024-11-01","2024-11-14","2024-12-24","2025-04-20","2025-04-30","2025-09-06","2025-10-11","2025-11-01","2025-11-14","2025-12-24","2026-04-20","2026-04-30","2026-09-06","2026-10-11","2026-11-01","2026-11-14","2026-12-24","2027-04-20","2027-04-30","2027-09-06","2027-10-11","2027-11-01","2027-11-14","2027-12-24"],"Vencimento Dlar Futuro":["2022-01-03","2022-02-01","2022-03-01","2022-04-01","2022-05-02","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-03","2022-11-01","2022-12-01","2023-01-02","2023-02-01","2023-03-01","2023-04-03","2023-05-01","2023-06-01","2023-07-03","2023-08-01","2023-09-01","2023-10-02","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-03","2024-07-01","2024-08-01","2024-09-02","2024-10-01","2024-11-01","2024-12-02","2025-01-01","2025-02-03","2025-03-03","2025-04-01","2025-05-01","2025-06-02","2025-07-01","2025-08-01","2025-09-01","2025-10-01","2025-11-03","2025-12-01"],"Vencimento WIN Futuro":["2022-02-16","2022-04-13","2022-06-15","2022-08-17","2022-10-12","2022-12-14","2023-02-15","2023-04-12","2023-06-14","2023-08-16","2023-10-18","2023-12-13","2024-02-14","2024-04-17","2024-06-12","2024-08-14","2024-10-16","2024-12-18","2025-02-12","2025-04-16","2025-06-18","2025-08-13","2025-10-15","2025-12-17","2026-02-18","2026-04-15","2026-06-17","2026-08-12","2026-10-14","2026-12-16"],"Vencimento Opes Bovespa":["2022-01-21","2022-02-18","2022-03-18","2022-04-15","2022-05-20","2022-06-17","2022-07-15","2022-08-19","2022-09-16","2022-10-21","2022-11-18","2022-12-16","2023-01-20","2023-02-17","2023-03-17","2023-04-21","2023-05-19","2023-06-16","2023-07-21","2023-08-18","2023-09-15","2023-10-20","2023-11-17","2023-12-15","2024-01-19","2024-02-16","2024-03-15","2024-04-19","2024-05-17","2024-06-21","2024-07-19","2024-08-16","2024-09-20","2024-10-18","2024-11-15","2024-12-20","2025-01-17","2025-02-21","2025-03-21","2025-04-18","2025-05-16","2025-06-20","2025-07-18","2025-08-15","2025-09-19","2025-10-17","2025-11-21","2025-12-19"],"Super Quartas (Fed + Copom)":["2022-03-16","2022-05-04","2022-09-21","2023-02-01","2023-03-22","2023-05-03","2023-09-20","2023-11-01","2023-12-13","2024-01-31","2024-03-20","2024-07-31","2024-09-18","2025-01-29","2025-03-19","2025-05-07","2025-06-18","2025-07-30","2025-09-17","2025-12-10","2026-01-28","2026-03-18","2026-04-29","2026-06-17","2026-09-16","2026-12-09","2027-01-27"],"Payroll EUA":["2022-01-07","2022-02-04","2022-03-04","2022-04-01","2022-05-06","2022-06-03","2022-07-08","2022-08-05","2022-09-02","2022-10-07","2022-11-04","2022-12-02","2023-01-06","2023-02-03","2023-03-03","2023-04-07","2023-05-05","2023-06-02","2023-07-07","2023-08-04","2023-09-01","2023-10-06","2023-11-03","2023-12-01","2024-01-05","2024-02-02","2024-03-01","2024-04-05","2024-05-03","2024-06-07","2024-07-05","2024-08-02","2024-09-06","2024-10-04","2024-11-01","2024-12-06","2025-01-03","2025-02-07","2025-03-07","2025-04-04","2025-05-02","2025-06-06","2025-07-04","2025-08-01","2025-09-05","2025-10-03","2025-11-07","2025-12-05"],"FOMC (Fed)":["2022-01-25","2022-01-26","2022-03-15","2022-03-16","2022-05-03","2022-05-04","2022-06-14","2022-06-15","2022-07-26","2022-07-27","2022-09-20","2022-09-21","2022-11-01","2022-11-02","2022-12-13","2022-12-14","2023-01-31","2023-02-01","2023-03-21","2023-03-22","2023-05-02","2023-05-03","2023-06-13","2023-06-14","2023-07-25","2023-07-26","2023-09-19","2023-09-20","2023-10-31","2023-11-01","2023-12-12","2023-12-13","2024-01-30","2024-01-31","2024-03-19","2024-03-20","2024-04-30","2024-05-01","2024-06-11","2024-06-12","2024-07-30","2024-07-31","2024-09-17","2024-09-18","2024-11-06","2024-11-07","2024-12-17","2024-12-18","2025-01-28","2025-01-29","2025-03-18","2025-03-19","2025-05-06","2025-05-07","2025-06-17","2025-06-18","2025-07-29","2025-07-30","2025-09-16","2025-09-17","2025-10-28","2025-10-29","2025-12-09","2025-12-10"]},To=e=>{if(!e)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(typeof e=="string"&&e.includes("T"))return e.split("T")[0];if(typeof e=="string"&&e.includes(" ")){const t=e.split(" ")[0];if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t}if(e instanceof Date)return e.toISOString().split("T")[0];if(/^\d{2}\/\d{2}\/\d{4}$/.test(e)){const[t,r,n]=e.split("/");return`${n}-${r.padStart(2,"0")}-${t.padStart(2,"0")}`}if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)){const[t,r,n]=e.split("/");return`${n}-${t.padStart(2,"0")}-${r.padStart(2,"0")}`}try{const t=new Date(e);if(!isNaN(t.getTime()))return t.toISOString().split("T")[0]}catch{console.warn("Data invlida:",e)}return null},zJ=e=>{if(!e||!Array.isArray(e))return[];const t=new Map;Object.entries(S_).forEach(([i,o])=>{o.forEach(l=>{const c=To(l);c&&(t.has(c)||t.set(c,[]),t.get(c).push(i))})});const r={};Object.keys(S_).forEach(i=>{r[i]={name:i,trades:[],totalTrades:0,winningTrades:0,losingTrades:0,totalProfit:0,totalLoss:0,result:0}});let n=0,a=0;return e.forEach((i,o)=>{const l=[i.date,i.Date,i.data,i.Abertura,i.Data,i.timestamp,i.entry_date,i.entry_time,i.open_time,i.datetime];let c=null;for(const d of l)if(d&&(c=To(d),c))break;if(n++,c&&t.has(c)){const d=t.get(c);a++,console.log(` Trade em evento especial - Data: ${c}, Eventos: ${d.join(", ")}`);const u=[i.pnl,i.PnL,i.resultado,i["Res. Operao"],i.profit,i.dailyPnL,i.return,i.net_pnl,i.realized_pnl,i.total_pnl];let h=0;for(const m of u)if(m!=null){const f=parseFloat(m);if(!isNaN(f)){h=f;break}}isNaN(h)||d.forEach(m=>{const f=r[m];f.trades.push({date:c,result:h,...i}),f.totalTrades++,f.result+=h,h>0?(f.winningTrades++,f.totalProfit+=h):h<0&&(f.losingTrades++,f.totalLoss+=Math.abs(h))})}}),console.log(`Trades processados: ${n}`),console.log(`Trades com eventos especiais: ${a}`),Object.values(r).filter(i=>i.totalTrades>0).map(i=>{const o=i.totalTrades>0?i.winningTrades/i.totalTrades*100:0;let l=0;return i.totalLoss>0&&i.totalProfit>0?l=i.totalProfit/i.totalLoss:i.totalProfit>0&&i.totalLoss===0?l=99.99:i.totalProfit===0&&i.totalLoss>0&&(l=0),{name:i.name,date:`${i.totalTrades} trades`,impact:i.result>0?"Positivo":"Negativo",profitFactor:Number(l.toFixed(2)),winRate:Number(o.toFixed(1)),trades:i.totalTrades,result:Number(i.result.toFixed(2))}}).sort((i,o)=>Math.abs(o.result)-Math.abs(i.result))};function UJ({showSpecialEvents:e,setShowSpecialEvents:t,tadesData:r}){var c,d,u,h,m,f,p,y,v,x,b,j,N,w,_,k,S,E;let n;if(r&&typeof r=="object"&&!r.trades){console.log(" MLTIPLOS CSVs: Consolidando trades para Eventos Especiais");const P=[];Object.keys(r).forEach(C=>{const A=r[C];A&&A.trades&&Array.isArray(A.trades)&&P.push(...A.trades)}),n=P,console.log(` Consolidados ${P.length} trades de ${Object.keys(r).length} CSVs`)}else n=(r==null?void 0:r.trades)||[];console.log("Dados recebidos para eventos especiais:",r);const a=zJ(n),i=a.reduce((P,C)=>P+C.trades,0),o=a.reduce((P,C)=>P+C.result,0),l=a.length>0?a.reduce((P,C)=>P+C.winRate,0)/a.length:0;return s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(We,{className:"w-5 h-5 text-yellow-400 mr-2"}),s.jsx("h2",{className:"text-lg font-medium",children:"Eventos Especiais"}),i>0&&s.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-600 text-blue-100 text-xs rounded",children:[i," trades"]})]}),s.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]}),e&&s.jsx("div",{className:"p-4",children:a.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Mn,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-400",children:"Nenhum trade encontrado em dias de eventos especiais"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total de trades analisados: ",(n==null?void 0:n.length)||0]}),(n==null?void 0:n.length)>0&&s.jsxs("div",{className:"text-xs text-gray-600 mt-2 p-3 bg-gray-700 rounded",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-left",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Primeiro trade:"}),s.jsx("br",{}),"Data: ",To(((c=n[0])==null?void 0:c.entry_date)||((d=n[0])==null?void 0:d.date)||((u=n[0])==null?void 0:u.Date))||"N/A",s.jsx("br",{}),"PnL: R$ ",((h=n[0])==null?void 0:h.pnl)||((m=n[0])==null?void 0:m.PnL)||"N/A",s.jsx("br",{}),"Smbolo: ",((f=n[0])==null?void 0:f.symbol)||((p=n[0])==null?void 0:p.Symbol)||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"ltimo trade:"}),s.jsx("br",{}),"Data: ",To(((y=n[n.length-1])==null?void 0:y.entry_date)||((v=n[n.length-1])==null?void 0:v.date)||((x=n[n.length-1])==null?void 0:x.Date))||"N/A",s.jsx("br",{}),"PnL: R$ ",((b=n[n.length-1])==null?void 0:b.pnl)||((j=n[n.length-1])==null?void 0:j.PnL)||"N/A",s.jsx("br",{}),"Direo: ",((N=n[n.length-1])==null?void 0:N.direction)||((w=n[n.length-1])==null?void 0:w.Direction)||"N/A"]})]}),s.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-600",children:[s.jsx("strong",{children:"Perodo analisado:"})," ",To(((_=n[0])==null?void 0:_.entry_date)||((k=n[0])==null?void 0:k.date))," a ",To(((S=n[n.length-1])==null?void 0:S.entry_date)||((E=n[n.length-1])==null?void 0:E.date)),s.jsx("br",{}),s.jsx("strong",{children:"Eventos prximos a 2024-09-12:"})," Payroll EUA (2024-09-06), FOMC (2024-09-17, 2024-09-18), Super Quarta (2024-09-18), Vencimento Opes (2024-09-20)",s.jsx("br",{}),s.jsx("strong",{children:"Eventos prximos a 2025-06-17:"})," Vencimento WIN (2025-06-18), FOMC (2025-06-17, 2025-06-18), Super Quarta (2025-06-18), Vencimento Opes (2025-06-20)"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:i}),s.jsx("div",{className:"text-xs text-gray-400",children:"Total Trades"})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg text-center",children:[s.jsxs("div",{className:`text-2xl font-bold ${o>=0?"text-green-400":"text-red-400"}`,children:[o>=0?"+":"",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o)]}),s.jsx("div",{className:"text-xs text-gray-400",children:"Resultado Total"})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[l.toFixed(1),"%"]}),s.jsx("div",{className:"text-xs text-gray-400",children:"Taxa Mdia"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-700",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Evento"}),s.jsx("th",{className:"px-4 py-2 text-center",children:"Fator de Lucro"}),s.jsx("th",{className:"px-4 py-2 text-center",children:"Taxa de Acerto"}),s.jsx("th",{className:"px-4 py-2 text-right",children:"Resultado"}),s.jsx("th",{className:"px-4 py-2 text-center",children:"Trades"})]})}),s.jsx("tbody",{children:a.map((P,C)=>s.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center",children:[P.result>0?s.jsx(Pt,{className:"w-4 h-4 text-green-400 mr-2"}):s.jsx(nl,{className:"w-4 h-4 text-red-400 mr-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:P.name}),s.jsx("div",{className:"text-xs text-gray-400",children:P.date})]})]})}),s.jsx("td",{className:"px-4 py-2 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${P.profitFactor>=1.5?"bg-green-900 text-green-300":P.profitFactor>=1?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:P.profitFactor===99.99?"99.99+":P.profitFactor.toFixed(2)})}),s.jsx("td",{className:"px-4 py-2 text-center",children:s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${P.winRate>=60?"bg-green-900 text-green-300":P.winRate>=45?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:[P.winRate.toFixed(1),"%"]})}),s.jsx("td",{className:"px-4 py-2 text-right",children:s.jsxs("div",{className:`font-medium ${P.result>0?"text-green-400":"text-red-400"}`,children:[P.result>0?"+":"",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P.result)]})}),s.jsx("td",{className:"px-4 py-2 text-center",children:s.jsx("span",{className:"px-2 py-1 bg-gray-600 text-gray-300 rounded text-xs",children:P.trades})})]},C))})]})}),s.jsxs("div",{className:"mt-6 p-4 bg-gray-700 rounded-lg",children:[s.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[s.jsx(We,{className:"w-4 h-4 text-yellow-400 mr-2"}),"Insights dos Eventos Especiais"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-300 mb-1",children:"Melhor Evento:"}),s.jsx("div",{className:"text-green-400 font-medium",children:a.length>0?a[0].name:"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-300 mb-1",children:"Eventos com Resultado Positivo:"}),s.jsxs("div",{className:"text-blue-400 font-medium",children:[a.filter(P=>P.result>0).length," de ",a.length]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-300 mb-1",children:"Maior Impacto:"}),s.jsx("div",{className:`font-medium ${a.length>0&&a[0].result>0?"text-green-400":"text-red-400"}`,children:a.length>0?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Math.abs(a[0].result)):"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-300 mb-1",children:"Volatilidade:"}),s.jsx("div",{className:"text-yellow-400 font-medium",children:i>0?"Alta":"N/A"})]})]})]})]})})]})}function qJ({showCorrelation:e,setShowCorrelation:t,backtestResult:r,fileResults:n,onResetCorrelation:a,isUsingOriginalData:i=!1}){var x,b,j;const[o,l]=g.useState("resultado"),c=r==null?void 0:r.dateDirectionCorrelation,d=r==null?void 0:r.correlationMatricial,u=((x=d==null?void 0:d.info_arquivos)==null?void 0:x.tipo_analise)==="matricial",h=N=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(N||0),m=N=>{try{return new Date(N).toLocaleDateString("pt-BR")}catch{return N}},f=()=>{var L,H;if(!(c!=null&&c.correlacao_data_resultado))return null;const{resumo:N,detalhes:w}=c.correlacao_data_resultado;let _=0,k=0,S=0;if(N!=null&&N.resposta_pergunta)_=N.resposta_pergunta.quando_uma_perde_outra_tambem_perde_pct||0,k=N.resposta_pergunta.quando_uma_ganha_outra_tambem_ganha_pct||0,S=N.resposta_pergunta.dias_com_diversificacao_pct||0;else if(N!=null&&N.dias_todas_perderam&&(N!=null&&N.dias_todas_ganharam)&&(N!=null&&N.dias_resultados_mistos)){const U=N.total_dias_analisados||1;_=N.dias_todas_perderam/U*100,k=N.dias_todas_ganharam/U*100,S=N.dias_resultados_mistos/U*100}else(N==null?void 0:N.pct_correlacao_negativa)!==void 0&&(_=N.pct_correlacao_negativa||0,k=N.pct_correlacao_positiva||0,S=N.pct_diversificacao||0);const E=(L=c==null?void 0:c.correlacao_data_direcao)==null?void 0:L.resumo;E&&_===0&&k===0&&S===100&&(_=E.pct_correlacao_negativa||0,k=E.pct_correlacao_positiva||0,S=E.pct_diversificacao||0);const P=Math.max(0,100-_-k-S),C=_+k+S+P,A=Math.abs(C-100)<.01,O=A?100:C,$=A?100:Math.min(100,C);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-red-500 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-chart-line fa-rotate-180"})}),s.jsxs("p",{className:"text-red-400 text-2xl font-bold",children:[_.toFixed(1),"%"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Quando uma perde, a outra tambm perde"})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-green-500 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-chart-line"})}),s.jsxs("p",{className:"text-green-400 text-2xl font-bold",children:[k.toFixed(1),"%"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Quando uma ganha, a outra tambm ganha"})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-blue-500 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-arrow-up"})}),s.jsxs("p",{className:"text-blue-400 text-2xl font-bold",children:[S.toFixed(1),"%"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Dias com diversificao (resultados opostos)"})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-gray-400 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-info-circle"})}),s.jsxs("p",{className:"text-gray-300 text-2xl font-bold",children:[P.toFixed(1),"%"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Dias sem operaes simultneas"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("p",{className:"text-gray-300 text-sm mb-2 flex justify-between items-center",children:[s.jsxs("span",{children:["Distribuio Total: ",O.toFixed(A?0:1),"%"]}),A&&s.jsxs("span",{className:"text-green-500 flex items-center",children:[s.jsx("i",{className:"fas fa-check-circle mr-1"})," 100%"]})]}),s.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2.5",children:s.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${$}%`,background:"linear-gradient(to right, #ef4444, #f97316, #eab308, #22c55e)"}})})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-lg font-medium mb-2",children:"Interpretao"}),s.jsx("div",{className:"text-lg font-medium text-yellow-400 mb-2",children:N.interpretacao||"Anlise em andamento..."}),s.jsxs("div",{className:"text-sm text-gray-300",children:[N.interpretacao==="Boa diversificao"&&" As estratgias se complementam bem. Usar ambas reduz o risco.",N.interpretacao==="Alta correlao"&&" As estratgias so muito similares. Pouco benefcio em diversificao.",N.interpretacao==="Correlao moderada"&&" H algum benefcio de diversificao, mas no  muito alto.",!N.interpretacao&&" Analisando correlao entre as estratgias..."]}),s.jsxs("div",{className:"text-sm text-gray-400 mt-2",children:["Analisados ",N.total_dias_analisados||0," dias com operaes simultneas."]})]}),w&&w.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium mb-4",children:"ltimos Dias Analisados"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-700",children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Data"}),Object.keys(((H=w[0])==null?void 0:H.estrategias)||{}).map(U=>s.jsx("th",{className:"px-3 py-2 text-center",children:U},U)),s.jsx("th",{className:"px-3 py-2 text-center",children:"Correlao"})]})}),s.jsx("tbody",{children:w.slice(0,10).map((U,T)=>s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"px-3 py-2",children:m(U.data)}),Object.entries(U.estrategias).map(([M,z])=>s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:`text-xs font-medium ${z.status==="ganhou"?"text-green-400":z.status==="perdeu"?"text-red-400":"text-gray-400"}`,children:h(z.resultado_dia)}),s.jsxs("div",{className:"text-xs text-gray-500",children:[z.num_operacoes," ops"]})]})},M)),s.jsxs("td",{className:"px-3 py-2 text-center",children:[U.analise.todas_ganharam&&s.jsx("span",{className:"text-green-400 text-xs font-medium",children:"Todas +"}),U.analise.todas_perderam&&s.jsx("span",{className:"text-red-400 text-xs font-medium",children:"Todas -"}),U.analise.resultados_mistos&&s.jsx("span",{className:"text-blue-400 text-xs font-medium",children:"Diversif."})]})]},T))})]})})]})]})},p=()=>{var O;let N=null;if(n&&Object.keys(n).length>1){const $=[];Object.entries(n).forEach(([H,U])=>{const T=Array.isArray(U==null?void 0:U.trades)?U.trades:[],M=new Map;T.forEach(z=>{const B=new Date(z.entry_date||z.date||z.exit_date).toISOString().slice(0,10),F=String(z.direction||z.direcao||z.side||"").toUpperCase().replace("LONG","COMPRA").replace("SHORT","VENDA");if(!F)return;const K=`${B}__${F}`,Y=M.get(K)||{operou:!1,num_operacoes:0};M.set(K,{operou:!0,num_operacoes:Y.num_operacoes+1})}),M.forEach((z,B)=>{const[F,K]=B.split("__");$.push({data:F,direcao:K,estrategias:{[H]:{operou:z.operou,num_operacoes:z.num_operacoes}}})})});const L=new Map;$.forEach(H=>{const U=`${H.data}__${H.direcao}`,T=L.get(U)||{data:H.data,direcao:H.direcao,estrategias:{}};L.set(U,{data:H.data,direcao:H.direcao,estrategias:{...T.estrategias,...H.estrategias}})}),N=Array.from(L.values())}if(!N){if(!((O=c==null?void 0:c.correlacao_data_direcao)!=null&&O.detalhes))return null;N=c.correlacao_data_direcao.detalhes}const w=new Set;N.forEach($=>{$!=null&&$.estrategias&&Object.keys($.estrategias).forEach(L=>w.add(L))});const _=Array.from(w).sort(),k={};N.forEach($=>{const L=$==null?void 0:$.data,H=String(($==null?void 0:$.direcao)||"").toUpperCase();!L||!($!=null&&$.estrategias)||(k[L]||(k[L]={}),Object.entries($.estrategias).forEach(([U,T])=>{T!=null&&T.operou&&(k[L][U]||(k[L][U]={buy:!1,sell:!1}),H==="COMPRA"&&(k[L][U].buy=!0),H==="VENDA"&&(k[L][U].sell=!0))}))});const S={};Object.entries(k).forEach(([$,L])=>{S[$]={},_.forEach(H=>{const U=L[H];if(!U){S[$][H]=0;return}S[$][H]=U.buy&&!U.sell?1:!U.buy&&U.sell?-1:0})});const E=Array.from({length:_.length},()=>Array(_.length).fill(0)),P=Object.values(S);for(let $=0;$<_.length;$++)for(let L=0;L<_.length;L++){if($===L){E[$][L]=1;continue}const H=_[$],U=_[L];let T=0,M=0;P.forEach(z=>{const B=Number(z[H]||0),F=Number(z[U]||0);(B!==0||F!==0)&&(T+=B*F,M+=1)}),E[$][L]=M>0?T/M:0}const C=$=>{const L=Math.max(-1,Math.min(1,$)),H=(L+1)*60,U=70+Math.round(Math.abs(L)*25),T=55-Math.round(Math.abs(L)*20);return`hsl(${H}deg ${U}% ${T}%)`},A=$=>Math.abs($)>.45?"text-white":"text-gray-900";return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm text-gray-300",children:"Matriz (Data + Direo): 1 = totalmente correlacionado; 0 = pouca correlao; -1 = correlao oposta."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"text-xs min-w-max",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 bg-gray-800 px-2 py-2 text-left z-10",children:"Estratgias"}),_.map($=>s.jsx("th",{className:"px-2 py-2 bg-gray-700 text-center whitespace-nowrap",children:$},$))]})}),s.jsx("tbody",{children:_.map(($,L)=>s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 bg-gray-700 px-2 py-1 text-left z-10 whitespace-nowrap",children:$}),_.map((H,U)=>s.jsx("td",{className:"px-1 py-1 text-center",children:s.jsx("div",{className:`rounded ${A(E[L][U])} font-semibold`,style:{backgroundColor:C(E[L][U])},title:`Correlao: ${Math.max(-1,Math.min(1,E[L][U])).toFixed(6)}`,children:Math.max(-1,Math.min(1,E[L][U])).toFixed(6)})},`${L}-${U}`))]},$))})]})})]})},y=()=>{var $;if(!(c!=null&&c.correlacao_data_direcao))return null;const{resumo:N,detalhes:w}=c.correlacao_data_direcao,_=N.pct_correlacao_positiva||0,k=N.pct_correlacao_negativa||0,S=N.pct_diversificacao||0,E=Math.max(0,100-_-k-S),P=_+k+S+E,C=Math.abs(P-100)<.01,A=C?100:P,O=C?100:Math.min(100,P);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-green-500 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-arrow-up"})}),s.jsxs("p",{className:"text-green-400 text-2xl font-bold",children:[_.toFixed(1),"%"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Correlao Positiva"})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-red-500 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-arrow-down"})}),s.jsxs("p",{className:"text-red-400 text-2xl font-bold",children:[k.toFixed(1),"%"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Correlao Negativa"})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-blue-500 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-random"})}),s.jsxs("p",{className:"text-blue-400 text-2xl font-bold",children:[S.toFixed(1),"%"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Diversificao"})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-gray-400 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-minus-circle"})}),s.jsxs("p",{className:"text-gray-300 text-2xl font-bold",children:[E.toFixed(1),"%"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Sem Correlao"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("p",{className:"text-gray-300 text-sm mb-2 flex justify-between items-center",children:[s.jsxs("span",{children:["Distribuio Total: ",A.toFixed(C?0:1),"%"]}),C&&s.jsxs("span",{className:"text-green-500 flex items-center",children:[s.jsx("i",{className:"fas fa-check-circle mr-1"})," 100%"]})]}),s.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2.5",children:s.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${O}%`,background:"linear-gradient(to right, #ef4444, #f97316, #eab308, #22c55e)"}})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium mb-4",children:"Operaes por Data e Direo"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-700",children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Data"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Direo"}),Object.keys((($=w[0])==null?void 0:$.estrategias)||{}).map(L=>s.jsx("th",{className:"px-3 py-2 text-center",children:L},L)),s.jsx("th",{className:"px-3 py-2 text-center",children:"Resultado"})]})}),s.jsx("tbody",{children:w.slice(0,15).map((L,H)=>s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"px-3 py-2",children:m(L.data)}),s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[L.direcao==="COMPRA"?s.jsx(ex,{className:"w-4 h-4 text-green-400"}):s.jsx(TS,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:"ml-1 text-xs",children:L.direcao})]})}),Object.entries(L.estrategias).map(([U,T])=>s.jsx("td",{className:"px-3 py-2 text-center",children:T.operou?s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:`text-xs font-medium ${T.status==="ganhou"?"text-green-400":T.status==="perdeu"?"text-red-400":"text-gray-400"}`,children:h(T.resultado)}),s.jsxs("div",{className:"text-xs text-gray-500",children:[T.num_operacoes," ops"]})]}):s.jsx("span",{className:"text-gray-500 text-xs",children:"No operou"})},U)),s.jsx("td",{className:"px-3 py-2 text-center",children:L.analise.multiplas_estrategias?s.jsxs(s.Fragment,{children:[L.analise.todas_ganharam&&s.jsx("span",{className:"text-green-400 text-xs font-medium",children:"Todas +"}),L.analise.todas_perderam&&s.jsx("span",{className:"text-red-400 text-xs font-medium",children:"Todas -"}),L.analise.resultados_mistos&&s.jsx("span",{className:"text-yellow-400 text-xs font-medium",children:"Mistos"})]}):s.jsx("span",{className:"text-gray-500 text-xs",children:"1 estratgia"})})]},H))})]})})]})]})},v=()=>{var $,L;if(!(($=d==null?void 0:d.correlacao_matricial)!=null&&$.resumo))return null;const{resumo:N,detalhes:w}=d.correlacao_matricial,_=N.pct_alta_correlacao||0,k=N.pct_boa_diversificacao||0,S=N.pct_correlacao_moderada||0,E=Math.max(0,100-_-k-S),P=_+k+S+E,C=Math.abs(P-100)<.01,A=C?100:P,O=C?100:Math.min(100,P);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-red-500 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-exclamation-triangle"})}),s.jsxs("p",{className:"text-red-400 text-2xl font-bold",children:[_.toFixed(1),"%"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Alta Correlao"})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-green-500 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-check-circle"})}),s.jsxs("p",{className:"text-green-400 text-2xl font-bold",children:[k.toFixed(1),"%"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Boa Diversificao"})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-yellow-500 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-arrows-alt-h"})}),s.jsxs("p",{className:"text-yellow-400 text-2xl font-bold",children:[S.toFixed(1),"%"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Correlao Moderada"})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-gray-400 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-question-circle"})}),s.jsxs("p",{className:"text-gray-300 text-2xl font-bold",children:[E.toFixed(1),"%"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Sem Anlise"})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-blue-500 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-file-alt"})}),s.jsx("p",{className:"text-blue-400 text-2xl font-bold",children:((L=d.info_arquivos)==null?void 0:L.total_arquivos)||0}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Total de Arquivos"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("p",{className:"text-gray-300 text-sm mb-2 flex justify-between items-center",children:[s.jsxs("span",{children:["Distribuio Total: ",A.toFixed(C?0:1),"%"]}),C&&s.jsxs("span",{className:"text-green-500 flex items-center",children:[s.jsx("i",{className:"fas fa-check-circle mr-1"})," 100%"]})]}),s.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2.5",children:s.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${O}%`,background:"linear-gradient(to right, #ef4444, #f97316, #eab308, #22c55e)"}})})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-lg font-medium mb-2",children:"Recomendao do Portflio"}),s.jsx("div",{className:"text-lg font-medium text-yellow-400 mb-2",children:N.recomendacao}),s.jsxs("div",{className:"text-sm text-gray-300",children:[N.recomendacao==="Portflio bem diversificado"&&" As estratgias se complementam bem. Usar todas reduz o risco significativamente.",N.recomendacao==="Portflio com alta correlao"&&" As estratgias se movem juntas. Considere reduzir o nmero de estratgias.",N.recomendacao==="Portflio com correlao moderada"&&" Correlao equilibrada. Monitore o desempenho regularmente."]})]}),s.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-gray-600",children:s.jsx("h4",{className:"text-lg font-medium",children:"Anlise Detalhada por Par"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Par de Estratgias"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Tipo de Correlao"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Operaes Simultneas"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-600",children:w==null?void 0:w.slice(0,10).map((H,U)=>{var T,M,z,B;return s.jsxs("tr",{className:"hover:bg-gray-600",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"font-medium",children:[H.par[0],"  ",H.par[1]]})}),s.jsx("td",{className:"px-4 py-3 text-center",children:((M=(T=H.correlacao_resultado)==null?void 0:T.resumo)==null?void 0:M.interpretacao)||"N/A"}),s.jsx("td",{className:"px-4 py-3 text-center",children:((B=(z=H.correlacao_direcao)==null?void 0:z.resumo)==null?void 0:B.total_operacoes_simultaneas)||0})]},U)})})]})})]})]})};return s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mn,{className:"w-5 h-5 text-blue-400 mr-2"}),s.jsxs("h2",{className:"text-lg font-medium",children:["Correlao: Data + Direo + Resultado",c&&s.jsx("span",{className:"ml-2 text-sm text-green-400",children:" Disponvel"}),i&&s.jsx("span",{className:"ml-2 text-sm text-yellow-400",children:" Dados Originais"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[a&&s.jsx("button",{onClick:a,className:"p-1.5 hover:bg-gray-700 rounded-md text-gray-400 hover:text-white",title:"Resetar para dados originais",children:s.jsx(H6,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]})]}),e&&s.jsxs("div",{className:"p-4",children:[i&&s.jsx("div",{className:"mb-4 p-3 bg-yellow-900 bg-opacity-20 border border-yellow-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(ho,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-yellow-300 font-medium mb-1",children:" Dados de Correlao Preservados"}),s.jsx("p",{className:"text-xs text-yellow-200",children:"Esta seo mantm os dados de correlao originais calculados no momento do upload dos CSVs. Os filtros de estratgia e ativo no afetam estes clculos para garantir que a anlise de correlao nunca seja perdida."})]})]})}),c?s.jsx("div",{children:(j=(b=c.correlacao_data_direcao)==null?void 0:b.resumo)!=null&&j.erro?s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg text-center",children:[s.jsx(ho,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Correlao Indisponvel"}),s.jsx("p",{className:"text-gray-400 mb-4",children:c.correlacao_data_direcao.resumo.erro}),s.jsx("div",{className:"text-sm text-gray-300",children:s.jsx("p",{children:"Para anlise de correlao, faa upload de 2 ou mais arquivos CSV."})})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-700 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>l("resultado"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o==="resultado"?"bg-gray-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:[s.jsx(Pt,{className:"w-4 h-4 mr-2"}),"Por Resultado"]}),s.jsxs("button",{onClick:()=>l("direcao"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o==="direcao"?"bg-gray-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:[s.jsx(ex,{className:"w-4 h-4 mr-2"}),"Por Direo"]}),s.jsxs("button",{onClick:()=>l("matriz"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o==="matriz"?"bg-gray-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:[s.jsx(ho,{className:"w-4 h-4 mr-2"}),"Matriz"]}),u&&s.jsxs("button",{onClick:()=>l("matricial"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o==="matricial"?"bg-gray-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:[s.jsx(ho,{className:"w-4 h-4 mr-2"}),"Matricial"]})]}),o==="resultado"&&f(),o==="direcao"&&y(),o==="matriz"&&p(),o==="matricial"&&u&&v()]})}):s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg text-center",children:[s.jsx(ho,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Anlise de Correlao por Data e Direo"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Faa upload de 2 ou mais arquivos CSV para anlise detalhada"}),s.jsxs("div",{className:"text-sm text-gray-300 space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"O que ser analisado:"})}),s.jsxs("ul",{className:"text-left inline-block space-y-1",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Mesma data + direo:"})," Operaes simultneas de compra/venda"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Correlao de resultado:"})," Quando uma perde, a outra tambm perde?"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Benefcio de diversificao:"})," Quanto as estratgias se complementam"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Padres temporais:"})," Dias com ganhos/perdas simultneos"]})]})]})]})]})]})}function VJ({showSaveModal:e,setShowSaveModal:t,saveName:r,setSaveName:n,confirmSaveAnalysis:a}){return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Salvar Anlise"}),s.jsx("input",{type:"text",placeholder:"Nome da anlise...",value:r,onChange:i=>n(i.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4",autoFocus:!0}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{t(!1),n("")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Cancelar"}),s.jsx("button",{onClick:a,disabled:!r.trim(),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar"})]})]})}):null}function WJ({showLoadModal:e,setShowLoadModal:t,savedAnalyses:r,handleRenameAnalysis:n,handleLoadAnalysis:a,handleDeleteAnalysis:i}){const[o,l]=g.useState("");if(!e)return null;const c=r.filter(d=>d.name.toLowerCase().includes(o.toLowerCase()));return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Carregar Anlise"}),s.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white",children:s.jsx(Ye,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Od,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar anlises...",value:o,onChange:d=>l(d.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),c.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400",children:o?"Nenhuma anlise encontrada para esta busca":"Nenhuma anlise salva encontrada"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(d=>{var u,h,m;return s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-medium",children:d.name}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:()=>n(d.id,d.name),className:"p-1.5 hover:bg-gray-600 rounded",title:"Renomear",children:s.jsx(q6,{className:"w-4 h-4 text-blue-400"})}),s.jsx("button",{onClick:()=>i(d.id),className:"p-1.5 hover:bg-gray-600 rounded",title:"Excluir",children:s.jsx(Ac,{className:"w-4 h-4 text-red-400"})})]})]}),s.jsxs("div",{className:"text-sm text-gray-400 mb-3",children:[s.jsxs("div",{children:["Criado: ",new Date(d.createdAt).toLocaleDateString()]}),s.jsxs("div",{children:["Trades: ",((h=(u=d.backtestResult)==null?void 0:u.trades)==null?void 0:h.length)||((m=d.trades)==null?void 0:m.length)||d.totalTrades||"N/A"]})]}),s.jsx("button",{onClick:()=>a(d),className:"mt-auto w-full py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-sm",children:"Carregar"})]},d.id)})})]})})}function HJ({showRenameModal:e,setShowRenameModal:t,renameName:r,setRenameName:n,confirmRenameAnalysis:a,setRenameAnalysisId:i}){return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Renomear Anlise"}),s.jsx("input",{type:"text",placeholder:"Novo nome...",value:r,onChange:o=>n(o.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4",autoFocus:!0}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{t(!1),i(null),n("")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Cancelar"}),s.jsx("button",{onClick:a,disabled:!r.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Renomear"})]})]})}):null}function KJ({showEmotionalProfile:e,setShowEmotionalProfile:t,emotionalMetrics:r={stopDisciplineIndex:85.7,dailyLossDisciplineIndex:72.3,leverageDisciplineIndex:91.2,furyProbability:8.5}}){var i,o,l,c,d,u,h,m,f,p,y,v,x,b,j,N;const a=(()=>{if(!(r!=null&&r.resumo_comparativo))return 0;const w=r.resumo_comparativo,_=[];if(w.disciplina_operacao!==void 0&&_.push(w.disciplina_operacao),w.disciplina_dia!==void 0&&_.push(w.disciplina_dia),w.disciplina_alavancagem!==void 0&&w.disciplina_alavancagem!==null&&_.push(w.disciplina_alavancagem),w.probabilidade_furia!==void 0){const k=100-w.probabilidade_furia;_.push(k)}return _.length>0?_.reduce((k,S)=>k+S,0)/_.length:0})();return s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(xj,{className:"w-5 h-5 text-purple-400 mr-2"}),s.jsx("h2",{className:"text-lg font-medium",children:"Perfil Emocional"})]}),s.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]}),e&&s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"bg-blue-600 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(sd,{className:"w-5 h-5 text-red-400 mr-2"}),s.jsx("h3",{className:"font-medium",children:"ndice Emocional Total"})]}),s.jsxs("p",{className:`text-2xl font-bold ${a>=90?"text-green-400":a>=75?"text-yellow-400":a>=60?"text-orange-400":"text-red-400"}`,children:[a.toFixed(1),"%"]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Risco de trading emocional: ",a>=90?"Muito Baixo":a>=75?"Baixo":a>=60?"Mdio":"Alto"]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(FS,{className:"w-5 h-5 text-green-400 mr-2"}),s.jsx("h3",{className:"font-medium",children:"ndice Disciplina Stop"})]}),s.jsxs("p",{className:`text-2xl font-bold ${(((i=r==null?void 0:r.disciplina_operacao)==null?void 0:i.indice_disciplina)||0)>=90?"text-green-400":(((o=r==null?void 0:r.disciplina_operacao)==null?void 0:o.indice_disciplina)||0)>=70?"text-yellow-400":"text-red-400"}`,children:[((c=(l=r==null?void 0:r.disciplina_operacao)==null?void 0:l.indice_disciplina)==null?void 0:c.toFixed(2))||"N/A","%"]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Disciplina no uso de stop loss"})]}),s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(nl,{className:"w-5 h-5 text-orange-400 mr-2"}),s.jsx("h3",{className:"font-medium",children:"ndice Disciplina Perda/Dia"})]}),s.jsxs("p",{className:`text-2xl font-bold ${(((d=r==null?void 0:r.disciplina_dia)==null?void 0:d.indice_disciplina_diaria)||0)>=90?"text-green-400":(((u=r==null?void 0:r.disciplina_dia)==null?void 0:u.indice_disciplina_diaria)||0)>=70?"text-yellow-400":"text-red-400"}`,children:[((m=(h=r==null?void 0:r.disciplina_dia)==null?void 0:h.indice_disciplina_diaria)==null?void 0:m.toFixed(2))||"N/A","%"]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Controle de perdas dirias"})]}),s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(el,{className:"w-5 h-5 text-cyan-400 mr-2"}),s.jsx("h3",{className:"font-medium",children:"ndice Disciplina Alavancagem"})]}),s.jsxs("p",{className:`text-2xl font-bold ${(((f=r==null?void 0:r.disciplina_alavancagem)==null?void 0:f.indice_disciplina_alavancagem)||0)>=90?"text-green-400":(((p=r==null?void 0:r.disciplina_alavancagem)==null?void 0:p.indice_disciplina_alavancagem)||0)>=70?"text-yellow-400":"text-red-400"}`,children:[((v=(y=r==null?void 0:r.disciplina_alavancagem)==null?void 0:y.indice_disciplina_alavancagem)==null?void 0:v.toFixed(2))||"N/A","%"]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Controle de alavancagem"})]}),s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(sd,{className:"w-5 h-5 text-red-400 mr-2"}),s.jsx("h3",{className:"font-medium",children:"Probabilidade de Fria"})]}),s.jsxs("p",{className:`text-2xl font-bold ${(((x=r==null?void 0:r.resumo_comparativo)==null?void 0:x.percentual_dias_furia)||0)<=5?"text-green-400":(((b=r==null?void 0:r.resumo_comparativo)==null?void 0:b.percentual_dias_furia)||0)<=15?"text-yellow-400":"text-red-400"}`,children:[((N=(j=r==null?void 0:r.resumo_comparativo)==null?void 0:j.percentual_dias_furia)==null?void 0:N.toFixed(2))||"N/A","%"]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Risco de trading emocional"})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-purple-900 bg-opacity-20 border border-purple-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(xj,{className:"w-5 h-5 text-purple-400 mr-3 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-purple-300 mb-2",children:"Interpretao da Anlise Emocional"}),s.jsxs("ul",{className:"text-sm text-purple-200 space-y-1",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Disciplina Stop:"})," Mede o cumprimento das regras de stop loss"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Disciplina Perda/Dia:"})," Avalia o controle de perdas mximas dirias"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Disciplina Alavancagem:"})," Verifica o uso consistente de alavancagem"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Probabilidade de Fria:"})," Indica tendncia a trading emocional"]})]})]})]})})]})]})}function GJ({tradesData:e,fileResults:t}){var u,h,m,f,p,y,v,x,b,j,N,w,_,k,S,E,P,C,A;const[r,n]=g.useState(null),[a,i]=g.useState(!1),[o,l]=g.useState(null);g.useEffect(()=>{(e||t&&Object.keys(t).length>0)&&c()},[e,t]);const c=async()=>{i(!0),l(null);try{let O;const $=U=>{if(!U||U.length===0)return"0/0";const T=new Map;U.forEach(B=>{const F=B,K=new Date(F.entry_date).toISOString().split("T")[0],Y=T.get(K)||0;T.set(K,Y+F.pnl)});let M=0,z=0;return T.forEach(B=>{B>0?M++:B<0&&z++}),`${M}/${z}`},L=t&&Object.keys(t).length>1,H=e&&e.trades&&e.trades.length>0&&(!t||Object.keys(t).length<=1);if(L){let U=null;try{U=Bm(t)}catch{}const T=[];if(Object.keys(t).forEach(X=>{const I=t[X];I&&I.trades&&Array.isArray(I.trades)&&T.push(...I.trades)}),T.length===0)throw new Error("Nenhuma trade encontrada nos CSVs");const M=await fetch(wt("/api/trades/metrics-from-data"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trades:T})});if(!M.ok){const X=await M.json();throw new Error(X.error||"Erro ao calcular mtricas")}O=await M.json();const z=$(T),F=(X=>{if(X.length===0)return 0;const I=new Map;X.forEach(G=>{const ue=G,ne=new Date(ue.entry_date).toISOString().split("T")[0],se=ue.pnl||0;I.has(ne)||I.set(ne,{wins:[],losses:[]});const we=I.get(ne);se>0?we.wins.push(se):se<0&&we.losses.push(Math.abs(se))});let Q=0,re=0,he=0,be=0;I.forEach(G=>{if(G.wins.length>0){const ue=G.wins.reduce((ne,se)=>ne+se,0)/G.wins.length;Q+=ue,he++}if(G.losses.length>0){const ue=G.losses.reduce((ne,se)=>ne+se,0)/G.losses.length;re+=ue,be++}});const fe=he>0?Q/he:0,_e=be>0?re/be:0;return _e>0?fe/_e:0})(T),K=X=>{if(X.length===0)return 0;const I=new Map;X.forEach(_e=>{const G=_e,ue=new Date(G.entry_date).toISOString().split("T")[0],ne=G.pnl||0,se=I.get(ue)||0;I.set(ue,se+ne)});const Q=Array.from(I.values());if(Q.length===0)return 0;const re=Q.reduce((_e,G)=>_e+G,0)/Q.length,he=Q.reduce((_e,G)=>_e+Math.pow(G-re,2),0)/Q.length,be=Math.sqrt(he),fe=.12/365;return be>0?(re-fe)/be:0},Y=(X,I)=>{if(X.length===0)return 0;const Q=X.reduce((re,he)=>re+(he.pnl||0),0);return I&&I>0?Q/I:0},W=X=>{if(X.length===0)return{ganhoMedioDiario:0,perdaMediaDiaria:0,ganhoMaximoDiario:0,perdaMaximaDiaria:0};const I=new Map;X.forEach(G=>{const ue=G,se=new Date(ue.entry_date).toISOString().split("T")[0];I.has(se)||I.set(se,{trades:[],pnl:0});const we=I.get(se);we.trades.push(G),we.pnl+=G.pnl||0});const Q=[],re=[];I.forEach(G=>{G.pnl>0?Q.push(G.pnl):G.pnl<0&&re.push(Math.abs(G.pnl))});const he=Q.length>0?Q.reduce((G,ue)=>G+ue,0)/Q.length:0,be=re.length>0?re.reduce((G,ue)=>G+ue,0)/re.length:0,fe=Q.length>0?Math.max(...Q):0,_e=re.length>0?Math.max(...re):0;return{ganhoMedioDiario:he,perdaMediaDiaria:be,ganhoMaximoDiario:fe,perdaMaximaDiaria:_e}},te=X=>{if(X.length===0)return{mediaOperacoesDia:0,taxaAcertoDiaria:0,diasPerdedoresConsecutivos:0,diasVencedoresConsecutivos:0};const I=new Map;X.forEach(Ae=>{const Qe=Ae,ss=new Date(Qe.entry_date).toISOString().split("T")[0];I.has(ss)||I.set(ss,{trades:[],pnl:0,tradesCount:0});const Tt=I.get(ss);Tt.trades.push(Ae),Tt.pnl+=Ae.pnl||0,Tt.tradesCount++});const Q=Array.from(I.values()),re=Q.length,he=X.length,be=re>0?he/re:0,fe=Q.filter(Ae=>Ae.pnl>0).length,_e=re>0?fe/re*100:0,G=Array.from(I.entries()).sort(([Ae],[Qe])=>Ae.localeCompare(Qe));let ue=0,ne=0,se=0,we=0;return G.forEach(([,Ae])=>{Ae.pnl>0?(we++,se=0,ne=Math.max(ne,we)):Ae.pnl<0?(se++,we=0,ue=Math.max(ue,se)):(we=0,se=0)}),{mediaOperacoesDia:be,taxaAcertoDiaria:_e,diasPerdedoresConsecutivos:ue,diasVencedoresConsecutivos:ne}},ie=K(T),D=Y(T,U==null?void 0:U.maxDrawdownAbsoluto),R=W(T),q=te(T);O.estatisticas_operacao||(O.estatisticas_operacao={media_operacoes_dia:0,taxa_acerto_diaria:0,dias_vencedores_perdedores:"0/0",dias_perdedores_consecutivos:0,dias_vencedores_consecutivos:0}),O.estatisticas_operacao.dias_vencedores_perdedores=z,O.estatisticas_operacao.media_operacoes_dia=q.mediaOperacoesDia,O.estatisticas_operacao.taxa_acerto_diaria=q.taxaAcertoDiaria,O.estatisticas_operacao.dias_perdedores_consecutivos=q.diasPerdedoresConsecutivos,O.estatisticas_operacao.dias_vencedores_consecutivos=q.diasVencedoresConsecutivos,O.ganhos_perdas||(O.ganhos_perdas={ganho_medio_diario:0,perda_media_diaria:0,payoff_diario:0,ganho_maximo_diario:0,perda_maxima_diaria:0}),O.ganhos_perdas.payoff_diario=F,O.ganhos_perdas.ganho_medio_diario=R.ganhoMedioDiario,O.ganhos_perdas.perda_media_diaria=R.perdaMediaDiaria,O.ganhos_perdas.ganho_maximo_diario=R.ganhoMaximoDiario,O.ganhos_perdas.perda_maxima_diaria=R.perdaMaximaDiaria,O.metricas_principais||(O.metricas_principais={sharpe_ratio:0,fator_recuperacao:0,drawdown_maximo:0,drawdown_maximo_pct:0,dias_operados:0,resultado_liquido:0}),O.metricas_principais.sharpe_ratio=ie,O.metricas_principais.fator_recuperacao=D,O.metricas_principais||(console.warn(" metricas_principais no encontrada, criando estrutura"),O.metricas_principais={sharpe_ratio:0,fator_recuperacao:0,drawdown_maximo:0,drawdown_maximo_pct:0,dias_operados:0,resultado_liquido:0}),U&&U.maxDrawdownAbsoluto>0&&(O.metricas_principais.drawdown_maximo=U.maxDrawdownAbsoluto,O.metricas_principais.drawdown_maximo_pct=U.maxDrawdownPercent)}else if(H){const U=await fetch(wt("/api/trades/metrics-from-data"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!U.ok){const R=await U.json();throw new Error(R.error||"Erro ao calcular mtricas")}O=await U.json();const T=$(e.trades||[]),z=(R=>{if(R.length===0)return 0;const q=new Map;R.forEach(fe=>{const _e=fe,G=new Date(_e.entry_date).toISOString().split("T")[0],ue=_e.pnl||0;q.has(G)||q.set(G,{wins:[],losses:[]});const ne=q.get(G);ue>0?ne.wins.push(ue):ue<0&&ne.losses.push(Math.abs(ue))});let X=0,I=0,Q=0,re=0;q.forEach(fe=>{if(fe.wins.length>0){const _e=fe.wins.reduce((G,ue)=>G+ue,0)/fe.wins.length;X+=_e,Q++}if(fe.losses.length>0){const _e=fe.losses.reduce((G,ue)=>G+ue,0)/fe.losses.length;I+=_e,re++}});const he=Q>0?X/Q:0,be=re>0?I/re:0;return be>0?he/be:0})(e.trades||[]),B=R=>{if(R.length===0)return 0;const q=new Map;R.forEach(be=>{const fe=be,_e=new Date(fe.entry_date).toISOString().split("T")[0],G=fe.pnl||0,ue=q.get(_e)||0;q.set(_e,ue+G)});const X=Array.from(q.values());if(X.length===0)return 0;const I=X.reduce((be,fe)=>be+fe,0)/X.length,Q=X.reduce((be,fe)=>be+Math.pow(fe-I,2),0)/X.length,re=Math.sqrt(Q),he=.12/365;return re>0?(I-he)/re:0},F=R=>{if(R.length===0)return 0;let q=0,X=0,I=0;R.map(re=>re).sort((re,he)=>new Date(re.entry_date||"").getTime()-new Date(he.entry_date||"").getTime()).forEach(re=>{const he=re.pnl||0;X+=he,X>q&&(q=X);const be=q-X;be>I&&(I=be)});const Q=R.reduce((re,he)=>re+(he.pnl||0),0);return I>0?Q/I:0},K=R=>{if(R.length===0)return{ganhoMedioDiario:0,perdaMediaDiaria:0,ganhoMaximoDiario:0,perdaMaximaDiaria:0};const q=new Map;R.forEach(fe=>{const _e=fe,ue=new Date(_e.entry_date).toISOString().split("T")[0];q.has(ue)||q.set(ue,{trades:[],pnl:0});const ne=q.get(ue);ne.trades.push(fe),ne.pnl+=fe.pnl||0});const X=[],I=[];q.forEach(fe=>{fe.pnl>0?X.push(fe.pnl):fe.pnl<0&&I.push(Math.abs(fe.pnl))});const Q=X.length>0?X.reduce((fe,_e)=>fe+_e,0)/X.length:0,re=I.length>0?I.reduce((fe,_e)=>fe+_e,0)/I.length:0,he=X.length>0?Math.max(...X):0,be=I.length>0?Math.max(...I):0;return{ganhoMedioDiario:Q,perdaMediaDiaria:re,ganhoMaximoDiario:he,perdaMaximaDiaria:be}},Y=R=>{if(R.length===0)return{mediaOperacoesDia:0,taxaAcertoDiaria:0,diasPerdedoresConsecutivos:0,diasVencedoresConsecutivos:0};const q=new Map;R.forEach(se=>{const we=se,Qe=new Date(we.entry_date).toISOString().split("T")[0];q.has(Qe)||q.set(Qe,{trades:[],pnl:0,tradesCount:0});const xn=q.get(Qe);xn.trades.push(se),xn.pnl+=se.pnl||0,xn.tradesCount++});const X=Array.from(q.values()),I=X.length,Q=R.length,re=I>0?Q/I:0,he=X.filter(se=>se.pnl>0).length,be=I>0?he/I*100:0,fe=Array.from(q.entries()).sort(([se],[we])=>se.localeCompare(we));let _e=0,G=0,ue=0,ne=0;return fe.forEach(([,se])=>{se.pnl>0?(ne++,ue=0,G=Math.max(G,ne)):se.pnl<0?(ue++,ne=0,_e=Math.max(_e,ue)):(ne=0,ue=0)}),{mediaOperacoesDia:re,taxaAcertoDiaria:be,diasPerdedoresConsecutivos:_e,diasVencedoresConsecutivos:G}},W=B(e.trades||[]),te=F(e.trades||[]),ie=K(e.trades||[]),D=Y(e.trades||[]);O.estatisticas_operacao||(console.warn(" estatisticas_operacao no encontrada na resposta da API"),O.estatisticas_operacao={media_operacoes_dia:0,taxa_acerto_diaria:0,dias_vencedores_perdedores:"0/0",dias_perdedores_consecutivos:0,dias_vencedores_consecutivos:0}),O.estatisticas_operacao.dias_vencedores_perdedores=T,O.estatisticas_operacao.media_operacoes_dia=D.mediaOperacoesDia,O.estatisticas_operacao.taxa_acerto_diaria=D.taxaAcertoDiaria,O.estatisticas_operacao.dias_perdedores_consecutivos=D.diasPerdedoresConsecutivos,O.estatisticas_operacao.dias_vencedores_consecutivos=D.diasVencedoresConsecutivos,O.ganhos_perdas||(console.warn(" ganhos_perdas no encontrada na resposta da API"),O.ganhos_perdas={ganho_medio_diario:0,perda_media_diaria:0,payoff_diario:0,ganho_maximo_diario:0,perda_maxima_diaria:0}),O.ganhos_perdas.payoff_diario=z,O.ganhos_perdas.ganho_medio_diario=ie.ganhoMedioDiario,O.ganhos_perdas.perda_media_diaria=ie.perdaMediaDiaria,O.ganhos_perdas.ganho_maximo_diario=ie.ganhoMaximoDiario,O.ganhos_perdas.perda_maxima_diaria=ie.perdaMaximaDiaria,O.metricas_principais||(O.metricas_principais={sharpe_ratio:0,fator_recuperacao:0,drawdown_maximo:0,drawdown_maximo_pct:0,dias_operados:0,resultado_liquido:0}),O.metricas_principais.sharpe_ratio=W,O.metricas_principais.fator_recuperacao=te,O.metricas_principais||(console.warn(" metricas_principais no encontrada na resposta da API"),O.metricas_principais={sharpe_ratio:0,fator_recuperacao:0,drawdown_maximo:0,drawdown_maximo_pct:0,dias_operados:0,resultado_liquido:0})}else throw new Error("Nenhum dado disponvel para processamento");n(O)}catch(O){l(O instanceof Error?O.message:"Erro desconhecido")}finally{i(!1)}},d=O=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(O);return a?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(O=>s.jsx("div",{className:"bg-gray-800 rounded-lg p-6 shadow-md",children:s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(nx,{className:"w-6 h-6 animate-spin text-blue-400"})})},O))}):o?s.jsx("div",{className:"bg-red-900 bg-opacity-50 border border-red-700 rounded-lg p-4",children:s.jsxs("div",{className:"text-red-400",children:["Erro ao carregar mtricas: ",o]})}):r?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-900/20 to-blue-800/30 p-5 rounded-lg shadow-md border-l-4 border-blue-500",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-blue-500 bg-opacity-20 p-2 rounded-full mr-3",children:s.jsx(tl,{className:"w-8 h-8 text-blue-400"})}),s.jsx("h3",{className:"font-semibold text-lg text-white",children:"Mtricas Principais"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pt,{className:"w-5 h-5 text-green-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Sharpe Ratio"})]}),s.jsx("span",{className:"font-semibold text-green-400 text-lg",children:((h=(u=r.metricas_principais)==null?void 0:u.sharpe_ratio)==null?void 0:h.toFixed(2))||"0.00"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(el,{className:"w-5 h-5 text-green-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Fator de Recuperao"})]}),s.jsx("span",{className:"font-semibold text-green-400 text-lg",children:((f=(m=r.metricas_principais)==null?void 0:m.fator_recuperacao)==null?void 0:f.toFixed(2))||"0.00"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(nl,{className:"w-5 h-5 text-red-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Drawdown Mximo"})]}),s.jsx("span",{className:"font-semibold text-red-400 text-lg",children:(()=>{var $;const O=(($=r.metricas_principais)==null?void 0:$.drawdown_maximo)||0;return console.log(" DEBUG - Drawdown sendo exibido:",{drawdownValue:O,metricasPrincipais:r.metricas_principais,formattedValue:d(O)}),d(O)})()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mn,{className:"w-5 h-5 text-blue-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Dias Operados"})]}),s.jsx("span",{className:"font-semibold text-lg text-white",children:((p=r.metricas_principais)==null?void 0:p.dias_operados)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Kh,{className:"w-5 h-5 text-green-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Resultado Lquido"})]}),s.jsx("span",{className:`font-semibold text-lg ${(((y=r.metricas_principais)==null?void 0:y.resultado_liquido)||0)>=0?"text-green-400":"text-red-400"}`,children:d(((v=r.metricas_principais)==null?void 0:v.resultado_liquido)||0)})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-900/20 to-green-800/30 p-5 rounded-lg shadow-md border-l-4 border-green-500",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-green-500 bg-opacity-20 p-2 rounded-full mr-3",children:s.jsx(Ii,{className:"w-8 h-8 text-green-400"})}),s.jsx("h3",{className:"font-semibold text-lg text-white",children:"Ganhos e Perdas"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ex,{className:"w-5 h-5 text-green-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Ganho Mdio Dirio"})]}),s.jsx("span",{className:"font-semibold text-green-400 text-lg",children:d(((x=r.ganhos_perdas)==null?void 0:x.ganho_medio_diario)||0)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(TS,{className:"w-5 h-5 text-red-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Perda Mdia Diria"})]}),s.jsx("span",{className:"font-semibold text-red-400 text-lg",children:d(((b=r.ganhos_perdas)==null?void 0:b.perda_media_diaria)||0)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(FS,{className:"w-5 h-5 text-green-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Payoff Dirio"})]}),s.jsx("span",{className:"font-semibold text-green-400 text-lg",children:((N=(j=r.ganhos_perdas)==null?void 0:j.payoff_diario)==null?void 0:N.toFixed(2))||"0.00"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(L6,{className:"w-5 h-5 text-green-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Ganho Mximo Dirio"})]}),s.jsx("span",{className:"font-semibold text-green-400 text-lg",children:d(((w=r.ganhos_perdas)==null?void 0:w.ganho_maximo_diario)||0)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(B6,{className:"w-5 h-5 text-red-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Perda Mxima Diria"})]}),s.jsx("span",{className:"font-semibold text-red-400 text-lg",children:d(((_=r.ganhos_perdas)==null?void 0:_.perda_maxima_diaria)||0)})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/20 to-yellow-800/30 p-5 rounded-lg shadow-md border-l-4 border-yellow-500",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-yellow-500 bg-opacity-20 p-2 rounded-full mr-3",children:s.jsx(ut,{className:"w-8 h-8 text-yellow-400"})}),s.jsx("h3",{className:"font-semibold text-lg text-white",children:"Estatsticas de Operao"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(el,{className:"w-5 h-5 text-blue-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Mdia Operaes/Dia"})]}),s.jsx("span",{className:"font-semibold text-lg text-white",children:((S=(k=r.estatisticas_operacao)==null?void 0:k.media_operacoes_dia)==null?void 0:S.toFixed(1))||"0.0"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(IS,{className:"w-5 h-5 text-green-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Taxa de Acerto Diria"})]}),s.jsxs("span",{className:"font-semibold text-green-400 text-lg",children:[((P=(E=r.estatisticas_operacao)==null?void 0:E.taxa_acerto_diaria)==null?void 0:P.toFixed(1))||"0.0","%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mn,{className:"w-5 h-5 text-blue-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Dias Vencedores/Perdedores"})]}),s.jsx("span",{className:"font-semibold text-lg text-white",children:(()=>{var $;return(($=r.estatisticas_operacao)==null?void 0:$.dias_vencedores_perdedores)||"0/0"})()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(BS,{className:"w-5 h-5 text-red-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Dias Perdedores Consecutivos"})]}),s.jsx("span",{className:"font-semibold text-red-400 text-lg",children:((C=r.estatisticas_operacao)==null?void 0:C.dias_perdedores_consecutivos)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ir,{className:"w-5 h-5 text-green-400 mr-2"}),s.jsx("span",{className:"text-gray-300",children:"Dias Vencedores Consecutivos"})]}),s.jsx("span",{className:"font-semibold text-green-400 text-lg",children:((A=r.estatisticas_operacao)==null?void 0:A.dias_vencedores_consecutivos)||0})]})]})]})]}):s.jsx("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:s.jsx("div",{className:"text-gray-400",children:"Nenhuma mtrica disponvel"})})}const YJ={trades:[{entry_date:"2024-01-15T09:30:00",pnl:500},{entry_date:"2024-01-15T10:15:00",pnl:-200},{entry_date:"2024-01-15T11:45:00",pnl:300},{entry_date:"2024-01-15T13:20:00",pnl:-150},{entry_date:"2024-01-15T14:30:00",pnl:400},{entry_date:"2024-01-15T15:45:00",pnl:250},{entry_date:"2024-01-15T16:30:00",pnl:-100},{entry_date:"2024-01-15T17:15:00",pnl:350}],statistics:{temporal:{hourly:{9:{count:1,sum:500},10:{count:1,sum:-200},11:{count:1,sum:300},13:{count:1,sum:-150},14:{count:1,sum:400},15:{count:1,sum:250},16:{count:1,sum:-100},17:{count:1,sum:350}}}}};function JJ({tradesData:e}){const[t,r]=g.useState(!0),[n,a]=g.useState(null),[i,o]=g.useState(!1),l=e||YJ,c=[{horario:[9,10],nome:"09:00 - 10:00 (Pr-Mercado)"},{horario:[10,12],nome:"10:00 - 12:00 (Manh)"},{horario:[12,14],nome:"12:00 - 14:00 (Almoo)"},{horario:[14,16],nome:"14:00 - 16:00 (Tarde)"},{horario:[16,19],nome:"16:00 - 18:30 (Fechamento)"}],d=x=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),u=(x,b)=>{if(!x||x.length===0)return 0;const j=x.filter(w=>new Date(w.entry_date).getHours().toString()===b);return j.length===0?0:j.filter(w=>w.pnl>0).length/j.length*100},h=(x,b)=>{if(!x||x.length===0)return 0;const j=x.filter(_=>new Date(_.entry_date).getHours().toString()===b);if(j.length===0)return 0;const N=j.filter(_=>_.pnl>0).reduce((_,k)=>_+k.pnl,0),w=Math.abs(j.filter(_=>_.pnl<0).reduce((_,k)=>_+k.pnl,0));return w>0?N/w:0},m=()=>{if(!l.trades)return[];const x=[];for(let b=9;b<=17;b++){const j=l.trades.filter(N=>new Date(N.entry_date).getHours()===b);if(j.length>0){const N=j.reduce((k,S)=>k+S.pnl,0),w=u(l.trades,b.toString()),_=h(l.trades,b.toString());x.push({horario:`${b.toString().padStart(2,"0")}:00`,trades:j.length,winRate:w,profitFactor:_,resultado:N})}}return x},p=(()=>{const x=m(),b=[];return c.forEach(({horario:j,nome:N})=>{const[w,_]=j,k=x.filter(S=>{const E=parseInt(S.horario.split(":")[0]);return E>=w&&E<_});if(k.length>0){const S=k.reduce((A,O)=>A+O.trades,0),E=k.reduce((A,O)=>A+O.resultado,0),P=k.reduce((A,O)=>A+O.winRate,0)/k.length,C=k.reduce((A,O)=>A+O.profitFactor,0)/k.length;S>0&&b.push({nome:N,horarios:k,totalTrades:S,totalResultado:E,avgWinRate:P,avgProfitFactor:C})}}),b})(),y=x=>{a(x),o(!0)},v=()=>{o(!1),a(null)};return s.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-lg p-5 mb-6 shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-purple-500 bg-opacity-20 p-2 rounded-full mr-3",children:s.jsx(Br,{className:"w-6 h-6 text-purple-400"})}),s.jsx("h3",{className:"font-semibold text-lg",children:"Resultado por Horrio"})]}),s.jsx("button",{onClick:()=>r(!t),className:"p-1.5 hover:bg-gray-600 rounded",children:t?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]}),t&&s.jsx("div",{children:p.length===0?s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 text-center",children:[s.jsx(Br,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-400",children:"Nenhum trade encontrado nos horrios analisados"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-600",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-300",children:"Perodo"}),s.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-300",children:"Trades"}),s.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-300",children:"Taxa de Acerto"}),s.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-300",children:"Fator de Lucro"}),s.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-300",children:"Resultado"}),s.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-300",children:"Detalhes"})]})}),s.jsx("tbody",{children:p.map((x,b)=>s.jsxs("tr",{className:`border-b border-gray-700 ${b%2===0?"bg-gray-800":"bg-gray-700"}`,children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Br,{className:"w-4 h-4 text-purple-400 mr-2"}),s.jsx("span",{className:"text-white",children:x.nome})]})}),s.jsx("td",{className:"text-center py-3 px-4",children:s.jsx("span",{className:"text-white",children:x.totalTrades})}),s.jsx("td",{className:"text-center py-3 px-4",children:s.jsxs("span",{className:`inline-block px-2 py-1 rounded text-xs ${x.avgWinRate>=60?"bg-green-600 text-white":x.avgWinRate>=45?"bg-yellow-600 text-white":"bg-red-600 text-white"}`,children:[x.avgWinRate.toFixed(1),"%"]})}),s.jsx("td",{className:"text-center py-3 px-4",children:s.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${x.avgProfitFactor>=1.5?"bg-green-600 text-white":x.avgProfitFactor>=1?"bg-yellow-600 text-white":"bg-red-600 text-white"}`,children:x.avgProfitFactor.toFixed(2)})}),s.jsx("td",{className:"text-center py-3 px-4",children:s.jsx("span",{className:`font-medium ${x.totalResultado>=0?"text-green-400":"text-red-400"}`,children:d(x.totalResultado)})}),s.jsx("td",{className:"text-center py-3 px-4",children:s.jsx("button",{onClick:()=>y(x),className:"hover:bg-gray-600 p-1 rounded transition-colors",title:"Ver detalhes do perodo",children:s.jsx(Ec,{className:"w-4 h-4 text-gray-400 hover:text-white"})})})]},x.nome))})]})})}),i&&n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Br,{className:"w-5 h-5 text-purple-400 mr-2"}),s.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Detalhes - ",n.nome]})]}),s.jsx("button",{onClick:v,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Resumo do Perodo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Total de Trades"}),s.jsx("p",{className:"text-lg font-semibold text-white",children:n.totalTrades})]}),s.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),s.jsxs("p",{className:"text-lg font-semibold text-white",children:[n.avgWinRate.toFixed(1),"%"]})]}),s.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),s.jsx("p",{className:"text-lg font-semibold text-white",children:n.avgProfitFactor.toFixed(2)})]}),s.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Resultado Total"}),s.jsx("p",{className:`text-lg font-semibold ${n.totalResultado>=0?"text-green-400":"text-red-400"}`,children:d(n.totalResultado)})]})]})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Breakdown por Hora"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-600",children:[s.jsx("th",{className:"px-3 py-2 text-left text-gray-300",children:"Horrio"}),s.jsx("th",{className:"px-3 py-2 text-center text-gray-300",children:"Trades"}),s.jsx("th",{className:"px-3 py-2 text-center text-gray-300",children:"Taxa de Acerto"}),s.jsx("th",{className:"px-3 py-2 text-center text-gray-300",children:"Fator de Lucro"}),s.jsx("th",{className:"px-3 py-2 text-right text-gray-300",children:"Resultado"})]})}),s.jsx("tbody",{children:n.horarios.map((x,b)=>s.jsxs("tr",{className:"border-b border-gray-600",children:[s.jsx("td",{className:"px-3 py-2 text-white font-medium",children:x.horario}),s.jsx("td",{className:"px-3 py-2 text-center text-white",children:x.trades}),s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsxs("span",{className:`px-2 py-1 rounded text-xs ${x.winRate>=60?"bg-green-600 text-white":x.winRate>=45?"bg-yellow-600 text-white":"bg-red-600 text-white"}`,children:[x.winRate.toFixed(1),"%"]})}),s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${x.profitFactor>=1.5?"bg-green-600 text-white":x.profitFactor>=1?"bg-yellow-600 text-white":"bg-red-600 text-white"}`,children:x.profitFactor.toFixed(2)})}),s.jsx("td",{className:`px-3 py-2 text-right font-medium ${x.resultado>=0?"text-green-400":"text-red-400"}`,children:d(x.resultado)})]},x.horario))})]})})]}),s.jsx("div",{className:"bg-purple-900 bg-opacity-20 border border-purple-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Br,{className:"w-5 h-5 text-purple-400 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-purple-300 mb-2",children:"Insights do Perodo"}),s.jsxs("ul",{className:"text-sm text-purple-200 space-y-1",children:[s.jsxs("li",{children:[" Melhor hora: ",n.horarios.reduce((x,b)=>b.resultado>x.resultado?b:x).horario," com ",d(n.horarios.reduce((x,b)=>b.resultado>x.resultado?b:x).resultado)]}),s.jsxs("li",{children:[" Taxa de acerto mdia: ",n.avgWinRate.toFixed(1),"% (",n.avgWinRate>=60?"excelente":n.avgWinRate>=45?"boa":"ruim",")"]}),s.jsxs("li",{children:[" Fator de lucro: ",n.avgProfitFactor.toFixed(2)," (",n.avgProfitFactor>=1.5?"excelente":n.avgProfitFactor>=1?"positivo":"negativo",")"]}),s.jsxs("li",{children:[" Volume de trades: ",n.totalTrades," operaes no perodo"]})]})]})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:v,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Fechar"})})]})]})})]})}const Yu={monday:"Segunda-feira",tuesday:"Tera-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"Sbado",sunday:"Domingo"},Ju={january:"Janeiro",february:"Fevereiro",march:"Maro",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro"},C_=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],P_=["january","february","march","april","may","june","july","august","september","october","november","december"],Xu=e=>e.startsWith("Week ")?`Semana ${e.replace("Week ","")}`:e;function XJ({showDailyAnalysis:e,setShowDailyAnalysis:t,tradesData:r,backtestResult:n,fileResults:a}){var $,L,H,U;const[i,o]=Kt.useState(!1),[l,c]=Kt.useState(!1),[d,u]=Kt.useState(!1),[h,m]=Kt.useState(!0),[f,p]=Kt.useState(!0),[y,v]=Kt.useState(!0);if(!n)return null;const x=n["Day of Week Analysis"],b=x==null?void 0:x["Best Day"],j=x==null?void 0:x["Worst Day"],N=n["Monthly Analysis"],w=N==null?void 0:N["Best Month"],_=N==null?void 0:N["Worst Month"],k=n["Weekly Analysis"],S=k==null?void 0:k["Best Week"],E=k==null?void 0:k["Worst Week"],P=(T,M=!1,z=!1)=>{if(T==null||isNaN(Number(T)))return"N/A";const B=Number(T);return z?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B):M?`${B.toFixed(2)}%`:B.toFixed(2)},C=()=>s.jsx("div",{className:"grid grid-cols-7 gap-1 mt-4",children:C_.map(T=>{var W;let M=null;if(x!=null&&x.Stats){const ie={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"}[T];M=x.Stats[ie]}M||(M={Trades:0,"Win Rate (%)":0,"Profit Factor":0});const z=Number(M["Profit Factor"])||0,B=Number(M.Trades)||0,F=Number(M["Win Rate (%)"])||0,K=z>=1.5?"bg-green-900":z>=1?"bg-yellow-900":"bg-red-900",Y=z>=1.5?"text-green-300":z>=1?"text-yellow-300":"text-red-300";return s.jsxs("div",{className:`p-3 rounded-lg ${K} ${B===0?"opacity-50":""}`,children:[s.jsx("p",{className:"text-sm font-medium mb-2 text-white",children:((W=Yu[T])==null?void 0:W.substring(0,3))||T.substring(0,3)}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Fator"}),s.jsx("p",{className:`text-sm font-bold ${Y}`,children:z.toFixed(2)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Acerto"}),s.jsxs("p",{className:`text-sm font-bold ${F>=60?"text-green-300":F>=45?"text-yellow-300":"text-red-300"}`,children:[F.toFixed(1),"%"]})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Trades"}),s.jsx("p",{className:"text-sm font-bold text-white",children:B})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Rentabilidade"}),s.jsx("p",{className:`text-sm font-bold ${(M["Rentabilidade ($)"]||0)>0?"text-green-300":(M["Rentabilidade ($)"]||0)<0?"text-red-300":"text-gray-300"}`,children:P(M["Rentabilidade ($)"],!1,!0)})]})]})]},T)})}),A=()=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:(k==null?void 0:k.Stats)&&Object.entries(k.Stats).sort(([T],[M])=>{const z=parseInt(T.replace(/\D/g,""))||0,B=parseInt(M.replace(/\D/g,""))||0;return z-B}).map(([T,M])=>{const z=Number(M["Profit Factor"])||0,B=Number(M.Trades)||0,F=Number(M["Win Rate (%)"])||0,K=z>=1.5?"bg-green-900":z>=1?"bg-yellow-900":"bg-red-900",Y=z>=1.5?"text-green-300":z>=1?"text-yellow-300":"text-red-300";return s.jsxs("div",{className:`p-3 rounded-lg ${K} ${B===0?"opacity-50":""}`,children:[s.jsx("p",{className:"text-sm font-medium mb-2 text-white",children:Xu(T)}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Fator"}),s.jsx("p",{className:`text-sm font-bold ${Y}`,children:z.toFixed(2)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Acerto"}),s.jsxs("p",{className:`text-sm font-bold ${F>=60?"text-green-300":F>=45?"text-yellow-300":"text-red-300"}`,children:[F.toFixed(1),"%"]})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Trades"}),s.jsx("p",{className:"text-sm font-bold text-white",children:B})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Mdia Ganho"}),s.jsx("p",{className:"text-sm font-bold text-green-300",children:P(M["Average Win"],!1,!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Mdia Perda"}),s.jsx("p",{className:"text-sm font-bold text-red-300",children:P(M["Average Loss"],!1,!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Rentabilidade"}),s.jsx("p",{className:`text-sm font-bold ${(M["Rentabilidade ($)"]||0)>0?"text-green-300":(M["Rentabilidade ($)"]||0)<0?"text-red-300":"text-gray-300"}`,children:P(M["Rentabilidade ($)"],!1,!0)})]})]})]},T)})}),O=()=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:P_.map(T=>{let M=null;if(N!=null&&N.Stats){const te={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"}[T];M=N.Stats[te]}M||(M={Trades:0,"Win Rate (%)":0,"Profit Factor":0});const z=Number(M["Profit Factor"])||0,B=Number(M.Trades)||0,F=Number(M["Win Rate (%)"])||0,K=z>=1.5?"bg-green-900":z>=1?"bg-yellow-900":"bg-red-900",Y=z>=1.5?"text-green-300":z>=1?"text-yellow-300":"text-red-300";return s.jsxs("div",{className:`p-3 rounded-lg ${K} ${B===0?"opacity-50":""}`,children:[s.jsx("p",{className:"text-sm font-medium mb-2 text-white",children:Ju[T]||T}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Fator"}),s.jsx("p",{className:`text-sm font-bold ${Y}`,children:z.toFixed(2)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Acerto"}),s.jsxs("p",{className:`text-sm font-bold ${F>=60?"text-green-300":F>=45?"text-yellow-300":"text-red-300"}`,children:[F.toFixed(1),"%"]})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Trades"}),s.jsx("p",{className:"text-sm font-bold text-white",children:B})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Rentabilidade"}),s.jsx("p",{className:`text-sm font-bold ${(M["Rentabilidade ($)"]||0)>0?"text-green-300":(M["Rentabilidade ($)"]||0)<0?"text-red-300":"text-gray-300"}`,children:P(M["Rentabilidade ($)"],!1,!0)})]})]})]},T)})});return s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6 shadow-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(or,{className:"w-6 h-6 text-blue-400 mr-2"}),s.jsx("h2",{className:"text-lg font-medium",children:"Anlise Diria"})]}),s.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]}),s.jsx("br",{}),e&&s.jsxs("div",{className:"p-6 pt-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx(GJ,{tradesData:r,fileResults:a})}),s.jsx("div",{className:"mb-8",children:s.jsx(JJ,{tradesData:r})}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-lg p-5 mb-6 shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-500 bg-opacity-20 p-2 rounded-full mr-3",children:s.jsx(Mn,{className:"w-6 h-6 text-blue-400"})}),s.jsx("h3",{className:"font-semibold text-lg",children:"Anlise por Dia da Semana"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>m(!h),className:"px-3 py-1.5 bg-gray-600 hover:bg-gray-500 rounded text-xs font-medium text-gray-300 hover:text-white",children:h?"Visualizao em Tabela":"Visualizao em Calendrio"}),s.jsx("button",{onClick:()=>o(!i),className:"p-1.5 hover:bg-gray-600 rounded",children:i?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]})]}),i&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[b&&s.jsxs("div",{className:"bg-green-900 bg-opacity-20 border border-green-800 p-4 rounded-lg shadow-md",children:[s.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-green-400",children:[s.jsx(kn,{className:"w-5 h-5 mr-2"}),"Melhor Dia:"," ",Yu[($=b.Day)==null?void 0:$.toLowerCase()]||b.Day]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),s.jsx("p",{className:"text-lg font-medium",children:b.Trades||"0"})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),s.jsx("p",{className:"text-lg font-medium text-green-400",children:P(b["Win Rate (%)"],!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),s.jsx("p",{className:"text-lg font-medium text-green-400",children:P(b["Profit Factor"])})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mdia Ganho"}),s.jsx("p",{className:"text-lg font-medium text-green-400",children:P(b["Average Win"],!1,!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mdia Perda"}),s.jsx("p",{className:"text-lg font-medium text-red-400",children:P(b["Average Loss"],!1,!0)})]})]})]}),j&&s.jsxs("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 p-4 rounded-lg shadow-md",children:[s.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-red-400",children:[s.jsx(ut,{className:"w-5 h-5 mr-2"}),"Pior Dia:"," ",Yu[(L=j.Day)==null?void 0:L.toLowerCase()]||j.Day]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),s.jsx("p",{className:"text-lg font-medium",children:j.Trades||"0"})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),s.jsx("p",{className:"text-lg font-medium text-red-400",children:P(j["Win Rate (%)"],!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),s.jsx("p",{className:"text-lg font-medium text-red-400",children:P(j["Profit Factor"])})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mdia Ganho"}),s.jsx("p",{className:"text-lg font-medium text-green-400",children:P(j["Average Win"],!1,!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mdia Perda"}),s.jsx("p",{className:"text-lg font-medium text-red-400",children:P(j["Average Loss"],!1,!0)})]})]})]})]}),h?C():s.jsx("div",{className:"overflow-x-auto bg-gray-700 rounded-lg p-4 shadow-md",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left rounded-l-lg",children:"Dia"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Trades"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Taxa de Acerto"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Fator de Lucro"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Sharpe Ratio"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Mdia Ganho"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Mdia Perda"}),s.jsx("th",{className:"px-4 py-3 text-center rounded-r-lg",children:"Rentabilidade"})]})}),s.jsx("tbody",{children:C_.map(T=>{let M=null;if(x!=null&&x.Stats){const B={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"}[T];M=x.Stats[B]}return M||(M={Trades:0,"Win Rate (%)":0,"Profit Factor":0,"Rentabilidade ($)":0}),s.jsxs("tr",{className:"border-b border-gray-600 last:border-b-0",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:Yu[T]||T}),s.jsx("td",{className:"px-4 py-3 text-center",children:M.Trades||"0"}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(M["Win Rate (%)"]||0)>=55?"bg-green-900 text-green-300":(M["Win Rate (%)"]||0)>=45?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:P(M["Win Rate (%)"],!0)})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(M["Profit Factor"]||0)>=1.5?"bg-green-900 text-green-300":(M["Profit Factor"]||0)>=1?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:P(M["Profit Factor"])})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(M["Sharpe Ratio"]||0)>=1?"bg-green-900 text-green-300":(M["Sharpe Ratio"]||0)>=.5?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:P(M["Sharpe Ratio"])})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-900 text-green-300",children:P(M["Average Win"],!1,!0)})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-900 text-red-300",children:P(M["Average Loss"],!1,!0)})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(M["Rentabilidade ($)"]||0)>0?"bg-green-900 text-green-300":(M["Rentabilidade ($)"]||0)<0?"bg-red-900 text-red-300":"bg-gray-900 text-gray-300"}`,children:P(M["Rentabilidade ($)"],!1,!0)})})]},T)})})]})})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-lg p-5 mb-6 shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-purple-500 bg-opacity-20 p-2 rounded-full mr-3",children:s.jsx(Jh,{className:"w-6 h-6 text-purple-400"})}),s.jsx("h3",{className:"font-semibold text-lg",children:"Anlise Mensal"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>p(!f),className:"px-3 py-1.5 bg-gray-600 hover:bg-gray-500 rounded text-xs font-medium text-gray-300 hover:text-white",children:f?"Visualizao em Tabela":"Visualizao em Calendrio"}),s.jsx("button",{onClick:()=>c(!l),className:"p-1.5 hover:bg-gray-600 rounded",children:l?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]})]}),l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[w&&s.jsxs("div",{className:"bg-green-900 bg-opacity-20 border border-green-800 p-4 rounded-lg shadow-md",children:[s.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-green-400",children:[s.jsx(kn,{className:"w-5 h-5 mr-2"}),"Melhor Ms:"," ",Ju[(H=w.Month)==null?void 0:H.toLowerCase()]||w.Month]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),s.jsx("p",{className:"text-lg font-medium",children:w.Trades||"0"})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),s.jsx("p",{className:"text-lg font-medium text-green-400",children:P(w["Win Rate (%)"],!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),s.jsx("p",{className:"text-lg font-medium text-green-400",children:P(w["Profit Factor"])})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mdia Ganho"}),s.jsx("p",{className:"text-lg font-medium text-green-400",children:P(w["Average Win"],!1,!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mdia Perda"}),s.jsx("p",{className:"text-lg font-medium text-red-400",children:P(w["Average Loss"],!1,!0)})]})]})]}),_&&s.jsxs("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 p-4 rounded-lg shadow-md",children:[s.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-red-400",children:[s.jsx(ut,{className:"w-5 h-5 mr-2"}),"Pior Ms:"," ",Ju[(U=_.Month)==null?void 0:U.toLowerCase()]||_.Month]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),s.jsx("p",{className:"text-lg font-medium",children:_.Trades||"0"})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),s.jsx("p",{className:"text-lg font-medium text-red-400",children:P(_["Win Rate (%)"],!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),s.jsx("p",{className:"text-lg font-medium text-red-400",children:P(_["Profit Factor"])})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mdia Ganho"}),s.jsx("p",{className:"text-lg font-medium text-green-400",children:P(_["Average Win"],!1,!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mdia Perda"}),s.jsx("p",{className:"text-lg font-medium text-red-400",children:P(_["Average Loss"],!1,!0)})]})]})]})]}),f?O():s.jsx("div",{className:"overflow-x-auto bg-gray-700 rounded-lg p-4 shadow-md",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left rounded-l-lg",children:"Ms"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Trades"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Taxa de Acerto"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Fator de Lucro"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Mdia Ganho"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Mdia Perda"}),s.jsx("th",{className:"px-4 py-3 text-center rounded-r-lg",children:"Rentabilidade"})]})}),s.jsx("tbody",{children:P_.map(T=>{let M=null;if(N!=null&&N.Stats){const B={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"}[T];M=N.Stats[B]}return M||(M={Trades:0,"Win Rate (%)":0,"Profit Factor":0,"Rentabilidade ($)":0}),s.jsxs("tr",{className:"border-b border-gray-600 last:border-b-0",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:Ju[T]||T}),s.jsx("td",{className:"px-4 py-3 text-center",children:M.Trades||"0"}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(M["Win Rate (%)"]||0)>=55?"bg-green-900 text-green-300":(M["Win Rate (%)"]||0)>=45?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:P(M["Win Rate (%)"],!0)})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(M["Profit Factor"]||0)>=1.5?"bg-green-900 text-green-300":(M["Profit Factor"]||0)>=1?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:P(M["Profit Factor"])})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-900 text-green-300",children:P(M["Average Win"],!1,!0)})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-900 text-red-300",children:P(M["Average Loss"],!1,!0)})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(M["Rentabilidade ($)"]||0)>0?"bg-green-900 text-green-300":(M["Rentabilidade ($)"]||0)<0?"bg-red-900 text-red-300":"bg-gray-900 text-gray-300"}`,children:P(M["Rentabilidade ($)"],!1,!0)})})]},T)})})]})})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-lg p-5 mb-6 shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-orange-500 bg-opacity-20 p-2 rounded-full mr-3",children:s.jsx($i,{className:"w-6 h-6 text-orange-400"})}),s.jsx("h3",{className:"font-semibold text-lg",children:"Anlise Semanal"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>v(!y),className:"px-3 py-1.5 bg-gray-600 hover:bg-gray-500 rounded text-xs font-medium text-gray-300 hover:text-white",children:y?"Visualizao em Tabela":"Visualizao em Calendrio"}),s.jsx("button",{onClick:()=>u(!d),className:"p-1.5 hover:bg-gray-600 rounded",children:d?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]})]}),d&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[S&&s.jsxs("div",{className:"bg-green-900 bg-opacity-20 border border-green-800 p-4 rounded-lg shadow-md",children:[s.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-green-400",children:[s.jsx(kn,{className:"w-5 h-5 mr-2"}),"Melhor Semana: ",Xu(S.Week)]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),s.jsx("p",{className:"text-lg font-medium",children:S.Trades||"0"})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),s.jsx("p",{className:"text-lg font-medium text-green-400",children:P(S["Win Rate (%)"],!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),s.jsx("p",{className:"text-lg font-medium text-green-400",children:P(S["Profit Factor"])})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mdia Ganho"}),s.jsx("p",{className:"text-lg font-medium text-green-400",children:P(S["Average Win"],!1,!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mdia Perda"}),s.jsx("p",{className:"text-lg font-medium text-red-400",children:P(S["Average Loss"],!1,!0)})]})]})]}),E&&s.jsxs("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 p-4 rounded-lg shadow-md",children:[s.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-red-400",children:[s.jsx(ut,{className:"w-5 h-5 mr-2"}),"Pior Semana: ",Xu(E.Week)]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),s.jsx("p",{className:"text-lg font-medium",children:E.Trades||"0"})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),s.jsx("p",{className:"text-lg font-medium text-red-400",children:P(E["Win Rate (%)"],!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),s.jsx("p",{className:"text-lg font-medium text-red-400",children:P(E["Profit Factor"])})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mdia Ganho"}),s.jsx("p",{className:"text-lg font-medium text-green-400",children:P(E["Average Win"],!1,!0)})]}),s.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mdia Perda"}),s.jsx("p",{className:"text-lg font-medium text-red-400",children:P(E["Average Loss"],!1,!0)})]})]})]})]}),y?A():s.jsx("div",{className:"overflow-x-auto bg-gray-700 rounded-lg p-4 shadow-md",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left rounded-l-lg",children:"Semana"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Trades"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Taxa de Acerto"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Fator de Lucro"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Mdia Ganho"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Mdia Perda"}),s.jsx("th",{className:"px-4 py-3 text-center rounded-r-lg",children:"Rentabilidade"})]})}),s.jsx("tbody",{children:(k==null?void 0:k.Stats)&&Object.entries(k.Stats).sort(([T],[M])=>{const z=parseInt(T.replace(/\D/g,""))||0,B=parseInt(M.replace(/\D/g,""))||0;return z-B}).map(([T,M])=>s.jsxs("tr",{className:"border-b border-gray-600 last:border-b-0",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:Xu(T)}),s.jsx("td",{className:"px-4 py-3 text-center",children:M.Trades||"0"}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(M["Win Rate (%)"]||0)>=55?"bg-green-900 text-green-300":(M["Win Rate (%)"]||0)>=45?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:P(M["Win Rate (%)"],!0)})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(M["Profit Factor"]||0)>=1.5?"bg-green-900 text-green-300":(M["Profit Factor"]||0)>=1?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:P(M["Profit Factor"])})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-900 text-green-300",children:P(M["Average Win"],!1,!0)})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-900 text-red-300",children:P(M["Average Loss"],!1,!0)})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(M["Rentabilidade ($)"]||0)>0?"bg-green-900 text-green-300":(M["Rentabilidade ($)"]||0)<0?"bg-red-900 text-red-300":"bg-gray-900 text-gray-300"}`,children:P(M["Rentabilidade ($)"],!1,!0)})})]},T))})]})})]})]})]})]})}function rc({children:e,title:t,description:r="Esta seo est disponvel apenas para usurios PRO",requiredPlan:n="Pro"}){const{profile:a}=Lt(),i=At(),o=Kt.useMemo(()=>{if(!(a!=null&&a.plan))return!1;const c=a.plan.toLowerCase();return n==="Pro"?c.includes("pro"):n==="Pro 2"?c.includes("pro 2")||c.includes("pro 3"):n==="Pro 3"?c.includes("pro 3"):n==="Starter"?c.includes("pro")||c.includes("pro 1")||c.includes("pro 2")||c.includes("pro 3"):!1},[a==null?void 0:a.plan,n]),l=()=>{i("/subscription")};return o?s.jsx(s.Fragment,{children:e}):s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-gray-700",children:s.jsxs("h2",{className:"text-lg font-medium flex items-center",children:[s.jsx(Gh,{className:"w-5 h-5 text-gray-400 mr-2"}),t]})}),s.jsxs("div",{className:"p-8 flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"bg-gray-700 p-4 rounded-full mb-4",children:s.jsx(Gh,{className:"w-12 h-12 text-gray-400"})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Contedo Exclusivo PRO"}),s.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:r}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 p-4 rounded-lg mb-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(ys,{className:"w-5 h-5 text-yellow-400 mr-2"}),s.jsx("h4",{className:"font-medium text-white",children:"Benefcios do Plano PRO"})]}),s.jsxs("ul",{className:"text-sm text-blue-100 space-y-2",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx(We,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0"}),s.jsx("span",{children:"Acesso a todas as anlises avanadas"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(We,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0"}),s.jsx("span",{children:"Anlise emocional e perfil de trader"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(We,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0"}),s.jsx("span",{children:"Correlao entre estratgias"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(We,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0"}),s.jsx("span",{children:"Anlise de eventos especiais"})]})]})]}),s.jsxs("button",{onClick:l,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[s.jsx(ys,{className:"w-5 h-5 mr-2"}),"Fazer Upgrade para PRO"]})]})]})}const QJ=e=>{if(!e)return{};const t=e["Performance Metrics"];if(!t)return{};const r=e.trades||[];console.log(` Dados recebidos | trades: ${r.length}`);let n=0,a=0,i=0,o=0,l=0,c=0,d=0;r.length>0&&r.forEach(f=>{const p=Number(f.pnl)||0;d+=p,p>0?(n++,i+=p,l=Math.max(l,p)):p<0&&(a++,o+=Math.abs(p),c=Math.max(c,Math.abs(p)))});const u=n>0?i/n:void 0,h=a>0?o/a:void 0,m=r.length>0?d/r.length:void 0;return{profitFactor:t["Profit Factor"],payoff:t.Payoff,winRate:t["Win Rate (%)"],maxDrawdown:t["Max Drawdown ($)"],maxDrawdownAmount:t["Max Drawdown ($)"],netProfit:t["Net Profit"],grossProfit:t["Gross Profit"]??i,grossLoss:t["Gross Loss"]??o,totalTrades:t["Total Trades"]??(r.length||void 0),profitableTrades:t["Winning Trades"]??(t["Win Rate (%)"]!==void 0&&(t["Total Trades"]??r.length)?Math.round(Number(t["Win Rate (%)"])*Number(t["Total Trades"]??r.length)/100):n||void 0),lossTrades:t["Losing Trades"]??(t["Win Rate (%)"]!==void 0&&(t["Total Trades"]??r.length)?Math.max(0,Number(t["Total Trades"]??r.length)-Math.round(Number(t["Win Rate (%)"])*Number(t["Total Trades"]??r.length)/100)):a||void 0),averageWin:t["Average Win"]??u,averageLoss:t["Average Loss"]??h,sharpeRatio:t["Sharpe Ratio"],recoveryFactor:t["Recovery Factor"],averageTrade:t["Net Profit"]!==void 0&&(t["Total Trades"]??r.length)?Number(t["Net Profit"])/Number((t["Total Trades"]??r.length)||1):m,averageTradeDuration:t["Time in Market"],maxConsecutiveWins:t["Max Consecutive Wins"],maxConsecutiveLosses:t["Max Consecutive Losses"],maiorGanho:t["Max Trade Gain"]??l,maiorPerda:t["Max Trade Loss"]??c}};function ZJ({fileResults:e,showIndividualResults:t,setShowIndividualResults:r}){const[n,a]=g.useState([]),i=d=>{a(u=>u.includes(d)?u.filter(h=>h!==d):[...u,d])},o=d=>d==null||isNaN(Number(d))?"N/A":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(d)),l=d=>d==null||isNaN(Number(d))?"N/A":`${Number(d).toFixed(2)}%`,c=d=>d>0?"text-green-400":d<0?"text-red-400":"text-gray-400";return!e||Object.keys(e).length===0?null:s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-500 bg-opacity-20 p-2 rounded-full mr-3",children:s.jsx(es,{className:"w-6 h-6 text-blue-400"})}),s.jsxs("h3",{className:"font-semibold text-lg text-white",children:["Resultados Individuais (",Object.keys(e).length," arquivos)"]})]}),s.jsx("button",{onClick:()=>r(!t),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:t?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]}),t&&s.jsx("div",{className:"space-y-4",children:Object.entries(e).map(([d,u])=>{const h=u.error!==void 0,m=typeof u.error=="string"?u.error:JSON.stringify(u.error??"")||"",f=u["Performance Metrics"],p=u.info_arquivo,y=Number(f==null?void 0:f["Sharpe Ratio"])||0;return s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-gray-600 p-2 rounded-full mr-3",children:s.jsx(es,{className:"w-4 h-4 text-gray-300"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-white",children:d}),p&&s.jsxs("p",{className:"text-sm text-gray-400",children:[p.total_registros," registros"]})]})]}),s.jsx("button",{onClick:()=>i(d),className:"p-1 hover:bg-gray-600 rounded",children:n.includes(d)?s.jsx(at,{className:"w-4 h-4 text-gray-400"}):s.jsx(He,{className:"w-4 h-4 text-gray-400"})})]}),h?s.jsx("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 p-4 rounded-lg",children:s.jsx("p",{className:"text-red-400 text-sm",children:m})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 mb-4",children:f&&Object.keys(f).length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Pt,{className:"w-4 h-4 text-green-400 mr-1"}),s.jsx("span",{className:"text-xs text-gray-400",children:"Lucro Lquido"})]}),s.jsx("p",{className:`text-lg font-semibold ${c(Number(f==null?void 0:f["Net Profit"])||0)}`,children:o(Number(f==null?void 0:f["Net Profit"]))})]}),s.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Hh,{className:"w-4 h-4 text-blue-400 mr-1"}),s.jsx("span",{className:"text-xs text-gray-400",children:"Total Trades"})]}),s.jsx("p",{className:"text-lg font-semibold text-white",children:(f==null?void 0:f["Total Trades"])??"N/A"})]}),s.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Pt,{className:"w-4 h-4 text-green-400 mr-1"}),s.jsx("span",{className:"text-xs text-gray-400",children:"Win Rate"})]}),s.jsx("p",{className:"text-lg font-semibold text-green-400",children:l(Number(f==null?void 0:f["Win Rate (%)"]))})]}),s.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(nl,{className:"w-4 h-4 text-red-400 mr-1"}),s.jsx("span",{className:"text-xs text-gray-400",children:"Max Drawdown"})]}),s.jsx("p",{className:"text-lg font-semibold text-red-400",children:o(Number(f==null?void 0:f["Max Drawdown ($)"]))})]}),s.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Hh,{className:"w-4 h-4 text-yellow-400 mr-1"}),s.jsx("span",{className:"text-xs text-gray-400",children:"Fator de Lucro"})]}),s.jsx("p",{className:`text-lg font-semibold ${(Number(f==null?void 0:f["Profit Factor"])||0)>=1?"text-green-400":"text-red-400"}`,children:isNaN(Number(f==null?void 0:f["Profit Factor"]))?"N/A":Number(f==null?void 0:f["Profit Factor"]).toFixed(2)})]}),s.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Pt,{className:"w-4 h-4 text-purple-400 mr-1"}),s.jsx("span",{className:"text-xs text-gray-400",children:"Sharpe Ratio"})]}),s.jsx("p",{className:`text-lg font-semibold ${y>=1?"text-green-400":y>=0?"text-yellow-400":"text-red-400"}`,children:isNaN(y)?"N/A":y.toFixed(2)})]})]}):s.jsx("div",{className:"col-span-full text-sm text-gray-400",children:"Sem mtricas disponveis"})}),n.includes(d)&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[(()=>{var v,x;return console.log(` Trades para ${d}:`,((v=u.trades)==null?void 0:v.length)||0),console.log(` Dados completos para ${d}:`,{hasTrades:!!u.trades,tradesLength:((x=u.trades)==null?void 0:x.length)||0,hasMetrics:!!u["Performance Metrics"],metrics:u["Performance Metrics"]}),null})(),s.jsx(lP,{metrics:QJ(u),tradeObject:{trades:(u.trades||[]).map(v=>({symbol:v.symbol,entry_date:String(v.entry_date??v.date??""),exit_date:String(v.exit_date??v.entry_date??v.date??""),pnl:Number(v.pnl)||0}))},showTitle:!1})]})]})]},d)})})]})}function eX({mode:e,description:t,fileCount:r,files:n,selectedFiles:a,backtestResult:i,onReset:o}){var u,h,m;const l=((u=i==null?void 0:i["Performance Metrics"])==null?void 0:u["Total Trades"])||0,c=((h=i==null?void 0:i["Performance Metrics"])==null?void 0:h["Net Profit"])||0,d=((m=i==null?void 0:i["Performance Metrics"])==null?void 0:m["Win Rate (%)"])||0;return s.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-6 border border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(es,{className:"w-5 h-5 text-blue-400"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium",children:["Modo: ",e]}),s.jsx("p",{className:"text-sm text-gray-400",children:t})]})]}),r>0&&s.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Hh,{className:"w-4 h-4 text-green-400"}),s.jsxs("span",{className:"text-gray-300",children:[l," trades"]})]}),s.jsxs("div",{className:"text-gray-300",children:["P&L:                 ",s.jsx("span",{className:c>=0?"text-green-400":"text-red-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c||0)})]}),s.jsxs("div",{className:"text-gray-300",children:["Taxa: ",s.jsxs("span",{className:"text-blue-400",children:[d==null?void 0:d.toFixed(1),"%"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[e==="Individual"&&a.length>0&&s.jsx("div",{className:"text-xs text-gray-500",children:a.map((f,p)=>s.jsx("span",{className:"inline-block bg-gray-700 px-2 py-1 rounded mr-1 mb-1",children:f.replace(".csv","")},p))}),s.jsxs("button",{onClick:o,className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded-md text-sm flex items-center space-x-1",title:"Resetar filtros",children:[s.jsx(kr,{className:"w-4 h-4"}),s.jsx("span",{children:"Reset"})]})]})]})})}function tX({showPositionSizing:e,setShowPositionSizing:t,backtestResult:r}){const[n,a]=g.useState(""),i=u=>{const m=[u.symbol,u.asset,u.ativo,u.ticker,u.instrument].find(f=>typeof f=="string"&&f.trim().length>0)||"";return String(m).trim().toUpperCase()},o=g.useMemo(()=>{const h=((r==null?void 0:r.trades)??[]).map(m=>i(m)).filter(m=>m&&m.trim().length>0);return Array.from(new Set(h)).sort()},[r==null?void 0:r.trades]),l=u=>u&&/^[A-Z]{4}[0-9]$/.test(u.toUpperCase())?"stock":"future",c=g.useCallback(()=>{const u=(r==null?void 0:r.trades)??[],h=n?u.filter(T=>i(T)===n.trim().toUpperCase()):u,m=T=>{if(T==null)return 0;if(typeof T=="number"&&isFinite(T))return T;if(typeof T=="string"){const M=T.trim(),z=/^\(.*\)$/.test(M),F=M.replace(/[R$]|\s+/g,"").match(/-?[0-9]+([.,][0-9]+)?/);if(!F)return 0;const K=F[0].replace(",",".");let Y=Number(K);return z&&(Y=-Math.abs(Y)),isNaN(Y)?0:Y}return 0},f=T=>{const M=["quantity_total","quantity_compra","quantity_venda","quantity_buy","quantity_sell","qty_buy","qty_sell","quantity","qty","position_size","size","volume","contracts","contratos","qtd_contratos","quantidade_contratos","qtd_total","quantidade_total","quantidade","tamanho_posicao","tamanho","lot","lote","position"];for(const F of M)if(F in T){const K=m(T[F]);if(K>0)return K}let z=0;Object.keys(T).forEach(F=>{if(/qty|quant|contrat|size|posi|vol/i.test(F)){const K=m(T[F]);K>z&&(z=K)}});const B=Math.max(m("qty_buy"in T?T.qty_buy:"quantity_buy"in T?T.quantity_buy:void 0),m("qty_sell"in T?T.qty_sell:"quantity_sell"in T?T.quantity_sell:void 0));return z=Math.max(z,B),z>0?z:0},p=T=>{const M=["pnl","PnL","resultado","profit","net","net_profit","netProfit","retorno","gain","result","resultado_trade"];for(const F of M)if(F in T){const K=T[F],Y=m(K);if(!isNaN(Y))return Y}const z=(F,K=0)=>{if(!(!F||typeof F!="object"||K>2))for(const[Y,W]of Object.entries(F)){if(/pnl|profit|result|retorno|ganho|perda|net/i.test(Y)){const te=m(W);if(!isNaN(te)&&te!==0)return te}if(W&&typeof W=="object"){const te=z(W,K+1);if(te!==void 0)return te}}},B=z(T);return B!==void 0?B:0},y=h.map(T=>{const M=Math.abs(m(f(T)));return{...T,positionSize:M}}).filter(T=>T.positionSize>0);if(y.length===0)return{averagePosition:0,medianPosition:0,maxPosition:0,maxSetupPerDay:0,resultByPosition:[],unit:"contratos",totalVolume:0,standardDeviation:0,riskConcentration:0,smallPositionsRatio:0,totalTrades:0,uniqueDays:0};const v=y.map(T=>l(T.symbol??"")),b=v.filter(T=>T==="stock").length>v.length/2?"aes":"contratos",j=y.map(T=>T.positionSize),N=j.reduce((T,M)=>T+M,0)/j.length,w=[...j].sort((T,M)=>T-M),_=w[Math.floor(w.length/2)],k=Math.max(...j),S={};y.forEach(T=>{if(T.entry_date){const M=new Date(T.entry_date).toDateString();S[M]=(S[M]||0)+T.positionSize}});const E=Object.keys(S).length>0?Math.max(...Object.values(S)):0,C=[{label:"1",min:1,max:1},{label:"2",min:2,max:2},{label:"3-5",min:3,max:5},{label:"6-10",min:6,max:10},{label:"11-20",min:11,max:20},{label:"21-50",min:21,max:50},{label:"51-100",min:51,max:100},{label:"> 100",min:101,max:1/0}].map(T=>{const M=y.filter(Q=>Q.positionSize>=T.min&&Q.positionSize<=T.max),z=M.reduce((Q,re)=>Q+p(re),0),B=M.length,F=j.length>0?B/j.length*100:0,K=M.filter(Q=>p(Q)>0),Y=M.filter(Q=>p(Q)<0),W=K.reduce((Q,re)=>Q+p(re),0),te=Math.abs(Y.reduce((Q,re)=>Q+p(re),0)),ie=B>0?K.length/B*100:0,D=te>0?W/te:W>0?999:0,R=K.length>0?W/K.length:0,q=Y.length>0?te/Y.length:0,X=q>0?R/q:R>0?999:0;return{position:T.label,result:z,count:B,percentage:Math.round(F*10)/10,winRate:Math.round(ie*10)/10,profitFactor:Math.round(D*100)/100,payoff:Math.round(X*100)/100}}).filter(T=>T.count>0),A=j.reduce((T,M)=>T+M,0),O=j.length>0?Math.sqrt(j.reduce((T,M)=>T+Math.pow(M-N,2),0)/j.length):0,$=Math.max(...j),L=A>0?$/A*100:0,H=j.filter(T=>T<=2).length,U=j.length>0?H/j.length*100:0;return{averagePosition:Math.round(N),medianPosition:Math.round(_),maxPosition:Math.round(k),maxSetupPerDay:Math.round(E),resultByPosition:C,unit:b,totalVolume:Math.round(A),standardDeviation:Math.round(O*100)/100,riskConcentration:Math.round(L*10)/10,smallPositionsRatio:Math.round(U*10)/10,totalTrades:j.length,uniqueDays:Object.keys(S).length}},[r==null?void 0:r.trades,n]),d=g.useMemo(()=>c(),[c]);return r?s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hh,{className:"w-5 h-5 text-green-400 mr-2"}),s.jsx("h2",{className:"text-lg font-medium",children:"Dimensionamento de Posio"})]}),s.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]}),e?s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Posio Mdia"}),s.jsxs("p",{className:"text-xl font-bold",children:[d.averagePosition.toLocaleString("pt-BR")," ",d.unit]})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Mediana"}),s.jsxs("p",{className:"text-xl font-bold",children:[d.medianPosition.toLocaleString("pt-BR")," ",d.unit]})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Mxima"}),s.jsxs("p",{className:"text-xl font-bold",children:[d.maxPosition.toLocaleString("pt-BR")," ",d.unit]})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Giro mdio dirio"}),s.jsxs("p",{className:"text-xl font-bold",children:[d.maxSetupPerDay.toLocaleString("pt-BR")," ",d.unit]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-300",children:["Distribuio por ",d.unit==="aes"?"Aes":"Contratos"]}),o.length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Ativo:"}),s.jsxs("select",{value:n,onChange:u=>a(u.target.value),className:"bg-gray-700 text-sm text-gray-200 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-gray-600",children:[s.jsx("option",{value:"",children:"Todos"}),o.map(u=>s.jsx("option",{value:u,children:u},u))]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-700",children:[s.jsx("th",{className:"px-3 py-2 text-left",children:d.unit==="aes"?"Aes":"Contratos"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Trades"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"%"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Fator de Lucro"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Taxa de Acerto"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Payoff"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Resultado"})]})}),s.jsx("tbody",{children:d.resultByPosition.map((u,h)=>s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"px-3 py-2 font-medium",children:u.position}),s.jsx("td",{className:"px-3 py-2 text-center",children:u.count}),s.jsx("td",{className:"px-3 py-2 text-center text-blue-400 font-medium",children:`${u.percentage}%`}),s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsx("span",{className:u.profitFactor>=1.5?"text-green-400":u.profitFactor>=1?"text-yellow-400":"text-red-400",children:u.profitFactor.toFixed(2)})}),s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsxs("span",{className:u.winRate>=60?"text-green-400":u.winRate>=45?"text-yellow-400":"text-red-400",children:[u.winRate.toFixed(1),"%"]})}),s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsx("span",{className:u.payoff>=1.5?"text-green-400":u.payoff>=1?"text-yellow-400":"text-red-400",children:u.payoff.toFixed(2)})}),s.jsx("td",{className:`px-3 py-2 text-right font-medium ${u.result>0?"text-green-400":u.result<0?"text-red-400":"text-gray-300"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u.result)})]},h))})]})}),s.jsx("div",{className:"mt-4 p-3 bg-green-900 bg-opacity-20 border border-green-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Pt,{className:"w-5 h-5 text-green-400 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-300 mb-2",children:"Insights de Posicionamento"}),s.jsxs("ul",{className:"text-sm text-green-200 space-y-1",children:[s.jsxs("li",{children:[" ",d.smallPositionsRatio,"% das operaes usam posies pequenas (2 ",d.unit,")"]}),s.jsxs("li",{children:[" Desvio padro de ",d.standardDeviation," indica ",d.standardDeviation<2?"baixa":d.standardDeviation<5?"moderada":"alta"," variao nos tamanhos"]}),s.jsxs("li",{children:[" Melhor performance por posio: ",d.resultByPosition.length>0?d.resultByPosition.reduce((u,h)=>h.profitFactor>u.profitFactor?h:u).position:"N/A"," ",d.unit," com fator de lucro ",d.resultByPosition.length>0?d.resultByPosition.reduce((u,h)=>h.profitFactor>u.profitFactor?h:u).profitFactor.toFixed(2):"N/A"]}),s.jsx("li",{children:" Consistncia: posies com taxa de acerto acima de 60% oferecem melhor estabilidade"})]})]})]})})]}):s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Posio Mdia"}),s.jsxs("p",{className:"text-xl font-bold",children:[d.averagePosition.toLocaleString("pt-BR")," ",d.unit]})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Mediana"}),s.jsxs("p",{className:"text-xl font-bold",children:[d.medianPosition.toLocaleString("pt-BR")," ",d.unit]})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Mxima"}),s.jsxs("p",{className:"text-xl font-bold",children:[d.maxPosition.toLocaleString("pt-BR")," ",d.unit]})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Giro mdio dirio"}),s.jsxs("p",{className:"text-xl font-bold",children:[d.maxSetupPerDay.toLocaleString("pt-BR")," ",d.unit]})]})]})})]}):null}function rX({showTradeDuration:e,setShowTradeDuration:t,backtestResult:r}){if(!r)return null;const a=(()=>{const i=(r==null?void 0:r.trades)||[];if(i.length===0)return{averageDuration:"0h 0m",medianDuration:"0h 0m",maxDuration:"0h 0m",resultByDuration:[]};const o=i.map(y=>{const v=new Date(y.entry_date),b=(new Date(y.exit_date).getTime()-v.getTime())/(1e3*60*60);return{...y,durationHours:b}}),l=o.map(y=>y.durationHours),c=l.reduce((y,v)=>y+v,0)/l.length,d=[...l].sort((y,v)=>y-v),u=d[Math.floor(d.length/2)],h=Math.max(...l),m=y=>{const v=Math.floor(y),x=Math.floor((y-v)*60);return`${v}h ${x}m`},p=[{label:"< 15min",min:0,max:.25},{label:"15-30min",min:.25,max:.5},{label:"30min - 1h",min:.5,max:1},{label:"1h - 2h",min:1,max:2},{label:"2h - 4h",min:2,max:4},{label:"4h - 9h",min:4,max:9},{label:"9h - 24h",min:9,max:24},{label:"24h - 72h",min:24,max:72},{label:"72h - 168h",min:72,max:168},{label:"> 168h",min:168,max:1/0}].map(y=>{const v=o.filter(C=>C.durationHours>=y.min&&C.durationHours<y.max);if(v.length===0)return{duration:y.label,result:0,count:0,profitFactor:0,winRate:0,payoff:0};const x=v.reduce((C,A)=>C+(A.pnl||0),0),b=v.filter(C=>(C.pnl||0)>0),j=v.filter(C=>(C.pnl||0)<0),N=b.length/v.length*100,w=b.reduce((C,A)=>C+(A.pnl||0),0),_=Math.abs(j.reduce((C,A)=>C+(A.pnl||0),0)),k=_>0?w/_:w>0?999:0,S=b.length>0?w/b.length:0,E=j.length>0?_/j.length:0,P=E>0?S/E:S>0?999:0;return{duration:y.label,result:x,count:v.length,profitFactor:k,winRate:N,payoff:P}}).filter(y=>y.count>0);return{averageDuration:m(c),medianDuration:m(u),maxDuration:m(h),resultByDuration:p}})();return s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Br,{className:"w-5 h-5 text-blue-400 mr-2"}),s.jsx("h2",{className:"text-lg font-medium",children:"Durao dos Trades"})]}),s.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]}),e&&s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Durao Mdia"}),s.jsx("p",{className:"text-xl font-bold",children:a.averageDuration})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Durao Mediana"}),s.jsx("p",{className:"text-xl font-bold",children:a.medianDuration})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Durao Mxima"}),s.jsx("p",{className:"text-xl font-bold",children:a.maxDuration})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-300",children:"Resultado por Durao"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-700",children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Durao"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Trades"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Fator de Lucro"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Taxa de Acerto"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Payoff"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Resultado"})]})}),s.jsx("tbody",{children:a.resultByDuration.map((i,o)=>s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("td",{className:"px-3 py-2",children:i.duration}),s.jsx("td",{className:"px-3 py-2 text-center",children:i.count}),s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsx("span",{className:i.profitFactor>=1.5?"text-green-400":i.profitFactor>=1?"text-yellow-400":"text-red-400",children:i.profitFactor.toFixed(2)})}),s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsxs("span",{className:i.winRate>=60?"text-green-400":i.winRate>=45?"text-yellow-400":"text-red-400",children:[i.winRate.toFixed(1),"%"]})}),s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsx("span",{className:i.payoff>=1.5?"text-green-400":i.payoff>=1?"text-yellow-400":"text-red-400",children:i.payoff.toFixed(2)})}),s.jsx("td",{className:`px-3 py-2 text-right ${i.result>0?"text-green-400":"text-red-400"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.result)})]},o))})]})})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-900 bg-opacity-20 border border-blue-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(or,{className:"w-5 h-5 text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-300 mb-2",children:"Insights de Durao"}),s.jsxs("ul",{className:"text-sm text-blue-200 space-y-1",children:[s.jsx("li",{children:" Trades entre 1-2 horas apresentam melhor resultado"}),s.jsx("li",{children:" Operaes muito curtas (menos de 30 min) tendem a ser negativas"}),s.jsx("li",{children:" Perodo da manh concentra maior volume e melhores resultados"}),s.jsx("li",{children:" Trades no final do dia apresentam maior risco de perda"})]})]})]})})]})]})}function nX(){var Mw;const e=At(),{profile:t,updateTokenBalance:r}=Lt(),[n,a]=g.useState(null),[i,o]=g.useState([]),[l,c]=g.useState(!0),[d,u]=g.useState({}),[h,m]=g.useState(!1),[f,p]=g.useState(!0),[y,v]=g.useState([]),[x,b]=g.useState(!1),[j,N]=g.useState(null),[w,_]=g.useState(null),[k,S]=g.useState(!0),[E,P]=g.useState(!0),[C,A]=g.useState(!1),[O,$]=g.useState(!0),[L,H]=g.useState(!1),[U,T]=g.useState([]),[M,z]=g.useState(!0),[B,F]=g.useState(!1),[K,Y]=g.useState(!1),[W,te]=g.useState(!1),[ie,D]=g.useState(!0),[R,q]=g.useState(!1),[X,I]=g.useState(!0),[Q,re]=g.useState(!0),[he,be]=g.useState(null),[fe,_e]=g.useState(null),[G,ue]=g.useState(null),[ne,se]=g.useState(["Estratgia 1","Estratgia 2","Estratgia 3"]),[we,Ae]=g.useState(["WINFUT","WDOFUT","PETR4","VALE3"]),Qe=g.useRef(null),[xn,ss]=g.useState(!1),[Tt,yn]=g.useState(null),[Fn,Rl]=g.useState(null),[Jd,Ji]=g.useState(null),[Qa,Zs]=g.useState(null),[oe,pe]=g.useState(null);g.useEffect(()=>{(async()=>{if(!d||Object.keys(d).length===0){Zs(null);return}let J=[];if(!l&&i.length>0?i.forEach(Z=>{const le=d[Z];le&&le.trades&&Array.isArray(le.trades)&&J.push(...le.trades)}):he||Object.keys(d).forEach(Z=>{const le=d[Z];le&&le.trades&&Array.isArray(le.trades)&&J.push(...le.trades)}),J.length===0){Zs(null);return}try{const Z=await fetch(wt("/api/trades/metrics-from-data"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trades:J})});if(Z.ok){const le=await Z.json();Zs(le)}else console.error(" Erro ao recalcular mtricas:",Z.status),Zs(null)}catch(Z){console.error(" Erro ao recalcular mtricas:",Z),Zs(null)}})()},[d,l,i,he]);const[it,dr]=g.useState([]),[Bt,wr]=g.useState(""),[jr,zt]=g.useState(null),[Xi,$l]=g.useState(!1),[Il,Za]=g.useState(!1),[Xd,ei]=g.useState(!1),[ur,Qd]=g.useState(""),[Bn,ti]=g.useState([]),[vn,ea]=g.useState(null),[Ut,Qt]=g.useState(null),[ta,Zt]=g.useState(""),[Cw,Pw]=g.useState(!1),[Ew,as]=g.useState(null),[Zd,eu]=g.useState(null),[Qi,tu]=g.useState(null),[ru,P0]=g.useState(null),[nu,E0]=g.useState(null),[ri,A0]=g.useState(null),[ni,T0]=g.useState(null);g.useEffect(()=>{if(w&&!Zd){const V=O0(w),J={trades:Array.isArray(U)?U:[]};eu(V),tu(J)}},[w,Zd,U]),g.useEffect(()=>{w&&!ru&&!nu&&!ri&&(P0(jr),E0(Fn),A0(Tt))},[w,jr,Fn,Tt,ru,nu,ri]),g.useEffect(()=>{var V,J;if(w&&U.length>0&&!ni){const Z={trades:Array.isArray(U)?U:[],backtestResult:w,totalTrades:U.length,netProfit:((V=w["Performance Metrics"])==null?void 0:V["Net Profit"])||0,winRate:((J=w["Performance Metrics"])==null?void 0:J["Win Rate (%)"])||0};T0(Z)}},[w,U,ni]);function Aw(V){const J=new FormData;return J.append("file",V),J}Kt.useMemo(()=>t!=null&&t.plan?t.plan.toLowerCase().includes("pro"):!1,[t==null?void 0:t.plan]),Kt.useMemo(()=>{if(!(t!=null&&t.plan))return!1;const V=t.plan.toLowerCase();return V.includes("starter")||V.includes("pro")},[t==null?void 0:t.plan]),g.useEffect(()=>{(async()=>{try{const{data:{user:J}}=await de.auth.getUser();if(!J)return;const{data:Z,error:le}=await de.from("strategy_analyses").select("*").eq("user_id",J.id).order("created_at",{ascending:!1});if(le)throw le;if(Z&&Z.length>0){const $e=Z.map(ve=>{var Ee,De,Le,Be,qe;const me=ve.analysis_data||{};return{id:ve.id,name:me.name||`Anlise ${ve.id.slice(0,8)}`,createdAt:ve.created_at,updatedAt:ve.updated_at||ve.created_at,backtestResult:me.metrics||{},selectedStrategy:me.selectedStrategy||null,selectedAsset:me.selectedAsset||null,csvContent:me.csvContent||null,availableStrategies:me.availableStrategies||[],availableAssets:me.availableAssets||[],totalTrades:((Ee=me.trades)==null?void 0:Ee.length)||((Le=(De=me.metrics)==null?void 0:De.trades)==null?void 0:Le.length)||((qe=(Be=me.metrics)==null?void 0:Be["Performance Metrics"])==null?void 0:qe["Total Trades"])||0,files:me.files||[],fileResults:me.fileResults||{},individualAnalysisMode:me.individualAnalysisMode??!1,showConsolidated:me.showConsolidated??!0,trades:me.trades||[],filteredTrades:me.filteredTrades||[],tradeSearch:me.tradeSearch||"",emocional:me.emocional||null,analysisResult:me.analysisResult||null,drata:me.drata||null,showMetrics:me.showMetrics??!0,showDailyResults:me.showDailyResults??!1,showDailyAnalysis:me.showDailyAnalysis??!0,showTrades:me.showTrades??!1,showEquityCurve:me.showEquityCurve??!0,showSpecialEvents:me.showSpecialEvents??!1,showCorrelation:me.showCorrelation??!1,showEmotionalProfile:me.showEmotionalProfile??!1,showStrategySelector:me.showStrategySelector??!0,showChat:me.showChat??!0,showPositionSizing:me.showPositionSizing??!0,showTradeDuration:me.showTradeDuration??!0}});ti($e)}}catch(J){console.error("Error loading saved analyses:",J)}})()},[]),g.useEffect(()=>{if(w!=null&&w.trades){let V=[...w.trades];if(he&&he!==""&&(V=V.filter(J=>J.strategy===he)),fe&&fe!==""&&(V=V.filter(J=>J.symbol===fe||!J.symbol)),Bt){const J=Bt.toLowerCase();V=V.filter(Z=>Z.symbol&&Z.symbol.toLowerCase().includes(J)||Z.strategy&&Z.strategy.toLowerCase().includes(J)||Z.entry_date.toLowerCase().includes(J)||Z.exit_date.toLowerCase().includes(J)||Z.pnl.toString().includes(J))}dr(V)}else dr([])},[w==null?void 0:w.trades,fe,Bt]),g.useEffect(()=>{if(w!=null&&w.trades){const V=[...new Set(w.trades.map(J=>J.strategy).filter(Boolean))];se(V)}},[w==null?void 0:w.trades]),g.useEffect(()=>{if(w!=null&&w.trades){const V=[...new Set(w.trades.map(J=>J.symbol).filter(Boolean))];Ae(V)}},[w==null?void 0:w.trades]);const W5=V=>{if(V.target.files&&V.target.files.length>0){const J=Array.from(V.target.files);v(Z=>[...Z,...J]),a(J[0]),N(null)}},H5=V=>{V.preventDefault(),V.stopPropagation()},K5=V=>{if(V.preventDefault(),V.stopPropagation(),V.dataTransfer.files&&V.dataTransfer.files.length>0){const J=Array.from(V.dataTransfer.files);v(Z=>[...Z,...J]),a(J[0]),N(null)}},G5=V=>{v(J=>J.filter((Z,le)=>le!==V))},Y5=async()=>{if(y.length===0){N("Por favor, selecione pelo menos um arquivo CSV para anlise");return}const V=y.filter(J=>{var le;return((le=J.name.split(".").pop())==null?void 0:le.toLowerCase())!=="csv"});if(V.length>0){N(`Os seguintes arquivos no so CSVs vlidos: ${V.map(J=>J.name).join(", ")}`);return}b(!0),N(null),eu(null),tu(null),T0(null);try{let J,Z;if(y.length===1){const ve=await J5(y[0]);ue(ve);const me=new FormData;me.append("file",y[0]),J=await fetch(wt("/api/tabela"),{method:"POST",body:me});try{const Le=await fetch(wt("/api/disciplina-completa"),{method:"POST",body:me}),qe=await(await fetch(wt("/api/trades"),{method:"POST",body:me})).json();if(Le.ok){const Ke=await Le.json();zt(Ke)}else console.warn("Failed to fetch emotional data:",Le.status,Le.statusText),zt(null);const Oe=Array.isArray(qe)?qe:(qe==null?void 0:qe.trades)||[];T(Oe)}catch(Le){console.error("Error fetching emotional data:",Le),zt(null)}if(!J.ok)throw new Error(`Erro na API: ${J.status} ${J.statusText}`);Z=await J.json();const De={[y[0].name]:Z};u(De),Z.dateDirectionCorrelation={correlacao_data_direcao:{resumo:{erro:"Correlao requer pelo menos 2 arquivos"}},correlacao_data_resultado:{resumo:{erro:"Correlao requer pelo menos 2 arquivos"}},info_arquivos:{total_arquivos:1,nomes_arquivos:[y[0].name],tipo_analise:"insuficiente"}},yn(Z)}else if(y.length>=2)try{let ve=null,me=null;const Ee=new FormData;y.forEach(Oe=>{Ee.append("files",Oe)});let De,Le;if(y.length===2){const[Oe,Ke]=await Promise.all([fetch(wt("/api/tabela"),{method:"POST",body:Aw(y[0])}),fetch(wt("/api/tabela"),{method:"POST",body:Aw(y[1])})]);[De,Le]=await Promise.all([Oe.json(),Ke.json()]);const Nt=await fetch(wt("/api/correlacao"),{method:"POST",body:Ee});if(Nt.ok){const bt=await Nt.json();ve=bt,me=bt}}const Be=await fetch(wt("/api/tabela-multipla"),{method:"POST",body:Ee});try{const Oe=await fetch(wt("/api/disciplina-completa"),{method:"POST",body:Ee}),Nt=await(await fetch(wt("/api/trades"),{method:"POST",body:Ee})).json();if(Oe.ok){const Kr=await Oe.json();zt(Kr)}else console.warn("Failed to fetch emotional data:",Oe.status,Oe.statusText),zt(null);const bt=Array.isArray(Nt)?Nt:(Nt==null?void 0:Nt.trades)||[];T(bt)}catch(Oe){console.error("Error fetching emotional data:",Oe),zt(null)}if(!Be.ok)throw new Error("Erro na anlise consolidada");const qe=await Be.json();if(qe.consolidado&&qe.individuais){u(qe.individuais),Z=qe.consolidado;try{if(Z&&Array.isArray(Z.trades))T(Z.trades);else{const Oe=[];Object.keys(qe.individuais).forEach(Ke=>{const Nt=qe.individuais[Ke];Nt&&Array.isArray(Nt.trades)&&Oe.push(...Nt.trades)}),Oe.length>0&&T(Oe)}}catch(Oe){console.warn("No foi possvel definir trades consolidados:",Oe)}}else{if(y.length===1){const Ke={[y[0].name]:qe};u(Ke)}else u({consolidado:qe});Z=qe}if(yn(Z),ve&&y.length===2)Z.correlationAnalysis=ve.correlation_analysis,Z.correlationMetadata=ve.metadata,Z.individualResults={file1:{name:y[0].name,data:De},file2:{name:y[1].name,data:Le}},Ji({correlationAnalysis:ve.correlation_analysis,correlationMetadata:ve.metadata,dateDirectionCorrelation:me});else if(y.length>=3)try{const Oe=await fetch(wt("/api/correlacao"),{method:"POST",body:Ee});if(Oe.ok){const Ke=await Oe.json();Z.correlationMatricial=Ke,Z.dateDirectionCorrelation=Ke,Ji({correlationMatricial:Ke,dateDirectionCorrelation:Ke}),console.log(` Anlise matricial adicionada (${y.length} arquivos)`)}}catch(Oe){console.error("Erro ao chamar API de correlao matricial:",Oe)}me&&Z&&(Z.dateDirectionCorrelation=me,console.log(` Correlao data/direo adicionada (${y.length} arquivos)`)),ue(`Anlise de \${files.length} estratgias: ${y.map(Oe=>Oe.name).join(", ")}`)}catch(ve){console.error("Erro no processamento:",ve)}else{const ve=new FormData;y.forEach(Ee=>{ve.append("files",Ee)});let me=null;try{const Ee=await fetch(wt("/api/correlacao"),{method:"POST",body:ve});Ee.ok&&(me=await Ee.json(),Ji({correlationMatricial:me,dateDirectionCorrelation:me}),console.log(" Correlao matricial obtida para 3+ arquivos"))}catch(Ee){console.error("Erro ao chamar API de correlao:",Ee)}J=await fetch(wt("/api/tabela-multipla"),{method:"POST",body:ve});try{const Ee=await fetch(wt("/api/disciplina-completa"),{method:"POST",body:ve}),Le=await(await fetch(wt("/api/trades"),{method:"POST",body:ve})).json();if(Ee.ok){const qe=await Ee.json();zt(qe)}else console.warn("Failed to fetch emotional data:",Ee.status,Ee.statusText),zt(null);const Be=Array.isArray(Le)?Le:(Le==null?void 0:Le.trades)||[];T(Be),console.log(" DEBUG - Trades carregados:",Be.length),Be.length>0&&console.log(" DEBUG - Primeiro trade:",Be[0])}catch(Ee){console.error("Error fetching emotional data:",Ee),zt(null)}if(!J.ok)throw new Error(`Erro na API: ${J.status} ${J.statusText}`);Z=await J.json();try{if(Z&&Z.consolidado&&Z.individuais){u(Z.individuais);const Ee=Z.consolidado;if(Z=Ee,Array.isArray(Ee.trades))T(Ee.trades);else{const De=[];Object.keys(Z.individuais||{}).forEach(Le=>{const Be=Z.individuais[Le];Be&&Array.isArray(Be.trades)&&De.push(...Be.trades)}),De.length>0&&T(De)}}else Z&&Array.isArray(Z.trades)&&T(Z.trades)}catch(Ee){console.warn("No foi possvel consolidar trades (3+ arquivos):",Ee)}me&&(Z.correlationMatricial=me,Z.dateDirectionCorrelation=me),yn(Z),ue(`Anlise consolidada de ${y.length} arquivos: ${y.map(Ee=>Ee.name).join(", ")}`)}if(Z&&!Z.emotionalAnalysis&&(Z.emotionalAnalysis={stopDisciplineIndex:85.7,dailyLossDisciplineIndex:72.3,leverageDisciplineIndex:91.2,furyProbability:8.5}),Z){if(_(Z),S(!1),q(!0),ea(null),console.log(" CONGELANDO DADOS ORIGINAIS para preservar anlises"),!Zd){const ve=O0(Z);eu(ve),console.log(" Mtricas congeladas:",ve?Object.keys(ve):"null")}if(!Qi){const ve={trades:Array.isArray(U)?U:[]};tu(ve),console.log(" Trades congelados:",ve.trades.length)}if(!ru&&jr&&(P0(jr),console.log(" Dados emocionais congelados")),!nu&&Fn&&(E0(Fn),console.log(" Dados de anlise congelados")),!ri&&Tt&&(A0(Tt),console.log(" Dados drata congelados")),Z.trades&&Z.trades.length>0){const ve=Array.from(new Set(Z.trades.map(me=>me.asset||me.symbol||"Unknown")));ve.length>0&&ve[0]!=="Unknown"&&Ae(ve)}Z.trades&&dr(Z.trades)}se(y.map(ve=>ve.name));const $e=y.length===1?-1e3:y.length===2?-2500:-1500*y.length;await r($e)}catch(J){console.error("Error uploading file:",J),N(J instanceof Error?J.message:"Erro ao processar o arquivo")}finally{b(!1)}},J5=V=>new Promise((J,Z)=>{const le=new FileReader;le.onload=$e=>{var ve;(ve=$e.target)!=null&&ve.result?J($e.target.result):Z(new Error("Failed to read file"))},le.onerror=()=>Z(le.error),le.readAsText(V)}),X5=()=>{v([]),a(null),_(null),N(null),b(!1),ue(""),u({}),o([]),c(!0),be(null),_e(null),wr(""),T([]),dr([]),se([]),Ae([]),Zs(null),Ji(null),eu(null),tu(null),P0(null),T0(null),E0(null),A0(null)},O0=V=>{if(!V)return{};const J=V["Performance Metrics"];if(!J)return{};const Z=V["Day of Week Analysis"],le=V["Monthly Analysis"],$e={};Z!=null&&Z.Stats&&Object.entries(Z.Stats).forEach(([Oe,Ke])=>{$e[Oe.toLowerCase()]={trades:Ke.Trades??0,winRate:Ke["Win Rate (%)"]??0,profitFactor:Ke["Profit Factor"]??0}});const ve={};le!=null&&le.Stats&&Object.entries(le.Stats).forEach(([Oe,Ke])=>{ve[Oe.toLowerCase()]={trades:Ke.Trades??0,winRate:Ke["Win Rate (%)"]??0,profitFactor:Ke["Profit Factor"]??0}}),console.log(" convertToMetricsDashboardFormat - Performance Metrics:",{payoff:J.Payoff,averageWin:J["Average Win"],averageLoss:J["Average Loss"],profitFactor:J["Profit Factor"]});const me=J["Total Trades"],Ee=Array.isArray(V.trades)?V.trades.length:void 0,De=me??Ee,Le=J["Win Rate (%)"],Be=De!==void 0&&Le!==void 0?Math.round(Number(De)*(Number(Le)/100)):void 0,qe=De!==void 0&&Be!==void 0?Math.max(0,Number(De)-Number(Be)):void 0;return{profitFactor:J["Profit Factor"],winRate:Le,payoff:J.Payoff,maxDrawdown:J["Max Drawdown (%)"],maxDrawdownAmount:J["Max Drawdown ($)"],maxDrawdownPadronizado:J["Max Drawdown Padronizado ($)"]??J["Max Drawdown ($)"],maxDrawdownPctPadronizado:J["Max Drawdown Padronizado (%)"]??J["Max Drawdown (%)"],netProfit:J["Net Profit"],grossProfit:J["Gross Profit"],grossLoss:J["Gross Loss"],totalTrades:De,profitableTrades:Be,lossTrades:qe,averageWin:J["Average Win"],averageLoss:J["Average Loss"],sharpeRatio:J["Sharpe Ratio"],averageTrade:J["Net Profit"]!==void 0&&De?Number(J["Net Profit"])/Number(De||1):void 0,averageTradeDuration:J["Time in Market"],dayOfWeekAnalysis:$e,monthlyAnalysis:ve,bestDay:(Z==null?void 0:Z["Best Day"])||null,worstDay:(Z==null?void 0:Z["Worst Day"])||null,bestMonth:(le==null?void 0:le["Best Month"])||null,worstMonth:(le==null?void 0:le["Worst Month"])||null,maxConsecutiveLosses:J["Max Consecutive Losses"],maxConsecutiveWins:J["Max Consecutive Wins"],maiorGanho:J["Max Trade Gain"],maiorPerda:J["Max Trade Loss"],recoveryFactor:J["Recovery Factor"]}},Q5=V=>{console.log("Metrics received from chat:",V),Rl(V)},Z5=async()=>{var V;if(!w){N("Nenhum resultado de backtest disponvel para salvar");return}if(vn)try{const{data:{user:J}}=await de.auth.getUser();if(!J)throw new Error("User not authenticated");const Z={name:(V=Bn.find($e=>$e.id===vn))==null?void 0:V.name,metrics:w,file_name:n==null?void 0:n.name,created_at:new Date().toISOString(),files:y,fileResults:d,individualAnalysisMode:h,showConsolidated:l,trades:U,filteredTrades:it,tradeSearch:Bt,emocional:jr,analysisResult:Fn,drata:Tt,selectedStrategy:he,selectedAsset:fe,csvContent:G,availableStrategies:ne,availableAssets:we,showMetrics:E,showDailyResults:C,showDailyAnalysis:O,showTrades:L,showEquityCurve:M,showSpecialEvents:B,showCorrelation:K,showEmotionalProfile:W,showStrategySelector:ie,showChat:R,showPositionSizing:X,showTradeDuration:Q},{error:le}=await de.from("strategy_analyses").update({analysis_data:Z}).eq("id",vn);if(le)throw le;ti($e=>$e.map(ve=>{var me;return ve.id===vn?{...ve,updatedAt:new Date().toISOString(),backtestResult:w,selectedStrategy:he,selectedAsset:fe,csvContent:G,availableStrategies:ne,availableAssets:we,totalTrades:U.length||((me=w.trades)==null?void 0:me.length)||0,files:y,fileResults:d,individualAnalysisMode:h,showConsolidated:l,trades:U,filteredTrades:it,tradeSearch:Bt,emocional:jr,analysisResult:Fn,drata:Tt,showMetrics:E,showDailyResults:C,showDailyAnalysis:O,showTrades:L,showEquityCurve:M,showSpecialEvents:B,showCorrelation:K,showEmotionalProfile:W,showStrategySelector:ie,showChat:R,showPositionSizing:X,showTradeDuration:Q}:ve})),as("Anlise atualizada com sucesso!"),setTimeout(()=>as(null),3e3)}catch(J){console.error("Error updating analysis:",J),N("Erro ao atualizar anlise")}else $l(!0)},eT=async()=>{var V;if(!(!w||!ur.trim()))try{const{data:{user:J}}=await de.auth.getUser();if(!J)throw new Error("User not authenticated");const Z={name:ur.trim(),metrics:w,file_name:n==null?void 0:n.name,created_at:new Date().toISOString(),files:y,fileResults:d,individualAnalysisMode:h,showConsolidated:l,selectedFiles:i,trades:U,filteredTrades:it,tradeSearch:Bt,emocional:jr,analysisResult:Fn,drata:Tt,selectedStrategy:he,selectedAsset:fe,csvContent:G,availableStrategies:ne,availableAssets:we,showMetrics:E,showDailyResults:C,showDailyAnalysis:O,showTrades:L,showEquityCurve:M,showSpecialEvents:B,showCorrelation:K,showEmotionalProfile:W,showStrategySelector:ie,showChat:R,showPositionSizing:X,showTradeDuration:Q},{data:le,error:$e}=await de.from("strategy_analyses").insert({user_id:J.id,analysis_data:Z}).select().single();if($e)throw $e;const ve={id:le.id,name:ur.trim(),createdAt:le.created_at,updatedAt:le.created_at,backtestResult:w,selectedStrategy:he,selectedAsset:fe,csvContent:G,availableStrategies:ne,availableAssets:we,totalTrades:U.length||((V=w.trades)==null?void 0:V.length)||0,files:y,fileResults:d,individualAnalysisMode:h,showConsolidated:l,selectedFiles:i,trades:U,filteredTrades:it,tradeSearch:Bt,emocional:jr,analysisResult:Fn,drata:Tt,showMetrics:E,showDailyResults:C,showDailyAnalysis:O,showTrades:L,showEquityCurve:M,showSpecialEvents:B,showCorrelation:K,showEmotionalProfile:W,showStrategySelector:ie,showChat:R,showPositionSizing:X,showTradeDuration:Q};ti(me=>[...me,ve]),ea(ve.id),$l(!1),Qd(""),as("Relatrio salvo com sucesso!"),setTimeout(()=>as(null),3e3)}catch(J){console.error("Error saving analysis:",J),N("Erro ao salvar relatrio")}},tT=async V=>{try{if(!V.backtestResult||Object.keys(V.backtestResult).length===0){const{data:J,error:Z}=await de.from("strategy_analyses").select("*").eq("id",V.id).single();if(Z)throw Z;if(J&&J.analysis_data){const le=J.analysis_data;_(le.metrics||V.backtestResult),be(le.selectedStrategy||V.selectedStrategy),_e(le.selectedAsset||V.selectedAsset),ue(le.csvContent||V.csvContent),se(le.availableStrategies||V.availableStrategies||[]),Ae(le.availableAssets||V.availableAssets||[]),v(le.files||V.files||[]),u(le.fileResults||V.fileResults||{}),m(le.individualAnalysisMode??V.individualAnalysisMode??!1),c(le.showConsolidated??V.showConsolidated??!0),o(le.selectedFiles||V.selectedFiles||[]),T(le.trades||V.trades||[]),dr(le.filteredTrades||V.filteredTrades||[]),wr(le.tradeSearch||V.tradeSearch||""),zt(le.emocional||V.emocional||null),Rl(le.analysisResult||V.analysisResult||null),yn(le.drata||V.drata||null),P(le.showMetrics??V.showMetrics??!0),A(le.showDailyResults??V.showDailyResults??!1),$(le.showDailyAnalysis??V.showDailyAnalysis??!0),H(le.showTrades??V.showTrades??!1),z(le.showEquityCurve??V.showEquityCurve??!0),F(le.showSpecialEvents??V.showSpecialEvents??!1),Y(le.showCorrelation??V.showCorrelation??!1),te(le.showEmotionalProfile??V.showEmotionalProfile??!1),D(le.showStrategySelector??V.showStrategySelector??!0),q(le.showChat??V.showChat??!0),I(le.showPositionSizing??V.showPositionSizing??!0),re(le.showTradeDuration??V.showTradeDuration??!0)}}else _(V.backtestResult),be(V.selectedStrategy),_e(V.selectedAsset),ue(V.csvContent),se(V.availableStrategies||[]),Ae(V.availableAssets||[]),v(V.files||[]),u(V.fileResults||{}),m(V.individualAnalysisMode??!1),c(V.showConsolidated??!0),o(V.selectedFiles||[]),T(V.trades||[]),dr(V.filteredTrades||[]),wr(V.tradeSearch||""),zt(V.emocional||null),Rl(V.analysisResult||null),yn(V.drata||null),P(V.showMetrics??!0),A(V.showDailyResults??!1),$(V.showDailyAnalysis??!0),H(V.showTrades??!1),z(V.showEquityCurve??!0),F(V.showSpecialEvents??!1),Y(V.showCorrelation??!1),te(V.showEmotionalProfile??!1),D(V.showStrategySelector??!0),q(V.showChat??!0),I(V.showPositionSizing??!0),re(V.showTradeDuration??!0);if(V.csvContent&&(!V.files||V.files.length===0))try{const J=new Blob([V.csvContent],{type:"text/csv"}),Z=new File([J],`${V.name}.csv`,{type:"text/csv"});v([Z]),a(Z)}catch(J){console.error("Error creating file from saved content:",J)}ea(V.id),S(!1),Za(!1),as("Relatrio carregado com sucesso!"),setTimeout(()=>as(null),3e3)}catch(J){console.error("Error loading analysis:",J),N("Erro ao carregar relatrio")}},rT=async V=>{try{const{error:J}=await de.from("strategy_analyses").delete().eq("id",V);if(J)throw J;ti(Z=>Z.filter(le=>le.id!==V)),vn===V&&ea(null),as("Anlise excluda com sucesso"),setTimeout(()=>as(null),3e3)}catch(J){console.error("Error deleting analysis:",J),N("Erro ao excluir anlise")}},nT=async()=>{try{Pw(!0),N(null);const{data:{user:V}}=await de.auth.getUser();if(!V)throw new Error("User not authenticated");const{error:J}=await de.from("strategy_analyses").delete().eq("user_id",V.id);if(J)throw J;ti([]),ea(null),as("Todas as anlises foram excludas com sucesso"),setTimeout(()=>as(null),3e3)}catch(V){console.error("Error deleting all analyses:",V),N("Erro ao excluir todas as anlises")}finally{Pw(!1)}},sT=(V,J)=>{Qt(V),Zt(J),ei(!0)},aT=async()=>{if(!(!Ut||!ta.trim()))try{if(!Bn.find(ve=>ve.id===Ut))return;const{data:J,error:Z}=await de.from("strategy_analyses").select("*").eq("id",Ut).single();if(Z)throw Z;const le={...J.analysis_data,name:ta.trim()},{error:$e}=await de.from("strategy_analyses").update({analysis_data:le}).eq("id",Ut);if($e)throw $e;ti(ve=>ve.map(me=>me.id===Ut?{...me,name:ta.trim(),updatedAt:new Date().toISOString()}:me)),ei(!1),Qt(null),Zt("")}catch(V){console.error("Error renaming analysis:",V),N("Erro ao renomear anlise")}};g.useEffect(()=>{y.length>0&&o(y.map(V=>V.name))},[y]),g.useEffect(()=>{w&&y.length>1},[i,l,w,y]);const Tw=()=>w?(console.log(" Sempre retornando backtestResult original para preservar anlises completas"),w):null,iT=()=>l?{mode:"Consolidado",description:`Anlise consolidada de ${y.length} arquivo(s)`,fileCount:y.length}:{mode:"Individual",description:`${i.length} arquivo(s) selecionado(s)`,fileCount:i.length},M0=()=>{o(y.map(V=>V.name)),c(!0),m(!1),be(null),_e(null),wr(""),setTimeout(()=>{Ow()},100)},Ow=async()=>{if(vn){console.log("Skipping reloadFilteredData - loading saved analysis");return}if(y.length===0){console.log("Skipping reloadFilteredData - no files available");return}try{b(!0),N(null);let V,J;if(l||y.length===1)if(y.length===1){const Z=new FormData;Z.append("file",y[0]),V=await fetch(wt("/api/tabela"),{method:"POST",body:Z})}else{const Z=new FormData;y.forEach(le=>{Z.append("files",le)}),V=await fetch(wt("/api/tabela-multipla"),{method:"POST",body:Z})}else{const Z=y.filter($e=>i.includes($e.name));if(Z.length===0){_(null),dr([]);return}const le=new FormData;Z.forEach($e=>{le.append("files",$e)}),V=await fetch(wt("/api/tabela-multipla"),{method:"POST",body:le})}if(!V.ok)throw new Error(`Erro na API: ${V.status} ${V.statusText}`);J=await V.json(),J.emotionalAnalysis||(J.emotionalAnalysis={stopDisciplineIndex:85.7,dailyLossDisciplineIndex:72.3,leverageDisciplineIndex:91.2,furyProbability:8.5}),_(J)}catch(V){console.error("Error reloading filtered data:",V),N(V instanceof Error?V.message:"Erro ao filtrar dados")}finally{b(!1)}};g.useEffect(()=>{if(!k&&y.length>0&&!vn&&i.length>0&&i.length!==y.length){const J=setTimeout(()=>{Ow()},300);return()=>clearTimeout(J)}},[i,y.length,vn]);const oT=V=>{console.log(" setSelectedStrategy chamado:",{newValue:V,previousValue:he}),be(V)};return g.useEffect(()=>{console.log(" selectedStrategy mudou:",he)},[he]),s.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[s.jsx(ns,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Voltar para robs",children:s.jsx(Gs,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-2xl font-bold",children:"Anlise de Backtest"}),vn&&s.jsx("span",{className:"px-2 py-1 bg-green-600 text-green-100 text-xs rounded-full",children:"Salvo"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[!k&&w&&s.jsx("div",{className:"bg-gray-800 rounded-lg p-3 mb-4 border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"text-gray-300",children:[l?` Mostrando anlise consolidada de ${y.length} arquivo(s)`:` Mostrando anlise de ${i.length} arquivo(s) selecionado(s)`,he&&` | Estratgia: ${he}`,fe&&` | Ativo: ${fe}`]}),s.jsxs("div",{className:"text-blue-400",children:[((Mw=w["Performance Metrics"])==null?void 0:Mw["Total Trades"])||0," trades"]})]})}),s.jsxs("button",{onClick:()=>Za(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[s.jsx(P6,{className:"w-4 h-4 mr-2"}),"Carregar Anlise",Bn.length>0&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-800 text-blue-100 text-xs rounded-full",children:Bn.length})]}),!k&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:Z5,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-md flex items-center",children:[s.jsx(id,{className:"w-4 h-4 mr-2"}),"Salvar Relatrio"]}),s.jsx("button",{onClick:X5,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Analisar Outro Arquivo"})]})]})]}),Bn.length>0&&s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ut,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-red-400 font-medium",children:["Voc tem ",Bn.length," anlises salvas"]}),s.jsx("p",{className:"text-red-300 text-sm",children:"Deseja excluir todas as anlises para liberar espao?"})]})]}),s.jsx("button",{onClick:nT,disabled:Cw,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md flex items-center",children:Cw?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"w-4 h-4 mr-2 animate-spin"}),"Excluindo..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Excluir Todas"]})})]})}),Ew&&s.jsxs("div",{className:"mb-6 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center",children:[s.jsx(yt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("p",{className:"text-green-500",children:Ew})]}),j&&s.jsxs("div",{className:"mb-6 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center",children:[s.jsx(ut,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),s.jsx("p",{className:"text-red-500",children:j})]}),R&&s.jsx(rc,{title:"Chat com IA",description:"Consulte a IA para obter insights detalhados sobre seu backtest. Disponvel apenas para usurios PRO.",requiredPlan:"Pro",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:[s.jsx("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:s.jsx("div",{className:"flex items-center",children:s.jsx("h2",{className:"text-lg font-medium",children:"Chat com IA"})})}),s.jsx("div",{className:"p-4 h-[600px]",children:s.jsx(cP,{isAnalyzing:xn,setIsAnalyzing:ss,onCancelAnalysis:()=>{},error:oe,setError:pe,analysisResult:nu||Fn,onMetricsReceived:Q5,backtestData:w})})]})}),!k&&s.jsx(D8,{selectedStrategy:he,setSelectedStrategy:oT,selectedAsset:fe,setSelectedAsset:_e,availableStrategies:ne,availableAssets:we,setShowUploadForm:S,files:y,selectedFiles:i,setSelectedFiles:o,showConsolidated:l,setShowConsolidated:c,onResetFilters:M0,trades:U,fileResults:d}),k?s.jsx(M8,{files:y,setFiles:v,error:j,isLoading:x,handleFileChange:W5,handleDragOver:H5,handleDrop:K5,handleRemoveFile:G5,handleUpload:Y5,fileInputRef:Qe}):s.jsxs(s.Fragment,{children:[w&&s.jsxs("div",{className:"space-y-6",children:[(()=>{let V;if(l&&d&&Object.keys(d).length>1){console.log(" CALCULANDO MTRICAS CONSOLIDADAS PARA EQUITY CURVE SECTION");const J=[];if(Object.keys(d).forEach(Z=>{const le=d[Z];le&&le.trades&&Array.isArray(le.trades)&&J.push(...le.trades)}),console.log(` Total de trades coletados para Equity Curve: ${J.length}`),J.length>0){const Z=J.sort((Nt,bt)=>{const Kr=new Date(Nt.exit_date||Nt.entry_date||Nt.date),D0=new Date(bt.exit_date||bt.entry_date||bt.date);return Kr.getTime()-D0.getTime()});let le=0,$e=0,ve=0,me=0,Ee=0,De=0,Le=0;Z.forEach(Nt=>{const bt=Nt.pnl||0;me+=bt,bt>0?(Ee+=bt,Le++):De+=Math.abs(bt),le+=bt,le>$e&&($e=le);const Kr=$e-le;Kr>ve&&(ve=Kr)});const Be=Z.length,qe=Be>0?Le/Be*100:0,Oe=De>0?Ee/De:0,Ke=me/1e5*100;V={resultado:me,maxDrawdown:ve,maxDrawdownPercent:$e>0?ve/$e*100:0,avgDrawdown:0,fatorLucro:Oe,winRate:qe,roi:Ke,pontosComDados:Be},console.log(" MTRICAS CONSOLIDADAS CALCULADAS PARA EQUITY CURVE:",{resultado:me,maxDrawdown:ve,maxDrawdownPercent:$e>0?ve/$e*100:0,fatorLucro:Oe,winRate:qe,roi:Ke,totalTrades:Be})}}return s.jsx(BJ,{showEquityCurve:M,setShowEquityCurve:z,selectedStrategy:he,selectedAsset:fe,fileResults:d,data:{...ri||Tt,recalculatedMetrics:Qa},showConsolidated:l,selectedFiles:i,files:y,consolidatedMetrics:V})})(),Object.keys(d).length>0&&s.jsxs("div",{className:"bg-green-900 bg-opacity-20 border border-green-800 rounded-lg p-2 mb-4 text-xs",children:[s.jsxs("p",{className:"text-green-300",children:[" Debug: fileResults com ",Object.keys(d).length," arquivos"]}),s.jsxs("p",{className:"text-green-300",children:[" selectedStrategy: ",he||"null"]}),s.jsxs("p",{className:"text-green-300",children:[" Arquivos: ",Object.keys(d).join(", ")]}),s.jsxs("p",{className:"text-green-300",children:[" availableStrategies: ",ne.join(", ")]}),s.jsxs("p",{className:"text-green-300",children:[" showConsolidated: ",l?"true":"false"]}),s.jsxs("p",{className:"text-green-300",children:[" selectedFiles: ",i.join(", ")]}),s.jsxs("p",{className:"text-green-300",children:[" files: ",y.length," arquivos"]})]}),s.jsx(R8,{sampleTrades:U}),s.jsx(rc,{title:"Anlise Dir",description:"Acesse anlises detalhadas por dia da semana, ms e horrio. Disponvel apenas para usurios PRO.",requiredPlan:"Pro",children:s.jsx(XJ,{showDailyAnalysis:O,setShowDailyAnalysis:$,backtestResult:Tw(),tradesData:{trades:it.length>0?it:U},fileResults:d})}),s.jsx("div",{children:(()=>{const V=Zd||O0(w),J=(Qa==null?void 0:Qa.metricas_principais)||(Tt==null?void 0:Tt.metricas_principais)||(ri==null?void 0:ri.metricas_principais);let Z,le;try{if(d&&Object.keys(d).length>0){const De=Bm(d);Z=De==null?void 0:De.maxDrawdownAbsoluto,le=De==null?void 0:De.maxDrawdownPercent}}catch{}const ve=(De=>{if(!De||De.length===0)return;const Le=new Map;De.forEach(bt=>{const Kr=new Date(bt.entry_date).toISOString().split("T")[0],D0=Le.get(Kr)||0;Le.set(Kr,D0+(bt.pnl||0))});const Be=Array.from(Le.values());if(Be.length===0)return;const qe=Be.reduce((bt,Kr)=>bt+Kr,0)/Be.length,Oe=Be.reduce((bt,Kr)=>bt+Math.pow(Kr-qe,2),0)/Be.length,Ke=Math.sqrt(Oe),Nt=.12/365;return Ke<=0?0:(qe-Nt)/Ke})(Array.isArray(U)?U:[]),me=Z!==void 0?Number(Z)/1e5*100:le??(J==null?void 0:J.drawdown_maximo_pct)??(V==null?void 0:V.maxDrawdown),Ee={...V,sharpeRatio:(ve!==void 0?ve:J==null?void 0:J.sharpe_ratio)??(V==null?void 0:V.sharpeRatio),recoveryFactor:(J==null?void 0:J.fator_recuperacao)??(V==null?void 0:V.recoveryFactor),maxDrawdownAmount:Z??(J==null?void 0:J.drawdown_maximo)??(V==null?void 0:V.maxDrawdownAmount),maxDrawdown:me};return s.jsx(lP,{metrics:Ee,tradeObject:{trades:Array.isArray(U)?U:[]},showTitle:!0})})()}),Object.keys(d).length>1&&s.jsx(ZJ,{fileResults:d,showIndividualResults:f,setShowIndividualResults:p}),s.jsx(rc,{title:"Perfil Emocional",description:"Analise seu perfil emocional de trading com mtricas de disciplina e controle. Disponvel apenas para usurios PRO.",requiredPlan:"Pro",children:s.jsx(KJ,{emotionalMetrics:ru||jr,showEmotionalProfile:W,setShowEmotionalProfile:te})}),s.jsx(rc,{title:"Eventos Especiais",description:"Analise o impacto de eventos econmicos em seus resultados. Disponvel apenas para usurios PRO.",requiredPlan:"Pro",children:s.jsx(UJ,{showSpecialEvents:B,setShowSpecialEvents:F,tadesData:ni||Qi||{trades:Array.isArray(U)?U:[]}})}),s.jsx(tX,{showPositionSizing:X,setShowPositionSizing:I,backtestResult:ni||Qi||{trades:Array.isArray(U)?U:[]}}),console.log(" DEBUG - PositionSizing recebendo dados consolidados congelados:",ni?ni.trades.length:Qi?Qi.trades.length:U.length),s.jsx(rX,{showTradeDuration:Q,setShowTradeDuration:re,backtestResult:ni||Qi||{trades:Array.isArray(U)?U:[]}})]}),s.jsx("div",{className:"mb-8"}),s.jsx(rc,{title:"Anlise de Correlao",description:"Compare a correlao entre diferentes estratgias para otimizar seu portflio. Disponvel apenas para usurios PRO.",requiredPlan:"Pro",children:s.jsx(qJ,{showCorrelation:K,setShowCorrelation:Y,backtestResult:Jd||w,fileResults:d,onResetCorrelation:M0,isUsingOriginalData:!!Jd})}),y.length>0&&s.jsx(eX,{...iT(),files:y,selectedFiles:i,backtestResult:Tw(),onReset:M0})]})]}),s.jsx(VJ,{showSaveModal:Xi,setShowSaveModal:$l,saveName:ur,setSaveName:Qd,confirmSaveAnalysis:eT}),s.jsx(WJ,{showLoadModal:Il,setShowLoadModal:Za,savedAnalyses:Bn,handleRenameAnalysis:sT,handleLoadAnalysis:tT,handleDeleteAnalysis:rT}),s.jsx(HJ,{showRenameModal:Xd,setShowRenameModal:ei,renameName:ta,setRenameName:Zt,confirmRenameAnalysis:aT,setRenameAnalysisId:Qt})]})}const V5=e=>new Promise(t=>setTimeout(t,e));async function sX(e,t=3,r=1e3){var a,i;let n=0;for(;n<t;)try{return await e()}catch(o){if(n++,n>=t)throw o;const l=o instanceof Error&&"response"in o&&((i=(a=o.response)==null?void 0:a.headers)==null?void 0:i["retry-after"]),c=l?parseInt(l)*1e3:r*Math.pow(2,n-1);await V5(c)}throw new Error("Max retries reached")}function E_(e){console.log("Extracting structured data from text:",e);const t={summary:"",marketConditions:{bestFor:[],worstFor:[]},riskAnalysis:{riskLevel:"Mdio",keyRisks:[],mitigationStrategies:[]},optimizationSuggestions:[],tradingPlan:{entryRules:[],exitRules:[],positionSizing:"",timeManagement:""}},r=e.match(/resumo:?\s*([\s\S]*?)(?=condies|mercado|$)/i);if(r&&r[1])t.summary=r[1].trim();else{const f=e.split(`

`)[0];f&&(t.summary=f.trim())}const n=e.match(/melhores\s*condies|condies\s*ideais|mercados?\s*ideais?:?\s*([\s\S]*?)(?=piores|condies\s*ruins|$)/i);if(n&&n[1]){const f=n[1].match(/[-*]\s*([^\n]+)/g);if(f)t.marketConditions.bestFor=f.map(p=>p.replace(/[-*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=n[1].split(`
`).filter(y=>y.trim().length>0);p.length>0&&(t.marketConditions.bestFor=p.map(y=>y.trim()))}}const a=e.match(/piores\s*condies|condies\s*ruins|mercados?\s*ruins?:?\s*([\s\S]*?)(?=anlise|risco|$)/i);if(a&&a[1]){const f=a[1].match(/[-*]\s*([^\n]+)/g);if(f)t.marketConditions.worstFor=f.map(p=>p.replace(/[-*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=a[1].split(`
`).filter(y=>y.trim().length>0);p.length>0&&(t.marketConditions.worstFor=p.map(y=>y.trim()))}}const i=e.match(/nvel\s*de\s*risco:?\s*([^\n,\.]+)/i);i&&i[1]&&(t.riskAnalysis.riskLevel=i[1].trim());const o=e.match(/riscos?\s*principais?|principais\s*riscos?:?\s*([\s\S]*?)(?=estratgias?|mitigao|$)/i);if(o&&o[1]){const f=o[1].match(/[-*]\s*([^\n]+)/g);if(f)t.riskAnalysis.keyRisks=f.map(p=>p.replace(/[-*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=o[1].split(`
`).filter(y=>y.trim().length>0);p.length>0&&(t.riskAnalysis.keyRisks=p.map(y=>y.trim()))}}const l=e.match(/estratgias?\s*de\s*mitigao|mitigao\s*de\s*riscos?:?\s*([\s\S]*?)(?=sugestes|otimizao|$)/i);if(l&&l[1]){const f=l[1].match(/[-*]\s*([^\n]+)/g);if(f)t.riskAnalysis.mitigationStrategies=f.map(p=>p.replace(/[-*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=l[1].split(`
`).filter(y=>y.trim().length>0);p.length>0&&(t.riskAnalysis.mitigationStrategies=p.map(y=>y.trim()))}}const c=e.match(/sugestes\s*de\s*otimizao|otimizao|melhorias:?\s*([\s\S]*?)(?=plano|trading|$)/i);if(c&&c[1]){const f=c[1].match(/[-*]\s*([^\n]+)/g);if(f)t.optimizationSuggestions=f.map(p=>p.replace(/[-*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=c[1].split(`
`).filter(y=>y.trim().length>0);p.length>0&&(t.optimizationSuggestions=p.map(y=>y.trim()))}}const d=e.match(/regras?\s*de\s*entrada:?\s*([\s\S]*?)(?=regras?\s*de\s*sada|$)/i);if(d&&d[1]){const f=d[1].match(/[-*]\s*([^\n]+)/g);if(f)t.tradingPlan.entryRules=f.map(p=>p.replace(/[-*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=d[1].split(`
`).filter(y=>y.trim().length>0);p.length>0&&(t.tradingPlan.entryRules=p.map(y=>y.trim()))}}const u=e.match(/regras?\s*de\s*sada:?\s*([\s\S]*?)(?=dimensionamento|posio|$)/i);if(u&&u[1]){const f=u[1].match(/[-*]\s*([^\n]+)/g);if(f)t.tradingPlan.exitRules=f.map(p=>p.replace(/[-*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=u[1].split(`
`).filter(y=>y.trim().length>0);p.length>0&&(t.tradingPlan.exitRules=p.map(y=>y.trim()))}}const h=e.match(/dimensionamento\s*de\s*posio|tamanho\s*de\s*posio|position\s*sizing:?\s*([^\n]+)/i);h&&h[1]&&(t.tradingPlan.positionSizing=h[1].trim());const m=e.match(/gerenciamento\s*de\s*tempo|horrios:?\s*([^\n]+)/i);return m&&m[1]&&(t.tradingPlan.timeManagement=m[1].trim()),t.summary||(t.summary="Estratgia com potencial para ser otimizada"),t.marketConditions.bestFor.length===0&&(t.marketConditions.bestFor=["Mercados em tendncia","Volatilidade moderada"]),t.marketConditions.worstFor.length===0&&(t.marketConditions.worstFor=["Mercados lateralizados","Volatilidade extrema"]),t.riskAnalysis.keyRisks.length===0&&(t.riskAnalysis.keyRisks=["Drawdown em perodos de alta volatilidade","Falsos sinais em mercados lateralizados"]),t.riskAnalysis.mitigationStrategies.length===0&&(t.riskAnalysis.mitigationStrategies=["Implementar stop loss adequado","Filtrar sinais com indicadores adicionais"]),t.optimizationSuggestions.length===0&&(t.optimizationSuggestions=["Otimizar parmetros dos indicadores","Adicionar filtros para reduzir falsos sinais"]),t.tradingPlan.entryRules.length===0&&(t.tradingPlan.entryRules=["Entrar quando houver confirmao de tendncia","Verificar volume antes de entrar"]),t.tradingPlan.exitRules.length===0&&(t.tradingPlan.exitRules=["Sair quando o preo atingir o alvo de lucro","Sair quando o stop loss for atingido"]),t.tradingPlan.positionSizing||(t.tradingPlan.positionSizing="Aplicar regra de 2% de risco por trade: Position Size = Account Risk  Trade Risk. Mximo 1% de risco por operao para gesto conservadora."),t.tradingPlan.timeManagement||(t.tradingPlan.timeManagement="Operar nos horrios de maior liquidez do mercado"),t}function aX(){const e=At(),{profile:t,updateTokenBalance:r}=Lt(),[n,a]=g.useState(""),[i,o]=g.useState(!1),[l,c]=g.useState(null),[d,u]=g.useState(null),[h,m]=g.useState(!0),[f,p]=g.useState(!0),[y,v]=g.useState(!0),[x,b]=g.useState(!0),[j,N]=g.useState(0),[w,_]=g.useState([]),[k,S]=g.useState(!1),[E,P]=g.useState(!0),[C,A]=g.useState(!1),[O,$]=g.useState(null),[L,H]=g.useState(null),[U,T]=g.useState(0);g.useEffect(()=>{M()},[]),g.useEffect(()=>{let D=null;return i&&L?D=setInterval(()=>{const R=Math.floor((Date.now()-L)/1e3);T(R)},1e3):i||(T(0),H(null)),()=>{D&&clearInterval(D)}},[i,L]);const M=async()=>{try{S(!0);const{data:D,error:R}=await de.from("strategy_analyses").select("*").order("created_at",{ascending:!1}).limit(5);if(R)throw R;_(D||[])}catch(D){console.error("Error loading saved analyses:",D)}finally{S(!1)}},z=async()=>{var R;if(!n.trim()){c("Por favor, descreva sua estratgia antes de analisar.");return}o(!0),c(null),A(!0),H(Date.now());const D=setTimeout(()=>{i&&(c("A anlise demorou muito tempo e foi cancelada. A API OpenAI pode estar sobrecarregada. Por favor, tente novamente mais tarde."),o(!1))},12e4);$(D);try{if(((t==null?void 0:t.token_balance)||0)<1e3){c("Saldo de tokens insuficiente. Esta anlise requer 1000 tokens. Clique no contador de tokens para comprar mais."),o(!1),clearTimeout(D),$(null);return}const X=void 0;if(!X)throw new Error("Assistant ID no configurado.");const I=await nn.beta.threads.create();await nn.beta.threads.messages.create(I.id,{role:"user",content:`Analise a seguinte estratgia de trading e fornea uma anlise detalhada, incluindo condies de mercado ideais, anlise de risco, sugestes de otimizao e um plano de trading estruturado.

Estratgia:
${n}

Por favor, fornea uma anlise estruturada com sees claras para:
1. Resumo da estratgia
2. Condies de mercado ideais e ruins
3. Anlise de risco (nvel, riscos principais, estratgias de mitigao)
4. Sugestes de otimizao
5. Plano de trading (regras de entrada, regras de sada, dimensionamento de posio, gerenciamento de tempo)

IMPORTANTE sobre Position Sizing:
- Aplique a regra de 2% de risco por trade: Position Size = Account Risk  Trade Risk
- Recomende mximo 1% de risco por operao para gesto conservadora
- Considere o tipo de ativo (aes vs futuros) para determinar o tamanho da posio
- Inclua consideraes sobre leverage e margem

NO retorne um objeto JSON. Apenas fornea uma anlise de texto clara e bem estruturada com sees.`});const Q=await nn.beta.threads.runs.create(I.id,{assistant_id:X});let re;do if(await V5(1e3),re=await nn.beta.threads.runs.retrieve(I.id,Q.id),console.log(`Run status: ${re.status}`),re.status==="failed")throw new Error("Analysis run failed: "+(((R=re.last_error)==null?void 0:R.message)||"Unknown error"));while(re.status!=="completed");const be=(await nn.beta.threads.messages.list(I.id)).data.find(G=>G.role==="assistant");if(!be)throw new Error("No response from assistant");const fe=be.content[0];if(fe.type!=="text")throw new Error("Unexpected response format");const _e=fe.text.value;console.log("Received text content:",_e);try{const G=E_(_e);u(G),await Y(G),await r(-1e3)}catch(G){throw console.error("Error parsing response:",G),new Error(`Erro ao processar a resposta da anlise: ${G.message}`)}}catch(q){console.error("Error analyzing strategy:",q);const X=q instanceof Error?q.message:"Erro ao analisar a estratgia.";c(X),X.includes("Rate limit")&&N(I=>I+1)}finally{o(!1),O&&(clearTimeout(O),$(null))}},B=async()=>{if(!n.trim()){c("Por favor, descreva sua estratgia antes de analisar.");return}o(!0),c(null),A(!0),H(Date.now());const D=setTimeout(()=>{i&&(c("A anlise demorou muito tempo e foi cancelada. A API OpenAI pode estar sobrecarregada. Por favor, tente novamente mais tarde."),o(!1))},12e4);$(D);try{if(((t==null?void 0:t.token_balance)||0)<1e3){c("Saldo de tokens insuficiente. Esta anlise requer 1000 tokens. Clique no contador de tokens para comprar mais."),o(!1),clearTimeout(D),$(null);return}const q=`
Analise a seguinte estratgia de trading e fornea uma anlise detalhada, incluindo condies de mercado ideais, anlise de risco, sugestes de otimizao e um plano de trading estruturado.

Estratgia:
${n}

Por favor, fornea uma anlise estruturada com sees claras para:
1. Resumo da estratgia
2. Condies de mercado ideais e ruins
3. Anlise de risco (nvel, riscos principais, estratgias de mitigao)
4. Sugestes de otimizao
5. Plano de trading (regras de entrada, regras de sada, dimensionamento de posio, gerenciamento de tempo)

IMPORTANTE sobre Position Sizing:
- Aplique a regra de 2% de risco por trade: Position Size = Account Risk  Trade Risk
- Recomende mximo 1% de risco por operao para gesto conservadora
- Considere o tipo de ativo (aes vs futuros) para determinar o tamanho da posio
- Inclua consideraes sobre leverage e margem

NO retorne um objeto JSON. Apenas fornea uma anlise de texto clara e bem estruturada com sees.`,I=(await sX(async()=>{var Q,re;try{const he=await nn.chat.completions.create({model:"gpt-4",messages:[{role:"assistant",content:"Voc  um especialista em anlise de estratgias de trading. Fornea anlises detalhadas e estruturadas."},{role:"user",content:q}],temperature:.2});return N(0),he}catch(he){if(console.error("OpenAI API error:",he),he.status===429){const be=((re=(Q=he.response)==null?void 0:Q.headers)==null?void 0:re["retry-after"])||8;throw new Error(`Rate limit atingido. Tentando novamente em ${be} segundos...`)}throw he}},3,2e3)).choices[0].message.content;if(!I)throw new Error("Resposta vazia da API.");console.log("OpenAI response content:",I);try{const Q=E_(I);u(Q),await Y(Q),await r(-1e3)}catch(Q){throw console.error("Error parsing response:",Q),new Error(`Erro ao processar a resposta da anlise: ${Q.message}`)}}catch(R){console.error("Error analyzing strategy:",R);const q=R instanceof Error?R.message:"Erro ao analisar a estratgia.";c(q),q.includes("Rate limit")&&N(X=>X+1)}finally{o(!1),O&&(clearTimeout(O),$(null))}},F=async()=>{E?await z():await B()},K=()=>{O&&(clearTimeout(O),$(null)),o(!1),c("Anlise cancelada pelo usurio.")},Y=async D=>{try{const{data:{user:R}}=await de.auth.getUser();if(!R)return;const{error:q}=await de.from("strategy_analyses").insert({user_id:R.id,analysis_data:D});if(q)throw q;await M()}catch(R){console.error("Error saving analysis to database:",R)}},W=()=>{if(!d)return;const D=`
# Anlise de Estratgia de Trading

## Resumo
${d.summary}

## Condies de Mercado
### Melhores Condies
${d.marketConditions.bestFor.map(I=>`- ${I}`).join(`
`)}

### Piores Condies
${d.marketConditions.worstFor.map(I=>`- ${I}`).join(`
`)}

## Anlise de Risco
Nvel de Risco: ${d.riskAnalysis.riskLevel}

### Riscos Principais
${d.riskAnalysis.keyRisks.map(I=>`- ${I}`).join(`
`)}

### Estratgias de Mitigao
${d.riskAnalysis.mitigationStrategies.map(I=>`- ${I}`).join(`
`)}

## Sugestes de Otimizao
${d.optimizationSuggestions.map(I=>`- ${I}`).join(`
`)}

## Plano de Trading
### Regras de Entrada
${d.tradingPlan.entryRules.map(I=>`- ${I}`).join(`
`)}

### Regras de Sada
${d.tradingPlan.exitRules.map(I=>`- ${I}`).join(`
`)}

### Dimensionamento de Posio
${d.tradingPlan.positionSizing}

### Gerenciamento de Tempo
${d.tradingPlan.timeManagement}

Relatrio gerado em: ${new Date().toLocaleString()}
`,R=new Blob([D],{type:"text/plain"}),q=URL.createObjectURL(R),X=document.createElement("a");X.href=q,X.download="analise-estrategia.txt",document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(q)},te=D=>{const R=D.toLowerCase();return R.includes("alto")||R.includes("elevado")?s.jsx("span",{className:"text-red-400",children:"Alto - Recomendado para traders experientes"}):R.includes("mdio")||R.includes("moderado")?s.jsx("span",{className:"text-yellow-400",children:"Mdio - Adequado para traders intermedirios"}):R.includes("baixo")?s.jsx("span",{className:"text-green-400",children:"Baixo - Adequado para iniciantes"}):s.jsx("span",{children:D})},ie=D=>{u(D),A(!0)};return s.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[s.jsx(ns,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Voltar para robs",children:s.jsx(Gs,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-2xl font-bold",children:"Anlise de Estratgia"})]}),i&&s.jsxs("div",{className:"flex items-center bg-blue-900 bg-opacity-20 px-4 py-2 rounded-md",children:[s.jsx(kr,{className:"w-4 h-4 mr-2 animate-spin text-blue-400"}),s.jsxs("span",{className:"text-blue-300",children:["Analisando... ",U,"s"]})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Usar Assistente:"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:E,onChange:()=>P(!E),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[s.jsx(es,{className:"w-5 h-5 text-blue-400 mr-2"}),"Descreva sua Estratgia"]}),s.jsx("textarea",{value:n,onChange:D=>a(D.target.value),placeholder:"Descreva sua estratgia de trading em detalhes. Inclua informaes sobre indicadores utilizados, regras de entrada e sada, gerenciamento de risco, timeframes, etc.",className:"w-full h-64 bg-gray-700 border border-gray-600 rounded-lg p-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),l&&!C&&s.jsxs("div",{className:"mt-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center text-red-500",children:[s.jsx(ut,{className:"w-5 h-5 mr-2 flex-shrink-0"}),s.jsx("p",{children:l}),l.includes("Rate limit")&&s.jsxs("p",{className:"text-sm mt-1",children:["Tentativa ",j,"/3. Aguarde alguns segundos e tente novamente."]})]}),s.jsx("button",{onClick:F,disabled:!n.trim()||i,className:`w-full mt-4 py-2 rounded-md flex items-center justify-center ${!n.trim()||i?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:i?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"w-5 h-5 mr-2 animate-spin"}),"Analisando..."]}):s.jsxs(s.Fragment,{children:[s.jsx($i,{className:"w-5 h-5 mr-2"}),"Analisar Estratgia"]})}),s.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Esta anlise consumir 1000 tokens"})]}),w.length>0&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[s.jsx(ad,{className:"w-5 h-5 text-blue-400 mr-2"}),"Anlises Recentes"]}),s.jsx("div",{className:"space-y-3",children:w.map((D,R)=>s.jsxs("button",{onClick:()=>ie(D.analysis_data),className:"w-full p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left flex items-center",children:[s.jsx(es,{className:"w-5 h-5 text-blue-400 mr-3 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"font-medium truncate",children:["Anlise ",R+1]}),s.jsx("p",{className:"text-xs text-gray-400",children:new Date(D.created_at).toLocaleString()})]})]},R))})]}),C&&s.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden h-[500px] mb-6",children:s.jsx(cP,{isAnalyzing:i,setIsAnalyzing:o,onCancelAnalysis:K,error:l,setError:c,analysisResult:d})}),!C&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[s.jsx($S,{className:"w-5 h-5 text-yellow-400 mr-2"}),"Dicas para Descrio"]}),s.jsxs("div",{className:"space-y-4 text-gray-300",children:[s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium mb-1",children:"Inclua os Indicadores"}),s.jsx("p",{className:"text-sm",children:"Descreva quais indicadores tcnicos sua estratgia utiliza (ex: mdias mveis, RSI, Bollinger Bands)."})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium mb-1",children:"Regras de Entrada e Sada"}),s.jsx("p",{className:"text-sm",children:"Explique claramente o que dispara suas entradas e sadas no mercado."})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium mb-1",children:"Gerenciamento de Risco"}),s.jsx("p",{className:"text-sm",children:"Detalhe como voc define stop loss, take profit e tamanho das posies."})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium mb-1",children:"Timeframes e Mercados"}),s.jsx("p",{className:"text-sm",children:"Mencione em quais timeframes e mercados voc aplica esta estratgia."})]}),s.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium mb-1",children:"Filtros e Condies"}),s.jsx("p",{className:"text-sm",children:"Descreva quaisquer filtros ou condies especiais que voc usa para melhorar a qualidade dos sinais."})]})]})]})]}),s.jsx("div",{className:"lg:col-span-2",children:d?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[s.jsx(es,{className:"w-5 h-5 text-blue-400 mr-2"}),"Resumo da Estratgia"]}),s.jsx("p",{className:"text-gray-300",children:d.summary})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[s.jsx(Pt,{className:"w-5 h-5 text-blue-400 mr-2"}),"Condies de Mercado"]}),s.jsx("button",{onClick:()=>m(!h),className:"p-1.5 hover:bg-gray-700 rounded-md",children:h?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]}),h&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[s.jsx("h5",{className:"text-sm font-medium mb-2 text-green-400",children:"Melhores Condies"}),s.jsx("ul",{className:"space-y-1.5",children:d.marketConditions.bestFor.map((D,R)=>s.jsxs("li",{className:"flex items-start text-sm",children:[s.jsx(yt,{className:"w-4 h-4 text-green-500 mr-1.5 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:D})]},R))})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[s.jsx("h5",{className:"text-sm font-medium mb-2 text-red-400",children:"Piores Condies"}),s.jsx("ul",{className:"space-y-1.5",children:d.marketConditions.worstFor.map((D,R)=>s.jsxs("li",{className:"flex items-start text-sm",children:[s.jsx(ut,{className:"w-4 h-4 text-red-500 mr-1.5 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:D})]},R))})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[s.jsx(ut,{className:"w-5 h-5 text-yellow-500 mr-2"}),"Anlise de Risco"]}),s.jsx("button",{onClick:()=>p(!f),className:"p-1.5 hover:bg-gray-700 rounded-md",children:f?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]}),f&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Nvel de Risco"}),s.jsx("div",{className:`inline-block px-2 py-1 rounded-full text-sm font-medium ${d.riskAnalysis.riskLevel.toLowerCase().includes("alto")?"bg-red-500 bg-opacity-20 text-red-400":d.riskAnalysis.riskLevel.toLowerCase().includes("mdio")?"bg-yellow-500 bg-opacity-20 text-yellow-400":"bg-green-500 bg-opacity-20 text-green-400"}`,children:te(d.riskAnalysis.riskLevel)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Riscos Principais"}),s.jsx("ul",{className:"space-y-2",children:d.riskAnalysis.keyRisks.map((D,R)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(ut,{className:"w-5 h-5 text-yellow-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:D})]},R))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Estratgias de Mitigao"}),s.jsx("ul",{className:"space-y-2",children:d.riskAnalysis.mitigationStrategies.map((D,R)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(yt,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:D})]},R))})]})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[s.jsx(We,{className:"w-5 h-5 text-purple-400 mr-2"}),"Sugestes de Otimizao"]}),s.jsx("button",{onClick:()=>v(!y),className:"p-1.5 hover:bg-gray-700 rounded-md",children:y?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]}),y&&s.jsx("div",{className:"space-y-3",children:d.optimizationSuggestions.map((D,R)=>s.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-purple-600 rounded-full w-6 h-6 flex items-center justify-center text-white font-medium mr-3 flex-shrink-0",children:R+1}),s.jsx("p",{children:D})]})},R))})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[s.jsx(ad,{className:"w-5 h-5 text-blue-400 mr-2"}),"Plano de Trading"]}),s.jsx("button",{onClick:()=>b(!x),className:"p-1.5 hover:bg-gray-700 rounded-md",children:x?s.jsx(at,{className:"w-5 h-5 text-gray-400"}):s.jsx(He,{className:"w-5 h-5 text-gray-400"})})]}),x&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Regras de Entrada"}),s.jsx("ul",{className:"space-y-2",children:d.tradingPlan.entryRules.map((D,R)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"bg-green-600 rounded-full w-6 h-6 flex items-center justify-center text-white font-medium mr-2 flex-shrink-0",children:R+1}),s.jsx("span",{children:D})]},R))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Regras de Sada"}),s.jsx("ul",{className:"space-y-2",children:d.tradingPlan.exitRules.map((D,R)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"bg-red-600 rounded-full w-6 h-6 flex items-center justify-center text-white font-medium mr-2 flex-shrink-0",children:R+1}),s.jsx("span",{children:D})]},R))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Dimensionamento de Posio"}),s.jsx("p",{children:d.tradingPlan.positionSizing})]}),s.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Gerenciamento de Tempo"}),s.jsx("p",{children:d.tradingPlan.timeManagement})]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[s.jsxs("button",{onClick:W,className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center justify-center",children:[s.jsx(Wi,{className:"w-5 h-5 mr-2"}),"Baixar Relatrio"]}),s.jsxs("button",{onClick:()=>{e("/robots")},className:"flex-1 py-2 px-4 bg-green-600 hover:bg-green-700 rounded-md flex items-center justify-center",children:[s.jsx(rl,{className:"w-5 h-5 mr-2"}),"Consultar IA para Melhorias"]})]})]}):s.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 flex flex-col items-center justify-center text-center h-full",children:[s.jsx($i,{className:"w-16 h-16 text-gray-600 mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Nenhuma anlise disponvel"}),s.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:"Descreva sua estratgia de trading para receber uma anlise detalhada e recomendaes personalizadas."})]})})]})]})]})}function iX(){const e=At(),t=[{id:"free",name:"Free",price:"R$ 0,00",description:"Ideal para iniciantes explorarem a plataforma",features:["At 5 robs de trading","100 tokens iniciais","Acesso  comunidade","Documentao completa","Suporte bsico"],popular:!1,cta:"Comear Grtis"},{id:"pro1",name:"PRO 1",price:"R$ 259,80/ms",description:"Para traders que esto comeando a automatizar",features:["At 25 robs de trading","5.000 tokens mensais","Anlise de backtest bsica","Acesso  comunidade","Suporte por email"],popular:!1,cta:"Escolher Plano"},{id:"pro2",name:"PRO 2",price:"R$ 499,80/ms",description:"Para traders srios que buscam resultados",features:["At 100 robs de trading","12.500 tokens mensais","Anlise de backtest avanada","Suporte prioritrio","Acesso a indicadores exclusivos","API para integrao"],popular:!0,cta:"Escolher Plano"},{id:"pro3",name:"PRO 3",price:"R$ 999,80/ms",description:"Para traders profissionais e equipes",features:["Robs ilimitados","30.000 tokens mensais","Anlise de backtest avanada","Suporte dedicado","Acesso a todos os recursos","API para integrao","Opes de white-label"],popular:!1,cta:"Escolher Plano"}],r=[{tokens:"2.500",price:"R$ 99,80",popular:!1},{tokens:"7.500",price:"R$ 259,80",popular:!0},{tokens:"25.000",price:"R$ 799,80",popular:!1}],n=()=>{e("/?signup=true")},a=()=>{const o=encodeURIComponent("Ol vim do DevHub Trader e quero mais informaes sobre os planos");window.open(`https://wa.me/5511975333355?text=${o}`,"_blank")};return s.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[s.jsx("nav",{className:"border-b border-gray-800",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>e("/"),children:[s.jsx(ht,{className:"w-8 h-8 text-blue-500"}),s.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"DevHub Trader"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e("/?login=true"),className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Entrar"}),s.jsxs("button",{onClick:()=>e("/?signup=true"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center",children:["Cadastrar ",s.jsx(dh,{className:"w-4 h-4 ml-2"})]})]})]})})}),s.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 py-16",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Planos para Todos os Perfis de Trader"}),s.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Escolha o plano ideal para suas necessidades de trading automatizado e comece a criar robs com assistncia de IA hoje mesmo."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx("button",{onClick:n,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md font-medium text-lg",children:"Comear Gratuitamente"}),s.jsx("button",{onClick:a,className:"px-6 py-3 bg-white text-blue-900 hover:bg-gray-100 rounded-md font-medium text-lg",children:"Falar com Especialista"})]})]})}),s.jsx("div",{className:"py-16",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Nossos Planos"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Escolha o plano que melhor se adapta s suas necessidades de trading"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(i=>s.jsxs("div",{className:`bg-gray-800 rounded-lg overflow-hidden ${i.popular?"ring-2 ring-blue-500 transform scale-105 z-10":""}`,children:[i.popular&&s.jsx("div",{className:"bg-blue-600 text-center py-2",children:s.jsx("p",{className:"text-sm font-medium",children:"Mais Popular"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:i.name}),i.id==="pro2"&&s.jsx(ys,{className:"w-5 h-5 text-yellow-500"}),i.id==="pro3"&&s.jsx(Ii,{className:"w-5 h-5 text-purple-500"}),i.id==="free"&&s.jsx(bs,{className:"w-5 h-5 text-green-500"}),i.id==="pro1"&&s.jsx(We,{className:"w-5 h-5 text-blue-500"})]}),s.jsx("p",{className:"text-2xl font-bold mb-2",children:i.price}),s.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:i.description}),s.jsx("ul",{className:"space-y-3 mb-6",children:i.features.map((o,l)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(yt,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0"}),s.jsx("span",{children:o})]},l))}),s.jsx("button",{onClick:i.id==="free"?n:a,className:`w-full py-2 rounded-md ${i.popular?"bg-blue-600 hover:bg-blue-700":"bg-gray-700 hover:bg-gray-600"}`,children:i.cta})]})]},i.id))})]})}),s.jsx("div",{className:"py-16 bg-gray-900",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pacotes de Tokens"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Recarregue seus tokens para continuar utilizando os recursos de IA"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:r.map((i,o)=>s.jsxs("div",{className:`bg-gray-800 rounded-lg overflow-hidden ${i.popular?"ring-2 ring-yellow-500":""}`,children:[i.popular&&s.jsx("div",{className:"bg-yellow-600 text-center py-2",children:s.jsx("p",{className:"text-sm font-medium",children:"Melhor Custo-Benefcio"})}),s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(We,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:i.tokens}),s.jsx("p",{className:"text-gray-400 mb-2",children:"tokens"}),s.jsx("p",{className:"text-xl font-bold mb-6",children:i.price}),s.jsx("button",{onClick:a,className:`w-full py-2 rounded-md ${i.popular?"bg-yellow-600 hover:bg-yellow-700":"bg-gray-700 hover:bg-gray-600"}`,children:"Comprar Tokens"})]})]},o))})]})}),s.jsx("div",{className:"py-16",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"O Que Voc Pode Fazer"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Conhea os recursos disponveis em nossa plataforma"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-blue-600 rounded-full p-3 mr-4",children:s.jsx(ht,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Criao com IA"})]}),s.jsx("p",{className:"text-gray-300",children:"Crie robs de trading com assistncia de IA. Descreva sua estratgia e deixe a IA fazer o cdigo."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-green-600 rounded-full p-3 mr-4",children:s.jsx(or,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Anlise de Backtest"})]}),s.jsx("p",{className:"text-gray-300",children:"Analise seus resultados de backtest com mtricas avanadas e insights de IA para melhorar performance."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-purple-600 rounded-full p-3 mr-4",children:s.jsx(Xh,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Otimizao com IA"})]}),s.jsx("p",{className:"text-gray-300",children:"Otimize suas estratgias existentes com sugestes de IA para melhor gerenciamento de risco e retornos."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-yellow-600 rounded-full p-3 mr-4",children:s.jsx(bs,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Colaborao em Tempo Real"})]}),s.jsx("p",{className:"text-gray-300",children:"Colabore com sua equipe em tempo real no desenvolvimento de robs, com controle de verso integrado."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-red-600 rounded-full p-3 mr-4",children:s.jsx(rl,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Suporte Especializado"})]}),s.jsx("p",{className:"text-gray-300",children:"Receba suporte de especialistas em trading e desenvolvimento para tirar suas dvidas e resolver problemas."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-indigo-600 rounded-full p-3 mr-4",children:s.jsx(ys,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Recursos Premium"})]}),s.jsx("p",{className:"text-gray-300",children:"Acesse recursos exclusivos como indicadores personalizados, anlise de mercado e estratgias avanadas."})]})]})]})}),s.jsx("div",{className:"py-16 bg-gray-900",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Perguntas Frequentes"}),s.jsx("p",{className:"text-xl text-gray-400",children:"Tire suas dvidas sobre nossos planos e servios"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-medium mb-3",children:"O que so tokens e como funcionam?"}),s.jsx("p",{className:"text-gray-300",children:"Tokens so a moeda utilizada para acessar recursos de IA na plataforma. Cada interao com a IA (criao de rob, anlise de backtest, otimizao) consome uma quantidade especfica de tokens. Cada plano inclui uma alocao mensal de tokens, e voc pode comprar pacotes adicionais conforme necessrio."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-medium mb-3",children:"Posso mudar de plano a qualquer momento?"}),s.jsx("p",{className:"text-gray-300",children:"Sim, voc pode fazer upgrade ou downgrade do seu plano a qualquer momento. Ao fazer upgrade, voc ter acesso imediato aos novos recursos e tokens. Ao fazer downgrade, as mudanas sero aplicadas no prximo ciclo de faturamento."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-medium mb-3",children:"Os tokens expiram?"}),s.jsx("p",{className:"text-gray-300",children:"Tokens includos em sua assinatura mensal so renovados a cada ciclo de faturamento. Tokens no utilizados no so acumulados para o prximo ms. Tokens adquiridos separadamente no expiram e permanecem em sua conta at serem utilizados."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-medium mb-3",children:"Posso cancelar minha assinatura?"}),s.jsx("p",{className:"text-gray-300",children:"Sim, voc pode cancelar sua assinatura a qualquer momento. Aps o cancelamento, voc manter o acesso ao plano atual at o final do perodo de faturamento. Depois disso, sua conta ser convertida para o plano gratuito, mantendo seus robs existentes dentro do limite do plano gratuito."})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-medium mb-3",children:"Como funciona o suporte?"}),s.jsx("p",{className:"text-gray-300",children:"O nvel de suporte varia de acordo com seu plano. O plano Free oferece suporte bsico via comunidade, o PRO 1 inclui suporte por email, o PRO 2 oferece suporte prioritrio, e o PRO 3 inclui suporte dedicado com tempos de resposta mais rpidos e assistncia personalizada."})]})]})]})}),s.jsx("div",{className:"py-16 bg-gradient-to-r from-blue-900 to-indigo-900",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pronto para Transformar seu Trading?"}),s.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Junte-se a milhares de traders que j esto usando o DevHub Trader para criar, analisar e otimizar suas estratgias de trading."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx("button",{onClick:n,className:"px-8 py-4 bg-white text-blue-900 rounded-md font-bold text-lg hover:bg-gray-100 transition-colors",children:"Comece Agora"}),s.jsx("button",{onClick:a,className:"px-8 py-4 bg-blue-700 hover:bg-blue-800 text-white rounded-md font-bold text-lg transition-colors",children:"Falar com Especialista"})]})]})}),s.jsx("footer",{className:"bg-gray-900 border-t border-gray-800 py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[s.jsx(ht,{className:"w-8 h-8 text-blue-500"}),s.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"DevHub Trader"})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Termos de Servio"}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Poltica de Privacidade"}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Contato"})]})]}),s.jsxs("div",{className:"mt-8 text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," DevHub Trader. Todos os direitos reservados."]})]})})]})}const oX=({tutorial:e})=>{var n,a;const[t,r]=g.useState(!1);return s.jsxs("div",{className:"bg-gray-700/30 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 cursor-pointer hover:bg-gray-700/50 transition-colors",onClick:()=>r(!t),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${e.level==="Fcil"?"bg-green-500/20":e.level==="Mdio"?"bg-blue-500/20":"bg-red-500/20"}`,children:e.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:e.title}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[s.jsx("span",{className:"text-sm text-gray-400",children:e.duration}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.level==="Fcil"?"bg-green-500/20 text-green-400":e.level==="Mdio"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:e.level})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm text-gray-400",children:[((n=e.steps)==null?void 0:n.length)||0," passos"]}),s.jsx(He,{className:`w-5 h-5 text-gray-400 transition-transform ${t?"rotate-180":""}`})]})]}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:e.description})]}),t&&s.jsx("div",{className:"border-t border-gray-600/50",children:s.jsxs("div",{className:"p-6 space-y-6",children:[(a=e.steps)==null?void 0:a.map((i,o)=>s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"flex-shrink-0",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:o+1}),o<e.steps.length-1&&s.jsx("div",{className:"w-0.5 h-8 bg-gray-600 mx-auto mt-2"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-white mb-2",children:i.title}),s.jsx("p",{className:"text-gray-300 text-sm mb-3 leading-relaxed",children:i.description}),s.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 mb-3 border-2 border-dashed border-gray-600",children:s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsxs("div",{className:"text-center",children:[s.jsx(M6,{className:"w-8 h-8 text-gray-500 mx-auto mb-2"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Imagem: ",i.imageDescription]})]})})}),i.tips&&s.jsx("div",{className:"bg-blue-900/20 border border-blue-800/50 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx($S,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-blue-400 mb-1",children:"Dica:"}),s.jsx("p",{className:"text-xs text-blue-300",children:i.tips})]})]})}),i.code&&s.jsxs("div",{className:"bg-gray-900 rounded-lg p-3 mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Cdigo de exemplo:"}),s.jsx("button",{className:"text-xs text-blue-400 hover:text-blue-300",children:"Copiar"})]}),s.jsx("pre",{className:"text-xs text-green-400 overflow-x-auto",children:s.jsx("code",{children:i.code})})]})]})]},o)),s.jsx("div",{className:"pt-4 border-t border-gray-600/50",children:s.jsx("button",{onClick:()=>{e.actionUrl&&(window.location.href=e.actionUrl)},className:"w-full py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 rounded-lg font-medium transition-all duration-300",children:e.actionText||"Comear Agora"})})]})})]})},lX=()=>{const e=At(),{profile:t,loadProfile:r}=Lt(),{robots:n,loadRobots:a,robotLimit:i}=vl(),[o,l]=g.useState("analyses"),[c,d]=g.useState(!1),[u,h]=g.useState([]),[m,f]=g.useState(!1),[p,y]=g.useState(!1),v=[{title:"Como fazer upload de CSV",duration:"8 min",level:"Fcil",description:"Aprenda a preparar e enviar dados de backtest para anlise completa",icon:s.jsx(Y6,{className:"w-6 h-6 text-green-400"}),actionText:"Fazer Upload Agora",actionUrl:"/backtest-analysis",steps:[{title:"Prepare seus dados de backtest",description:"Exporte os resultados do seu backtest em formato CSV. O arquivo deve conter colunas como: Data, Hora, Ativo, Direo (Compra/Venda), Preo de Entrada, Preo de Sada, Resultado (Lucro/Prejuzo), Volume.",imageDescription:"Screenshot mostrando exemplo de planilha CSV formatada",tips:"Certifique-se de que as datas esto no formato DD/MM/AAAA e os valores monetrios usam ponto como separador decimal."},{title:"Acesse a pgina de anlise",description:'Navegue at a seo "Anlise de Backtest" no menu principal. Voc ver uma rea de upload onde pode arrastar e soltar seu arquivo CSV.',imageDescription:"Interface da pgina de anlise com rea de upload destacada",tips:"A rea de upload aceita arquivos de at 10MB. Para arquivos maiores, considere filtrar apenas os dados mais relevantes."},{title:"Faa o upload do arquivo",description:"Clique na rea de upload ou arraste seu arquivo CSV diretamente. O sistema validar automaticamente o formato e mostrar uma prvia dos dados.",imageDescription:"Processo de upload com barra de progresso e validao",tips:"Se houver erros de formato, o sistema mostrar sugestes especficas para corrigir o arquivo."},{title:"Inicie a anlise com IA",description:'Aps o upload bem-sucedido, clique em "Analisar Backtest". A IA processar seus dados e gerar mtricas detalhadas como Profit Factor, Sharpe Ratio, Drawdown Mximo e muito mais.',imageDescription:"Boto de anlise e indicador de progresso da IA",tips:"A anlise consome 1000 tokens. Certifique-se de ter saldo suficiente antes de iniciar."},{title:"Interprete os resultados",description:"Revise o relatrio gerado com mtricas de performance, pontos fortes e fracos da estratgia, e sugestes de otimizao personalizadas.",imageDescription:"Dashboard de resultados com grficos e mtricas",tips:"Use o chat com IA para fazer perguntas especficas sobre os resultados e obter insights adicionais."}]},{title:"Gerar cdigo de rob com IA",duration:"12 min",level:"Mdio",description:"Tutorial completo para criar robs de trading automaticamente usando IA",icon:s.jsx(wa,{className:"w-6 h-6 text-blue-400"}),actionText:"Criar Rob com IA",actionUrl:"/robots",steps:[{title:"Defina sua estratgia de trading",description:"Antes de usar a IA, tenha uma ideia clara da sua estratgia. Pense nos indicadores que quer usar (mdias mveis, RSI, MACD), condies de entrada e sada, e regras de gerenciamento de risco.",imageDescription:"Diagrama mostrando elementos de uma estratgia de trading",tips:"Quanto mais especfico voc for na descrio, melhor ser o cdigo gerado pela IA."},{title:"Acesse o editor de robs",description:'V para "Meus Robs" e clique em "Criar Rob". Voc ser direcionado para o editor onde encontrar o chat da IA no painel lateral esquerdo.',imageDescription:"Interface do editor com chat da IA destacado",tips:"O editor suporta mltiplas linguagens: NTSL (Profit), MQL5 (MetaTrader) e outras plataformas."},{title:"Descreva sua estratgia para a IA",description:'No chat da IA, descreva detalhadamente sua estratgia. Exemplo: "Crie um rob que compra quando a mdia mvel de 9 perodos cruza acima da de 21, com stop loss de 50 pontos e take profit de 100 pontos."',imageDescription:"Chat da IA com exemplo de prompt detalhado",tips:"Inclua informaes sobre timeframe, ativo, horrios de operao e regras especficas de entrada/sada.",code:`// Exemplo de prompt para IA:
"Crie um rob para WINFUT que:
- Use mdias mveis 9 e 21
- Compre no cruzamento para cima
- Stop loss: 50 pontos
- Take profit: 100 pontos
- Opere apenas das 9h s 17h"`},{title:"Revise e ajuste o cdigo gerado",description:"A IA gerar o cdigo automaticamente. Revise a lgica, teste os parmetros e faa ajustes se necessrio. Voc pode pedir  IA para modificar partes especficas.",imageDescription:"Editor mostrando cdigo gerado com destaque nas sees principais",tips:'Use o chat para pedir modificaes: "Adicione um filtro de volume mnimo" ou "Mude o stop loss para trailing stop".'},{title:"Salve e teste seu rob",description:"Salve o cdigo como uma nova verso, d um nome descritivo e adicione tags relevantes. Depois, teste em conta demo antes de usar em operaes reais.",imageDescription:"Modal de salvamento com campos de verso e tags",tips:'Use tags como "scalping", "trend-following", "M5", "WINFUT" para organizar melhor seus robs.'}]}],x=[{name:"QuantBroker",description:"Portflios de IA copy trade",logo:"https://images.pexels.com/photos/6801648/pexels-photo-6801648.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",verified:!0,rating:4.8,services:["Copy Trade IA","Gesto Automatizada","Anlise Preditiva"]},{name:"NotBroker",description:"Contabilidade e resultados auditados",logo:"https://images.pexels.com/photos/6863183/pexels-photo-6863183.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",verified:!0,rating:4.9,services:["Auditoria de Resultados","Relatrios Fiscais","Compliance"]},{name:"Estrategista Solutions",description:"Projetos personalizados por humanos",logo:"https://images.pexels.com/photos/7688336/pexels-photo-7688336.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",verified:!0,rating:4.7,services:["Desenvolvimento Custom","Consultoria Estratgica","Mentoria"]},{name:"Pack de Robs",description:"Estrategista Solutions",logo:"https://images.pexels.com/photos/8386440/pexels-photo-8386440.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",verified:!0,rating:4.6,services:["Robs Prontos","Suporte Tcnico","Atualizaes"],link:"https://profitestrategista.com.br"}],b=[{id:1,user:{name:"Carlos Silva",avatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1",quantScore:94,level:"Expert"},content:"Acabei de otimizar minha estratgia de scalping e consegui aumentar o Profit Factor de 1.8 para 2.3! A chave foi adicionar um filtro de volume.",timestamp:"2h",likes:24,comments:8,type:"strategy"},{id:2,user:{name:"Ana Costa",avatar:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1",quantScore:87,level:"Pro"},content:"Compartilhando minha anlise de backtest do WINFUT. Win rate de 68% com drawdown mximo de apenas 8.5%. Algum quer trocar ideias?",timestamp:"4h",likes:31,comments:12,type:"analysis"},{id:3,user:{name:"Roberto Lima",avatar:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1",quantScore:91,level:"Expert"},content:"Novo rob de grid trading funcionando perfeitamente! Testei por 30 dias e os resultados superaram as expectativas.",timestamp:"6h",likes:18,comments:5,type:"robot"}],j=async()=>{try{f(!0);const{data:{user:w}}=await de.auth.getUser();if(!w)return;const{data:_,error:k}=await de.from("strategy_analyses").select("*").eq("user_id",w.id).order("created_at",{ascending:!1});if(k)throw k;if(_&&_.length>0){const S=_.map(E=>{var C,A,O,$,L,H,U,T;const P=E.analysis_data||{};return{id:E.id,name:P.name||`Anlise ${E.id.slice(0,8)}`,createdAt:E.created_at,updatedAt:E.updated_at||E.created_at,profitFactor:((A=(C=P.metrics)==null?void 0:C["Performance Metrics"])==null?void 0:A["Profit Factor"])||0,winRate:(($=(O=P.metrics)==null?void 0:O["Performance Metrics"])==null?void 0:$["Win Rate (%)"])||0,drawdown:((H=(L=P.metrics)==null?void 0:L["Performance Metrics"])==null?void 0:H["Max Drawdown (%)"])||0,totalTrades:((T=(U=P.metrics)==null?void 0:U["Performance Metrics"])==null?void 0:T["Total Trades"])||0}});h(S)}}catch(w){console.error("Error loading saved analyses:",w)}finally{f(!1)}},N=async()=>{try{y(!0),await a()}catch(w){console.error("Error loading robots:",w)}finally{y(!1)}};return g.useEffect(()=>{r(),j(),N(),l("analyses")},[]),s.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[s.jsx(ns,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard da Comunidade"}),s.jsx("p",{className:"text-gray-400",children:"Conecte-se, aprenda e evolua com outros traders"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[s.jsx("button",{onClick:()=>l("analyses"),className:`group relative overflow-hidden rounded-2xl p-6 transition-all duration-300 ${o==="analyses"?"bg-gradient-to-br from-blue-600 to-blue-700 shadow-lg shadow-blue-500/25":"bg-gradient-to-br from-gray-800 to-gray-900 hover:from-blue-600/20 hover:to-blue-700/20"}`,children:s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${o==="analyses"?"bg-white/20":"bg-blue-500/20"}`,children:s.jsx(or,{className:`w-6 h-6 ${o==="analyses"?"text-white":"text-blue-400"}`})}),s.jsx("h3",{className:"font-semibold text-white mb-1",children:"Minhas Anlises"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Backtest"})]})}),s.jsx("button",{onClick:()=>l("myrobots"),className:`group relative overflow-hidden rounded-2xl p-6 transition-all duration-300 ${o==="myrobots"?"bg-gradient-to-br from-emerald-600 to-emerald-700 shadow-lg shadow-emerald-500/25":"bg-gradient-to-br from-gray-800 to-gray-900 hover:from-emerald-600/20 hover:to-emerald-700/20"}`,children:s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${o==="myrobots"?"bg-white/20":"bg-emerald-500/20"}`,children:s.jsx(ht,{className:`w-6 h-6 ${o==="myrobots"?"text-white":"text-emerald-400"}`})}),s.jsx("h3",{className:"font-semibold text-white mb-1",children:"Meus Robs"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Gerenciar"})]})}),s.jsx("button",{onClick:()=>l("feed"),className:`group relative overflow-hidden rounded-2xl p-6 transition-all duration-300 ${o==="feed"?"bg-gradient-to-br from-blue-600 to-blue-700 shadow-lg shadow-blue-500/25":"bg-gradient-to-br from-gray-800 to-gray-900 hover:from-blue-600/20 hover:to-blue-700/20"}`,children:s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${o==="feed"?"bg-white/20":"bg-blue-500/20"}`,children:s.jsx(el,{className:`w-6 h-6 ${o==="feed"?"text-white":"text-blue-400"}`})}),s.jsx("h3",{className:"font-semibold text-white mb-1",children:"Feed"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Postagens"})]})}),s.jsx("button",{onClick:()=>l("tutorials"),className:`group relative overflow-hidden rounded-2xl p-6 transition-all duration-300 ${o==="tutorials"?"bg-gradient-to-br from-purple-600 to-purple-700 shadow-lg shadow-purple-500/25":"bg-gradient-to-br from-gray-800 to-gray-900 hover:from-purple-600/20 hover:to-purple-700/20"}`,children:s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${o==="tutorials"?"bg-white/20":"bg-purple-500/20"}`,children:s.jsx(tx,{className:`w-6 h-6 ${o==="tutorials"?"text-white":"text-purple-400"}`})}),s.jsx("h3",{className:"font-semibold text-white mb-1",children:"Tutoriais"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Aprenda"})]})}),s.jsx("button",{onClick:()=>l("marketplace"),className:`group relative overflow-hidden rounded-2xl p-6 transition-all duration-300 ${o==="marketplace"?"bg-gradient-to-br from-orange-600 to-orange-700 shadow-lg shadow-orange-500/25":"bg-gradient-to-br from-gray-800 to-gray-900 hover:from-orange-600/20 hover:to-orange-700/20"}`,children:s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${o==="marketplace"?"bg-white/20":"bg-orange-500/20"}`,children:s.jsx(vj,{className:`w-6 h-6 ${o==="marketplace"?"text-white":"text-orange-400"}`})}),s.jsx("h3",{className:"font-semibold text-white mb-1",children:"Marketplace"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Comprar"})]})})]}),s.jsxs("div",{className:"space-y-6",children:[o==="analyses"&&s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-xl flex items-center justify-center",children:s.jsx(or,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Minhas Anlises"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Histrico de anlises de backtest"})]})]}),s.jsx("button",{onClick:()=>e("/backtest-analysis"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm font-medium transition-colors",children:"Nova Anlise"})]}),m?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-400",children:"Carregando anlises..."})]}):u.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((w,_)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-xl p-4 hover:bg-gray-700 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-medium truncate",children:w.name}),s.jsx("span",{className:"text-xs text-gray-400",children:new Date(w.createdAt).toLocaleDateString()})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-bold text-green-400",children:w.profitFactor?w.profitFactor.toFixed(2):"N/A"}),s.jsx("p",{className:"text-xs text-gray-400",children:"P.F."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-bold text-blue-400",children:w.winRate?`${w.winRate.toFixed(1)}%`:"N/A"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Win"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-bold text-red-400",children:w.drawdown?`${w.drawdown.toFixed(1)}%`:"N/A"}),s.jsx("p",{className:"text-xs text-gray-400",children:"DD"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>e("/backtest-analysis"),className:"flex-1 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-xs font-medium transition-colors",children:"Ver Detalhes"}),s.jsxs("button",{onClick:()=>{},className:"flex-1 py-2 bg-emerald-600 hover:bg-emerald-700 rounded-lg text-xs font-medium transition-colors flex items-center justify-center",children:[s.jsx(od,{className:"w-3 h-3 mr-1"}),"Compartilhar"]})]})]},_))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Jh,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma anlise encontrada"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Comece fazendo sua primeira anlise de backtest"}),s.jsx("button",{onClick:()=>e("/backtest-analysis"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors",children:"Fazer Primeira Anlise"})]})]}),o==="myrobots"&&s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-xl flex items-center justify-center",children:s.jsx(ht,{className:"w-5 h-5 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Meus Robs"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Gerencie seus robs de trading"})]})]}),s.jsx("button",{onClick:()=>e("/robots"),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 rounded-lg text-sm font-medium transition-colors",children:"Novo Rob"})]}),p?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500"}),s.jsx("span",{className:"ml-3 text-gray-400",children:"Carregando robs..."})]}):n.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.slice(0,6).map((w,_)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-xl p-4 hover:bg-gray-700 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:s.jsx(ht,{className:"w-4 h-4 text-emerald-400"})}),s.jsx("h3",{className:"font-medium",children:w.name})]}),s.jsx("span",{className:"text-xs text-gray-400",children:w.current_version_id?"v1.0":"Sem verso"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-bold text-green-400",children:"-"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Profit Factor"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-bold text-blue-400",children:"-"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Win Rate"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>e(`/editor/${w.id}`),className:"flex-1 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-xs font-medium transition-colors",children:"Editar"}),s.jsxs("button",{onClick:()=>{},className:"flex-1 py-2 bg-emerald-600 hover:bg-emerald-700 rounded-lg text-xs font-medium transition-colors flex items-center justify-center",children:[s.jsx(od,{className:"w-3 h-3 mr-1"}),"Compartilhar"]})]})]},_))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ht,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum rob encontrado"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Comece criando seu primeiro rob de trading"}),s.jsx("button",{onClick:()=>e("/robots"),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 rounded-lg font-medium transition-colors",children:"Criar Primeiro Rob"})]})]}),o==="feed"&&s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-xl flex items-center justify-center",children:s.jsx(el,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Feed da Comunidade"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"ltimas atualizaes dos traders"})]})]}),s.jsxs("div",{className:"space-y-4",children:[(c?b:b.slice(0,3)).map((w,_)=>s.jsxs("div",{className:"bg-gray-700/30 rounded-xl p-4 hover:bg-gray-700/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("img",{src:w.user.avatar,alt:w.user.name,className:"w-10 h-10 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"font-medium",children:w.user.name}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold ${w.user.quantScore>=90?"bg-blue-500 text-white":w.user.quantScore>=70?"bg-emerald-500 text-white":"bg-gray-500 text-white"}`,children:"Q"}),s.jsx("span",{className:`text-sm font-medium ${w.user.quantScore>=90?"text-blue-400":w.user.quantScore>=70?"text-emerald-400":"text-gray-400"}`,children:w.user.quantScore})]}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${w.user.quantScore>=90?"bg-blue-500/20 text-blue-400":w.user.quantScore>=70?"bg-emerald-500/20 text-emerald-400":"bg-gray-500/20 text-gray-400"}`,children:w.user.quantScore>=90?"Expert":w.user.quantScore>=70?"Pro":"Advanced"})]}),s.jsx("p",{className:"text-xs text-gray-400",children:w.timestamp})]})]}),s.jsx("p",{className:"text-gray-300 mb-3 leading-relaxed",children:w.content}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[s.jsxs("button",{className:"hover:text-blue-400 transition-colors",children:[" ",w.likes]}),s.jsxs("button",{className:"hover:text-blue-400 transition-colors",children:[" ",w.comments]}),s.jsx("button",{className:"hover:text-blue-400 transition-colors",children:" Compartilhar"})]})]},_)),!c&&b.length>3&&s.jsxs("button",{onClick:()=>d(!0),className:"w-full py-3 bg-gray-700/50 hover:bg-gray-700 rounded-xl text-gray-300 hover:text-white transition-colors",children:["Ver Mais (",b.length-3," posts restantes)"]}),c&&s.jsx("button",{onClick:()=>d(!1),className:"w-full py-3 bg-gray-700/50 hover:bg-gray-700 rounded-xl text-gray-300 hover:text-white transition-colors",children:"Ver Menos"})]})]}),o==="tutorials"&&s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-xl flex items-center justify-center",children:s.jsx(tx,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Tutoriais"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Aprenda a usar todas as funcionalidades"})]})]}),s.jsx("div",{className:"space-y-6",children:v.map((w,_)=>s.jsx(oX,{tutorial:w},_))})]}),o==="marketplace"&&s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-xl flex items-center justify-center",children:s.jsx(vj,{className:"w-5 h-5 text-orange-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Marketplace"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Servios e solues para traders"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:x.map((w,_)=>s.jsxs("div",{className:"bg-gray-700/30 rounded-xl p-6 hover:bg-gray-700/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("img",{src:w.logo,alt:w.name,className:"w-16 h-16 rounded-xl object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-lg",children:w.name}),w.verified&&s.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:""})})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:w.description}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-yellow-400",children:""}),s.jsx("span",{className:"text-sm font-medium",children:w.rating})]})]})]}),s.jsx("div",{className:"space-y-2 mb-4",children:w.services.map((k,S)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-300",children:k})]},S))}),s.jsx("button",{onClick:()=>{w.link&&window.open(w.link,"_blank")},className:"w-full py-2 bg-orange-600 hover:bg-orange-700 rounded-lg font-medium transition-colors",children:"Acessar Servio"})]},_))})]})]})]})]})};function cX(){const[e,t]=g.useState(!1),{session:r,loadProfile:n}=Lt();return g.useEffect(()=>{n()},[n]),g.useEffect(()=>{t(!!r)},[r]),e?s.jsxs(s.Fragment,{children:[s.jsx(J1,{children:s.jsxs(G1,{children:[s.jsx(Dt,{path:"/",element:s.jsx(wj,{})}),s.jsx(Dt,{path:"/editor/:robotId",element:s.jsx(w8,{})}),s.jsx(Dt,{path:"/robots",element:s.jsx(N8,{})}),s.jsx(Dt,{path:"/community",element:s.jsx(S8,{})}),s.jsx(Dt,{path:"/profile",element:s.jsx(k8,{})}),s.jsx(Dt,{path:"/subscription",element:s.jsx(Qj,{})}),s.jsx(Dt,{path:"/plans",element:s.jsx(Qj,{})}),s.jsx(Dt,{path:"/admin",element:s.jsx(C8,{})}),s.jsx(Dt,{path:"/experts",element:s.jsx(P8,{})}),s.jsx(Dt,{path:"/developer-signup",element:s.jsx(E8,{})}),s.jsx(Dt,{path:"/proprietary",element:s.jsx(A8,{})}),s.jsx(Dt,{path:"/profit-estrategista",element:s.jsx(T8,{})}),s.jsx(Dt,{path:"/backtest-analysis",element:s.jsx(nX,{})}),s.jsx(Dt,{path:"/strategy-analysis",element:s.jsx(aX,{})}),s.jsx(Dt,{path:"/dashboard",element:s.jsx(lX,{})}),s.jsx(Dt,{path:"*",element:s.jsx(kD,{to:"/",replace:!0})})]})}),s.jsx(Zj,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(J1,{children:s.jsxs(G1,{children:[s.jsx(Dt,{path:"/plans",element:s.jsx(iX,{})}),s.jsx(Dt,{path:"*",element:s.jsx(wj,{})})]})}),s.jsx(Zj,{})]})}y6().then(e=>{if(!e){qg(document.getElementById("root")).render(s.jsx(g.StrictMode,{children:s.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Connection Error"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Unable to connect to the server. Please check your internet connection and try again."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Retry"})]})})}));return}qg(document.getElementById("root")).render(s.jsx(g.StrictMode,{children:s.jsx(cX,{})}))});export{Ns as g};
