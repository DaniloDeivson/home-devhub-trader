var b5=Object.defineProperty;var w5=(e,t,r)=>t in e?b5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ip=(e,t,r)=>w5(e,typeof t!="symbol"?t+"":t,r);function j5(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var mn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ns(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function N5(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var ZN={exports:{}},gh={},e_={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=Symbol.for("react.element"),_5=Symbol.for("react.portal"),k5=Symbol.for("react.fragment"),S5=Symbol.for("react.strict_mode"),C5=Symbol.for("react.profiler"),P5=Symbol.for("react.provider"),E5=Symbol.for("react.context"),A5=Symbol.for("react.forward_ref"),T5=Symbol.for("react.suspense"),O5=Symbol.for("react.memo"),M5=Symbol.for("react.lazy"),aw=Symbol.iterator;function R5(e){return e===null||typeof e!="object"?null:(e=aw&&e[aw]||e["@@iterator"],typeof e=="function"?e:null)}var t_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r_=Object.assign,n_={};function Ho(e,t,r){this.props=e,this.context=t,this.refs=n_,this.updater=r||t_}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ho.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function s_(){}s_.prototype=Ho.prototype;function Dx(e,t,r){this.props=e,this.context=t,this.refs=n_,this.updater=r||t_}var Ix=Dx.prototype=new s_;Ix.constructor=Dx;r_(Ix,Ho.prototype);Ix.isPureReactComponent=!0;var iw=Array.isArray,a_=Object.prototype.hasOwnProperty,Lx={current:null},i_={key:!0,ref:!0,__self:!0,__source:!0};function o_(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)a_.call(t,n)&&!i_.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:tu,type:e,key:i,ref:o,props:s,_owner:Lx.current}}function $5(e,t){return{$$typeof:tu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fx(e){return typeof e=="object"&&e!==null&&e.$$typeof===tu}function D5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ow=/\/+/g;function op(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D5(""+e.key):t.toString(36)}function Sd(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case tu:case _5:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+op(o,0):n,iw(s)?(r="",e!=null&&(r=e.replace(ow,"$&/")+"/"),Sd(s,t,r,"",function(u){return u})):s!=null&&(Fx(s)&&(s=$5(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ow,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",iw(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+op(i,l);o+=Sd(i,t,r,c,s)}else if(c=R5(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+op(i,l++),o+=Sd(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ru(e,t,r){if(e==null)return e;var n=[],s=0;return Sd(e,n,"","",function(i){return t.call(r,i,s++)}),n}function I5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hr={current:null},Cd={transition:null},L5={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:Cd,ReactCurrentOwner:Lx};function l_(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Ru,forEach:function(e,t,r){Ru(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ru(e,function(){t++}),t},toArray:function(e){return Ru(e,function(t){return t})||[]},only:function(e){if(!Fx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=Ho;_e.Fragment=k5;_e.Profiler=C5;_e.PureComponent=Dx;_e.StrictMode=S5;_e.Suspense=T5;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L5;_e.act=l_;_e.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=r_({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Lx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)a_.call(t,c)&&!i_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:tu,type:e.type,key:s,ref:i,props:n,_owner:o}};_e.createContext=function(e){return e={$$typeof:E5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:P5,_context:e},e.Consumer=e};_e.createElement=o_;_e.createFactory=function(e){var t=o_.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:A5,render:e}};_e.isValidElement=Fx;_e.lazy=function(e){return{$$typeof:M5,_payload:{_status:-1,_result:e},_init:I5}};_e.memo=function(e,t){return{$$typeof:O5,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=Cd.transition;Cd.transition={};try{e()}finally{Cd.transition=t}};_e.unstable_act=l_;_e.useCallback=function(e,t){return hr.current.useCallback(e,t)};_e.useContext=function(e){return hr.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return hr.current.useDeferredValue(e)};_e.useEffect=function(e,t){return hr.current.useEffect(e,t)};_e.useId=function(){return hr.current.useId()};_e.useImperativeHandle=function(e,t,r){return hr.current.useImperativeHandle(e,t,r)};_e.useInsertionEffect=function(e,t){return hr.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return hr.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return hr.current.useMemo(e,t)};_e.useReducer=function(e,t,r){return hr.current.useReducer(e,t,r)};_e.useRef=function(e){return hr.current.useRef(e)};_e.useState=function(e){return hr.current.useState(e)};_e.useSyncExternalStore=function(e,t,r){return hr.current.useSyncExternalStore(e,t,r)};_e.useTransition=function(){return hr.current.useTransition()};_e.version="18.3.1";e_.exports=_e;var g=e_.exports;const Tt=ns(g),F5=j5({__proto__:null,default:Tt},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B5=g,z5=Symbol.for("react.element"),U5=Symbol.for("react.fragment"),V5=Object.prototype.hasOwnProperty,q5=B5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W5={key:!0,ref:!0,__self:!0,__source:!0};function c_(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)V5.call(t,n)&&!W5.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:z5,type:e,key:i,ref:o,props:s,_owner:q5.current}}gh.Fragment=U5;gh.jsx=c_;gh.jsxs=c_;ZN.exports=gh;var a=ZN.exports,u_={exports:{}},en={},d_={exports:{}},f_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,D){var W=$.length;$.push(D);e:for(;0<W;){var V=W-1>>>1,L=$[V];if(0<s(L,D))$[V]=D,$[W]=L,W=V;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var D=$[0],W=$.pop();if(W!==D){$[0]=W;e:for(var V=0,L=$.length,se=L>>>1;V<se;){var K=2*(V+1)-1,B=$[K],ie=K+1,ge=$[ie];if(0>s(B,W))ie<L&&0>s(ge,B)?($[V]=ge,$[ie]=W,V=ie):($[V]=B,$[K]=W,V=K);else if(ie<L&&0>s(ge,W))$[V]=ge,$[ie]=W,V=ie;else break e}}return D}function s($,D){var W=$.sortIndex-D.sortIndex;return W!==0?W:$.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=$)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function j($){if(y=!1,w($),!m)if(r(c)!==null)m=!0,q(N);else{var D=r(u);D!==null&&H(j,D.startTime-$)}}function N($,D){m=!1,y&&(y=!1,x(S),S=-1),p=!0;var W=h;try{for(w(D),f=r(c);f!==null&&(!(f.expirationTime>D)||$&&!E());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var L=V(f.expirationTime<=D);D=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),w(D)}else n(c);f=r(c)}if(f!==null)var se=!0;else{var K=r(u);K!==null&&H(j,K.startTime-D),se=!1}return se}finally{f=null,h=W,p=!1}}var _=!1,k=null,S=-1,C=5,P=-1;function E(){return!(e.unstable_now()-P<C)}function M(){if(k!==null){var $=e.unstable_now();P=$;var D=!0;try{D=k(!0,$)}finally{D?O():(_=!1,k=null)}}else _=!1}var O;if(typeof b=="function")O=function(){b(M)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,A=F.port2;F.port1.onmessage=M,O=function(){A.postMessage(null)}}else O=function(){v(M,0)};function q($){k=$,_||(_=!0,O())}function H($,D){S=v(function(){$(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,q(N))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var W=h;h=D;try{return $()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,D){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=h;h=$;try{return D()}finally{h=W}},e.unstable_scheduleCallback=function($,D,W){var V=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,$={id:d++,callback:D,priorityLevel:$,startTime:W,expirationTime:L,sortIndex:-1},W>V?($.sortIndex=W,t(u,$),r(c)===null&&$===r(u)&&(y?(x(S),S=-1):y=!0,H(j,W-V))):($.sortIndex=L,t(c,$),m||p||(m=!0,q(N))),$},e.unstable_shouldYield=E,e.unstable_wrapCallback=function($){var D=h;return function(){var W=h;h=D;try{return $.apply(this,arguments)}finally{h=W}}}})(f_);d_.exports=f_;var H5=d_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K5=g,Yr=H5;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h_=new Set,xc={};function ji(e,t){_o(e,t),_o(e+"Capture",t)}function _o(e,t){for(xc[e]=t,e=0;e<t.length;e++)h_.add(t[e])}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N0=Object.prototype.hasOwnProperty,G5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lw={},cw={};function Y5(e){return N0.call(cw,e)?!0:N0.call(lw,e)?!1:G5.test(e)?cw[e]=!0:(lw[e]=!0,!1)}function J5(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function X5(e,t,r,n){if(t===null||typeof t>"u"||J5(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qt[e]=new mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qt[t]=new mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qt[e]=new mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qt[e]=new mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qt[e]=new mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qt[e]=new mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qt[e]=new mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qt[e]=new mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qt[e]=new mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bx=/[\-:]([a-z])/g;function zx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bx,zx);qt[t]=new mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bx,zx);qt[t]=new mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bx,zx);qt[t]=new mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qt[e]=new mr(e,1,!1,e.toLowerCase(),null,!1,!1)});qt.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qt[e]=new mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ux(e,t,r,n){var s=qt.hasOwnProperty(t)?qt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(X5(t,r,s,n)&&(r=null),n||s===null?Y5(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ts=K5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$u=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),Vx=Symbol.for("react.strict_mode"),_0=Symbol.for("react.profiler"),m_=Symbol.for("react.provider"),p_=Symbol.for("react.context"),qx=Symbol.for("react.forward_ref"),k0=Symbol.for("react.suspense"),S0=Symbol.for("react.suspense_list"),Wx=Symbol.for("react.memo"),Ks=Symbol.for("react.lazy"),g_=Symbol.for("react.offscreen"),uw=Symbol.iterator;function xl(e){return e===null||typeof e!="object"?null:(e=uw&&e[uw]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,lp;function Dl(e){if(lp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);lp=t&&t[1]||""}return`
`+lp+e}var cp=!1;function up(e,t){if(!e||cp)return"";cp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{cp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Dl(e):""}function Q5(e){switch(e.tag){case 5:return Dl(e.type);case 16:return Dl("Lazy");case 13:return Dl("Suspense");case 19:return Dl("SuspenseList");case 0:case 2:case 15:return e=up(e.type,!1),e;case 11:return e=up(e.type.render,!1),e;case 1:return e=up(e.type,!0),e;default:return""}}function C0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yi:return"Fragment";case Gi:return"Portal";case _0:return"Profiler";case Vx:return"StrictMode";case k0:return"Suspense";case S0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case p_:return(e.displayName||"Context")+".Consumer";case m_:return(e._context.displayName||"Context")+".Provider";case qx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wx:return t=e.displayName||null,t!==null?t:C0(e.type)||"Memo";case Ks:t=e._payload,e=e._init;try{return C0(e(t))}catch{}}return null}function Z5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C0(t);case 8:return t===Vx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ya(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function x_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eT(e){var t=x_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Du(e){e._valueTracker||(e._valueTracker=eT(e))}function y_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=x_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Yd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function P0(e,t){var r=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ya(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function v_(e,t){t=t.checked,t!=null&&Ux(e,"checked",t,!1)}function E0(e,t){v_(e,t);var r=ya(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?A0(e,t.type,r):t.hasOwnProperty("defaultValue")&&A0(e,t.type,ya(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function A0(e,t,r){(t!=="number"||Yd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Il=Array.isArray;function fo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ya(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function T0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(Il(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ya(r)}}function b_(e,t){var r=ya(t.value),n=ya(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function mw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function w_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?w_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Iu,j_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Iu=Iu||document.createElement("div"),Iu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Iu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tT=["Webkit","ms","Moz","O"];Object.keys(Jl).forEach(function(e){tT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jl[t]=Jl[e]})});function N_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Jl.hasOwnProperty(e)&&Jl[e]?(""+t).trim():t+"px"}function __(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=N_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var rT=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function M0(e,t){if(t){if(rT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function R0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $0=null;function Hx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var D0=null,ho=null,mo=null;function pw(e){if(e=su(e)){if(typeof D0!="function")throw Error(X(280));var t=e.stateNode;t&&(t=wh(t),D0(e.stateNode,e.type,t))}}function k_(e){ho?mo?mo.push(e):mo=[e]:ho=e}function S_(){if(ho){var e=ho,t=mo;if(mo=ho=null,pw(e),t)for(e=0;e<t.length;e++)pw(t[e])}}function C_(e,t){return e(t)}function P_(){}var dp=!1;function E_(e,t,r){if(dp)return e(t,r);dp=!0;try{return C_(e,t,r)}finally{dp=!1,(ho!==null||mo!==null)&&(P_(),S_())}}function vc(e,t){var r=e.stateNode;if(r===null)return null;var n=wh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var I0=!1;if(Ns)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){I0=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{I0=!1}function nT(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Xl=!1,Jd=null,Xd=!1,L0=null,sT={onError:function(e){Xl=!0,Jd=e}};function aT(e,t,r,n,s,i,o,l,c){Xl=!1,Jd=null,nT.apply(sT,arguments)}function iT(e,t,r,n,s,i,o,l,c){if(aT.apply(this,arguments),Xl){if(Xl){var u=Jd;Xl=!1,Jd=null}else throw Error(X(198));Xd||(Xd=!0,L0=u)}}function Ni(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function A_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gw(e){if(Ni(e)!==e)throw Error(X(188))}function oT(e){var t=e.alternate;if(!t){if(t=Ni(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return gw(s),e;if(i===n)return gw(s),t;i=i.sibling}throw Error(X(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function T_(e){return e=oT(e),e!==null?O_(e):null}function O_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=O_(e);if(t!==null)return t;e=e.sibling}return null}var M_=Yr.unstable_scheduleCallback,xw=Yr.unstable_cancelCallback,lT=Yr.unstable_shouldYield,cT=Yr.unstable_requestPaint,ct=Yr.unstable_now,uT=Yr.unstable_getCurrentPriorityLevel,Kx=Yr.unstable_ImmediatePriority,R_=Yr.unstable_UserBlockingPriority,Qd=Yr.unstable_NormalPriority,dT=Yr.unstable_LowPriority,$_=Yr.unstable_IdlePriority,xh=null,Jn=null;function fT(e){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(xh,e,void 0,(e.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:pT,hT=Math.log,mT=Math.LN2;function pT(e){return e>>>=0,e===0?32:31-(hT(e)/mT|0)|0}var Lu=64,Fu=4194304;function Ll(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Ll(l):(i&=o,i!==0&&(n=Ll(i)))}else o=r&~s,o!==0?n=Ll(o):i!==0&&(n=Ll(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-$n(t),s=1<<r,n|=e[r],t&=~s;return n}function gT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-$n(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=gT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function F0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function D_(){var e=Lu;return Lu<<=1,!(Lu&4194240)&&(Lu=64),e}function fp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ru(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$n(t),e[t]=r}function yT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-$n(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Gx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-$n(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Oe=0;function I_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var L_,Yx,F_,B_,z_,B0=!1,Bu=[],sa=null,aa=null,ia=null,bc=new Map,wc=new Map,Xs=[],vT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yw(e,t){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":bc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(t.pointerId)}}function vl(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=su(t),t!==null&&Yx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function bT(e,t,r,n,s){switch(t){case"focusin":return sa=vl(sa,e,t,r,n,s),!0;case"dragenter":return aa=vl(aa,e,t,r,n,s),!0;case"mouseover":return ia=vl(ia,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return bc.set(i,vl(bc.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,wc.set(i,vl(wc.get(i)||null,e,t,r,n,s)),!0}return!1}function U_(e){var t=Ka(e.target);if(t!==null){var r=Ni(t);if(r!==null){if(t=r.tag,t===13){if(t=A_(r),t!==null){e.blockedOn=t,z_(e.priority,function(){F_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=z0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$0=n,r.target.dispatchEvent(n),$0=null}else return t=su(r),t!==null&&Yx(t),e.blockedOn=r,!1;t.shift()}return!0}function vw(e,t,r){Pd(e)&&r.delete(t)}function wT(){B0=!1,sa!==null&&Pd(sa)&&(sa=null),aa!==null&&Pd(aa)&&(aa=null),ia!==null&&Pd(ia)&&(ia=null),bc.forEach(vw),wc.forEach(vw)}function bl(e,t){e.blockedOn===t&&(e.blockedOn=null,B0||(B0=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,wT)))}function jc(e){function t(s){return bl(s,e)}if(0<Bu.length){bl(Bu[0],e);for(var r=1;r<Bu.length;r++){var n=Bu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(sa!==null&&bl(sa,e),aa!==null&&bl(aa,e),ia!==null&&bl(ia,e),bc.forEach(t),wc.forEach(t),r=0;r<Xs.length;r++)n=Xs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xs.length&&(r=Xs[0],r.blockedOn===null);)U_(r),r.blockedOn===null&&Xs.shift()}var po=Ts.ReactCurrentBatchConfig,ef=!0;function jT(e,t,r,n){var s=Oe,i=po.transition;po.transition=null;try{Oe=1,Jx(e,t,r,n)}finally{Oe=s,po.transition=i}}function NT(e,t,r,n){var s=Oe,i=po.transition;po.transition=null;try{Oe=4,Jx(e,t,r,n)}finally{Oe=s,po.transition=i}}function Jx(e,t,r,n){if(ef){var s=z0(e,t,r,n);if(s===null)jp(e,t,n,tf,r),yw(e,n);else if(bT(s,e,t,r,n))n.stopPropagation();else if(yw(e,n),t&4&&-1<vT.indexOf(e)){for(;s!==null;){var i=su(s);if(i!==null&&L_(i),i=z0(e,t,r,n),i===null&&jp(e,t,n,tf,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else jp(e,t,n,null,r)}}var tf=null;function z0(e,t,r,n){if(tf=null,e=Hx(n),e=Ka(e),e!==null)if(t=Ni(e),t===null)e=null;else if(r=t.tag,r===13){if(e=A_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tf=e,null}function V_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uT()){case Kx:return 1;case R_:return 4;case Qd:case dT:return 16;case $_:return 536870912;default:return 16}default:return 16}}var ta=null,Xx=null,Ed=null;function q_(){if(Ed)return Ed;var e,t=Xx,r=t.length,n,s="value"in ta?ta.value:ta.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Ed=s.slice(e,1<n?1-n:void 0)}function Ad(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zu(){return!0}function bw(){return!1}function tn(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zu:bw,this.isPropagationStopped=bw,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zu)},persist:function(){},isPersistent:zu}),t}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qx=tn(Ko),nu=rt({},Ko,{view:0,detail:0}),_T=tn(nu),hp,mp,wl,yh=rt({},nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wl&&(wl&&e.type==="mousemove"?(hp=e.screenX-wl.screenX,mp=e.screenY-wl.screenY):mp=hp=0,wl=e),hp)},movementY:function(e){return"movementY"in e?e.movementY:mp}}),ww=tn(yh),kT=rt({},yh,{dataTransfer:0}),ST=tn(kT),CT=rt({},nu,{relatedTarget:0}),pp=tn(CT),PT=rt({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),ET=tn(PT),AT=rt({},Ko,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TT=tn(AT),OT=rt({},Ko,{data:0}),jw=tn(OT),MT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$T={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$T[e])?!!t[e]:!1}function Zx(){return DT}var IT=rt({},nu,{key:function(e){if(e.key){var t=MT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ad(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zx,charCode:function(e){return e.type==="keypress"?Ad(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ad(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LT=tn(IT),FT=rt({},yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nw=tn(FT),BT=rt({},nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zx}),zT=tn(BT),UT=rt({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),VT=tn(UT),qT=rt({},yh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WT=tn(qT),HT=[9,13,27,32],ey=Ns&&"CompositionEvent"in window,Ql=null;Ns&&"documentMode"in document&&(Ql=document.documentMode);var KT=Ns&&"TextEvent"in window&&!Ql,W_=Ns&&(!ey||Ql&&8<Ql&&11>=Ql),_w=" ",kw=!1;function H_(e,t){switch(e){case"keyup":return HT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function GT(e,t){switch(e){case"compositionend":return K_(t);case"keypress":return t.which!==32?null:(kw=!0,_w);case"textInput":return e=t.data,e===_w&&kw?null:e;default:return null}}function YT(e,t){if(Ji)return e==="compositionend"||!ey&&H_(e,t)?(e=q_(),Ed=Xx=ta=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return W_&&t.locale!=="ko"?null:t.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JT[e.type]:t==="textarea"}function G_(e,t,r,n){k_(n),t=rf(t,"onChange"),0<t.length&&(r=new Qx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zl=null,Nc=null;function XT(e){ak(e,0)}function vh(e){var t=Zi(e);if(y_(t))return e}function QT(e,t){if(e==="change")return t}var Y_=!1;if(Ns){var gp;if(Ns){var xp="oninput"in document;if(!xp){var Cw=document.createElement("div");Cw.setAttribute("oninput","return;"),xp=typeof Cw.oninput=="function"}gp=xp}else gp=!1;Y_=gp&&(!document.documentMode||9<document.documentMode)}function Pw(){Zl&&(Zl.detachEvent("onpropertychange",J_),Nc=Zl=null)}function J_(e){if(e.propertyName==="value"&&vh(Nc)){var t=[];G_(t,Nc,e,Hx(e)),E_(XT,t)}}function ZT(e,t,r){e==="focusin"?(Pw(),Zl=t,Nc=r,Zl.attachEvent("onpropertychange",J_)):e==="focusout"&&Pw()}function eO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vh(Nc)}function tO(e,t){if(e==="click")return vh(t)}function rO(e,t){if(e==="input"||e==="change")return vh(t)}function nO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:nO;function _c(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!N0.call(t,s)||!Ln(e[s],t[s]))return!1}return!0}function Ew(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Aw(e,t){var r=Ew(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ew(r)}}function X_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?X_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Q_(){for(var e=window,t=Yd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Yd(e.document)}return t}function ty(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sO(e){var t=Q_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&X_(r.ownerDocument.documentElement,r)){if(n!==null&&ty(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Aw(r,i);var o=Aw(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aO=Ns&&"documentMode"in document&&11>=document.documentMode,Xi=null,U0=null,ec=null,V0=!1;function Tw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;V0||Xi==null||Xi!==Yd(n)||(n=Xi,"selectionStart"in n&&ty(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ec&&_c(ec,n)||(ec=n,n=rf(U0,"onSelect"),0<n.length&&(t=new Qx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xi)))}function Uu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qi={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},yp={},Z_={};Ns&&(Z_=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function bh(e){if(yp[e])return yp[e];if(!Qi[e])return e;var t=Qi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Z_)return yp[e]=t[r];return e}var ek=bh("animationend"),tk=bh("animationiteration"),rk=bh("animationstart"),nk=bh("transitionend"),sk=new Map,Ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(e,t){sk.set(e,t),ji(t,[e])}for(var vp=0;vp<Ow.length;vp++){var bp=Ow[vp],iO=bp.toLowerCase(),oO=bp[0].toUpperCase()+bp.slice(1);wa(iO,"on"+oO)}wa(ek,"onAnimationEnd");wa(tk,"onAnimationIteration");wa(rk,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(nk,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function Mw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,iT(n,t,void 0,e),e.currentTarget=null}function ak(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Mw(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Mw(s,l,u),i=c}}}if(Xd)throw e=L0,Xd=!1,L0=null,e}function Ve(e,t){var r=t[G0];r===void 0&&(r=t[G0]=new Set);var n=e+"__bubble";r.has(n)||(ik(t,e,2,!1),r.add(n))}function wp(e,t,r){var n=0;t&&(n|=4),ik(r,e,n,t)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function kc(e){if(!e[Vu]){e[Vu]=!0,h_.forEach(function(r){r!=="selectionchange"&&(lO.has(r)||wp(r,!1,e),wp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vu]||(t[Vu]=!0,wp("selectionchange",!1,t))}}function ik(e,t,r,n){switch(V_(t)){case 1:var s=jT;break;case 4:s=NT;break;default:s=Jx}r=s.bind(null,t,r,e),s=void 0,!I0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function jp(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ka(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}E_(function(){var u=i,d=Hx(r),f=[];e:{var h=sk.get(e);if(h!==void 0){var p=Qx,m=e;switch(e){case"keypress":if(Ad(r)===0)break e;case"keydown":case"keyup":p=LT;break;case"focusin":m="focus",p=pp;break;case"focusout":m="blur",p=pp;break;case"beforeblur":case"afterblur":p=pp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ww;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ST;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zT;break;case ek:case tk:case rk:p=ET;break;case nk:p=VT;break;case"scroll":p=_T;break;case"wheel":p=WT;break;case"copy":case"cut":case"paste":p=TT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Nw}var y=(t&4)!==0,v=!y&&e==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,x!==null&&(j=vc(b,x),j!=null&&y.push(Sc(b,j,w)))),v)break;b=b.return}0<y.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==$0&&(m=r.relatedTarget||r.fromElement)&&(Ka(m)||m[_s]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Ka(m):null,m!==null&&(v=Ni(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=ww,j="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=Nw,j="onPointerLeave",x="onPointerEnter",b="pointer"),v=p==null?h:Zi(p),w=m==null?h:Zi(m),h=new y(j,b+"leave",p,r,d),h.target=v,h.relatedTarget=w,j=null,Ka(d)===u&&(y=new y(x,b+"enter",m,r,d),y.target=w,y.relatedTarget=v,j=y),v=j,p&&m)t:{for(y=p,x=m,b=0,w=y;w;w=Mi(w))b++;for(w=0,j=x;j;j=Mi(j))w++;for(;0<b-w;)y=Mi(y),b--;for(;0<w-b;)x=Mi(x),w--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=Mi(y),x=Mi(x)}y=null}else y=null;p!==null&&Rw(f,h,p,y,!1),m!==null&&v!==null&&Rw(f,v,m,y,!0)}}e:{if(h=u?Zi(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=QT;else if(Sw(h))if(Y_)N=rO;else{N=eO;var _=ZT}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=tO);if(N&&(N=N(e,u))){G_(f,N,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&A0(h,"number",h.value)}switch(_=u?Zi(u):window,e){case"focusin":(Sw(_)||_.contentEditable==="true")&&(Xi=_,U0=u,ec=null);break;case"focusout":ec=U0=Xi=null;break;case"mousedown":V0=!0;break;case"contextmenu":case"mouseup":case"dragend":V0=!1,Tw(f,r,d);break;case"selectionchange":if(aO)break;case"keydown":case"keyup":Tw(f,r,d)}var k;if(ey)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ji?H_(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(W_&&r.locale!=="ko"&&(Ji||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ji&&(k=q_()):(ta=d,Xx="value"in ta?ta.value:ta.textContent,Ji=!0)),_=rf(u,S),0<_.length&&(S=new jw(S,e,null,r,d),f.push({event:S,listeners:_}),k?S.data=k:(k=K_(r),k!==null&&(S.data=k)))),(k=KT?GT(e,r):YT(e,r))&&(u=rf(u,"onBeforeInput"),0<u.length&&(d=new jw("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}ak(f,t)})}function Sc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rf(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vc(e,r),i!=null&&n.unshift(Sc(e,i,s)),i=vc(e,t),i!=null&&n.push(Sc(e,i,s))),e=e.return}return n}function Mi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rw(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=vc(r,i),c!=null&&o.unshift(Sc(r,c,l))):s||(c=vc(r,i),c!=null&&o.push(Sc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var cO=/\r\n?/g,uO=/\u0000|\uFFFD/g;function $w(e){return(typeof e=="string"?e:""+e).replace(cO,`
`).replace(uO,"")}function qu(e,t,r){if(t=$w(t),$w(e)!==t&&r)throw Error(X(425))}function nf(){}var q0=null,W0=null;function H0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var K0=typeof setTimeout=="function"?setTimeout:void 0,dO=typeof clearTimeout=="function"?clearTimeout:void 0,Dw=typeof Promise=="function"?Promise:void 0,fO=typeof queueMicrotask=="function"?queueMicrotask:typeof Dw<"u"?function(e){return Dw.resolve(null).then(e).catch(hO)}:K0;function hO(e){setTimeout(function(){throw e})}function Np(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),jc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);jc(t)}function oa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Go=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Go,Cc="__reactProps$"+Go,_s="__reactContainer$"+Go,G0="__reactEvents$"+Go,mO="__reactListeners$"+Go,pO="__reactHandles$"+Go;function Ka(e){var t=e[Kn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_s]||r[Kn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Iw(e);e!==null;){if(r=e[Kn])return r;e=Iw(e)}return t}e=r,r=e.parentNode}return null}function su(e){return e=e[Kn]||e[_s],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function wh(e){return e[Cc]||null}var Y0=[],eo=-1;function ja(e){return{current:e}}function We(e){0>eo||(e.current=Y0[eo],Y0[eo]=null,eo--)}function ze(e,t){eo++,Y0[eo]=e.current,e.current=t}var va={},er=ja(va),Cr=ja(!1),di=va;function ko(e,t){var r=e.type.contextTypes;if(!r)return va;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pr(e){return e=e.childContextTypes,e!=null}function sf(){We(Cr),We(er)}function Lw(e,t,r){if(er.current!==va)throw Error(X(168));ze(er,t),ze(Cr,r)}function ok(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(X(108,Z5(e)||"Unknown",s));return rt({},r,n)}function af(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||va,di=er.current,ze(er,e),ze(Cr,Cr.current),!0}function Fw(e,t,r){var n=e.stateNode;if(!n)throw Error(X(169));r?(e=ok(e,t,di),n.__reactInternalMemoizedMergedChildContext=e,We(Cr),We(er),ze(er,e)):We(Cr),ze(Cr,r)}var fs=null,jh=!1,_p=!1;function lk(e){fs===null?fs=[e]:fs.push(e)}function gO(e){jh=!0,lk(e)}function Na(){if(!_p&&fs!==null){_p=!0;var e=0,t=Oe;try{var r=fs;for(Oe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fs=null,jh=!1}catch(s){throw fs!==null&&(fs=fs.slice(e+1)),M_(Kx,Na),s}finally{Oe=t,_p=!1}}return null}var to=[],ro=0,of=null,lf=0,sn=[],an=0,fi=null,gs=1,xs="";function Fa(e,t){to[ro++]=lf,to[ro++]=of,of=e,lf=t}function ck(e,t,r){sn[an++]=gs,sn[an++]=xs,sn[an++]=fi,fi=e;var n=gs;e=xs;var s=32-$n(n)-1;n&=~(1<<s),r+=1;var i=32-$n(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,gs=1<<32-$n(t)+s|r<<s|n,xs=i+e}else gs=1<<i|r<<s|n,xs=e}function ry(e){e.return!==null&&(Fa(e,1),ck(e,1,0))}function ny(e){for(;e===of;)of=to[--ro],to[ro]=null,lf=to[--ro],to[ro]=null;for(;e===fi;)fi=sn[--an],sn[an]=null,xs=sn[--an],sn[an]=null,gs=sn[--an],sn[an]=null}var Kr=null,Hr=null,He=!1,En=null;function uk(e,t){var r=ln(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kr=e,Hr=oa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kr=e,Hr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=fi!==null?{id:gs,overflow:xs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ln(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Kr=e,Hr=null,!0):!1;default:return!1}}function J0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function X0(e){if(He){var t=Hr;if(t){var r=t;if(!Bw(e,t)){if(J0(e))throw Error(X(418));t=oa(r.nextSibling);var n=Kr;t&&Bw(e,t)?uk(n,r):(e.flags=e.flags&-4097|2,He=!1,Kr=e)}}else{if(J0(e))throw Error(X(418));e.flags=e.flags&-4097|2,He=!1,Kr=e}}}function zw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kr=e}function Wu(e){if(e!==Kr)return!1;if(!He)return zw(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!H0(e.type,e.memoizedProps)),t&&(t=Hr)){if(J0(e))throw dk(),Error(X(418));for(;t;)uk(e,t),t=oa(t.nextSibling)}if(zw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hr=oa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hr=null}}else Hr=Kr?oa(e.stateNode.nextSibling):null;return!0}function dk(){for(var e=Hr;e;)e=oa(e.nextSibling)}function So(){Hr=Kr=null,He=!1}function sy(e){En===null?En=[e]:En.push(e)}var xO=Ts.ReactCurrentBatchConfig;function jl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function Hu(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uw(e){var t=e._init;return t(e._payload)}function fk(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=da(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,j){return b===null||b.tag!==6?(b=Tp(w,x.mode,j),b.return=x,b):(b=s(b,w),b.return=x,b)}function c(x,b,w,j){var N=w.type;return N===Yi?d(x,b,w.props.children,j,w.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ks&&Uw(N)===b.type)?(j=s(b,w.props),j.ref=jl(x,b,w),j.return=x,j):(j=Id(w.type,w.key,w.props,null,x.mode,j),j.ref=jl(x,b,w),j.return=x,j)}function u(x,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Op(w,x.mode,j),b.return=x,b):(b=s(b,w.children||[]),b.return=x,b)}function d(x,b,w,j,N){return b===null||b.tag!==7?(b=ai(w,x.mode,j,N),b.return=x,b):(b=s(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Tp(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $u:return w=Id(b.type,b.key,b.props,null,x.mode,w),w.ref=jl(x,null,b),w.return=x,w;case Gi:return b=Op(b,x.mode,w),b.return=x,b;case Ks:var j=b._init;return f(x,j(b._payload),w)}if(Il(b)||xl(b))return b=ai(b,x.mode,w,null),b.return=x,b;Hu(x,b)}return null}function h(x,b,w,j){var N=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(x,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $u:return w.key===N?c(x,b,w,j):null;case Gi:return w.key===N?u(x,b,w,j):null;case Ks:return N=w._init,h(x,b,N(w._payload),j)}if(Il(w)||xl(w))return N!==null?null:d(x,b,w,j,null);Hu(x,w)}return null}function p(x,b,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(w)||null,l(b,x,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $u:return x=x.get(j.key===null?w:j.key)||null,c(b,x,j,N);case Gi:return x=x.get(j.key===null?w:j.key)||null,u(b,x,j,N);case Ks:var _=j._init;return p(x,b,w,_(j._payload),N)}if(Il(j)||xl(j))return x=x.get(w)||null,d(b,x,j,N,null);Hu(b,j)}return null}function m(x,b,w,j){for(var N=null,_=null,k=b,S=b=0,C=null;k!==null&&S<w.length;S++){k.index>S?(C=k,k=null):C=k.sibling;var P=h(x,k,w[S],j);if(P===null){k===null&&(k=C);break}e&&k&&P.alternate===null&&t(x,k),b=i(P,b,S),_===null?N=P:_.sibling=P,_=P,k=C}if(S===w.length)return r(x,k),He&&Fa(x,S),N;if(k===null){for(;S<w.length;S++)k=f(x,w[S],j),k!==null&&(b=i(k,b,S),_===null?N=k:_.sibling=k,_=k);return He&&Fa(x,S),N}for(k=n(x,k);S<w.length;S++)C=p(k,x,S,w[S],j),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?S:C.key),b=i(C,b,S),_===null?N=C:_.sibling=C,_=C);return e&&k.forEach(function(E){return t(x,E)}),He&&Fa(x,S),N}function y(x,b,w,j){var N=xl(w);if(typeof N!="function")throw Error(X(150));if(w=N.call(w),w==null)throw Error(X(151));for(var _=N=null,k=b,S=b=0,C=null,P=w.next();k!==null&&!P.done;S++,P=w.next()){k.index>S?(C=k,k=null):C=k.sibling;var E=h(x,k,P.value,j);if(E===null){k===null&&(k=C);break}e&&k&&E.alternate===null&&t(x,k),b=i(E,b,S),_===null?N=E:_.sibling=E,_=E,k=C}if(P.done)return r(x,k),He&&Fa(x,S),N;if(k===null){for(;!P.done;S++,P=w.next())P=f(x,P.value,j),P!==null&&(b=i(P,b,S),_===null?N=P:_.sibling=P,_=P);return He&&Fa(x,S),N}for(k=n(x,k);!P.done;S++,P=w.next())P=p(k,x,S,P.value,j),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?S:P.key),b=i(P,b,S),_===null?N=P:_.sibling=P,_=P);return e&&k.forEach(function(M){return t(x,M)}),He&&Fa(x,S),N}function v(x,b,w,j){if(typeof w=="object"&&w!==null&&w.type===Yi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case $u:e:{for(var N=w.key,_=b;_!==null;){if(_.key===N){if(N=w.type,N===Yi){if(_.tag===7){r(x,_.sibling),b=s(_,w.props.children),b.return=x,x=b;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ks&&Uw(N)===_.type){r(x,_.sibling),b=s(_,w.props),b.ref=jl(x,_,w),b.return=x,x=b;break e}r(x,_);break}else t(x,_);_=_.sibling}w.type===Yi?(b=ai(w.props.children,x.mode,j,w.key),b.return=x,x=b):(j=Id(w.type,w.key,w.props,null,x.mode,j),j.ref=jl(x,b,w),j.return=x,x=j)}return o(x);case Gi:e:{for(_=w.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(x,b.sibling),b=s(b,w.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=Op(w,x.mode,j),b.return=x,x=b}return o(x);case Ks:return _=w._init,v(x,b,_(w._payload),j)}if(Il(w))return m(x,b,w,j);if(xl(w))return y(x,b,w,j);Hu(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(x,b.sibling),b=s(b,w),b.return=x,x=b):(r(x,b),b=Tp(w,x.mode,j),b.return=x,x=b),o(x)):r(x,b)}return v}var Co=fk(!0),hk=fk(!1),cf=ja(null),uf=null,no=null,ay=null;function iy(){ay=no=uf=null}function oy(e){var t=cf.current;We(cf),e._currentValue=t}function Q0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function go(e,t){uf=e,ay=no=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kr=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(ay!==e)if(e={context:e,memoizedValue:t,next:null},no===null){if(uf===null)throw Error(X(308));no=e,uf.dependencies={lanes:0,firstContext:e}}else no=no.next=e;return t}var Ga=null;function ly(e){Ga===null?Ga=[e]:Ga.push(e)}function mk(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ly(t)):(r.next=s.next,s.next=r),t.interleaved=r,ks(e,n)}function ks(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gs=!1;function cy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ce&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ks(e,r)}return s=n.interleaved,s===null?(t.next=t,ly(n)):(t.next=s.next,s.next=t),n.interleaved=t,ks(e,r)}function Td(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gx(e,r)}}function Vw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function df(e,t,r,n){var s=e.updateQueue;Gs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,y=l;switch(h=t,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=rt({},f,h);break e;case 2:Gs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);mi|=o,e.lanes=o,e.memoizedState=f}}function qw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(X(191,s));s.call(n)}}}var au={},Xn=ja(au),Pc=ja(au),Ec=ja(au);function Ya(e){if(e===au)throw Error(X(174));return e}function uy(e,t){switch(ze(Ec,t),ze(Pc,e),ze(Xn,au),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:O0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=O0(t,e)}We(Xn),ze(Xn,t)}function Po(){We(Xn),We(Pc),We(Ec)}function gk(e){Ya(Ec.current);var t=Ya(Xn.current),r=O0(t,e.type);t!==r&&(ze(Pc,e),ze(Xn,r))}function dy(e){Pc.current===e&&(We(Xn),We(Pc))}var Qe=ja(0);function ff(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kp=[];function fy(){for(var e=0;e<kp.length;e++)kp[e]._workInProgressVersionPrimary=null;kp.length=0}var Od=Ts.ReactCurrentDispatcher,Sp=Ts.ReactCurrentBatchConfig,hi=0,et=null,bt=null,At=null,hf=!1,tc=!1,Ac=0,yO=0;function Gt(){throw Error(X(321))}function hy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ln(e[r],t[r]))return!1;return!0}function my(e,t,r,n,s,i){if(hi=i,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Od.current=e===null||e.memoizedState===null?jO:NO,e=r(n,s),tc){i=0;do{if(tc=!1,Ac=0,25<=i)throw Error(X(301));i+=1,At=bt=null,t.updateQueue=null,Od.current=_O,e=r(n,s)}while(tc)}if(Od.current=mf,t=bt!==null&&bt.next!==null,hi=0,At=bt=et=null,hf=!1,t)throw Error(X(300));return e}function py(){var e=Ac!==0;return Ac=0,e}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?et.memoizedState=At=e:At=At.next=e,At}function gn(){if(bt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=At===null?et.memoizedState:At.next;if(t!==null)At=t,bt=e;else{if(e===null)throw Error(X(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},At===null?et.memoizedState=At=e:At=At.next=e}return At}function Tc(e,t){return typeof t=="function"?t(e):t}function Cp(e){var t=gn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=bt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((hi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,et.lanes|=d,mi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Ln(n,t.memoizedState)||(kr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,et.lanes|=i,mi|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pp(e){var t=gn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ln(i,t.memoizedState)||(kr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function xk(){}function yk(e,t){var r=et,n=gn(),s=t(),i=!Ln(n.memoizedState,s);if(i&&(n.memoizedState=s,kr=!0),n=n.queue,gy(wk.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||At!==null&&At.memoizedState.tag&1){if(r.flags|=2048,Oc(9,bk.bind(null,r,n,s,t),void 0,null),Ot===null)throw Error(X(349));hi&30||vk(r,t,s)}return s}function vk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bk(e,t,r,n){t.value=r,t.getSnapshot=n,jk(t)&&Nk(e)}function wk(e,t,r){return r(function(){jk(t)&&Nk(e)})}function jk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ln(e,r)}catch{return!0}}function Nk(e){var t=ks(e,1);t!==null&&Dn(t,e,1,-1)}function Ww(e){var t=qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:e},t.queue=e,e=e.dispatch=wO.bind(null,et,e),[t.memoizedState,e]}function Oc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function _k(){return gn().memoizedState}function Md(e,t,r,n){var s=qn();et.flags|=e,s.memoizedState=Oc(1|t,r,void 0,n===void 0?null:n)}function Nh(e,t,r,n){var s=gn();n=n===void 0?null:n;var i=void 0;if(bt!==null){var o=bt.memoizedState;if(i=o.destroy,n!==null&&hy(n,o.deps)){s.memoizedState=Oc(t,r,i,n);return}}et.flags|=e,s.memoizedState=Oc(1|t,r,i,n)}function Hw(e,t){return Md(8390656,8,e,t)}function gy(e,t){return Nh(2048,8,e,t)}function kk(e,t){return Nh(4,2,e,t)}function Sk(e,t){return Nh(4,4,e,t)}function Ck(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pk(e,t,r){return r=r!=null?r.concat([e]):null,Nh(4,4,Ck.bind(null,t,e),r)}function xy(){}function Ek(e,t){var r=gn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ak(e,t){var r=gn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Tk(e,t,r){return hi&21?(Ln(r,t)||(r=D_(),et.lanes|=r,mi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kr=!0),e.memoizedState=r)}function vO(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var n=Sp.transition;Sp.transition={};try{e(!1),t()}finally{Oe=r,Sp.transition=n}}function Ok(){return gn().memoizedState}function bO(e,t,r){var n=ua(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Mk(e))Rk(t,r);else if(r=mk(e,t,r,n),r!==null){var s=ur();Dn(r,e,n,s),$k(r,t,n)}}function wO(e,t,r){var n=ua(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mk(e))Rk(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Ln(l,o)){var c=t.interleaved;c===null?(s.next=s,ly(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=mk(e,t,s,n),r!==null&&(s=ur(),Dn(r,e,n,s),$k(r,t,n))}}function Mk(e){var t=e.alternate;return e===et||t!==null&&t===et}function Rk(e,t){tc=hf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $k(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gx(e,r)}}var mf={readContext:pn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},jO={readContext:pn,useCallback:function(e,t){return qn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:Hw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Md(4194308,4,Ck.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Md(4194308,4,e,t)},useInsertionEffect:function(e,t){return Md(4,2,e,t)},useMemo:function(e,t){var r=qn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=bO.bind(null,et,e),[n.memoizedState,e]},useRef:function(e){var t=qn();return e={current:e},t.memoizedState=e},useState:Ww,useDebugValue:xy,useDeferredValue:function(e){return qn().memoizedState=e},useTransition:function(){var e=Ww(!1),t=e[0];return e=vO.bind(null,e[1]),qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=et,s=qn();if(He){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),Ot===null)throw Error(X(349));hi&30||vk(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Hw(wk.bind(null,n,i,e),[e]),n.flags|=2048,Oc(9,bk.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=qn(),t=Ot.identifierPrefix;if(He){var r=xs,n=gs;r=(n&~(1<<32-$n(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ac++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NO={readContext:pn,useCallback:Ek,useContext:pn,useEffect:gy,useImperativeHandle:Pk,useInsertionEffect:kk,useLayoutEffect:Sk,useMemo:Ak,useReducer:Cp,useRef:_k,useState:function(){return Cp(Tc)},useDebugValue:xy,useDeferredValue:function(e){var t=gn();return Tk(t,bt.memoizedState,e)},useTransition:function(){var e=Cp(Tc)[0],t=gn().memoizedState;return[e,t]},useMutableSource:xk,useSyncExternalStore:yk,useId:Ok,unstable_isNewReconciler:!1},_O={readContext:pn,useCallback:Ek,useContext:pn,useEffect:gy,useImperativeHandle:Pk,useInsertionEffect:kk,useLayoutEffect:Sk,useMemo:Ak,useReducer:Pp,useRef:_k,useState:function(){return Pp(Tc)},useDebugValue:xy,useDeferredValue:function(e){var t=gn();return bt===null?t.memoizedState=e:Tk(t,bt.memoizedState,e)},useTransition:function(){var e=Pp(Tc)[0],t=gn().memoizedState;return[e,t]},useMutableSource:xk,useSyncExternalStore:yk,useId:Ok,unstable_isNewReconciler:!1};function kn(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Z0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:rt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _h={isMounted:function(e){return(e=e._reactInternals)?Ni(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ur(),s=ua(e),i=bs(n,s);i.payload=t,r!=null&&(i.callback=r),t=la(e,i,s),t!==null&&(Dn(t,e,s,n),Td(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ur(),s=ua(e),i=bs(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=la(e,i,s),t!==null&&(Dn(t,e,s,n),Td(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ur(),n=ua(e),s=bs(r,n);s.tag=2,t!=null&&(s.callback=t),t=la(e,s,n),t!==null&&(Dn(t,e,n,r),Td(t,e,n))}};function Kw(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!_c(r,n)||!_c(s,i):!0}function Dk(e,t,r){var n=!1,s=va,i=t.contextType;return typeof i=="object"&&i!==null?i=pn(i):(s=Pr(t)?di:er.current,n=t.contextTypes,i=(n=n!=null)?ko(e,s):va),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_h,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_h.enqueueReplaceState(t,t.state,null)}function eg(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},cy(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=pn(i):(i=Pr(t)?di:er.current,s.context=ko(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Z0(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_h.enqueueReplaceState(s,s.state,null),df(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Eo(e,t){try{var r="",n=t;do r+=Q5(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ep(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function tg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kO=typeof WeakMap=="function"?WeakMap:Map;function Ik(e,t,r){r=bs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){gf||(gf=!0,dg=n),tg(e,t)},r}function Lk(e,t,r){r=bs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){tg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){tg(e,t),typeof n!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Yw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new kO;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=FO.bind(null,e,t,r),t.then(e,e))}function Jw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xw(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bs(-1,1),t.tag=2,la(r,t,1))),r.lanes|=1),e)}var SO=Ts.ReactCurrentOwner,kr=!1;function or(e,t,r,n){t.child=e===null?hk(t,null,r,n):Co(t,e.child,r,n)}function Qw(e,t,r,n,s){r=r.render;var i=t.ref;return go(t,s),n=my(e,t,r,n,i,s),r=py(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ss(e,t,s)):(He&&r&&ry(t),t.flags|=1,or(e,t,n,s),t.child)}function Zw(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ky(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Fk(e,t,i,n,s)):(e=Id(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:_c,r(o,n)&&e.ref===t.ref)return Ss(e,t,s)}return t.flags|=1,e=da(i,n),e.ref=t.ref,e.return=t,t.child=e}function Fk(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(_c(i,n)&&e.ref===t.ref)if(kr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(kr=!0);else return t.lanes=e.lanes,Ss(e,t,s)}return rg(e,t,r,n,s)}function Bk(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(ao,Br),Br|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(ao,Br),Br|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ze(ao,Br),Br|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ze(ao,Br),Br|=n;return or(e,t,s,r),t.child}function zk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function rg(e,t,r,n,s){var i=Pr(r)?di:er.current;return i=ko(t,i),go(t,s),r=my(e,t,r,n,i,s),n=py(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ss(e,t,s)):(He&&n&&ry(t),t.flags|=1,or(e,t,r,s),t.child)}function e1(e,t,r,n,s){if(Pr(r)){var i=!0;af(t)}else i=!1;if(go(t,s),t.stateNode===null)Rd(e,t),Dk(t,r,n),eg(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=pn(u):(u=Pr(r)?di:er.current,u=ko(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Gw(t,o,n,u),Gs=!1;var h=t.memoizedState;o.state=h,df(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Cr.current||Gs?(typeof d=="function"&&(Z0(t,r,d,n),c=t.memoizedState),(l=Gs||Kw(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,pk(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:kn(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=pn(c):(c=Pr(r)?di:er.current,c=ko(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Gw(t,o,n,c),Gs=!1,h=t.memoizedState,o.state=h,df(t,n,o,s);var m=t.memoizedState;l!==f||h!==m||Cr.current||Gs?(typeof p=="function"&&(Z0(t,r,p,n),m=t.memoizedState),(u=Gs||Kw(t,r,u,n,h,m,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return ng(e,t,r,n,i,s)}function ng(e,t,r,n,s,i){zk(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Fw(t,r,!1),Ss(e,t,i);n=t.stateNode,SO.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Co(t,e.child,null,i),t.child=Co(t,null,l,i)):or(e,t,l,i),t.memoizedState=n.state,s&&Fw(t,r,!0),t.child}function Uk(e){var t=e.stateNode;t.pendingContext?Lw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lw(e,t.context,!1),uy(e,t.containerInfo)}function t1(e,t,r,n,s){return So(),sy(s),t.flags|=256,or(e,t,r,n),t.child}var sg={dehydrated:null,treeContext:null,retryLane:0};function ag(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vk(e,t,r){var n=t.pendingProps,s=Qe.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ze(Qe,s&1),e===null)return X0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ch(o,n,0,null),e=ai(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ag(r),t.memoizedState=sg,e):yy(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return CO(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=da(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=da(l,i):(i=ai(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ag(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=sg,n}return i=e.child,e=i.sibling,n=da(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yy(e,t){return t=Ch({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ku(e,t,r,n){return n!==null&&sy(n),Co(t,e.child,null,r),e=yy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CO(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ep(Error(X(422))),Ku(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ch({mode:"visible",children:n.children},s,0,null),i=ai(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Co(t,e.child,null,o),t.child.memoizedState=ag(o),t.memoizedState=sg,i);if(!(t.mode&1))return Ku(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(X(419)),n=Ep(i,n,void 0),Ku(e,t,o,n)}if(l=(o&e.childLanes)!==0,kr||l){if(n=Ot,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ks(e,s),Dn(n,e,s,-1))}return _y(),n=Ep(Error(X(421))),Ku(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=BO.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Hr=oa(s.nextSibling),Kr=t,He=!0,En=null,e!==null&&(sn[an++]=gs,sn[an++]=xs,sn[an++]=fi,gs=e.id,xs=e.overflow,fi=t),t=yy(t,n.children),t.flags|=4096,t)}function r1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Q0(e.return,t,r)}function Ap(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function qk(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(or(e,t,n.children,r),n=Qe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&r1(e,r,t);else if(e.tag===19)r1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ze(Qe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ff(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ap(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ff(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ap(t,!0,r,null,i);break;case"together":Ap(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ss(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=da(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=da(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function PO(e,t,r){switch(t.tag){case 3:Uk(t),So();break;case 5:gk(t);break;case 1:Pr(t.type)&&af(t);break;case 4:uy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ze(cf,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ze(Qe,Qe.current&1),t.flags|=128,null):r&t.child.childLanes?Vk(e,t,r):(ze(Qe,Qe.current&1),e=Ss(e,t,r),e!==null?e.sibling:null);ze(Qe,Qe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return qk(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(Qe,Qe.current),n)break;return null;case 22:case 23:return t.lanes=0,Bk(e,t,r)}return Ss(e,t,r)}var Wk,ig,Hk,Kk;Wk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ig=function(){};Hk=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ya(Xn.current);var i=null;switch(r){case"input":s=P0(e,s),n=P0(e,n),i=[];break;case"select":s=rt({},s,{value:void 0}),n=rt({},n,{value:void 0}),i=[];break;case"textarea":s=T0(e,s),n=T0(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nf)}M0(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ve("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Kk=function(e,t,r,n){r!==n&&(t.flags|=4)};function Nl(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function EO(e,t,r){var n=t.pendingProps;switch(ny(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(t),null;case 1:return Pr(t.type)&&sf(),Yt(t),null;case 3:return n=t.stateNode,Po(),We(Cr),We(er),fy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,En!==null&&(mg(En),En=null))),ig(e,t),Yt(t),null;case 5:dy(t);var s=Ya(Ec.current);if(r=t.type,e!==null&&t.stateNode!=null)Hk(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(X(166));return Yt(t),null}if(e=Ya(Xn.current),Wu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Kn]=t,n[Cc]=i,e=(t.mode&1)!==0,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(s=0;s<Fl.length;s++)Ve(Fl[s],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":dw(n,i),Ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",n);break;case"textarea":hw(n,i),Ve("invalid",n)}M0(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&qu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qu(n.textContent,l,e),s=["children",""+l]):xc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ve("scroll",n)}switch(r){case"input":Du(n),fw(n,i,!0);break;case"textarea":Du(n),mw(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=nf)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=w_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Kn]=t,e[Cc]=n,Wk(e,t,!1,!1),t.stateNode=e;e:{switch(o=R0(r,n),r){case"dialog":Ve("cancel",e),Ve("close",e),s=n;break;case"iframe":case"object":case"embed":Ve("load",e),s=n;break;case"video":case"audio":for(s=0;s<Fl.length;s++)Ve(Fl[s],e);s=n;break;case"source":Ve("error",e),s=n;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),s=n;break;case"details":Ve("toggle",e),s=n;break;case"input":dw(e,n),s=P0(e,n),Ve("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=rt({},n,{value:void 0}),Ve("invalid",e);break;case"textarea":hw(e,n),s=T0(e,n),Ve("invalid",e);break;default:s=n}M0(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?__(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&j_(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&yc(e,c):typeof c=="number"&&yc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ve("scroll",e):c!=null&&Ux(e,i,c,o))}switch(r){case"input":Du(e),fw(e,n,!1);break;case"textarea":Du(e),mw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ya(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?fo(e,!!n.multiple,i,!1):n.defaultValue!=null&&fo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=nf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yt(t),null;case 6:if(e&&t.stateNode!=null)Kk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(r=Ya(Ec.current),Ya(Xn.current),Wu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Kn]=t,(i=n.nodeValue!==r)&&(e=Kr,e!==null))switch(e.tag){case 3:qu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kn]=t,t.stateNode=n}return Yt(t),null;case 13:if(We(Qe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Hr!==null&&t.mode&1&&!(t.flags&128))dk(),So(),t.flags|=98560,i=!1;else if(i=Wu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(X(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Kn]=t}else So(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yt(t),i=!1}else En!==null&&(mg(En),En=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?wt===0&&(wt=3):_y())),t.updateQueue!==null&&(t.flags|=4),Yt(t),null);case 4:return Po(),ig(e,t),e===null&&kc(t.stateNode.containerInfo),Yt(t),null;case 10:return oy(t.type._context),Yt(t),null;case 17:return Pr(t.type)&&sf(),Yt(t),null;case 19:if(We(Qe),i=t.memoizedState,i===null)return Yt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Nl(i,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ff(e),o!==null){for(t.flags|=128,Nl(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ze(Qe,Qe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ct()>Ao&&(t.flags|=128,n=!0,Nl(i,!1),t.lanes=4194304)}else{if(!n)if(e=ff(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Nl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return Yt(t),null}else 2*ct()-i.renderingStartTime>Ao&&r!==1073741824&&(t.flags|=128,n=!0,Nl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ct(),t.sibling=null,r=Qe.current,ze(Qe,n?r&1|2:r&1),t):(Yt(t),null);case 22:case 23:return Ny(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Br&1073741824&&(Yt(t),t.subtreeFlags&6&&(t.flags|=8192)):Yt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function AO(e,t){switch(ny(t),t.tag){case 1:return Pr(t.type)&&sf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Po(),We(Cr),We(er),fy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dy(t),null;case 13:if(We(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));So()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Qe),null;case 4:return Po(),null;case 10:return oy(t.type._context),null;case 22:case 23:return Ny(),null;case 24:return null;default:return null}}var Gu=!1,Qt=!1,TO=typeof WeakSet=="function"?WeakSet:Set,oe=null;function so(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){st(e,t,n)}else r.current=null}function og(e,t,r){try{r()}catch(n){st(e,t,n)}}var n1=!1;function OO(e,t){if(q0=ef,e=Q_(),ty(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(W0={focusedElem:e,selectionRange:r},ef=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:kn(t.type,y),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(j){st(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return m=n1,n1=!1,m}function rc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&og(t,r,i)}s=s.next}while(s!==n)}}function kh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function lg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Gk(e){var t=e.alternate;t!==null&&(e.alternate=null,Gk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kn],delete t[Cc],delete t[G0],delete t[mO],delete t[pO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yk(e){return e.tag===5||e.tag===3||e.tag===4}function s1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nf));else if(n!==4&&(e=e.child,e!==null))for(cg(e,t,r),e=e.sibling;e!==null;)cg(e,t,r),e=e.sibling}function ug(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ug(e,t,r),e=e.sibling;e!==null;)ug(e,t,r),e=e.sibling}var Ft=null,Cn=!1;function Fs(e,t,r){for(r=r.child;r!==null;)Jk(e,t,r),r=r.sibling}function Jk(e,t,r){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(xh,r)}catch{}switch(r.tag){case 5:Qt||so(r,t);case 6:var n=Ft,s=Cn;Ft=null,Fs(e,t,r),Ft=n,Cn=s,Ft!==null&&(Cn?(e=Ft,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ft.removeChild(r.stateNode));break;case 18:Ft!==null&&(Cn?(e=Ft,r=r.stateNode,e.nodeType===8?Np(e.parentNode,r):e.nodeType===1&&Np(e,r),jc(e)):Np(Ft,r.stateNode));break;case 4:n=Ft,s=Cn,Ft=r.stateNode.containerInfo,Cn=!0,Fs(e,t,r),Ft=n,Cn=s;break;case 0:case 11:case 14:case 15:if(!Qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&og(r,t,o),s=s.next}while(s!==n)}Fs(e,t,r);break;case 1:if(!Qt&&(so(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){st(r,t,l)}Fs(e,t,r);break;case 21:Fs(e,t,r);break;case 22:r.mode&1?(Qt=(n=Qt)||r.memoizedState!==null,Fs(e,t,r),Qt=n):Fs(e,t,r);break;default:Fs(e,t,r)}}function a1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new TO),t.forEach(function(n){var s=zO.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Nn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ft=l.stateNode,Cn=!1;break e;case 3:Ft=l.stateNode.containerInfo,Cn=!0;break e;case 4:Ft=l.stateNode.containerInfo,Cn=!0;break e}l=l.return}if(Ft===null)throw Error(X(160));Jk(i,o,s),Ft=null,Cn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){st(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xk(t,e),t=t.sibling}function Xk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),zn(e),n&4){try{rc(3,e,e.return),kh(3,e)}catch(y){st(e,e.return,y)}try{rc(5,e,e.return)}catch(y){st(e,e.return,y)}}break;case 1:Nn(t,e),zn(e),n&512&&r!==null&&so(r,r.return);break;case 5:if(Nn(t,e),zn(e),n&512&&r!==null&&so(r,r.return),e.flags&32){var s=e.stateNode;try{yc(s,"")}catch(y){st(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&v_(s,i),R0(l,o);var u=R0(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?__(s,f):d==="dangerouslySetInnerHTML"?j_(s,f):d==="children"?yc(s,f):Ux(s,d,f,u)}switch(l){case"input":E0(s,i);break;case"textarea":b_(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?fo(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?fo(s,!!i.multiple,i.defaultValue,!0):fo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cc]=i}catch(y){st(e,e.return,y)}}break;case 6:if(Nn(t,e),zn(e),n&4){if(e.stateNode===null)throw Error(X(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){st(e,e.return,y)}}break;case 3:if(Nn(t,e),zn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jc(t.containerInfo)}catch(y){st(e,e.return,y)}break;case 4:Nn(t,e),zn(e);break;case 13:Nn(t,e),zn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wy=ct())),n&4&&a1(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Qt=(u=Qt)||d,Nn(t,e),Qt=u):Nn(t,e),zn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(oe=e,d=e.child;d!==null;){for(f=oe=d;oe!==null;){switch(h=oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:rc(4,h,h.return);break;case 1:so(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){st(n,r,y)}}break;case 5:so(h,h.return);break;case 22:if(h.memoizedState!==null){o1(f);continue}}p!==null?(p.return=h,oe=p):o1(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=N_("display",o))}catch(y){st(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){st(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nn(t,e),zn(e),n&4&&a1(e);break;case 21:break;default:Nn(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Yk(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(yc(s,""),n.flags&=-33);var i=s1(e);ug(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=s1(e);cg(e,l,o);break;default:throw Error(X(161))}}catch(c){st(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MO(e,t,r){oe=e,Qk(e)}function Qk(e,t,r){for(var n=(e.mode&1)!==0;oe!==null;){var s=oe,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Gu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Qt;l=Gu;var u=Qt;if(Gu=o,(Qt=c)&&!u)for(oe=s;oe!==null;)o=oe,c=o.child,o.tag===22&&o.memoizedState!==null?l1(s):c!==null?(c.return=o,oe=c):l1(s);for(;i!==null;)oe=i,Qk(i),i=i.sibling;oe=s,Gu=l,Qt=u}i1(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,oe=i):i1(e)}}function i1(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||kh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:kn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&qw(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}qw(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&jc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Qt||t.flags&512&&lg(t)}catch(h){st(t,t.return,h)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function o1(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function l1(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kh(4,t)}catch(c){st(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){st(t,s,c)}}var i=t.return;try{lg(t)}catch(c){st(t,i,c)}break;case 5:var o=t.return;try{lg(t)}catch(c){st(t,o,c)}}}catch(c){st(t,t.return,c)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var RO=Math.ceil,pf=Ts.ReactCurrentDispatcher,vy=Ts.ReactCurrentOwner,fn=Ts.ReactCurrentBatchConfig,Ce=0,Ot=null,ht=null,Vt=0,Br=0,ao=ja(0),wt=0,Mc=null,mi=0,Sh=0,by=0,nc=null,Nr=null,wy=0,Ao=1/0,us=null,gf=!1,dg=null,ca=null,Yu=!1,ra=null,xf=0,sc=0,fg=null,$d=-1,Dd=0;function ur(){return Ce&6?ct():$d!==-1?$d:$d=ct()}function ua(e){return e.mode&1?Ce&2&&Vt!==0?Vt&-Vt:xO.transition!==null?(Dd===0&&(Dd=D_()),Dd):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:V_(e.type)),e):1}function Dn(e,t,r,n){if(50<sc)throw sc=0,fg=null,Error(X(185));ru(e,r,n),(!(Ce&2)||e!==Ot)&&(e===Ot&&(!(Ce&2)&&(Sh|=r),wt===4&&Qs(e,Vt)),Er(e,n),r===1&&Ce===0&&!(t.mode&1)&&(Ao=ct()+500,jh&&Na()))}function Er(e,t){var r=e.callbackNode;xT(e,t);var n=Zd(e,e===Ot?Vt:0);if(n===0)r!==null&&xw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&xw(r),t===1)e.tag===0?gO(c1.bind(null,e)):lk(c1.bind(null,e)),fO(function(){!(Ce&6)&&Na()}),r=null;else{switch(I_(n)){case 1:r=Kx;break;case 4:r=R_;break;case 16:r=Qd;break;case 536870912:r=$_;break;default:r=Qd}r=i4(r,Zk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Zk(e,t){if($d=-1,Dd=0,Ce&6)throw Error(X(327));var r=e.callbackNode;if(xo()&&e.callbackNode!==r)return null;var n=Zd(e,e===Ot?Vt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=yf(e,n);else{t=n;var s=Ce;Ce|=2;var i=t4();(Ot!==e||Vt!==t)&&(us=null,Ao=ct()+500,si(e,t));do try{IO();break}catch(l){e4(e,l)}while(!0);iy(),pf.current=i,Ce=s,ht!==null?t=0:(Ot=null,Vt=0,t=wt)}if(t!==0){if(t===2&&(s=F0(e),s!==0&&(n=s,t=hg(e,s))),t===1)throw r=Mc,si(e,0),Qs(e,n),Er(e,ct()),r;if(t===6)Qs(e,n);else{if(s=e.current.alternate,!(n&30)&&!$O(s)&&(t=yf(e,n),t===2&&(i=F0(e),i!==0&&(n=i,t=hg(e,i))),t===1))throw r=Mc,si(e,0),Qs(e,n),Er(e,ct()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(X(345));case 2:Ba(e,Nr,us);break;case 3:if(Qs(e,n),(n&130023424)===n&&(t=wy+500-ct(),10<t)){if(Zd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ur(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=K0(Ba.bind(null,e,Nr,us),t);break}Ba(e,Nr,us);break;case 4:if(Qs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-$n(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RO(n/1960))-n,10<n){e.timeoutHandle=K0(Ba.bind(null,e,Nr,us),n);break}Ba(e,Nr,us);break;case 5:Ba(e,Nr,us);break;default:throw Error(X(329))}}}return Er(e,ct()),e.callbackNode===r?Zk.bind(null,e):null}function hg(e,t){var r=nc;return e.current.memoizedState.isDehydrated&&(si(e,t).flags|=256),e=yf(e,t),e!==2&&(t=Nr,Nr=r,t!==null&&mg(t)),e}function mg(e){Nr===null?Nr=e:Nr.push.apply(Nr,e)}function $O(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ln(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qs(e,t){for(t&=~by,t&=~Sh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$n(t),n=1<<r;e[r]=-1,t&=~n}}function c1(e){if(Ce&6)throw Error(X(327));xo();var t=Zd(e,0);if(!(t&1))return Er(e,ct()),null;var r=yf(e,t);if(e.tag!==0&&r===2){var n=F0(e);n!==0&&(t=n,r=hg(e,n))}if(r===1)throw r=Mc,si(e,0),Qs(e,t),Er(e,ct()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ba(e,Nr,us),Er(e,ct()),null}function jy(e,t){var r=Ce;Ce|=1;try{return e(t)}finally{Ce=r,Ce===0&&(Ao=ct()+500,jh&&Na())}}function pi(e){ra!==null&&ra.tag===0&&!(Ce&6)&&xo();var t=Ce;Ce|=1;var r=fn.transition,n=Oe;try{if(fn.transition=null,Oe=1,e)return e()}finally{Oe=n,fn.transition=r,Ce=t,!(Ce&6)&&Na()}}function Ny(){Br=ao.current,We(ao)}function si(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,dO(r)),ht!==null)for(r=ht.return;r!==null;){var n=r;switch(ny(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sf();break;case 3:Po(),We(Cr),We(er),fy();break;case 5:dy(n);break;case 4:Po();break;case 13:We(Qe);break;case 19:We(Qe);break;case 10:oy(n.type._context);break;case 22:case 23:Ny()}r=r.return}if(Ot=e,ht=e=da(e.current,null),Vt=Br=t,wt=0,Mc=null,by=Sh=mi=0,Nr=nc=null,Ga!==null){for(t=0;t<Ga.length;t++)if(r=Ga[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ga=null}return e}function e4(e,t){do{var r=ht;try{if(iy(),Od.current=mf,hf){for(var n=et.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}hf=!1}if(hi=0,At=bt=et=null,tc=!1,Ac=0,vy.current=null,r===null||r.return===null){wt=1,Mc=t,ht=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Vt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Jw(o);if(p!==null){p.flags&=-257,Xw(p,o,l,i,t),p.mode&1&&Yw(i,u,t),t=p,c=u;var m=t.updateQueue;if(m===null){var y=new Set;y.add(c),t.updateQueue=y}else m.add(c);break e}else{if(!(t&1)){Yw(i,u,t),_y();break e}c=Error(X(426))}}else if(He&&l.mode&1){var v=Jw(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Xw(v,o,l,i,t),sy(Eo(c,l));break e}}i=c=Eo(c,l),wt!==4&&(wt=2),nc===null?nc=[i]:nc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=Ik(i,c,t);Vw(i,x);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ca===null||!ca.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Lk(i,l,t);Vw(i,j);break e}}i=i.return}while(i!==null)}n4(r)}catch(N){t=N,ht===r&&r!==null&&(ht=r=r.return);continue}break}while(!0)}function t4(){var e=pf.current;return pf.current=mf,e===null?mf:e}function _y(){(wt===0||wt===3||wt===2)&&(wt=4),Ot===null||!(mi&268435455)&&!(Sh&268435455)||Qs(Ot,Vt)}function yf(e,t){var r=Ce;Ce|=2;var n=t4();(Ot!==e||Vt!==t)&&(us=null,si(e,t));do try{DO();break}catch(s){e4(e,s)}while(!0);if(iy(),Ce=r,pf.current=n,ht!==null)throw Error(X(261));return Ot=null,Vt=0,wt}function DO(){for(;ht!==null;)r4(ht)}function IO(){for(;ht!==null&&!lT();)r4(ht)}function r4(e){var t=a4(e.alternate,e,Br);e.memoizedProps=e.pendingProps,t===null?n4(e):ht=t,vy.current=null}function n4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=AO(r,t),r!==null){r.flags&=32767,ht=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,ht=null;return}}else if(r=EO(r,t,Br),r!==null){ht=r;return}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);wt===0&&(wt=5)}function Ba(e,t,r){var n=Oe,s=fn.transition;try{fn.transition=null,Oe=1,LO(e,t,r,n)}finally{fn.transition=s,Oe=n}return null}function LO(e,t,r,n){do xo();while(ra!==null);if(Ce&6)throw Error(X(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(yT(e,i),e===Ot&&(ht=Ot=null,Vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yu||(Yu=!0,i4(Qd,function(){return xo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=fn.transition,fn.transition=null;var o=Oe;Oe=1;var l=Ce;Ce|=4,vy.current=null,OO(e,r),Xk(r,e),sO(W0),ef=!!q0,W0=q0=null,e.current=r,MO(r),cT(),Ce=l,Oe=o,fn.transition=i}else e.current=r;if(Yu&&(Yu=!1,ra=e,xf=s),i=e.pendingLanes,i===0&&(ca=null),fT(r.stateNode),Er(e,ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(gf)throw gf=!1,e=dg,dg=null,e;return xf&1&&e.tag!==0&&xo(),i=e.pendingLanes,i&1?e===fg?sc++:(sc=0,fg=e):sc=0,Na(),null}function xo(){if(ra!==null){var e=I_(xf),t=fn.transition,r=Oe;try{if(fn.transition=null,Oe=16>e?16:e,ra===null)var n=!1;else{if(e=ra,ra=null,xf=0,Ce&6)throw Error(X(331));var s=Ce;for(Ce|=4,oe=e.current;oe!==null;){var i=oe,o=i.child;if(oe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(oe=u;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:rc(8,d,i)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var h=d.sibling,p=d.return;if(Gk(d),d===u){oe=null;break}if(h!==null){h.return=p,oe=h;break}oe=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,oe=o;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,oe=x;break e}oe=i.return}}var b=e.current;for(oe=b;oe!==null;){o=oe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,oe=w;else e:for(o=b;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kh(9,l)}}catch(N){st(l,l.return,N)}if(l===o){oe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,oe=j;break e}oe=l.return}}if(Ce=s,Na(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(xh,e)}catch{}n=!0}return n}finally{Oe=r,fn.transition=t}}return!1}function u1(e,t,r){t=Eo(r,t),t=Ik(e,t,1),e=la(e,t,1),t=ur(),e!==null&&(ru(e,1,t),Er(e,t))}function st(e,t,r){if(e.tag===3)u1(e,e,r);else for(;t!==null;){if(t.tag===3){u1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ca===null||!ca.has(n))){e=Eo(r,e),e=Lk(t,e,1),t=la(t,e,1),e=ur(),t!==null&&(ru(t,1,e),Er(t,e));break}}t=t.return}}function FO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ur(),e.pingedLanes|=e.suspendedLanes&r,Ot===e&&(Vt&r)===r&&(wt===4||wt===3&&(Vt&130023424)===Vt&&500>ct()-wy?si(e,0):by|=r),Er(e,t)}function s4(e,t){t===0&&(e.mode&1?(t=Fu,Fu<<=1,!(Fu&130023424)&&(Fu=4194304)):t=1);var r=ur();e=ks(e,t),e!==null&&(ru(e,t,r),Er(e,r))}function BO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),s4(e,r)}function zO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(t),s4(e,r)}var a4;a4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cr.current)kr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return kr=!1,PO(e,t,r);kr=!!(e.flags&131072)}else kr=!1,He&&t.flags&1048576&&ck(t,lf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Rd(e,t),e=t.pendingProps;var s=ko(t,er.current);go(t,r),s=my(null,t,n,e,s,r);var i=py();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(n)?(i=!0,af(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cy(t),s.updater=_h,t.stateNode=s,s._reactInternals=t,eg(t,n,e,r),t=ng(null,t,n,!0,i,r)):(t.tag=0,He&&i&&ry(t),or(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Rd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=VO(n),e=kn(n,e),s){case 0:t=rg(null,t,n,e,r);break e;case 1:t=e1(null,t,n,e,r);break e;case 11:t=Qw(null,t,n,e,r);break e;case 14:t=Zw(null,t,n,kn(n.type,e),r);break e}throw Error(X(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kn(n,s),rg(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kn(n,s),e1(e,t,n,s,r);case 3:e:{if(Uk(t),e===null)throw Error(X(387));n=t.pendingProps,i=t.memoizedState,s=i.element,pk(e,t),df(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Eo(Error(X(423)),t),t=t1(e,t,n,r,s);break e}else if(n!==s){s=Eo(Error(X(424)),t),t=t1(e,t,n,r,s);break e}else for(Hr=oa(t.stateNode.containerInfo.firstChild),Kr=t,He=!0,En=null,r=hk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(So(),n===s){t=Ss(e,t,r);break e}or(e,t,n,r)}t=t.child}return t;case 5:return gk(t),e===null&&X0(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,H0(n,s)?o=null:i!==null&&H0(n,i)&&(t.flags|=32),zk(e,t),or(e,t,o,r),t.child;case 6:return e===null&&X0(t),null;case 13:return Vk(e,t,r);case 4:return uy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Co(t,null,n,r):or(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kn(n,s),Qw(e,t,n,s,r);case 7:return or(e,t,t.pendingProps,r),t.child;case 8:return or(e,t,t.pendingProps.children,r),t.child;case 12:return or(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ze(cf,n._currentValue),n._currentValue=o,i!==null)if(Ln(i.value,o)){if(i.children===s.children&&!Cr.current){t=Ss(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=bs(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Q0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Q0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}or(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,go(t,r),s=pn(s),n=n(s),t.flags|=1,or(e,t,n,r),t.child;case 14:return n=t.type,s=kn(n,t.pendingProps),s=kn(n.type,s),Zw(e,t,n,s,r);case 15:return Fk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kn(n,s),Rd(e,t),t.tag=1,Pr(n)?(e=!0,af(t)):e=!1,go(t,r),Dk(t,n,s),eg(t,n,s,r),ng(null,t,n,!0,e,r);case 19:return qk(e,t,r);case 22:return Bk(e,t,r)}throw Error(X(156,t.tag))};function i4(e,t){return M_(e,t)}function UO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,r,n){return new UO(e,t,r,n)}function ky(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VO(e){if(typeof e=="function")return ky(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qx)return 11;if(e===Wx)return 14}return 2}function da(e,t){var r=e.alternate;return r===null?(r=ln(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Id(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")ky(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yi:return ai(r.children,s,i,t);case Vx:o=8,s|=8;break;case _0:return e=ln(12,r,t,s|2),e.elementType=_0,e.lanes=i,e;case k0:return e=ln(13,r,t,s),e.elementType=k0,e.lanes=i,e;case S0:return e=ln(19,r,t,s),e.elementType=S0,e.lanes=i,e;case g_:return Ch(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case m_:o=10;break e;case p_:o=9;break e;case qx:o=11;break e;case Wx:o=14;break e;case Ks:o=16,n=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=ln(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ai(e,t,r,n){return e=ln(7,e,n,t),e.lanes=r,e}function Ch(e,t,r,n){return e=ln(22,e,n,t),e.elementType=g_,e.lanes=r,e.stateNode={isHidden:!1},e}function Tp(e,t,r){return e=ln(6,e,null,t),e.lanes=r,e}function Op(e,t,r){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qO(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fp(0),this.expirationTimes=fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fp(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Sy(e,t,r,n,s,i,o,l,c){return e=new qO(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ln(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cy(i),e}function WO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function o4(e){if(!e)return va;e=e._reactInternals;e:{if(Ni(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(Pr(r))return ok(e,r,t)}return t}function l4(e,t,r,n,s,i,o,l,c){return e=Sy(r,n,!0,e,s,i,o,l,c),e.context=o4(null),r=e.current,n=ur(),s=ua(r),i=bs(n,s),i.callback=t??null,la(r,i,s),e.current.lanes=s,ru(e,s,n),Er(e,n),e}function Ph(e,t,r,n){var s=t.current,i=ur(),o=ua(s);return r=o4(r),t.context===null?t.context=r:t.pendingContext=r,t=bs(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=la(s,t,o),e!==null&&(Dn(e,s,o,i),Td(e,s,o)),o}function vf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function d1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Cy(e,t){d1(e,t),(e=e.alternate)&&d1(e,t)}function HO(){return null}var c4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Py(e){this._internalRoot=e}Eh.prototype.render=Py.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Ph(e,t,null,null)};Eh.prototype.unmount=Py.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pi(function(){Ph(null,e,null,null)}),t[_s]=null}};function Eh(e){this._internalRoot=e}Eh.prototype.unstable_scheduleHydration=function(e){if(e){var t=B_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xs.length&&t!==0&&t<Xs[r].priority;r++);Xs.splice(r,0,e),r===0&&U_(e)}};function Ey(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ah(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function f1(){}function KO(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=vf(o);i.call(u)}}var o=l4(t,n,e,0,null,!1,!1,"",f1);return e._reactRootContainer=o,e[_s]=o.current,kc(e.nodeType===8?e.parentNode:e),pi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=vf(c);l.call(u)}}var c=Sy(e,0,!1,null,null,!1,!1,"",f1);return e._reactRootContainer=c,e[_s]=c.current,kc(e.nodeType===8?e.parentNode:e),pi(function(){Ph(t,c,r,n)}),c}function Th(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=vf(o);l.call(c)}}Ph(t,o,e,s)}else o=KO(r,t,e,s,n);return vf(o)}L_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ll(t.pendingLanes);r!==0&&(Gx(t,r|1),Er(t,ct()),!(Ce&6)&&(Ao=ct()+500,Na()))}break;case 13:pi(function(){var n=ks(e,1);if(n!==null){var s=ur();Dn(n,e,1,s)}}),Cy(e,1)}};Yx=function(e){if(e.tag===13){var t=ks(e,134217728);if(t!==null){var r=ur();Dn(t,e,134217728,r)}Cy(e,134217728)}};F_=function(e){if(e.tag===13){var t=ua(e),r=ks(e,t);if(r!==null){var n=ur();Dn(r,e,t,n)}Cy(e,t)}};B_=function(){return Oe};z_=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}};D0=function(e,t,r){switch(t){case"input":if(E0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=wh(n);if(!s)throw Error(X(90));y_(n),E0(n,s)}}}break;case"textarea":b_(e,r);break;case"select":t=r.value,t!=null&&fo(e,!!r.multiple,t,!1)}};C_=jy;P_=pi;var GO={usingClientEntryPoint:!1,Events:[su,Zi,wh,k_,S_,jy]},_l={findFiberByHostInstance:Ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YO={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=T_(e),e===null?null:e.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||HO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{xh=Ju.inject(YO),Jn=Ju}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GO;en.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ey(t))throw Error(X(200));return WO(e,t,null,r)};en.createRoot=function(e,t){if(!Ey(e))throw Error(X(299));var r=!1,n="",s=c4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Sy(e,1,!1,null,null,r,!1,n,s),e[_s]=t.current,kc(e.nodeType===8?e.parentNode:e),new Py(t)};en.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=T_(t),e=e===null?null:e.stateNode,e};en.flushSync=function(e){return pi(e)};en.hydrate=function(e,t,r){if(!Ah(t))throw Error(X(200));return Th(null,e,t,!0,r)};en.hydrateRoot=function(e,t,r){if(!Ey(e))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=c4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=l4(t,null,e,1,r??null,s,!1,i,o),e[_s]=t.current,kc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Eh(t)};en.render=function(e,t,r){if(!Ah(t))throw Error(X(200));return Th(null,e,t,!1,r)};en.unmountComponentAtNode=function(e){if(!Ah(e))throw Error(X(40));return e._reactRootContainer?(pi(function(){Th(null,null,e,!1,function(){e._reactRootContainer=null,e[_s]=null})}),!0):!1};en.unstable_batchedUpdates=jy;en.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ah(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return Th(e,t,r,!1,n)};en.version="18.3.1-next-f1338f8080-20240426";function u4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u4)}catch(e){console.error(e)}}u4(),u_.exports=en;var d4=u_.exports,pg,h1=d4;pg=h1.createRoot,h1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}var na;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(na||(na={}));const m1="popstate";function JO(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return gg("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:h4(s)}return QO(t,r,null,e)}function mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function f4(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XO(){return Math.random().toString(36).substr(2,8)}function p1(e,t){return{usr:e.state,key:e.key,idx:t}}function gg(e,t,r,n){return r===void 0&&(r=null),Rc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yo(t):t,{state:r,key:t&&t.key||n||XO()})}function h4(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function QO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=na.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Rc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=na.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:y.location,delta:x})}function h(v,x){l=na.Push;let b=gg(y.location,v,x);u=d()+1;let w=p1(b,u),j=y.createHref(b);try{o.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}i&&c&&c({action:l,location:y.location,delta:1})}function p(v,x){l=na.Replace;let b=gg(y.location,v,x);u=d();let w=p1(b,u),j=y.createHref(b);o.replaceState(w,"",j),i&&c&&c({action:l,location:y.location,delta:0})}function m(v){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof v=="string"?v:h4(v);return b=b.replace(/ $/,"%20"),mt(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let y={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(m1,f),c=v,()=>{s.removeEventListener(m1,f),c=null}},createHref(v){return t(s,v)},createURL:m,encodeLocation(v){let x=m(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return o.go(v)}};return y}var g1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(g1||(g1={}));function ZO(e,t,r){return r===void 0&&(r="/"),eM(e,t,r,!1)}function eM(e,t,r,n){let s=typeof t=="string"?Yo(t):t,i=g4(s.pathname||"/",r);if(i==null)return null;let o=m4(e);tM(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=fM(i);l=uM(o[c],u,n)}return l}function m4(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(mt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ii([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(mt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),m4(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:lM(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of p4(i.path))s(i,o,c)}),t}function p4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=p4(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function tM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:cM(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const rM=/^:[\w-]+$/,nM=3,sM=2,aM=1,iM=10,oM=-2,x1=e=>e==="*";function lM(e,t){let r=e.split("/"),n=r.length;return r.some(x1)&&(n+=oM),t&&(n+=sM),r.filter(s=>!x1(s)).reduce((s,i)=>s+(rM.test(i)?nM:i===""?aM:iM),n)}function cM(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function uM(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=y1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=y1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ii([i,f.pathname]),pathnameBase:gM(ii([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ii([i,f.pathnameBase]))}return o}function y1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=dM(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let y=l[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function dM(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),f4(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function fM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return f4(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function g4(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function hM(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Yo(e):e;return{pathname:r?r.startsWith("/")?r:mM(r,t):t,search:xM(n),hash:yM(s)}}function mM(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Mp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function x4(e,t){let r=pM(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function y4(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Yo(e):(s=Rc({},e),mt(!s.pathname||!s.pathname.includes("?"),Mp("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),Mp("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),Mp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=hM(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ii=e=>e.join("/").replace(/\/\/+/g,"/"),gM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const v4=["post","put","patch","delete"];new Set(v4);const bM=["get",...v4];new Set(bM);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(this,arguments)}const Ay=g.createContext(null),wM=g.createContext(null),iu=g.createContext(null),Oh=g.createContext(null),_a=g.createContext({outlet:null,matches:[],isDataRoute:!1}),b4=g.createContext(null);function ou(){return g.useContext(Oh)!=null}function Mh(){return ou()||mt(!1),g.useContext(Oh).location}function w4(e){g.useContext(iu).static||g.useLayoutEffect(e)}function Nt(){let{isDataRoute:e}=g.useContext(_a);return e?$M():jM()}function jM(){ou()||mt(!1);let e=g.useContext(Ay),{basename:t,future:r,navigator:n}=g.useContext(iu),{matches:s}=g.useContext(_a),{pathname:i}=Mh(),o=JSON.stringify(x4(s,r.v7_relativeSplatPath)),l=g.useRef(!1);return w4(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=y4(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ii([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function NM(){let{matches:e}=g.useContext(_a),t=e[e.length-1];return t?t.params:{}}function _M(e,t){return kM(e,t)}function kM(e,t,r,n){ou()||mt(!1);let{navigator:s,static:i}=g.useContext(iu),{matches:o}=g.useContext(_a),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=Mh(),f;if(t){var h;let x=typeof t=="string"?Yo(t):t;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||mt(!1),f=x}else f=d;let p=f.pathname||"/",m=p;if(u!=="/"){let x=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=!i&&r&&r.matches&&r.matches.length>0?r.matches:ZO(e,{pathname:m}),v=AM(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:ii([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:ii([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,r,n);return t&&v?g.createElement(Oh.Provider,{value:{location:$c({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:na.Pop}},v):v}function SM(){let e=RM(),t=vM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:s},r):null,null)}const CM=g.createElement(SM,null);class PM extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(_a.Provider,{value:this.props.routeContext},g.createElement(b4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EM(e){let{routeContext:t,match:r,children:n}=e,s=g.useContext(Ay);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(_a.Provider,{value:t},n)}function AM(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||mt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,m=!1,y=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||CM,c&&(u<0&&h===0?(m=!0,v=null):u===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),b=()=>{let w;return p?w=y:m?w=v:f.route.Component?w=g.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,g.createElement(EM,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(PM,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var j4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(j4||{}),bf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bf||{});function TM(e){let t=g.useContext(Ay);return t||mt(!1),t}function OM(e){let t=g.useContext(wM);return t||mt(!1),t}function MM(e){let t=g.useContext(_a);return t||mt(!1),t}function N4(e){let t=MM(),r=t.matches[t.matches.length-1];return r.route.id||mt(!1),r.route.id}function RM(){var e;let t=g.useContext(b4),r=OM(bf.UseRouteError),n=N4(bf.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function $M(){let{router:e}=TM(j4.UseNavigateStable),t=N4(bf.UseNavigateStable),r=g.useRef(!1);return w4(()=>{r.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,$c({fromRouteId:t},i)))},[e,t])}function DM(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function IM(e){let{to:t,replace:r,state:n,relative:s}=e;ou()||mt(!1);let{future:i,static:o}=g.useContext(iu),{matches:l}=g.useContext(_a),{pathname:c}=Mh(),u=Nt(),d=y4(t,x4(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function St(e){mt(!1)}function LM(e){let{basename:t="/",children:r=null,location:n,navigationType:s=na.Pop,navigator:i,static:o=!1,future:l}=e;ou()&&mt(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:$c({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Yo(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,y=g.useMemo(()=>{let v=g4(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:s}},[c,d,f,h,p,m,s]);return y==null?null:g.createElement(iu.Provider,{value:u},g.createElement(Oh.Provider,{children:r,value:y}))}function v1(e){let{children:t,location:r}=e;return _M(xg(t),r)}new Promise(()=>{});function xg(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,s)=>{if(!g.isValidElement(n))return;let i=[...t,s];if(n.type===g.Fragment){r.push.apply(r,xg(n.props.children,i));return}n.type!==St&&mt(!1),!n.props.index||!n.props.children||mt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=xg(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const FM="6";try{window.__reactRouterVersion=FM}catch{}const BM="startTransition",b1=F5[BM];function w1(e){let{basename:t,children:r,future:n,window:s}=e,i=g.useRef();i.current==null&&(i.current=JO({window:s,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=g.useCallback(f=>{u&&b1?b1(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>DM(n),[n]),g.createElement(LM,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var j1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(j1||(j1={}));var N1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(N1||(N1={}));const zM={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_OPENAI_API_KEY:"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",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtqcHJnanZxY2VlZGliY2Vra2VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM5NDU3MjQsImV4cCI6MjA1OTUyMTcyNH0.m14FspwRVLAilKSIipWuyP9Xrh5mjXEDki--__QAQ7I",VITE_SUPABASE_URL:"https://kjprgjvqceedibcekkep.supabase.co"},_1=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(m=>m(t,p))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(zM?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},UM=e=>e?_1(e):_1;var _4={exports:{}},k4={},S4={exports:{}},C4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=g;function VM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qM=typeof Object.is=="function"?Object.is:VM,WM=To.useState,HM=To.useEffect,KM=To.useLayoutEffect,GM=To.useDebugValue;function YM(e,t){var r=t(),n=WM({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return KM(function(){s.value=r,s.getSnapshot=t,Rp(s)&&i({inst:s})},[e,r,t]),HM(function(){return Rp(s)&&i({inst:s}),e(function(){Rp(s)&&i({inst:s})})},[e]),GM(r),r}function Rp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qM(e,r)}catch{return!0}}function JM(e,t){return t()}var XM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JM:YM;C4.useSyncExternalStore=To.useSyncExternalStore!==void 0?To.useSyncExternalStore:XM;S4.exports=C4;var QM=S4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=g,ZM=QM;function eR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tR=typeof Object.is=="function"?Object.is:eR,rR=ZM.useSyncExternalStore,nR=Rh.useRef,sR=Rh.useEffect,aR=Rh.useMemo,iR=Rh.useDebugValue;k4.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=nR(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=aR(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),s!==void 0&&o.hasValue){var m=o.value;if(s(m,p))return f=m}return f=p}if(m=f,tR(d,p))return m;var y=n(p);return s!==void 0&&s(m,y)?(d=p,m):(d=p,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=rR(e,i[0],i[1]);return sR(function(){o.hasValue=!0,o.value=l},[l]),iR(l),l};_4.exports=k4;var P4=_4.exports;const oR=ns(P4),E4={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_OPENAI_API_KEY:"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",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtqcHJnanZxY2VlZGliY2Vra2VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM5NDU3MjQsImV4cCI6MjA1OTUyMTcyNH0.m14FspwRVLAilKSIipWuyP9Xrh5mjXEDki--__QAQ7I",VITE_SUPABASE_URL:"https://kjprgjvqceedibcekkep.supabase.co"},{useDebugValue:lR}=Tt,{useSyncExternalStoreWithSelector:cR}=oR;let k1=!1;const uR=e=>e;function dR(e,t=uR,r){(E4?"production":void 0)!=="production"&&r&&!k1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),k1=!0);const n=cR(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return lR(n),n}const S1=e=>{(E4?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?UM(e):e,r=(n,s)=>dR(t,n,s);return Object.assign(r,t),r},$h=e=>e?S1(e):S1,fR="modulepreload",hR=function(e){return"/"+e},C1={},Oo=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=hR(c),c in C1)return;C1[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":fR,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},mR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oo(async()=>{const{default:n}=await Promise.resolve().then(()=>Jo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ty extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class pR extends Ty{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gR extends Ty{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xR extends Ty{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yg||(yg={}));var yR=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class vR{constructor(t,{headers:r={},customFetch:n,region:s=yg.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=mR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return yR(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(m=>{throw new pR(m)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new gR(d);if(!d.ok)throw new xR(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var _r={},Oy={},Dh={},lu={},Ih={},Lh={},bR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mo=bR();const wR=Mo.fetch,A4=Mo.fetch.bind(Mo),T4=Mo.Headers,jR=Mo.Request,NR=Mo.Response,Jo=Object.freeze(Object.defineProperty({__proto__:null,Headers:T4,Request:jR,Response:NR,default:A4,fetch:wR},Symbol.toStringTag,{value:"Module"})),_R=N5(Jo);var Fh={};Object.defineProperty(Fh,"__esModule",{value:!0});let kR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Fh.default=kR;var O4=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lh,"__esModule",{value:!0});const SR=O4(_R),CR=O4(Fh);let PR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=SR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&y===""?(h=204,p="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new CR.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Lh.default=PR;var ER=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ih,"__esModule",{value:!0});const AR=ER(Lh);let TR=class extends AR.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ih.default=TR;var OR=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lu,"__esModule",{value:!0});const MR=OR(Ih);let RR=class extends MR.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};lu.default=RR;var $R=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dh,"__esModule",{value:!0});const kl=$R(lu);let DR=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new kl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new kl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new kl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new kl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new kl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Dh.default=DR;var Bh={},zh={};Object.defineProperty(zh,"__esModule",{value:!0});zh.version=void 0;zh.version="0.0.0-automated";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.DEFAULT_HEADERS=void 0;const IR=zh;Bh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${IR.version}`};var M4=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oy,"__esModule",{value:!0});const LR=M4(Dh),FR=M4(lu),BR=Bh;let zR=class R4{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},BR.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new LR.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new R4(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new FR.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Oy.default=zR;var Xo=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_r,"__esModule",{value:!0});_r.PostgrestError=_r.PostgrestBuilder=_r.PostgrestTransformBuilder=_r.PostgrestFilterBuilder=_r.PostgrestQueryBuilder=_r.PostgrestClient=void 0;const $4=Xo(Oy);_r.PostgrestClient=$4.default;const D4=Xo(Dh);_r.PostgrestQueryBuilder=D4.default;const I4=Xo(lu);_r.PostgrestFilterBuilder=I4.default;const L4=Xo(Ih);_r.PostgrestTransformBuilder=L4.default;const F4=Xo(Lh);_r.PostgrestBuilder=F4.default;const B4=Xo(Fh);_r.PostgrestError=B4.default;var UR=_r.default={PostgrestClient:$4.default,PostgrestQueryBuilder:D4.default,PostgrestFilterBuilder:I4.default,PostgrestTransformBuilder:L4.default,PostgrestBuilder:F4.default,PostgrestError:B4.default};const{PostgrestClient:VR,PostgrestQueryBuilder:NJ,PostgrestFilterBuilder:_J,PostgrestTransformBuilder:kJ,PostgrestBuilder:SJ,PostgrestError:CJ}=UR,qR="2.11.2",WR={"X-Client-Info":`realtime-js/${qR}`},HR="1.0.0",z4=1e4,KR=1e3;var yo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yo||(yo={}));var Dr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dr||(Dr={}));var Pn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pn||(Pn={}));var vg;(function(e){e.websocket="websocket"})(vg||(vg={}));var Wa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Wa||(Wa={}));class GR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class U4{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Be||(Be={}));const P1=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=YR(o,e,t,s),i),{})},YR=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?V4(i,o):bg(o)},V4=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ZR(t,r)}switch(e){case Be.bool:return JR(t);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return XR(t);case Be.json:case Be.jsonb:return QR(t);case Be.timestamp:return e$(t);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return bg(t);default:return bg(t)}},bg=e=>e,JR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},XR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},QR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ZR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>V4(t,l))}return e},e$=e=>typeof e=="string"?e.replace(" ","T"):e,q4=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class $p{constructor(t,r,n={},s=z4){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var E1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(E1||(E1={}));class ac{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ac.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=ac.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ac.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),y=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(l[u]=m),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var A1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(A1||(A1={}));var T1;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(T1||(T1={}));var ds;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ds||(ds={}));class My{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $p(this,Pn.join,this.params,this.timeout),this.rejoinTimer=new U4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ac(this),this.broadcastEndpointURL=q4(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(ds.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ds.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(ds.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let y=0;y<p;y++){const v=h[y],{filter:{event:x,schema:b,table:w,filter:j}}=v,N=d&&d[y];if(N&&N.event===x&&N.schema===b&&N.table===w&&N.filter===j)m.push(Object.assign(Object.assign({},v),{id:N.id}));else{this.unsubscribe(),t==null||t(ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(ds.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new $p(this,Pn.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $p(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Pn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,y,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,y,v,x,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,N=(m=p.filter)===null||m===void 0?void 0:m.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(b=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:v,commit_timestamp:x,type:b,errors:w}=m;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Dr.closed}_isJoined(){return this.state===Dr.joined}_isJoining(){return this.state===Dr.joining}_isLeaving(){return this.state===Dr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&My.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pn.close,{},t)}_onError(t){this._on(Pn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=P1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=P1(t.columns,t.old_record)),r}}const t$=()=>{},r$=typeof WebSocket<"u",n$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class s${constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=WR,this.params={},this.timeout=z4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=t$,this.conn=null,this.sendBuffer=[],this.serializer=new GR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Oo(async()=>{const{default:c}=await Promise.resolve().then(()=>Jo);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${vg.websocket}`,this.httpEndpoint=q4(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new U4(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(r$){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new a$(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Oo(async()=>{const{default:t}=await import("./browser-BE1f7NsW.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HR}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case yo.connecting:return Wa.Connecting;case yo.open:return Wa.Open;case yo.closing:return Wa.Closing;default:return Wa.Closed}}isConnected(){return this.connectionState()===Wa.Open}channel(t,r={config:{}}){const n=new My(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Pn.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(KR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([n$],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class a${constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=yo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Ry extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class i$ extends Ry{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wg extends Ry{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var o$=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const W4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oo(async()=>{const{default:n}=await Promise.resolve().then(()=>Jo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},l$=()=>o$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oo(()=>Promise.resolve().then(()=>Jo),void 0)).Response:Response}),jg=e=>{if(Array.isArray(e))return e.map(r=>jg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=jg(n)}),t};var _i=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Dp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),c$=(e,t,r)=>_i(void 0,void 0,void 0,function*(){const n=yield l$();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new i$(Dp(s),e.status||500))}).catch(s=>{t(new wg(Dp(s),s))}):t(new wg(Dp(e),e))}),u$=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function cu(e,t,r,n,s,i){return _i(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,u$(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>c$(c,l,n))})})}function wf(e,t,r,n){return _i(this,void 0,void 0,function*(){return cu(e,"GET",t,r,n)})}function Ys(e,t,r,n,s){return _i(this,void 0,void 0,function*(){return cu(e,"POST",t,n,s,r)})}function d$(e,t,r,n,s){return _i(this,void 0,void 0,function*(){return cu(e,"PUT",t,n,s,r)})}function f$(e,t,r,n){return _i(this,void 0,void 0,function*(){return cu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function H4(e,t,r,n,s){return _i(this,void 0,void 0,function*(){return cu(e,"DELETE",t,n,s,r)})}var vr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const h$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},O1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class m${constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=W4(s)}uploadOrUpdate(t,r,n,s){return vr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},O1),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Pt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return vr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:O1.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Pt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return vr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ys(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ry("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}update(t,r,n){return vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return vr(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Pt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return vr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ys(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Pt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return vr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ys(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Pt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return vr(this,void 0,void 0,function*(){try{const s=yield Ys(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Pt(s))return{data:null,error:s};throw s}})}download(t,r){return vr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield wf(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Pt(l))return{data:null,error:l};throw l}})}info(t){return vr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield wf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:jg(n),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}exists(t){return vr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield f$(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Pt(n)&&n instanceof wg){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return vr(this,void 0,void 0,function*(){try{return{data:yield H4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}list(t,r,n){return vr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},h$),r),{prefix:t||""});return{data:yield Ys(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Pt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const p$="2.7.1",g$={"X-Client-Info":`storage-js/${p$}`};var Ri=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class x${constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},g$),r),this.fetch=W4(n)}listBuckets(){return Ri(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Pt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ri(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ri(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ri(this,void 0,void 0,function*(){try{return{data:yield d$(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ri(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ri(this,void 0,void 0,function*(){try{return{data:yield H4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}}class y$ extends x${constructor(t,r={},n){super(t,r,n)}from(t){return new m$(this.url,this.headers,t,this.fetch)}}const v$="2.49.4";let Bl="";typeof Deno<"u"?Bl="deno":typeof document<"u"?Bl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bl="react-native":Bl="node";const b$={"X-Client-Info":`supabase-js-${Bl}/${v$}`},w$={headers:b$},j$={schema:"public"},N$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_$={};var k$=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const S$=e=>{let t;return e?t=e:typeof fetch>"u"?t=A4:t=fetch,(...r)=>t(...r)},C$=()=>typeof Headers>"u"?T4:Headers,P$=(e,t,r)=>{const n=S$(r),s=C$();return(i,o)=>k$(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var E$=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function A$(e){return e.replace(/\/$/,"")}function T$(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>E$(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const K4="2.69.1",Wi=30*1e3,Ng=3,Ip=Ng*Wi,O$="http://localhost:9999",M$="supabase.auth.token",R$={"X-Client-Info":`gotrue-js/${K4}`},_g="X-Supabase-Api-Version",G4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D$=6e5;class $y extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class I$ extends $y{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function L$(e){return xe(e)&&e.name==="AuthApiError"}class Y4 extends $y{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ka extends $y{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ws extends ka{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function F$(e){return xe(e)&&e.name==="AuthSessionMissingError"}class Lp extends ka{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xu extends ka{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qu extends ka{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B$(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class M1 extends ka{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kg extends ka{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Fp(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class R1 extends ka{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ic extends ka{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),D1=` 	
\r=`.split(""),z$=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<D1.length;t+=1)e[D1[t].charCodeAt(0)]=-2;for(let t=0;t<$1.length;t+=1)e[$1[t].charCodeAt(0)]=t;return e})();function J4(e,t,r){const n=z$[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function I1(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{q$(o,n,r)};for(let o=0;o<e.length;o+=1)J4(e.charCodeAt(o),s,i);return t.join("")}function U$(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function V$(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}U$(n,t)}}function q$(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function W$(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)J4(e.charCodeAt(s),r,n);return new Uint8Array(t)}function H$(e){const t=[];return V$(e,r=>t.push(r)),new Uint8Array(t)}function K$(e){return Math.round(Date.now()/1e3)+e}function G$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vn=()=>typeof window<"u"&&typeof document<"u",Ia={tested:!1,writable:!1},oc=()=>{if(!Vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ia.tested)return Ia.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ia.tested=!0,Ia.writable=!0}catch{Ia.tested=!0,Ia.writable=!1}return Ia.writable};function Y$(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const X4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oo(async()=>{const{default:n}=await Promise.resolve().then(()=>Jo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},J$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Q4=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Zu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ed=async(e,t)=>{await e.removeItem(t)};class Uh{constructor(){this.promise=new Uh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Uh.promiseConstructor=Promise;function Bp(e){const t=e.split(".");if(t.length!==3)throw new ic("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!$$.test(t[n]))throw new ic("JWT not in base64url format");return{header:JSON.parse(I1(t[0])),payload:JSON.parse(I1(t[1])),signature:W$(t[2]),raw:{header:t[0],payload:t[1]}}}async function X$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Q$(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Z$(e){return("0"+e.toString(16)).substr(-2)}function eD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Z$).join("")}async function tD(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function rD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await tD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $i(e,t,r=!1){const n=eD();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Q4(e,`${t}-code-verifier`,s);const i=await rD(n);return[i,n===i?"plain":"s256"]}const nD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sD(e){const t=e.headers.get(_g);if(!t||!t.match(nD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var oD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const za=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lD=[502,503,504];async function L1(e){var t;if(!J$(e))throw new kg(za(e),0);if(lD.includes(e.status))throw new kg(za(e),e.status);let r;try{r=await e.json()}catch(i){throw new Y4(za(i),i)}let n;const s=sD(e);if(s&&s.getTime()>=G4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new R1(za(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ws}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new R1(za(r),e.status,r.weak_password.reasons);throw new I$(za(r),e.status||500,n)}const cD=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ke(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[_g]||(i[_g]=G4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await uD(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function uD(e,t,r,n,s,i){const o=cD(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new kg(za(c),0)}if(l.ok||await L1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await L1(c)}}function Hs(e){var t;let r=null;mD(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=K$(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function F1(e){const t=Hs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dD(e){return{data:e,error:null}}function fD(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=oD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function hD(e){return e}function mD(e){return e.access_token&&e.refresh_token&&e.expires_in}var pD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class gD{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=X4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zs})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=pD(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:fD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(xe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zs})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:hD});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(xe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zs})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Zs})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zs})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}}const xD={getItem:e=>oc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{oc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{oc()&&globalThis.localStorage.removeItem(e)}};function B1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function yD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Di={debug:!!(globalThis&&oc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Z4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vD extends Z4{}async function bD(e,t,r){Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Di.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Di.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}yD();const wD={url:O$,storageKey:M$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:R$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function z1(e,t,r){return await r()}class Dc{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Dc.nextInstanceID,Dc.nextInstanceID+=1,this.instanceID>0&&Vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wD),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new gD({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=X4(s.fetch),this.lock=s.lock||z1,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Vn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=bD:this.lock=z1,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:oc()?this.storage=xD:(this.memoryStorage={},this.storage=B1(this.memoryStorage)):(this.memoryStorage={},this.storage=B1(this.memoryStorage)),Vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${K4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Y$(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Vn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),B$(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return xe(r)?{error:r}:{error:new Y4("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Hs}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await $i(this.storage,this.storageKey)),i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Hs})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Hs})}else throw new Xu("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:F1})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:F1})}else throw new Xu("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Lp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(xe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Zu(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Hs});if(await ed(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Lp}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(xe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Hs}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Lp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(xe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $i(this.storage,this.storageKey));const{error:f}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Xu("You must provide either an email or phone number.")}catch(l){if(xe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Hs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await $i(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:dD})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ws;const{error:s}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Xu("You must provide either an email or phone number and a type")}catch(r){if(xe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Zu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ip:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zs}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ws}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Zs})})}catch(r){if(xe(r))return F$(r)&&(await this._removeSession(),await ed(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ws;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await $i(this.storage,this.storageKey));const{data:u,error:d}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Zs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ws;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Bp(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(xe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ws;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(xe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Vn())throw new Qu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new M1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new M1("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Qu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(xe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Zu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(L$(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ed(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=G$(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await $i(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Vn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(xe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Q$(async s=>(s>0&&await X$(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Hs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Fp(i)&&Date.now()+o-n<Wi})}catch(n){if(this._debug(r,"error",n),xe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Vn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Zu(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ip;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ip}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Fp(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ws;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Uh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ws;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),xe(i)){const o={session:null,error:i};return Fp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Q4(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ed(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wi}ms, refresh threshold is ${Ng} ticks`),s<=Ng&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Z4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await $i(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(xe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(xe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Bp(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+D$>Date.now()))return n;const{data:s,error:i}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ic("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new ic("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Bp(n);if(aD(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const u=iD(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,H$(`${l}.${c}`)))throw new ic("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}}Dc.nextInstanceID=0;const jD=Dc;class ND extends jD{constructor(t){super(t)}}var _D=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class kD{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=A$(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:j$,realtime:_$,auth:Object.assign(Object.assign({},N$),{storageKey:c}),global:w$},d=T$(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=P$(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new VR(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new vR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new y$(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return _D(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ND({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new s$(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const SD=(e,t,r)=>new kD(e,t,r),CD="https://kjprgjvqceedibcekkep.supabase.co",PD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtqcHJnanZxY2VlZGliY2Vra2VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM5NDU3MjQsImV4cCI6MjA1OTUyMTcyNH0.m14FspwRVLAilKSIipWuyP9Xrh5mjXEDki--__QAQ7I",Z=SD(CD,PD,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",debug:!0},global:{headers:{"x-application-name":"devhub-trader","X-Client-Info":"supabase-js/2.39.7"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}});async function ED(e=3,t=1e3){for(let r=0;r<e;r++)try{const{error:n}=await Z.auth.getSession();if(!n)return console.log("Successfully connected to Supabase"),!0;if(console.warn(`Connection attempt ${r+1} failed: ${n.message}`),r<e-1){const s=t*Math.pow(2,r);console.log(`Retrying in ${s}ms...`),await new Promise(i=>setTimeout(i,s))}}catch(n){if(console.error("Supabase connection error:",n),r<e-1){const s=t*Math.pow(2,r);console.log(`Retrying in ${s}ms...`),await new Promise(i=>setTimeout(i,s))}}return console.error("Failed to establish Supabase connection after all retries"),!1}async function AD(){try{if(!await ED())return console.error("Failed to establish Supabase connection after retries"),!1;const{data:{session:t},error:r}=await Z.auth.getSession();if(r)return console.error("Session error:",r.message),!1;const{data:{subscription:n}}=Z.auth.onAuthStateChange((s,i)=>{try{s==="SIGNED_OUT"?console.log("User signed out, clearing cache"):s==="SIGNED_IN"&&console.log("User signed in, refreshing data")}catch(o){console.error("Error in auth state change handler:",o)}});return!0}catch(e){return console.error("Failed to initialize Supabase:",e),!1}}const Rt=$h((e,t)=>({isLoading:!0,session:null,profile:null,signInWithEmail:async(r,n)=>{try{const{error:s}=await Z.auth.signInWithPassword({email:r,password:n});if(s)throw s.message.includes("Invalid login credentials")?new Error("Email ou senha incorretos"):s;console.log("opa",r,n),await t().loadProfile()}catch(s){throw s}},signUpWithEmail:async(r,n,s)=>{var i,o;try{const{data:{user:l},error:c}=await Z.auth.signUp({email:r,password:n,options:{emailRedirectTo:window.location.origin,data:{name:r.split("@")[0],phone:s||null}}});if(c)throw(i=c.message)!=null&&i.includes("User already registered")||(o=c.message)!=null&&o.includes("already been taken")?new Error("Este email j est cadastrado. Por favor, faa login."):c;if(!l)throw new Error("Erro ao criar usurio. Tente novamente.");const{error:u}=await Z.auth.signInWithPassword({email:r,password:n});if(u)throw u;return await Z.from("profiles").update({token_balance:100,plan:"Free",plan_status:"active",phone:s||null}).eq("id",l.id),await t().loadProfile(),{user:l}}catch(l){throw console.error("Registration error:",l),l}},signOut:async()=>{const{error:r}=await Z.auth.signOut();if(r)throw r;e({session:null,profile:null})},loadProfile:async()=>{try{const{data:{session:r}}=await Z.auth.getSession();if(e({session:r}),r!=null&&r.user){const{data:n,error:s}=await Z.from("profiles").select("*").eq("id",r.user.id).single();if(s)throw s;e({profile:n})}e({isLoading:!1})}catch(r){console.error("Error loading profile:",r),e({isLoading:!1})}},updateProfile:async r=>{try{const{data:{session:n}}=await Z.auth.getSession();if(!(n!=null&&n.user))throw new Error("No authenticated session");const{error:s}=await Z.from("profiles").update(r).eq("id",n.user.id);if(s)throw s;await t().loadProfile()}catch(n){throw console.error("Error updating profile:",n),n}},updateTokenBalance:async r=>{try{const{data:{session:n}}=await Z.auth.getSession();if(!(n!=null&&n.user))throw new Error("No authenticated session");const{profile:s}=t();if(!s)throw new Error("Profile not loaded");const o=(s.token_balance||0)+r,{error:l}=await Z.from("profiles").update({token_balance:o}).eq("id",n.user.id);if(l)throw l;e({profile:{...s,token_balance:o}})}catch(n){throw console.error("Error updating token balance:",n),n}}}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>g.createElement("svg",{ref:d,...TD,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${OD(e)}`,l].join(" "),...u},[...t.map(([f,h])=>g.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=G("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=G("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=G("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=G("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=G("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=G("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=G("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=G("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=G("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=G("BarChartHorizontal",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=G("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=G("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=G("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=G("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=G("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=G("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=G("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=G("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=G("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=G("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=G("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=G("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=G("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=G("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=G("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=G("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=G("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=G("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=G("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=G("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=G("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=G("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=G("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=G("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=G("FileCode2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=G("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=G("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=G("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=G("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=G("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=G("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=G("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=G("GitFork",[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=G("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=G("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=G("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=G("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=G("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=G("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=G("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=G("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=G("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=G("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=G("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=G("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=G("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=G("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=G("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=G("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=G("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=G("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=G("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=G("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=G("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=G("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=G("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=G("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=G("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=G("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=G("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=G("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=G("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=G("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=G("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=G("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=G("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=G("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=G("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=G("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=G("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=G("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=G("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),u6={en:{"nav.robots":"My Robots","nav.community":"Community","nav.profile":"Profile","nav.subscription":"Subscription","nav.experts":"Experts","nav.signOut":"Sign Out","button.createRobot":"Create Robot","button.newVersion":"New Version","button.save":"Save","button.share":"Share","button.export":"Export","button.cancel":"Cancel","button.back":"Back","robot.edit":"Edit","robot.delete":"Delete","robot.view":"View","robot.rename":"Rename","share.title":"Share Robot","share.permission":"Permission Level","share.viewOnly":"View Only","share.canEdit":"Can Edit","share.generateLink":"Generate Link","share.inviteByEmail":"Invite by Email","share.shareLink":"Share Link","ai.title":"AI Assistant","ai.placeholder":"Ask me anything...","ai.createRobot":"Create Robot with AI","ai.configAssistant":"Configuration Assistant","ai.clearChat":"Clear Chat","ai.buyTokens":"Buy Tokens","ai.notEnoughTokens":"Not enough tokens. Please buy more.","ai.tokenCost":"Each AI analysis costs 100 tokens","tokens.balance":"tokens","tokens.buy":"Buy Tokens","profile.title":"Profile Settings","profile.photo":"Profile Photo","profile.email":"Email Address","profile.name":"Display Name","profile.save":"Save Changes","subscription.title":"Subscription & Tokens","subscription.current":"Current Plan","subscription.status":"Status","subscription.renewal":"Next Renewal","subscription.manage":"Manage Subscription",loading:"Loading...",error:"An error occurred",success:"Success!"},pt:{"nav.robots":"Meus Robs","nav.community":"Comunidade","nav.profile":"Perfil","nav.subscription":"Assinatura","nav.experts":"Especialistas","nav.signOut":"Sair","button.createRobot":"Criar Rob","button.newVersion":"Nova Verso","button.save":"Salvar","button.share":"Compartilhar","button.export":"Exportar","button.cancel":"Cancelar","button.back":"Voltar","robot.edit":"Editar","robot.delete":"Excluir","robot.view":"Visualizar","robot.rename":"Renomear","share.title":"Compartilhar Rob","share.permission":"Nvel de Permisso","share.viewOnly":"Apenas Visualizao","share.canEdit":"Pode Editar","share.generateLink":"Gerar Link","share.inviteByEmail":"Convidar por Email","share.shareLink":"Link de Compartilhamento","ai.title":"Assistente de IA","ai.placeholder":"Pergunte-me qualquer coisa...","ai.createRobot":"Criar Rob com IA","ai.configAssistant":"Assistente de Configurao","ai.clearChat":"Limpar Chat","ai.buyTokens":"Comprar Tokens","ai.notEnoughTokens":"Tokens insuficientes. Por favor, compre mais.","ai.tokenCost":"Cada anlise de IA custa 100 tokens","tokens.balance":"tokens","tokens.buy":"Comprar Tokens","profile.title":"Configuraes de Perfil","profile.photo":"Foto de Perfil","profile.email":"Endereo de Email","profile.name":"Nome de Exibio","profile.save":"Salvar Alteraes","subscription.title":"Assinatura e Tokens","subscription.current":"Plano Atual","subscription.status":"Status","subscription.renewal":"Prxima Renovao","subscription.manage":"Gerenciar Assinatura",loading:"Carregando...",error:"Ocorreu um erro",success:"Sucesso!"}},Ms=$h((e,t)=>({language:"pt",setLanguage:r=>{e({language:r}),localStorage.setItem("preferredLanguage",r)},t:r=>{const{language:n}=t();return u6[n][r]||r}}));if(typeof window<"u"){const e=localStorage.getItem("preferredLanguage");e&&(e==="en"||e==="pt")&&Ms.getState().setLanguage(e)}function Ag({className:e=""}){const{language:t,setLanguage:r}=Ms(),n=()=>{r(t==="en"?"pt":"en")};return a.jsxs("button",{onClick:n,className:`flex items-center space-x-1 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-md text-sm text-gray-300 ${e}`,title:t==="en"?"Switch to Portuguese":"Mudar para Ingls",children:[a.jsx(WD,{className:"w-4 h-4"}),a.jsx("span",{children:t==="en"?"PT":"EN"})]})}function W1(){const e=Nt(),[t,r]=g.useState(!1),[n,s]=g.useState(!1),[i,o]=g.useState(""),[l,c]=g.useState(""),[u,d]=g.useState(""),[f,h]=g.useState(!1),[p,m]=g.useState(null),[y,v]=g.useState(null),{signInWithEmail:x,signUpWithEmail:b,isLoading:w}=Rt(),{language:j,t:N}=Ms(),_=async P=>{if(P.preventDefault(),m(null),v(null),i&&l)try{n?await b(i,l,u):(await x(i,l),window.location.href="/backtest-analysis")}catch(E){console.error("Error with authentication:",E),m(E instanceof Error?E.message:n?"Erro ao cadastrar. Tente novamente.":"Erro ao fazer login. Verifique suas credenciais.")}},k=()=>{o(""),c(""),d(""),h(!1),m(null),v(null)},S=()=>j==="en"?"Develop trading robots directly in your browser":"Desenvolva robs de trading direto no seu navegador",C=()=>j==="en"?"Create, edit and share robots for Profit, MetaTrader and NTSL. Collaborate in real-time with your team and keep everything organized in one place.":"Crie, edite e compartilhe robs para Profit, MetaTrader e NTSL. Colabore em tempo real com sua equipe e mantenha tudo organizado em um s lugar.";return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E]",children:[a.jsx("nav",{className:"border-b border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jt,{className:"w-8 h-8 text-blue-500"}),a.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"DevHub Trader"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Ag,{}),a.jsx("button",{onClick:()=>e("/plans"),className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:j==="en"?"Plans":"Planos"}),a.jsx("button",{onClick:()=>{s(!1),r(!0),k()},className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:j==="en"?"Login":"Entrar"}),a.jsxs("button",{onClick:()=>{s(!0),r(!0),k()},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center",children:[j==="en"?"Sign Up":"Cadastrar"," ",a.jsx(Ld,{className:"w-4 h-4 ml-2"})]})]})]})})}),a.jsx("div",{className:"relative overflow-hidden",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"text-4xl tracking-tight font-extrabold text-white sm:text-5xl md:text-6xl",children:[a.jsx("span",{className:"block",children:S()}),a.jsx("span",{className:"block text-blue-500",children:j==="en"?"with AI assistance":"com assistncia de IA"})]}),a.jsx("p",{className:"mt-3 max-w-md mx-auto text-base text-gray-400 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl",children:C()}),a.jsx("div",{className:"mt-5 max-w-md mx-auto sm:flex sm:justify-center md:mt-8",children:a.jsx("div",{className:"rounded-md shadow",children:a.jsx("button",{onClick:()=>{s(!0),r(!0),k()},className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 md:py-4 md:text-lg md:px-10",children:j==="en"?"Start for Free":"Comece Gratuitamente"})})})]})})}),a.jsx("div",{className:"py-16 bg-[#252526]",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:j==="en"?"Complete Trading Platform":"Plataforma Completa de Trading"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:j==="en"?"Everything you need to create, analyze, and optimize your trading strategies in one place":"Tudo o que voc precisa para criar, analisar e otimizar suas estratgias de trading em um s lugar"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:[a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-md bg-blue-500 text-white mb-4",children:a.jsx(Ja,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:j==="en"?"AI-Powered Creation":"Criao com IA"}),a.jsx("p",{className:"text-gray-400",children:j==="en"?"Create trading robots with AI assistance. Just describe your strategy and let AI do the coding.":"Crie robs de trading com assistncia de IA. Apenas descreva sua estratgia e deixe a IA fazer o cdigo."})]}),a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-md bg-green-500 text-white mb-4",children:a.jsx(Ar,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:j==="en"?"Strategy Analysis":"Anlise de Estratgias"}),a.jsx("p",{className:"text-gray-400",children:j==="en"?"Analyze your trading strategies with advanced metrics and AI insights to improve performance.":"Analise suas estratgias de trading com mtricas avanadas e insights de IA para melhorar o desempenho."})]}),a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-md bg-purple-500 text-white mb-4",children:a.jsx(Sf,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:j==="en"?"AI Optimization":"Otimizao com IA"}),a.jsx("p",{className:"text-gray-400",children:j==="en"?"Optimize your existing strategies with AI suggestions for better risk management and returns.":"Otimize suas estratgias existentes com sugestes de IA para melhor gerenciamento de risco e retornos."})]}),a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-md bg-orange-500 text-white mb-4",children:a.jsx(KD,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:j==="en"?"Portfolio Management":"Gesto de Portflio"}),a.jsx("p",{className:"text-gray-400",children:j==="en"?"Create and manage diversified portfolios of trading strategies for optimal performance.":"Crie e gerencie portflios diversificados de estratgias de trading para performance ideal."})]})]})]})}),a.jsx("div",{className:"py-16 bg-[#252526]",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"lg:flex lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"lg:w-1/2 mb-8 lg:mb-0 lg:pr-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:j==="en"?"Advanced Backtest Analysis":"Anlise Avanada de Backtest"}),a.jsx("p",{className:"text-xl text-gray-400 mb-6",children:j==="en"?"Upload your backtest results and get detailed AI-powered analysis to improve your strategies":"Faa upload dos resultados do seu backtest e obtenha anlises detalhadas com IA para melhorar suas estratgias"}),a.jsxs("ul",{className:"space-y-3 text-gray-300",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(Mt,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:j==="en"?"Comprehensive performance metrics and visualizations":"Mtricas de desempenho abrangentes e visualizaes"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Mt,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:j==="en"?"AI-powered strategy strengths and weaknesses analysis":"Anlise de pontos fortes e fracos da estratgia com IA"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Mt,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:j==="en"?"Optimization suggestions tailored to your trading style":"Sugestes de otimizao adaptadas ao seu estilo de trading"})]})]}),a.jsxs("button",{onClick:()=>{s(!0),r(!0),k()},className:"mt-6 px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium inline-flex items-center",children:[j==="en"?"Try Backtest Analysis":"Experimente a Anlise de Backtest",a.jsx(Ld,{className:"w-4 h-4 ml-2"})]})]}),a.jsx("div",{className:"lg:w-1/2 bg-gray-800 rounded-lg p-6",children:a.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-900 rounded-lg flex items-center justify-center",children:a.jsx(Ar,{className:"w-24 h-24 text-blue-500 opacity-50"})})})]})})}),a.jsx("div",{className:"py-16",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"lg:flex lg:items-center lg:justify-between lg:flex-row-reverse",children:[a.jsxs("div",{className:"lg:w-1/2 mb-8 lg:mb-0 lg:pl-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:j==="en"?"Create Trading Robots with AI":"Crie Robs de Trading com IA"}),a.jsx("p",{className:"text-xl text-gray-400 mb-6",children:j==="en"?"Let AI do the heavy lifting. Describe your trading strategy and get a fully functional robot in seconds.":"Deixe a IA fazer o trabalho pesado. Descreva sua estratgia de trading e obtenha um rob totalmente funcional em segundos."}),a.jsxs("ul",{className:"space-y-3 text-gray-300",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(Ja,{className:"w-5 h-5 text-blue-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:j==="en"?"No coding experience required":"Nenhuma experincia em programao necessria"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Ja,{className:"w-5 h-5 text-blue-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:j==="en"?"Support for multiple trading platforms and indicators":"Suporte para mltiplas plataformas de trading e indicadores"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Ja,{className:"w-5 h-5 text-blue-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:j==="en"?"Customizable risk management and position sizing":"Gerenciamento de risco e dimensionamento de posio personalizveis"})]})]}),a.jsxs("button",{onClick:()=>{s(!0),r(!0),k()},className:"mt-6 px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium inline-flex items-center",children:[j==="en"?"Create Your First Robot":"Crie Seu Primeiro Rob",a.jsx(Ld,{className:"w-4 h-4 ml-2"})]})]}),a.jsx("div",{className:"lg:w-1/2 bg-gray-800 rounded-lg p-6",children:a.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-900 rounded-lg flex items-center justify-center",children:a.jsx(jt,{className:"w-24 h-24 text-blue-500 opacity-50"})})})]})})}),a.jsx("div",{className:"py-16 bg-gradient-to-r from-blue-900 to-indigo-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:j==="en"?"Ready to Transform Your Trading?":"Pronto para Transformar seu Trading?"}),a.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:j==="en"?"Join thousands of traders who are already using DevHub Trader to create, analyze, and optimize their trading strategies.":"Junte-se a milhares de traders que j esto usando o DevHub Trader para criar, analisar e otimizar suas estratgias de trading."}),a.jsx("button",{onClick:()=>{s(!0),r(!0),k()},className:"px-8 py-4 bg-white text-blue-900 rounded-md font-bold text-lg hover:bg-gray-100 transition-colors",children:j==="en"?"Get Started Now":"Comece Agora"})]})}),t&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-8 relative",children:[a.jsx("button",{onClick:()=>{r(!1),k()},className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:""}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(jt,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h2",{className:"text-3xl font-bold text-gray-100",children:n?j==="en"?"Create Account":"Criar Conta":j==="en"?"Welcome to DevHub":"Bem-vindo ao DevHub"}),a.jsx("p",{className:"mt-2 text-gray-400",children:n?j==="en"?"Start your development journey":"Comece sua jornada de desenvolvimento":j==="en"?"Sign in to continue":"Entre para continuar"})]}),a.jsxs("form",{onSubmit:_,className:"mt-8 space-y-4",children:[p&&a.jsx("div",{className:"p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md text-red-500 text-sm",children:p}),y&&a.jsx("div",{className:"p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md text-green-500 text-sm",children:y}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email"}),a.jsx("input",{id:"email",type:"email",value:i,onChange:P=>o(P.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:j==="en"?"your@email.com":"seu@email.com"})]}),n&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300",children:j==="en"?"Phone":"Telefone"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(lS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{id:"phone",type:"tel",value:u,onChange:P=>d(P.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+55 (11) 98765-4321"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:j==="en"?"Password":"Senha"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{id:"password",type:f?"text":"password",value:l,onChange:P=>c(P.target.value),required:!0,className:"block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10",placeholder:"",minLength:6}),a.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-white",children:f?a.jsx(nS,{className:"w-4 h-4"}):a.jsx(Iy,{className:"w-4 h-4"})})]})]}),a.jsxs("button",{type:"submit",disabled:w||!i||!l,className:"w-full flex items-center justify-center px-4 py-3 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Vh,{className:"w-5 h-5 mr-2"}),n?j==="en"?"Register with Email":"Cadastrar com Email":j==="en"?"Sign in with Email":"Entrar com Email"]})]}),a.jsxs("div",{className:"mt-6 text-center",children:[a.jsxs("p",{className:"text-sm text-gray-400",children:[n?j==="en"?"Already have an account?":"J tem uma conta?":j==="en"?"Don't have an account yet?":"Ainda no tem conta?"," ",a.jsx("button",{type:"button",onClick:()=>{s(!n),k()},className:"text-blue-500 hover:text-blue-400",children:n?j==="en"?"Sign in":"Faa login":j==="en"?"Sign up":"Cadastre-se"})]}),a.jsxs("p",{className:"text-sm text-gray-400 mt-4",children:[j==="en"?"By continuing, you agree to our":"Ao continuar, voc concorda com nossos"," ",a.jsx("a",{href:"#",className:"text-blue-500 hover:text-blue-400",children:j==="en"?"Terms of Service":"Termos de Servio"})," ",j==="en"?"and":"e"," ",a.jsx("a",{href:"#",className:"text-blue-500 hover:text-blue-400",children:j==="en"?"Privacy Policy":"Poltica de Privacidade"})]})]})]})})]})}const ph=class ph{static logError(t,r){const n={timestamp:new Date,message:t instanceof Error?t.message:String(t),stack:t instanceof Error?t.stack:void 0,context:r};this.errors.unshift(n),this.errors.length>this.maxErrors&&this.errors.pop(),console.error(`[${n.timestamp.toISOString()}]`,r?`[${r}]`:"",t)}static getRecentErrors(t=10){return this.errors.slice(0,t)}static clearErrors(){this.errors=[]}static formatErrorMessage(t){return t instanceof Error?t.message:typeof t=="string"?t:"Ocorreu um erro desconhecido"}};ph.errors=[],ph.maxErrors=100;let ir=ph;const du=$h((e,t)=>({robots:[],sharedRobots:[],currentRobot:null,versions:[],currentVersion:null,isLoading:!1,error:null,robotLimit:5,loadRobots:async()=>{e({isLoading:!0,error:null});try{const{data:{session:r}}=await Z.auth.getSession();if(!(r!=null&&r.user))throw new Error("No authenticated session");const{data:n,error:s}=await Z.from("robots").select("*").eq("owner_id",r.user.id).order("created_at",{ascending:!1});if(s)throw s;e({robots:n||[]}),await t().getRobotLimit()}catch(r){const n=r instanceof Error?r.message:"Failed to load robots";e({error:n}),ir.logError(r,"loadRobots")}finally{e({isLoading:!1})}},loadSharedRobots:async()=>{e({isLoading:!0,error:null});try{const{data:{session:r}}=await Z.auth.getSession();if(!(r!=null&&r.user))throw new Error("No authenticated session");const{data:n,error:s}=await Z.from("shared_robots").select(`
          robots:robot_name (
            id,
            name,
            owner_id,
            created_at,
            updated_at,
            current_version_id
          )
        `).eq("user_id",r.user.id);if(s)throw s;e({sharedRobots:(n==null?void 0:n.map(i=>i.robots))||[]})}catch(r){const n=r instanceof Error?r.message:"Failed to load shared robots";e({error:n}),ir.logError(r,"loadSharedRobots")}finally{e({isLoading:!1})}},loadVersions:async r=>{e({isLoading:!0,error:null});try{const{data:n,error:s}=await Z.from("robot_versions").select("*").eq("robot_id",r).eq("is_deleted",!1).order("created_at",{ascending:!1});if(s)throw s;return e({versions:n||[]}),n||[]}catch(n){const s=n instanceof Error?n.message:"Failed to load versions";return e({error:s}),ir.logError(n,"loadVersions"),[]}finally{e({isLoading:!1})}},getVersionCount:async r=>{try{const{count:n,error:s}=await Z.from("robot_versions").select("*",{count:"exact",head:!0}).eq("robot_id",r).eq("is_deleted",!1);if(s)throw s;return n||0}catch(n){return ir.logError(n,"getVersionCount"),0}},getRobotLimit:async()=>{try{const{data:{session:r}}=await Z.auth.getSession();if(!(r!=null&&r.user))throw new Error("No authenticated session");const{data:n,error:s}=await Z.from("profiles").select("plan").eq("id",r.user.id).single();if(s)throw s;let i=5;if(n!=null&&n.plan)switch(n.plan){case"Free":i=5;break;case"PRO 1":i=25;break;case"PRO 2":i=100;break;case"PRO 3":i=999;break;default:i=5}return e({robotLimit:i}),i}catch(r){return console.error("Error getting robot limit:",r),t().robotLimit}},createRobot:async r=>{e({isLoading:!0,error:null});try{const{data:{session:n}}=await Z.auth.getSession();if(!(n!=null&&n.user))throw new Error("No authenticated session");const{robots:s,robotLimit:i}=t();if(s.length>=i)throw new Error(`You have reached your limit of ${i} robots. Please upgrade your plan to create more robots.`);const{data:o,error:l}=await Z.from("robots").insert({name:r,owner_id:n.user.id}).select().single();if(l)throw l;if(!o)throw new Error("Failed to create robot");const{data:c,error:u}=await Z.from("robot_versions").insert({robot_id:o.id,version_name:"Verso 1",code:`// ${o.name}
// Verso 1

var
  precoEntrada, precoSaida: float;
begin
  // Lgica principal do rob
  // Clique para comear a editar
end;`,description:"Verso inicial",tags:["tendencia"],created_by:n.user.id}).select().single();if(u)throw u;const{error:d}=await Z.from("robots").update({current_version_id:c.id}).eq("id",o.id);if(d)throw d;return e(f=>({robots:[o,...f.robots],currentRobot:o,versions:[c],currentVersion:c})),o}catch(n){const s=n instanceof Error?n.message:"Failed to create robot";return e({error:s}),ir.logError(n,"createRobot"),null}finally{e({isLoading:!1})}},renameRobot:async(r,n)=>{e({isLoading:!0,error:null});try{const{data:s,error:i}=await Z.from("robots").update({name:n}).eq("id",r).select().single();if(i)throw i;e(o=>{var l;return{robots:o.robots.map(c=>c.id===r?{...c,name:n}:c),currentRobot:((l=o.currentRobot)==null?void 0:l.id)===r?{...o.currentRobot,name:n}:o.currentRobot}})}catch(s){const i=s instanceof Error?s.message:"Failed to rename robot";throw e({error:i}),ir.logError(s,"renameRobot"),s}finally{e({isLoading:!1})}},createVersion:async(r,n,s,i,o)=>{e({isLoading:!0,error:null});try{const{data:l,error:c}=await Z.from("robot_versions").select("version_name").eq("robot_id",r).eq("version_name",n).eq("is_deleted",!1);if(c)throw c;if(l&&l.length>0)throw new Error("Version name already exists for this robot");const{data:u,error:d}=await Z.from("robot_versions").insert({robot_id:r,version_name:n,code:s,description:i,tags:o}).select().single();if(d)throw d;if(!u)throw new Error("Failed to create version");return await Z.from("robots").update({current_version_id:u.id}).eq("id",r),e(f=>({versions:[u,...f.versions],currentVersion:u})),u}catch(l){const c=l instanceof Error?l.message:"Failed to create version";throw e({error:c}),ir.logError(l,"createVersion"),l}finally{e({isLoading:!1})}},updateVersion:async(r,n)=>{e({isLoading:!0,error:null});try{const{error:s}=await Z.from("robot_versions").update(n).eq("id",r);if(s)throw s;e(i=>{var o;return{versions:i.versions.map(l=>l.id===r?{...l,...n}:l),currentVersion:((o=i.currentVersion)==null?void 0:o.id)===r?{...i.currentVersion,...n}:i.currentVersion}})}catch(s){const i=s instanceof Error?s.message:"Failed to update version";throw e({error:i}),ir.logError(s,"updateVersion"),s}finally{e({isLoading:!1})}},deleteVersion:async r=>{e({isLoading:!0,error:null});try{const{error:n}=await Z.from("robot_versions").update({is_deleted:!0}).eq("id",r);if(n)throw n;e(s=>{var i;return{versions:s.versions.filter(o=>o.id!==r),currentVersion:((i=s.currentVersion)==null?void 0:i.id)===r?null:s.currentVersion}})}catch(n){const s=n instanceof Error?n.message:"Failed to delete version";throw e({error:s}),ir.logError(n,"deleteVersion"),n}finally{e({isLoading:!1})}},renameVersion:async(r,n)=>{e({isLoading:!0,error:null});try{const{error:s}=await Z.from("robot_versions").update({version_name:n}).eq("id",r);if(s)throw s;e(i=>{var o;return{versions:i.versions.map(l=>l.id===r?{...l,version_name:n}:l),currentVersion:((o=i.currentVersion)==null?void 0:o.id)===r?{...i.currentVersion,version_name:n}:i.currentVersion}})}catch(s){const i=s instanceof Error?s.message:"Failed to rename version";throw e({error:i}),ir.logError(s,"renameVersion"),s}finally{e({isLoading:!1})}},deleteRobot:async r=>{e({isLoading:!0,error:null});try{const{error:n}=await Z.from("robots").delete().eq("id",r);if(n)throw n;e(s=>{var i,o;return{robots:s.robots.filter(l=>l.id!==r),currentRobot:((i=s.currentRobot)==null?void 0:i.id)===r?null:s.currentRobot,versions:s.versions.filter(l=>l.robot_id!==r),currentVersion:((o=s.currentVersion)==null?void 0:o.robot_id)===r?null:s.currentVersion}})}catch(n){const s=n instanceof Error?n.message:"Failed to delete robot";throw e({error:s}),ir.logError(n,"deleteRobot"),n}finally{e({isLoading:!1})}},updateRobotVersion:async(r,n)=>{e({isLoading:!0,error:null});try{const{error:s}=await Z.from("robots").update({current_version_id:n}).eq("id",r);if(s)throw s;e(i=>{var o;return{robots:i.robots.map(l=>l.id===r?{...l,current_version_id:n}:l),currentRobot:((o=i.currentRobot)==null?void 0:o.id)===r?{...i.currentRobot,current_version_id:n}:i.currentRobot}})}catch(s){const i=s instanceof Error?s.message:"Failed to update robot version";throw e({error:i}),ir.logError(s,"updateRobotVersion"),s}finally{e({isLoading:!1})}},shareRobot:async(r,n,s)=>{e({isLoading:!0,error:null});try{const{data:{session:i}}=await Z.auth.getSession();if(!(i!=null&&i.user))throw new Error("No authenticated session");const{data:o,error:l}=await Z.from("robots").select("name").eq("id",r).single();if(l)throw l;if(!o)throw new Error("Robot not found");const c=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),u=new Date;u.setDate(u.getDate()+7);const{data:d,error:f}=await Z.from("shared_links").insert({robot_name:o.name,permission:n==="read"?"view":"edit",created_by:i.user.id,expires_at:u.toISOString(),token:c,is_active:!0}).select().single();if(f)throw f;return c}catch(i){const o=i instanceof Error?i.message:"Failed to share robot";throw e({error:o}),ir.logError(i,"shareRobot"),i}finally{e({isLoading:!1})}}}));function d6(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function K1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(r),!0).forEach(function(n){d6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f6(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function h6(e,t){if(e==null)return{};var r=f6(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m6(e,t){return p6(e)||g6(e,t)||x6(e,t)||y6()}function p6(e){if(Array.isArray(e))return e}function g6(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function x6(e,t){if(e){if(typeof e=="string")return G1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G1(e,t)}}function G1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v6(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function J1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){v6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b6(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(s,i){return i(s)},n)}}function zl(e){return function t(){for(var r=this,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return s.length>=e.length?e.apply(this,s):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(r,[].concat(s,l))}}}function Cf(e){return{}.toString.call(e).includes("Object")}function w6(e){return!Object.keys(e).length}function Bc(e){return typeof e=="function"}function j6(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function N6(e,t){return Cf(t)||fa("changeType"),Object.keys(t).some(function(r){return!j6(e,r)})&&fa("changeField"),t}function _6(e){Bc(e)||fa("selectorType")}function k6(e){Bc(e)||Cf(e)||fa("handlerType"),Cf(e)&&Object.values(e).some(function(t){return!Bc(t)})&&fa("handlersType")}function S6(e){e||fa("initialIsRequired"),Cf(e)||fa("initialType"),w6(e)&&fa("initialContent")}function C6(e,t){throw new Error(e[t]||e.default)}var P6={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},fa=zl(C6)(P6),td={changes:N6,selector:_6,handler:k6,initial:S6};function E6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};td.initial(e),td.handler(t);var r={current:e},n=zl(O6)(r,t),s=zl(T6)(r),i=zl(td.changes)(e),o=zl(A6)(r);function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return td.selector(u),u(r.current)}function c(u){b6(n,s,i,o)(u)}return[l,c]}function A6(e,t){return Bc(t)?t(e.current):t}function T6(e,t){return e.current=J1(J1({},e.current),t),t}function O6(e,t,r){return Bc(t)?t(e.current):Object.keys(r).forEach(function(n){var s;return(s=t[n])===null||s===void 0?void 0:s.call(t,e.current[n])}),r}var M6={create:E6},R6={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function $6(e){return function t(){for(var r=this,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return s.length>=e.length?e.apply(this,s):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(r,[].concat(s,l))}}}function D6(e){return{}.toString.call(e).includes("Object")}function I6(e){return e||X1("configIsRequired"),D6(e)||X1("configType"),e.urls?(L6(),{paths:{vs:e.urls.monacoBase}}):e}function L6(){console.warn(dS.deprecation)}function F6(e,t){throw new Error(e[t]||e.default)}var dS={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},X1=$6(F6)(dS),B6={config:I6},z6=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(s){return r.reduceRight(function(i,o){return o(i)},s)}};function fS(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],fS(e[r],t[r]))}),K1(K1({},e),t)}var U6={type:"cancelation",msg:"operation is manually canceled"};function zp(e){var t=!1,r=new Promise(function(n,s){e.then(function(i){return t?s(U6):n(i)}),e.catch(s)});return r.cancel=function(){return t=!0},r}var V6=M6.create({config:R6,isInitialized:!1,resolve:null,reject:null,monaco:null}),hS=m6(V6,2),fu=hS[0],qh=hS[1];function q6(e){var t=B6.config(e),r=t.monaco,n=h6(t,["monaco"]);qh(function(s){return{config:fS(s.config,n),monaco:r}})}function W6(){var e=fu(function(t){var r=t.monaco,n=t.isInitialized,s=t.resolve;return{monaco:r,isInitialized:n,resolve:s}});if(!e.isInitialized){if(qh({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),zp(Up);if(window.monaco&&window.monaco.editor)return mS(window.monaco),e.resolve(window.monaco),zp(Up);z6(H6,G6)(Y6)}return zp(Up)}function H6(e){return document.body.appendChild(e)}function K6(e){var t=document.createElement("script");return e&&(t.src=e),t}function G6(e){var t=fu(function(n){var s=n.config,i=n.reject;return{config:s,reject:i}}),r=K6("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function Y6(){var e=fu(function(r){var n=r.config,s=r.resolve,i=r.reject;return{config:n,resolve:s,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){mS(r),e.resolve(r)},function(r){e.reject(r)})}function mS(e){fu().monaco||qh({monaco:e})}function J6(){return fu(function(e){var t=e.monaco;return t})}var Up=new Promise(function(e,t){return qh({resolve:e,reject:t})}),pS={config:q6,init:W6,__getMonacoInstance:J6},X6={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Vp=X6,Q6={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Z6=Q6;function eI({children:e}){return Tt.createElement("div",{style:Z6.container},e)}var tI=eI,rI=tI;function nI({width:e,height:t,isEditorReady:r,loading:n,_ref:s,className:i,wrapperProps:o}){return Tt.createElement("section",{style:{...Vp.wrapper,width:e,height:t},...o},!r&&Tt.createElement(rI,null,n),Tt.createElement("div",{ref:s,style:{...Vp.fullWidth,...!r&&Vp.hide},className:i}))}var sI=nI,gS=g.memo(sI);function aI(e){g.useEffect(e,[])}var xS=aI;function iI(e,t,r=!0){let n=g.useRef(!0);g.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var zr=iI;function uc(){}function io(e,t,r,n){return oI(e,n)||lI(e,t,r,n)}function oI(e,t){return e.editor.getModel(yS(e,t))}function lI(e,t,r,n){return e.editor.createModel(t,r,n?yS(e,n):void 0)}function yS(e,t){return e.Uri.parse(t)}function cI({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:s,originalModelPath:i,modifiedModelPath:o,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:d="Loading...",options:f={},height:h="100%",width:p="100%",className:m,wrapperProps:y={},beforeMount:v=uc,onMount:x=uc}){let[b,w]=g.useState(!1),[j,N]=g.useState(!0),_=g.useRef(null),k=g.useRef(null),S=g.useRef(null),C=g.useRef(x),P=g.useRef(v),E=g.useRef(!1);xS(()=>{let A=pS.init();return A.then(q=>(k.current=q)&&N(!1)).catch(q=>(q==null?void 0:q.type)!=="cancelation"&&console.error("Monaco initialization: error:",q)),()=>_.current?F():A.cancel()}),zr(()=>{if(_.current&&k.current){let A=_.current.getOriginalEditor(),q=io(k.current,e||"",n||r||"text",i||"");q!==A.getModel()&&A.setModel(q)}},[i],b),zr(()=>{if(_.current&&k.current){let A=_.current.getModifiedEditor(),q=io(k.current,t||"",s||r||"text",o||"");q!==A.getModel()&&A.setModel(q)}},[o],b),zr(()=>{let A=_.current.getModifiedEditor();A.getOption(k.current.editor.EditorOption.readOnly)?A.setValue(t||""):t!==A.getValue()&&(A.executeEdits("",[{range:A.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),A.pushUndoStop())},[t],b),zr(()=>{var A,q;(q=(A=_.current)==null?void 0:A.getModel())==null||q.original.setValue(e||"")},[e],b),zr(()=>{let{original:A,modified:q}=_.current.getModel();k.current.editor.setModelLanguage(A,n||r||"text"),k.current.editor.setModelLanguage(q,s||r||"text")},[r,n,s],b),zr(()=>{var A;(A=k.current)==null||A.editor.setTheme(u)},[u],b),zr(()=>{var A;(A=_.current)==null||A.updateOptions(f)},[f],b);let M=g.useCallback(()=>{var H;if(!k.current)return;P.current(k.current);let A=io(k.current,e||"",n||r||"text",i||""),q=io(k.current,t||"",s||r||"text",o||"");(H=_.current)==null||H.setModel({original:A,modified:q})},[r,t,s,e,n,i,o]),O=g.useCallback(()=>{var A;!E.current&&S.current&&(_.current=k.current.editor.createDiffEditor(S.current,{automaticLayout:!0,...f}),M(),(A=k.current)==null||A.editor.setTheme(u),w(!0),E.current=!0)},[f,u,M]);g.useEffect(()=>{b&&C.current(_.current,k.current)},[b]),g.useEffect(()=>{!j&&!b&&O()},[j,b,O]);function F(){var q,H,$,D;let A=(q=_.current)==null?void 0:q.getModel();l||((H=A==null?void 0:A.original)==null||H.dispose()),c||(($=A==null?void 0:A.modified)==null||$.dispose()),(D=_.current)==null||D.dispose()}return Tt.createElement(gS,{width:p,height:h,isEditorReady:b,loading:d,_ref:S,className:m,wrapperProps:y})}var uI=cI;g.memo(uI);function dI(e){let t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}var fI=dI,rd=new Map;function hI({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:s,path:i,theme:o="light",line:l,loading:c="Loading...",options:u={},overrideServices:d={},saveViewState:f=!0,keepCurrentModel:h=!1,width:p="100%",height:m="100%",className:y,wrapperProps:v={},beforeMount:x=uc,onMount:b=uc,onChange:w,onValidate:j=uc}){let[N,_]=g.useState(!1),[k,S]=g.useState(!0),C=g.useRef(null),P=g.useRef(null),E=g.useRef(null),M=g.useRef(b),O=g.useRef(x),F=g.useRef(),A=g.useRef(n),q=fI(i),H=g.useRef(!1),$=g.useRef(!1);xS(()=>{let V=pS.init();return V.then(L=>(C.current=L)&&S(!1)).catch(L=>(L==null?void 0:L.type)!=="cancelation"&&console.error("Monaco initialization: error:",L)),()=>P.current?W():V.cancel()}),zr(()=>{var L,se,K,B;let V=io(C.current,e||n||"",t||s||"",i||r||"");V!==((L=P.current)==null?void 0:L.getModel())&&(f&&rd.set(q,(se=P.current)==null?void 0:se.saveViewState()),(K=P.current)==null||K.setModel(V),f&&((B=P.current)==null||B.restoreViewState(rd.get(i))))},[i],N),zr(()=>{var V;(V=P.current)==null||V.updateOptions(u)},[u],N),zr(()=>{!P.current||n===void 0||(P.current.getOption(C.current.editor.EditorOption.readOnly)?P.current.setValue(n):n!==P.current.getValue()&&($.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),P.current.pushUndoStop(),$.current=!1))},[n],N),zr(()=>{var L,se;let V=(L=P.current)==null?void 0:L.getModel();V&&s&&((se=C.current)==null||se.editor.setModelLanguage(V,s))},[s],N),zr(()=>{var V;l!==void 0&&((V=P.current)==null||V.revealLine(l))},[l],N),zr(()=>{var V;(V=C.current)==null||V.editor.setTheme(o)},[o],N);let D=g.useCallback(()=>{var V;if(!(!E.current||!C.current)&&!H.current){O.current(C.current);let L=i||r,se=io(C.current,n||e||"",t||s||"",L||"");P.current=(V=C.current)==null?void 0:V.editor.create(E.current,{model:se,automaticLayout:!0,...u},d),f&&P.current.restoreViewState(rd.get(L)),C.current.editor.setTheme(o),l!==void 0&&P.current.revealLine(l),_(!0),H.current=!0}},[e,t,r,n,s,i,u,d,f,o,l]);g.useEffect(()=>{N&&M.current(P.current,C.current)},[N]),g.useEffect(()=>{!k&&!N&&D()},[k,N,D]),A.current=n,g.useEffect(()=>{var V,L;N&&w&&((V=F.current)==null||V.dispose(),F.current=(L=P.current)==null?void 0:L.onDidChangeModelContent(se=>{$.current||w(P.current.getValue(),se)}))},[N,w]),g.useEffect(()=>{if(N){let V=C.current.editor.onDidChangeMarkers(L=>{var K;let se=(K=P.current.getModel())==null?void 0:K.uri;if(se&&L.find(B=>B.path===se.path)){let B=C.current.editor.getModelMarkers({resource:se});j==null||j(B)}});return()=>{V==null||V.dispose()}}return()=>{}},[N,j]);function W(){var V,L;(V=F.current)==null||V.dispose(),h?f&&rd.set(i,P.current.saveViewState()):(L=P.current.getModel())==null||L.dispose(),P.current.dispose()}return Tt.createElement(gS,{width:p,height:m,isEditorReady:N,loading:c,_ref:E,className:y,wrapperProps:v})}var mI=hI,pI=g.memo(mI),gI=pI;const Q1={basicStructure:`// Estrutura bsica do rob
input
  stopLoss: float = 100;
  takeProfit: float = 200;
var
  entryPrice: float;
begin
  // Lgica principal aqui
end;`,mediaMovel:`// Cruzamento de mdias mveis
var
  fastMA, slowMA: float;
begin
  fastMA := sma(9);
  slowMA := sma(21);
  
  if fastMA > slowMA and fastMA[1] <= slowMA[1] then
    buy(1, close);
  
  if fastMA < slowMA and fastMA[1] >= slowMA[1] then
    sell(1, close);
end;`,stopLoss:`// Stop Loss e Take Profit
if position = 0 and condition then begin
  buy(1, close);
  entryPrice := close;
  set_stop_loss(entryPrice - stopLoss);
  set_take_profit(entryPrice + takeProfit);
end;`,trailing:`// Trailing Stop
var
  stopDistance: float = 100;
  lastStopPrice: float = 0;
begin
  if position > 0 then begin
    if lastStopPrice = 0 then
      lastStopPrice := entryPrice - stopDistance;
    
    if close - stopDistance > lastStopPrice then begin
      lastStopPrice := close - stopDistance;
      set_stop_loss(lastStopPrice);
    end;
  end;
end;`,rompimento:`// Rompimento de mxima/mnima
var
  periodHigh, periodLow: float;
begin
  periodHigh := highest(high, 20);
  periodLow := lowest(low, 20);
  
  if close > periodHigh[1] then
    buy(1, close)
  else if close < periodLow[1] then
    sell(1, close);
end;`,rsi:`// Estratgia com RSI
var
  rsiValue: float;
  oversold: float = 30;
  overbought: float = 70;
begin
  rsiValue := rsi(14);
  
  if position = 0 and rsiValue < oversold then
    buy(1, close);
    
  if position > 0 and rsiValue > overbought then
    sell(1, close);
end;`,bollinger:`// Estratgia com Bandas de Bollinger
var
  upperBand, lowerBand, middleBand: float;
  period: integer = 20;
  deviations: float = 2;
begin
  bollinger(period, deviations, upperBand, middleBand, lowerBand);
  
  if position = 0 and close < lowerBand then
    buy(1, close);
    
  if position > 0 and close > upperBand then
    sell(1, close);
end;`,macd:`// Estratgia com MACD
var
  macdLine, signalLine, histogram: float;
begin
  macd(12, 26, 9, macdLine, signalLine, histogram);
  
  if macdLine > signalLine and macdLine[1] <= signalLine[1] then
    buy(1, close);
    
  if macdLine < signalLine and macdLine[1] >= signalLine[1] then
    sell(1, close);
end;`,hftScalping:`// Estratgia HFT para Scalping
input
  rsiPeriod: integer = 7;
  rsiOverbought: float = 70;
  rsiOversold: float = 30;
  stopLoss: float = 50;
  takeProfit: float = 100;
var
  rsiValue: float;
  entryPrice: float;
begin
  rsiValue := rsi(rsiPeriod);
  
  // Compra rpida quando RSI est sobrevendido
  if position = 0 and rsiValue < rsiOversold and rsiValue[1] < rsiValue then begin
    buy(1, close);
    entryPrice := close;
    set_stop_loss(entryPrice - stopLoss);
    set_take_profit(entryPrice + takeProfit);
  end;
  
  // Venda rpida quando RSI est sobrecomprado
  if position > 0 and rsiValue > rsiOverbought then
    sell(1, close);
    
  // Sada rpida se o movimento no continuar
  if position > 0 and close < close[1] and close[1] < close[2] then
    sell(1, close);
end;`,correlacao:`// Estratgia de Correlao entre Ativos
input
  symbol1: string = "PETR4";
  symbol2: string = "VALE3";
  correlationPeriod: integer = 20;
  deviationThreshold: float = 1.5;
var
  price1, price2: float;
  ratio, avgRatio, stdRatio: float;
  zScore: float;
begin
  price1 := external_close(symbol1);
  price2 := external_close(symbol2);
  
  // Calcula a razo entre os preos
  ratio := price1 / price2;
  
  // Mdia e desvio padro da razo
  avgRatio := sma_custom(ratio, correlationPeriod);
  stdRatio := stdev_custom(ratio, correlationPeriod);
  
  // Z-score (quantos desvios padro a razo est da mdia)
  zScore := (ratio - avgRatio) / stdRatio;
  
  // Operaes quando a correlao est fora do padro
  if position = 0 and zScore < -deviationThreshold then
    buy(1, close); // Compra quando o ativo est subvalorizado em relao ao par
    
  if position > 0 and zScore > 0 then
    sell(1, close); // Vende quando a correlao normaliza
end;`,volumeProfile:`// Estratgia baseada em Perfil de Volume
input
  volumeThreshold: float = 1.5; // Multiplicador do volume mdio
  lookbackPeriod: integer = 20;
var
  avgVolume, currentVolume: float;
  valueArea: float;
begin
  avgVolume := sma_custom(volume, lookbackPeriod);
  currentVolume := volume;
  valueArea := vwap(lookbackPeriod);
  
  // Compra em suporte de volume com volume acima da mdia
  if position = 0 and close < valueArea and currentVolume > avgVolume * volumeThreshold then
    buy(1, close);
    
  // Venda em resistncia de volume com volume acima da mdia
  if position > 0 and close > valueArea and currentVolume > avgVolume * volumeThreshold then
    sell(1, close);
end;`,volatilityBreakout:`// Estratgia de Rompimento de Volatilidade (ATR)
input
  atrPeriod: integer = 14;
  atrMultiplier: float = 2.0;
  stopMultiplier: float = 1.5;
var
  atrValue: float;
  upperBand, lowerBand: float;
  entryPrice: float;
begin
  atrValue := atr(atrPeriod);
  upperBand := high[1] + atrValue * atrMultiplier;
  lowerBand := low[1] - atrValue * atrMultiplier;
  
  // Compra no rompimento superior
  if position = 0 and high > upperBand then begin
    buy(1, close);
    entryPrice := close;
    set_stop_loss(entryPrice - atrValue * stopMultiplier);
  end;
  
  // Venda no rompimento inferior
  if position = 0 and low < lowerBand then begin
    sell(1, close);
    entryPrice := close;
    set_stop_loss(entryPrice + atrValue * stopMultiplier);
  end;
end;`};function xI({fileId:e,content:t,language:r,onContentChange:n,versions:s,selectedVersion:i,onVersionSelect:o,showCreateVersionModal:l,setShowCreateVersionModal:c}){const u=g.useRef(null),d=g.useRef(null),[f,h]=g.useState(""),[p,m]=g.useState([]),[y,v]=g.useState(!1);g.useEffect(()=>{e&&(async()=>{var C;const{data:S}=await Z.from("robots").select("*, robot_versions!robot_versions_robot_id_fkey(*)").eq("id",e).single();if(((C=S==null?void 0:S.robot_versions)==null?void 0:C.length)>0){const P=S.robot_versions.find(E=>E.version_name==="Verso 1");P&&n(P.code)}})()},[e]);const x=k=>{u.current=k,v(!0),k.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KeyF,()=>{k.trigger("","actions.find")}),monaco.languages.registerCompletionItemProvider("javascript",{provideCompletionItems:()=>({suggestions:Object.entries(Q1).map(([C,P])=>({label:C,kind:monaco.languages.CompletionItemKind.Snippet,insertText:P,documentation:`Snippet: ${C}`,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet}))})});const S=new ResizeObserver(()=>{u.current&&u.current.layout()});return d.current&&S.observe(d.current),()=>{S.disconnect()}},b=k=>{if(!k)return{};const S={},C=k.split(`
`);let P="",E=0;return C.forEach((M,O)=>{const F=M.match(/\/\/#([^#\n]+)/);if(F){const A=F[1].trim();P&&(S[P]||(S[P]={name:P,ranges:[]}),S[P].ranges.push({start:E,end:O-1})),P=A,E=O+1}}),P&&(S[P]||(S[P]={name:P,ranges:[]}),S[P].ranges.push({start:E,end:C.length-1})),S},w=(k,S)=>{u.current&&(u.current.revealLineInCenter(S.start),u.current.setSelection({startLineNumber:S.start,startColumn:1,endLineNumber:S.end,endColumn:1}))},j=k=>{if(u.current){const S=u.current.getPosition();u.current.executeEdits("",[{range:{startLineNumber:S.lineNumber,startColumn:S.column,endLineNumber:S.lineNumber,endColumn:S.column},text:k}])}},N=()=>{if(u.current){const S=u.current.getPosition().lineNumber;u.current.executeEdits("",[{range:{startLineNumber:S,startColumn:1,endLineNumber:S,endColumn:1},text:`//#Topic Name
`}]),u.current.setPosition({lineNumber:S,column:4})}},_=t?b(t):{};return a.jsxs("div",{ref:d,className:"h-full w-full flex overflow-hidden",children:[a.jsxs("div",{className:"w-64 border-r border-gray-800 p-4 flex flex-col overflow-y-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(uu,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search in code...",value:f,onChange:k=>{h(k.target.value),u.current&&u.current.trigger("","actions.find",{searchString:k.target.value})},className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Version History"}),a.jsxs("button",{onClick:()=>c(!0),className:"text-xs text-blue-400 hover:text-blue-300 flex items-center",title:"Create new version",children:[a.jsx(In,{className:"w-3 h-3 mr-1"}),"New Version"]})]}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:s.map(k=>a.jsx("div",{className:`p-2 rounded cursor-pointer ${i===k.version_name?"bg-blue-600":"hover:bg-gray-800"}`,onClick:()=>o(k.version_name),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:k.version_name}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(k.created_at).toLocaleDateString()})]})},k.id))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Topics"}),a.jsxs("button",{onClick:N,className:"text-xs text-blue-400 hover:text-blue-300 flex items-center",title:"Add new topic",children:[a.jsx(In,{className:"w-3 h-3 mr-1"}),"Add Topic"]})]}),a.jsx("div",{className:"space-y-1",children:Object.entries(_).length===0?a.jsx("p",{className:"text-sm text-gray-500 italic",children:"No topics found. Add topics by writing //#topic in your code"}):Object.entries(_).map(([k,S])=>a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{p.includes(k)?m(p.filter(C=>C!==k)):m([...p,k])},className:"flex items-center w-full p-2 hover:bg-gray-800 rounded-md text-left",children:[p.includes(k)?a.jsx(Ze,{className:"w-4 h-4 mr-2"}):a.jsx(lc,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:k})]}),p.includes(k)&&a.jsx("div",{className:"ml-6 space-y-1",children:S.ranges.map((C,P)=>a.jsxs("button",{onClick:()=>w(k,C),className:"w-full p-2 hover:bg-gray-800 rounded-md text-left text-sm text-gray-400",children:["Lines ",C.start,"-",C.end]},P))})]},k))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium mb-2",children:"Fragments"}),a.jsx("div",{className:"space-y-1",children:Object.entries(Q1).map(([k,S])=>a.jsxs("button",{onClick:()=>j(S),className:"flex items-center w-full p-2 hover:bg-gray-800 rounded-md text-left",children:[a.jsx(FD,{className:"w-4 h-4 text-blue-400 mr-2"}),a.jsx("span",{children:k})]},k))})]})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(gI,{height:"100%",language:r,theme:"vs-dark",value:t,onChange:n,onMount:x,options:{minimap:{enabled:!1},fontSize:14,wordWrap:"on",lineNumbers:"on",folding:!0,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,insertSpaces:!0,autoClosingQuotes:"always",autoClosingBrackets:"always",suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",fontFamily:'"Fira Code", Menlo, Monaco, "Courier New", monospace',fontLigatures:!0}})})]})}const yI=$h((e,t)=>({invites:[],sharedRobots:[],isLoading:!1,error:null,loadSharedRobots:async()=>{e({isLoading:!0,error:null});try{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("No authenticated user");const{data:n,error:s}=await Z.from("shared_robots").select("*").eq("user_id",r.id);if(s)throw s;e({sharedRobots:n||[]})}catch(r){console.error("Error loading shared robots:",r),e({error:r.message})}finally{e({isLoading:!1})}},checkExistingInvite:async(r,n)=>{if(!(r!=null&&r.trim())||!(n!=null&&n.trim()))return null;const{data:s,error:i}=await Z.from("sharing_invites").select("*").eq("robot_name",r.trim()).eq("email",n.trim()).eq("is_active",!0).limit(1).maybeSingle();return i?(console.error("Error checking existing invite:",i),null):s},createInvite:async({robotName:r,email:n,permission:s})=>{e({isLoading:!0,error:null});try{const i=r==null?void 0:r.trim(),o=n==null?void 0:n.trim();if(!i)throw new Error("Robot name cannot be empty");if(!o)throw new Error("Email cannot be empty");const{data:{user:l}}=await Z.auth.getUser();if(!l)throw new Error("User not authenticated");const c=await t().checkExistingInvite(i,o);c&&await t().revokeInvite(c.id);const{data:u,error:d}=await Z.from("sharing_invites").insert({robot_name:i,email:o,permission:s,created_by:l.id,expires_at:new Date(Date.now()+7*24*60*60*1e3).toISOString()}).select().single();if(d)throw d;const{invites:f}=t();e({invites:[...f,u]});const{data:h}=await Z.auth.admin.getUserByEmail(o);h!=null&&h.user&&await Z.from("shared_robots").upsert({robot_name:i,user_id:h.user.id,permission:s,created_by:l.id})}catch(i){throw console.error("Error creating invite:",i),e({error:i.message}),i}finally{e({isLoading:!1})}},loadInvites:async r=>{e({isLoading:!0,error:null});try{const n=r==null?void 0:r.trim();if(!n){e({invites:[]});return}const{data:s,error:i}=await Z.from("sharing_invites").select("*").eq("robot_name",n).eq("is_active",!0).order("created_at",{ascending:!1});if(i)throw i;e({invites:s||[]})}catch(n){console.error("Error loading invites:",n),e({error:n.message})}finally{e({isLoading:!1})}},revokeInvite:async r=>{e({isLoading:!0,error:null});try{const{data:n}=await Z.from("sharing_invites").select("robot_name, email").eq("id",r).single();if(n){const{data:o}=await Z.auth.admin.getUserByEmail(n.email);o!=null&&o.user&&await Z.from("shared_robots").delete().match({robot_name:n.robot_name,user_id:o.user.id})}const{error:s}=await Z.from("sharing_invites").update({is_active:!1}).eq("id",r);if(s)throw s;const{invites:i}=t();e({invites:i.filter(o=>o.id!==r)})}catch(n){throw console.error("Error revoking invite:",n),e({error:n.message}),n}finally{e({isLoading:!1})}}}));function vI({isOpen:e,onClose:t,robotName:r}){const[n,s]=g.useState(""),[i,o]=g.useState("view"),[l,c]=g.useState(!1),[u,d]=g.useState(null),[f,h]=g.useState(!1),[p,m]=g.useState(null),[y,v]=g.useState(!1),[x,b]=g.useState(!1),{invites:w,createInvite:j,loadInvites:N,isLoading:_,checkExistingInvite:k}=yI(),{profile:S}=Rt();g.useEffect(()=>{if(!r){t();return}N(r)},[r,N,t]),g.useEffect(()=>{(async()=>{if(n&&r){const F=await k(r,n);h(!!F)}else h(!1)})()},[n,r,k]);const C=async()=>{if(d(null),!(r!=null&&r.trim())){d("Robot name cannot be empty");return}if(!(n!=null&&n.trim())){d("Email cannot be empty");return}try{const O=async($=3)=>{try{const{data:D,error:W}=await Z.functions.invoke("check-user-exists",{body:{email:n},headers:{"Content-Type":"application/json"}});if(W)throw W;return(D==null?void 0:D.exists)??!1}catch(D){if($>0)return await new Promise(W=>setTimeout(W,1e3)),O($-1);throw D}};if(!await O()){d("Este email no est registrado. Por favor, convide um usurio registrado.");return}await j({robotName:r,email:n,permission:i});const q=`https://devhubtrader.com.br/robots/${r}`,H=async($=3)=>{try{const{error:D}=await Z.functions.invoke("send-invite-email",{body:{robotName:r,email:n,inviterName:(S==null?void 0:S.name)||(S==null?void 0:S.email)||"A user",permission:i,inviteLink:q},headers:{"Content-Type":"application/json"}});if(D)throw D}catch(D){if($>0)return await new Promise(W=>setTimeout(W,1e3)),H($-1);throw D}};await H(),s(""),c(!0),setTimeout(()=>c(!1),3e3)}catch(O){console.error("Error sending invite:",O);const F=O.message||"Failed to send invite. Please try again.";d(F.includes("Server configuration error")?"The server is currently unavailable. Please try again later or contact support.":F)}},P=async O=>{try{const{error:F}=await Z.functions.invoke("revoke-invite",{body:{inviteId:O},headers:{"Content-Type":"application/json"}});if(F)throw F;await N(r)}catch(F){console.error("Error revoking invite:",F),d(F.message||"Failed to revoke access. Please try again.")}},E=async()=>{try{d(null);const{data:O,error:F}=await Z.functions.invoke("create-share-link",{body:{robotName:r,permission:i}});if(F)throw F;const q=`https://devhubtrader.com.br/shared/${O.data.token}`;m(q),b(!0)}catch(O){console.error("Error creating share link:",O),d(O instanceof Error?O.message:"Failed to create share link")}},M=async()=>{if(p)try{await navigator.clipboard.writeText(p),v(!0),setTimeout(()=>v(!1),2e3)}catch(O){console.error("Failed to copy:",O),d("Failed to copy to clipboard")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:a.jsx(Ie,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Fy,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Compartilhar Rob"}),a.jsxs("p",{className:"mt-2 text-gray-400",children:['Compartilhe "',r,'" com outros usurios']})]}),u&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center text-red-500",children:[a.jsx(it,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:u})]}),l&&a.jsxs("div",{className:"mb-4 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center text-green-500",children:[a.jsx(at,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:"Convite enviado com sucesso!"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Permisso de acesso"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"view",checked:i==="view",onChange:()=>o("view"),className:"sr-only"}),a.jsx("div",{className:`px-3 py-1.5 rounded ${i==="view"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400"}`,children:"Visualizar"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"edit",checked:i==="edit",onChange:()=>o("edit"),className:"sr-only"}),a.jsx("div",{className:`px-3 py-1.5 rounded ${i==="edit"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400"}`,children:"Editar"})]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:E,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center justify-center",children:[a.jsx(JD,{className:"w-4 h-4 mr-2"}),"Gerar Link"]}),a.jsxs("button",{onClick:()=>b(!1),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center justify-center",children:[a.jsx(Vh,{className:"w-4 h-4 mr-2"}),"Convidar por Email"]})]}),x?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Link de compartilhamento"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"text",value:p||"",readOnly:!0,className:"flex-1 bg-gray-800 border border-gray-700 rounded-l-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{onClick:M,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-r-md flex items-center",children:y?a.jsx(at,{className:"w-5 h-5"}):a.jsx(rS,{className:"w-5 h-5"})})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Este link permite ",i==="view"?"visualizar":"editar"," o rob"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email do colaborador"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"email",value:n,onChange:O=>s(O.target.value),placeholder:"colaborador@email.com",className:"w-full pl-3 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),f&&a.jsx("p",{className:"mt-2 text-yellow-500 text-sm",children:"Um convite ativo j existe para este email. Enviar um novo convite substituir o anterior."})]}),a.jsx("button",{onClick:C,disabled:_,className:`w-full py-2 rounded-md transition-colors ${_?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:_?"Enviando...":"Enviar Convite"})]})]}),w.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-3",children:"Convites Ativos"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:w.map(O=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-md",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-white truncate",children:O.email}),a.jsx("p",{className:"text-xs text-gray-400",children:O.permission==="edit"?"Editor":"Viewer"})]}),a.jsx("button",{onClick:()=>P(O.id),className:"ml-2 p-1 text-gray-400 hover:text-white",disabled:_,children:a.jsx(Ie,{className:"w-4 h-4"})})]},O.id))})]}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-800 rounded-md flex items-start space-x-3",children:[a.jsx(it,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-gray-300",children:[a.jsx("p",{className:"font-medium mb-1",children:"Sobre Compartilhamento"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:" Os convites so gerenciados dentro da plataforma"}),a.jsx("li",{children:" Os colaboradores sero notificados quando fizerem login"}),a.jsx("li",{children:" Voc pode revogar o acesso a qualquer momento"}),a.jsx("li",{children:" Os convites expiram aps 7 dias se no forem aceitos"}),a.jsx("li",{children:" Links de compartilhamento funcionam para qualquer pessoa"})]})]})]})]})}):null}function bI(e){return e?/^v\d+\.\d+\.\d+$/.test(e):!1}async function wI(e,t,r=100){if(!e)return"Verso 1";let n=0;t.forEach(i=>{var l;const o=(l=i.version_name)==null?void 0:l.match(/^Verso (\d+)$/);if(o){const c=parseInt(o[1],10);!isNaN(c)&&c>n&&(n=c)}});for(let i=1;i<=r;i++){let o;if(e.startsWith("v")){const l=e.match(/^v(\d+)\.(\d+)\.(\d+)$/);if(l){const[,c,u,d]=l;o=`v${c}.${u}.${parseInt(d)+i}`}else o=`${e}_${i}`}else e.startsWith("Verso")?o=`Verso ${n+i}`:o=`${e}_${i}`;if(!t.some(l=>l.version_name===o))return o}const s=new Date().getTime();return`${e}_${s}`}function jI({isOpen:e,onClose:t,onSave:r,existingVersions:n=[],suggestedName:s="",suggestedDescription:i=""}){const[o,l]=g.useState(s),[c,u]=g.useState(i),[d,f]=g.useState(null),[h,p]=g.useState(!1),[m,y]=g.useState(!1),[v,x]=g.useState([]),[b,w]=g.useState(""),[j,N]=g.useState(!1),[_,k]=g.useState(!1),[S,C]=g.useState(!1),[P,E]=g.useState(""),[M,O]=g.useState(""),F=["trailing","sem-trailing","tendencia","reversao","medias-moveis","rompimento","volatilidade-alta","volatilidade-baixa","correlacao","alvo-longo","alvo-curto"],A=["M1","M5","M15","M30","H1","H4","D1","W1"],q=["WINFUT","WDOFUT","PETR4","VALE3","ITUB4","BBDC4","ABEV3","MGLU3","BOVA11"];g.useEffect(()=>{e&&(l(s),u(i),f(null),x([]),w(""),y(!1),N(!1),k(!1),C(!1),E(""),O(""))},[e,s,i]);const H=()=>{if(!o||typeof o!="string"||!o.trim())return f("O nome da verso no pode estar vazio"),!1;const I=o.trim();if(I.startsWith("v"))try{if(!bI(I))return f("O formato de verso deve ser vX.X.X (ex: v1.0.0)"),!1}catch{return f("Formato de verso invlido"),!1}return n.includes(I)?(f("J existe uma verso com este nome"),!1):c!=null&&c.trim()?!0:(f("A descrio da verso  obrigatria"),!1)},$=async I=>{if(I.preventDefault(),!!H()){p(!0),f(null);try{if(!o)throw new Error("Nome da verso  obrigatrio");const R=await wI(o.trim(),n),te=[...v];b.trim()&&!te.includes(b.trim())&&te.push(b.trim()),await r(R,c.trim(),te.length>0?te:void 0),y(!0),setTimeout(()=>{t()},1500)}catch(R){console.error("Error saving version:",R),f(R instanceof Error?R.message:"Erro ao salvar verso")}finally{p(!1)}}},D=I=>{v.includes(I)?x(v.filter(R=>R!==I)):x([...v,I])},W=()=>{b.trim()&&!v.includes(b.trim())&&(x([...v,b.trim()]),w(""))},V=I=>{const R=`tf-${I.toLowerCase()}`;v.includes(R)?x(v.filter(te=>te!==R)):x([...v,R])},L=I=>{const R=`ativo-${I.toLowerCase()}`;v.includes(R)?x(v.filter(te=>te!==R)):x([...v,R])},se=()=>{if(P.trim()){const I=`tf-${P.trim().toLowerCase()}`;v.includes(I)||(x([...v,I]),E(""))}},K=()=>{if(M.trim()){const I=`ativo-${M.trim().toLowerCase()}`;v.includes(I)||(x([...v,I]),O(""))}},B=()=>v.filter(I=>I.startsWith("tf-")).map(I=>I.replace("tf-","").toUpperCase()),ie=()=>v.filter(I=>I.startsWith("ativo-")).map(I=>I.replace("ativo-","").toUpperCase()),ge=()=>v.filter(I=>!I.startsWith("tf-")&&!I.startsWith("ativo-"));return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:h||m,children:a.jsx(Ie,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(kf,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Salvar Nova Verso"}),a.jsx("p",{className:"mt-2 text-gray-400",children:"D um nome  sua verso para facilitar a identificao futura"})]}),d&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center text-red-500",children:[a.jsx(it,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:d})]}),m&&a.jsxs("div",{className:"mb-4 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center text-green-500",children:[a.jsx(at,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:"Verso salva com sucesso!"})]}),a.jsxs("form",{onSubmit:$,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"version-name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome da verso*"}),a.jsx("input",{id:"version-name",type:"text",value:o,onChange:I=>l(I.target.value),placeholder:"Ex: v1.0.0, Implementao Stop Loss",className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,disabled:h||m})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"version-description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Descrio*"}),a.jsx("textarea",{id:"version-description",value:c,onChange:I=>u(I.target.value),placeholder:"Descreva as alteraes desta verso",rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h||m})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Timeframes"}),a.jsxs("span",{className:"text-xs text-gray-500",children:[B().length," selecionados"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:A.map(I=>a.jsxs("button",{type:"button",onClick:()=>V(I),className:`px-2 py-1 rounded-md text-xs flex items-center ${B().includes(I)?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,disabled:h||m,children:[a.jsx(hn,{className:"w-3 h-3 mr-1"}),I]},I))}),_?a.jsxs("div",{className:"flex gap-2 items-center mb-3",children:[a.jsx("input",{type:"text",value:P,onChange:I=>E(I.target.value),placeholder:"Timeframe personalizado",className:"flex-1 bg-gray-800 border border-gray-700 rounded-md px-3 py-1.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:h||m}),a.jsx("button",{type:"button",onClick:se,disabled:!P.trim()||h||m,className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1.5 rounded-md text-sm disabled:opacity-50",children:"Adicionar"}),a.jsx("button",{type:"button",onClick:()=>k(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-1.5 rounded-md text-sm",disabled:h||m,children:"Cancelar"})]}):a.jsxs("button",{type:"button",onClick:()=>k(!0),className:"text-purple-400 hover:text-purple-300 text-xs flex items-center mb-3",disabled:h||m,children:[a.jsx(In,{className:"w-3 h-3 mr-1"}),"Adicionar Timeframe Personalizado"]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Ativos"}),a.jsxs("span",{className:"text-xs text-gray-500",children:[ie().length," selecionados"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:q.map(I=>a.jsxs("button",{type:"button",onClick:()=>L(I),className:`px-2 py-1 rounded-md text-xs flex items-center ${ie().includes(I)?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,disabled:h||m,children:[a.jsx(xn,{className:"w-3 h-3 mr-1"}),I]},I))}),S?a.jsxs("div",{className:"flex gap-2 items-center mb-3",children:[a.jsx("input",{type:"text",value:M,onChange:I=>O(I.target.value),placeholder:"Ativo personalizado",className:"flex-1 bg-gray-800 border border-gray-700 rounded-md px-3 py-1.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:h||m}),a.jsx("button",{type:"button",onClick:K,disabled:!M.trim()||h||m,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-md text-sm disabled:opacity-50",children:"Adicionar"}),a.jsx("button",{type:"button",onClick:()=>C(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-1.5 rounded-md text-sm",disabled:h||m,children:"Cancelar"})]}):a.jsxs("button",{type:"button",onClick:()=>C(!0),className:"text-green-400 hover:text-green-300 text-xs flex items-center mb-3",disabled:h||m,children:[a.jsx(In,{className:"w-3 h-3 mr-1"}),"Adicionar Ativo Personalizado"]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Tags"}),a.jsxs("span",{className:"text-xs text-gray-500",children:[ge().length," selecionadas"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:F.map(I=>a.jsx("button",{type:"button",onClick:()=>D(I),className:`px-2 py-1 rounded-md text-xs ${v.includes(I)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,disabled:h||m,children:I},I))}),j?a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{type:"text",value:b,onChange:I=>w(I.target.value),placeholder:"Tag personalizada",className:"flex-1 bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:h||m}),a.jsx("button",{type:"button",onClick:W,disabled:!b.trim()||h||m,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md text-sm",children:"Adicionar"}),a.jsx("button",{type:"button",onClick:()=>N(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm",disabled:h||m,children:"Cancelar"})]}):a.jsxs("button",{type:"button",onClick:()=>N(!0),className:"text-blue-400 hover:text-blue-300 text-sm flex items-center",disabled:h||m,children:[a.jsx(i6,{className:"w-4 h-4 mr-1"}),"Adicionar Tag Personalizada"]})]}),v.length>0&&a.jsx("div",{className:"p-3 bg-gray-800 rounded-md",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[B().length>0&&a.jsxs("div",{className:"flex items-center mr-1",children:[a.jsx(hn,{className:"w-3 h-3 text-purple-400 mr-1"}),B().map(I=>a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-purple-900 text-purple-300 mr-1",children:[I,a.jsx("button",{type:"button",onClick:()=>V(I),className:"ml-1 text-purple-300 hover:text-purple-100",disabled:h||m,children:""})]},`tf-${I}`))]}),ie().length>0&&a.jsxs("div",{className:"flex items-center mr-1",children:[a.jsx(xn,{className:"w-3 h-3 text-green-400 mr-1"}),ie().map(I=>a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-green-900 text-green-300 mr-1",children:[I,a.jsx("button",{type:"button",onClick:()=>L(I),className:"ml-1 text-green-300 hover:text-green-100",disabled:h||m,children:""})]},`asset-${I}`))]}),ge().map(I=>a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-900 text-blue-300",children:[I,a.jsx("button",{type:"button",onClick:()=>D(I),className:"ml-1 text-blue-300 hover:text-blue-100",disabled:h||m,children:""})]},I))]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:h||m,children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:!(o!=null&&o.trim())||!(c!=null&&c.trim())||h||m,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:h?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kf,{className:"w-4 h-4 mr-2"}),"Salvar Verso"]})})]})]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-800",children:a.jsxs("div",{className:"text-xs text-gray-400",children:[a.jsxs("p",{className:"mb-2",children:[a.jsx("strong",{children:"Dica:"})," Use nomes descritivos para identificar facilmente cada verso."]}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsxs("li",{children:["Para alteraes importantes: ",a.jsx("span",{className:"text-blue-400",children:"v1.0.0"})]}),a.jsxs("li",{children:["Para novas funcionalidades: ",a.jsx("span",{className:"text-blue-400",children:"v0.2.0"})]}),a.jsxs("li",{children:["Para correes: ",a.jsx("span",{className:"text-blue-400",children:"v0.1.1"})]})]})]})})]})}):null}function dc({showLabel:e=!0,className:t=""}){const{profile:r,loadProfile:n}=Rt(),{t:s}=Ms(),i=(r==null?void 0:r.token_balance)||0;g.useEffect(()=>{const l=async()=>{try{const{data:{session:u}}=await Z.auth.getSession();if(!(u!=null&&u.user)){console.warn("No active session found");return}const d=3;for(let f=0;f<d;f++)try{const{data:h,error:p}=await Z.from("profiles").select("token_balance").eq("id",u.user.id).single();if(p)throw p;h&&(r==null?void 0:r.token_balance)!==h.token_balance&&n();break}catch(h){if(console.error(`Error refreshing token balance (attempt ${f+1}):`,h),f===d-1)throw h;await new Promise(p=>setTimeout(p,1e3*(f+1)))}}catch(u){console.error("Failed to refresh token balance after retries:",u)}},c=setInterval(l,3e4);return l(),()=>clearInterval(c)},[n,r==null?void 0:r.token_balance]);const o=()=>{const c=encodeURIComponent("Ol vim do DevHub Trader e quero mais informaes e ajuda para comprar tokens");window.open(`https://wa.me/5511975333355?text=${c}`,"_blank")};return a.jsxs("div",{className:`flex items-center ${t} cursor-pointer hover:text-blue-300`,onClick:o,title:i<1e3?"Voc precisa de pelo menos 1000 tokens para anlises":"Buy more tokens",children:[a.jsx(Re,{className:"w-4 h-4 text-yellow-500 mr-1"}),e?a.jsxs("span",{className:"text-sm",children:[a.jsx("span",{className:`font-medium ${i<1e3?"text-red-400":""}`,children:i.toLocaleString()})," ",s("tokens.balance")]}):a.jsx("span",{className:`font-medium ${i<1e3?"text-red-400":""}`,children:i.toLocaleString()})]})}const Tg="RFC3986",Og={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},NI="RFC1738",_I=Array.isArray,Un=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),qp=1024,kI=(e,t,r,n,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),r==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<i.length;l+=qp){const c=i.length>=qp?i.slice(l,l+qp):i,u=[];for(let d=0;d<c.length;++d){let f=c.charCodeAt(d);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===NI&&(f===40||f===41)){u[u.length]=c.charAt(d);continue}if(f<128){u[u.length]=Un[f];continue}if(f<2048){u[u.length]=Un[192|f>>6]+Un[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=Un[224|f>>12]+Un[128|f>>6&63]+Un[128|f&63];continue}d+=1,f=65536+((f&1023)<<10|c.charCodeAt(d)&1023),u[u.length]=Un[240|f>>18]+Un[128|f>>12&63]+Un[128|f>>6&63]+Un[128|f&63]}o+=u.join("")}return o};function SI(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Z1(e,t){if(_I(e)){const r=[];for(let n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)}const CI=Object.prototype.hasOwnProperty,vS={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Wn=Array.isArray,PI=Array.prototype.push,bS=function(e,t){PI.apply(e,Wn(t)?t:[t])},EI=Date.prototype.toISOString,vt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:kI,encodeValuesOnly:!1,format:Tg,formatter:Og[Tg],indices:!1,serializeDate(e){return EI.call(e)},skipNulls:!1,strictNullHandling:!1};function AI(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Wp={};function wS(e,t,r,n,s,i,o,l,c,u,d,f,h,p,m,y,v,x){let b=e,w=x,j=0,N=!1;for(;(w=w.get(Wp))!==void 0&&!N;){const P=w.get(e);if(j+=1,typeof P<"u"){if(P===j)throw new RangeError("Cyclic object value");N=!0}typeof w.get(Wp)>"u"&&(j=0)}if(typeof u=="function"?b=u(t,b):b instanceof Date?b=h==null?void 0:h(b):r==="comma"&&Wn(b)&&(b=Z1(b,function(P){return P instanceof Date?h==null?void 0:h(P):P})),b===null){if(i)return c&&!y?c(t,vt.encoder,v,"key",p):t;b=""}if(AI(b)||SI(b)){if(c){const P=y?t:c(t,vt.encoder,v,"key",p);return[(m==null?void 0:m(P))+"="+(m==null?void 0:m(c(b,vt.encoder,v,"value",p)))]}return[(m==null?void 0:m(t))+"="+(m==null?void 0:m(String(b)))]}const _=[];if(typeof b>"u")return _;let k;if(r==="comma"&&Wn(b))y&&c&&(b=Z1(b,c)),k=[{value:b.length>0?b.join(",")||null:void 0}];else if(Wn(u))k=u;else{const P=Object.keys(b);k=d?P.sort(d):P}const S=l?String(t).replace(/\./g,"%2E"):String(t),C=n&&Wn(b)&&b.length===1?S+"[]":S;if(s&&Wn(b)&&b.length===0)return C+"[]";for(let P=0;P<k.length;++P){const E=k[P],M=typeof E=="object"&&typeof E.value<"u"?E.value:b[E];if(o&&M===null)continue;const O=f&&l?E.replace(/\./g,"%2E"):E,F=Wn(b)?typeof r=="function"?r(C,O):C:C+(f?"."+O:"["+O+"]");x.set(e,j);const A=new WeakMap;A.set(Wp,x),bS(_,wS(M,F,r,n,s,i,o,l,r==="comma"&&y&&Wn(b)?null:c,u,d,f,h,p,m,y,v,A))}return _}function TI(e=vt){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||vt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=Tg;if(typeof e.format<"u"){if(!CI.call(Og,e.format))throw new TypeError("Unknown format option provided.");r=e.format}const n=Og[r];let s=vt.filter;(typeof e.filter=="function"||Wn(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in vS?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=vt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:vt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:vt.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:vt.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:vt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?vt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:vt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:vt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:vt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:vt.encodeValuesOnly,filter:s,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:vt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:vt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:vt.strictNullHandling}}function OI(e,t={}){let r=e;const n=TI(t);let s,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):Wn(n.filter)&&(i=n.filter,s=i);const o=[];if(typeof r!="object"||r===null)return"";const l=vS[n.arrayFormat],c=l==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);const u=new WeakMap;for(let h=0;h<s.length;++h){const p=s[h];n.skipNulls&&r[p]===null||bS(o,wS(r[p],p,l,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}const d=o.join(n.delimiter);let f=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),d.length>0?f+d:""}const Hi="4.96.0";let ej=!1,fc,jS,NS,Mg,_S,kS,SS,CS,PS;function MI(e,t={auto:!1}){if(ej)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(fc)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${fc}'\``);ej=t.auto,fc=e.kind,jS=e.fetch,NS=e.FormData,Mg=e.File,_S=e.ReadableStream,kS=e.getMultipartRequestOptions,SS=e.getDefaultAgent,CS=e.fileFromPath,PS=e.isFsReadStream}class RI{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function $I({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let r,n,s,i;try{r=fetch,n=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:r,Request:n,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new RI(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}const ES=()=>{fc||MI($I(),{auto:!0})};ES();class pe extends Error{}class Wt extends pe{constructor(t,r,n,s){super(`${Wt.makeMessage(t,r,n)}`),this.status=t,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=r;const i=r;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,r,n){const s=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,r,n,s){if(!t||!s)return new Wh({message:n,cause:$g(r)});const i=r==null?void 0:r.error;return t===400?new AS(t,i,n,s):t===401?new TS(t,i,n,s):t===403?new OS(t,i,n,s):t===404?new MS(t,i,n,s):t===409?new RS(t,i,n,s):t===422?new $S(t,i,n,s):t===429?new DS(t,i,n,s):t>=500?new IS(t,i,n,s):new Wt(t,i,n,s)}}class cn extends Wt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Wh extends Wt{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class By extends Wh{constructor({message:t}={}){super({message:t??"Request timed out."})}}class AS extends Wt{}class TS extends Wt{}class OS extends Wt{}class MS extends Wt{}class RS extends Wt{}class $S extends Wt{}class DS extends Wt{}class IS extends Wt{}class LS extends pe{constructor(){super("Could not parse response content as the length limit was reached")}}class FS extends pe{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var nd=function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},La=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},$r;class Hh{constructor(){$r.set(this,void 0),this.buffer=new Uint8Array,nd(this,$r,null,"f")}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let n=new Uint8Array(this.buffer.length+r.length);n.set(this.buffer),n.set(r,this.buffer.length),this.buffer=n;const s=[];let i;for(;(i=DI(this.buffer,La(this,$r,"f")))!=null;){if(i.carriage&&La(this,$r,"f")==null){nd(this,$r,i.index,"f");continue}if(La(this,$r,"f")!=null&&(i.index!==La(this,$r,"f")+1||i.carriage)){s.push(this.decodeText(this.buffer.slice(0,La(this,$r,"f")-1))),this.buffer=this.buffer.slice(La(this,$r,"f")),nd(this,$r,null,"f");continue}const o=La(this,$r,"f")!==null?i.preceding-1:i.preceding,l=this.decodeText(this.buffer.slice(0,o));s.push(l),this.buffer=this.buffer.slice(i.index),nd(this,$r,null,"f")}return s}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new pe(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new pe(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new pe("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}$r=new WeakMap;Hh.NEWLINE_CHARS=new Set([`
`,"\r"]);Hh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function DI(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function II(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}function BS(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Gn{constructor(t,r){this.iterator=t,this.controller=r}static fromSSEResponse(t,r){let n=!1;async function*s(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let i=!1;try{for await(const o of LI(t,r))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null||o.event.startsWith("response.")||o.event.startsWith("transcript.")){let l;try{l=JSON.parse(o.data)}catch(c){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),c}if(l&&l.error)throw new Wt(void 0,l.error,void 0,KS(t.headers));yield l}else{let l;try{l=JSON.parse(o.data)}catch(c){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),c}if(o.event=="error")throw new Wt(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||r.abort()}}return new Gn(s,r)}static fromReadableStream(t,r){let n=!1;async function*s(){const o=new Hh,l=BS(t);for await(const c of l)for(const u of o.decode(c))yield u;for(const c of o.flush())yield c}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||r.abort()}}return new Gn(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=n.next();t.push(o),r.push(o)}return i.shift()}});return[new Gn(()=>s(t),this.controller),new Gn(()=>s(r),this.controller)]}toReadableStream(){const t=this;let r;const n=new TextEncoder;return new _S({async start(){r=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await r.next();if(o)return s.close();const l=n.encode(JSON.stringify(i)+`
`);s.enqueue(l)}catch(i){s.error(i)}},async cancel(){var s;await((s=r.return)==null?void 0:s.call(r))}})}}async function*LI(e,t){if(!e.body)throw t.abort(),new pe("Attempted to iterate over a response with no body");const r=new BI,n=new Hh,s=BS(e.body);for await(const i of FI(s))for(const o of n.decode(i)){const l=r.decode(o);l&&(yield l)}for(const i of n.flush()){const o=r.decode(i);o&&(yield o)}}async function*FI(e){let t=new Uint8Array;for await(const r of e){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r;let s=new Uint8Array(t.length+n.length);s.set(t),s.set(n,t.length),t=s;let i;for(;(i=II(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class BI{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,s]=zI(t,":");return s.startsWith(" ")&&(s=s.substring(1)),r==="event"?this.event=s:r==="data"&&this.data.push(s),null}}function zI(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}const zS=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",US=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Kh(e),Kh=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",UI=e=>US(e)||zS(e)||PS(e);async function VS(e,t,r){var s;if(e=await e,US(e))return e;if(zS(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=Kh(i)?[await i.arrayBuffer()]:[i];return new Mg(o,t,r)}const n=await VI(e);if(t||(t=WI(e)??"unknown_file"),!(r!=null&&r.type)){const i=(s=n[0])==null?void 0:s.type;typeof i=="string"&&(r={...r,type:i})}return new Mg(n,t,r)}async function VI(e){var r;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Kh(e))t.push(await e.arrayBuffer());else if(HI(e))for await(const n of e)t.push(n);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(r=e==null?void 0:e.constructor)==null?void 0:r.name}; props: ${qI(e)}`);return t}function qI(e){return`[${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}function WI(e){var t;return Hp(e.name)||Hp(e.filename)||((t=Hp(e.path))==null?void 0:t.split(/[\\/]/).pop())}const Hp=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},HI=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",tj=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Io=async e=>{const t=await KI(e.body);return kS(t,e)},KI=async e=>{const t=new NS;return await Promise.all(Object.entries(e||{}).map(([r,n])=>Rg(t,r,n))),t},Rg=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(UI(r)){const n=await VS(r);e.append(t,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>Rg(e,t+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,s])=>Rg(e,`${t}[${n}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var vo={},GI=function(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},YI=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},sd;ES();async function qS(e){var o;const{response:t}=e;if(e.options.stream)return ha("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Gn.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const r=t.headers.get("content-type"),n=(o=r==null?void 0:r.split(";")[0])==null?void 0:o.trim();if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.endsWith("+json"))){const l=await t.json();return ha("response",t.status,t.url,t.headers,l),WS(l,t)}const i=await t.text();return ha("response",t.status,t.url,t.headers,i),i}function WS(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Gh extends Promise{constructor(t,r=qS){super(n=>{n(null)}),this.responsePromise=t,this.parseResponse=r}_thenUnwrap(t){return new Gh(this.responsePromise,async r=>WS(t(await this.parseResponse(r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class JI{constructor({baseURL:t,maxRetries:r=2,timeout:n=6e5,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=Kp("maxRetries",r),this.timeout=Kp("timeout",n),this.httpAgent=s,this.fetch=i??jS}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...tL(),...this.authHeaders(t)}}validateHeaders(t,r){}defaultIdempotencyKey(){return`stainless-node-retry-${aL()}`}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(async s=>{const i=s&&Kh(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:r,...s,body:i}}))}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:r=0}={}){var y;const n={...t},{method:s,path:i,query:o,headers:l={}}=n,c=ArrayBuffer.isView(n.body)||n.__binaryRequest&&typeof n.body=="string"?n.body:tj(n.body)?n.body.body:n.body?JSON.stringify(n.body,null,2):null,u=this.calculateContentLength(c),d=this.buildURL(i,o);"timeout"in n&&Kp("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const f=n.httpAgent??this.httpAgent??SS(d),h=n.timeout+1e3;typeof((y=f==null?void 0:f.options)==null?void 0:y.timeout)=="number"&&h>(f.options.timeout??0)&&(f.options.timeout=h),this.idempotencyHeader&&s!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=t.idempotencyKey);const p=this.buildHeaders({options:n,headers:l,contentLength:u,retryCount:r});return{req:{method:s,...c&&{body:c},headers:p,...f&&{agent:f},signal:n.signal??null},url:d,timeout:n.timeout}}buildHeaders({options:t,headers:r,contentLength:n,retryCount:s}){const i={};n&&(i["content-length"]=n);const o=this.defaultHeaders(t);return aj(i,o),aj(i,r),tj(t.body)&&fc!=="node"&&delete i["content-type"],id(o,"x-stainless-retry-count")===void 0&&id(r,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),id(o,"x-stainless-timeout")===void 0&&id(r,"x-stainless-timeout")===void 0&&t.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(i,r),i}async prepareOptions(t){}async prepareRequest(t,{url:r,options:n}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(r=>[...r])):{...t}:{}}makeStatusError(t,r,n,s){return Wt.generate(t,r,n,s)}request(t,r=null){return new Gh(this.makeRequest(t,r))}async makeRequest(t,r){var f,h;const n=await t,s=n.maxRetries??this.maxRetries;r==null&&(r=s),await this.prepareOptions(n);const{req:i,url:o,timeout:l}=this.buildRequest(n,{retryCount:s-r});if(await this.prepareRequest(i,{url:o,options:n}),ha("request",o,n,i.headers),(f=n.signal)!=null&&f.aborted)throw new cn;const c=new AbortController,u=await this.fetchWithTimeout(o,i,l,c).catch($g);if(u instanceof Error){if((h=n.signal)!=null&&h.aborted)throw new cn;if(r)return this.retryRequest(n,r);throw u.name==="AbortError"?new By:new Wh({cause:u})}const d=KS(u.headers);if(!u.ok){if(r&&this.shouldRetry(u)){const b=`retrying, ${r} attempts remaining`;return ha(`response (error; ${b})`,u.status,o,d),this.retryRequest(n,r,d)}const p=await u.text().catch(b=>$g(b).message),m=rL(p),y=m?void 0:p;throw ha(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,u.status,o,d,y),this.makeStatusError(u.status,m,y,d)}return{response:u,options:n,controller:c}}requestAPIList(t,r){const n=this.makeRequest(r,null);return new XI(this,n,t)}buildURL(t,r){const n=sL(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return GS(s)||(r={...s,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new pe(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,r,n,s){const{signal:i,...o}=r||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),n),c={signal:s.signal,...o};return c.method&&(c.method=c.method.toUpperCase()),this.fetch.call(void 0,t,c).finally(()=>{clearTimeout(l)})}shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n){let s;const i=n==null?void 0:n["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(s=l)}const o=n==null?void 0:n["retry-after"];if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,l)}return await hu(s),this.makeRequest(t,r-1)}calculateDefaultRetryTimeoutMillis(t,r){const i=r-t,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Hi}`}}class HS{constructor(t,r,n,s){sd.set(this,void 0),GI(this,sd,t),this.options=s,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new pe("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const r={...this.options};if("params"in t&&typeof r.query=="object")r.query={...r.query,...t.params};else if("url"in t){const n=[...Object.entries(r.query||{}),...t.url.searchParams.entries()];for(const[s,i]of n)t.url.searchParams.set(s,i);r.query=void 0,r.path=t.url.toString()}return await YI(this,sd,"f").requestAPIList(this.constructor,r)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(sd=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const r of t.getPaginatedItems())yield r}}class XI extends Gh{constructor(t,r,n){super(r,async s=>new n(t,s.response,await qS(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}const KS=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,r){const n=r.toString();return t[n.toLowerCase()]||t[n]}}),QI={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ot=e=>typeof e=="object"&&e!==null&&!GS(e)&&Object.keys(e).every(t=>YS(QI,t)),ZI=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hi,"X-Stainless-OS":nj(Deno.build.os),"X-Stainless-Arch":rj(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hi,"X-Stainless-OS":nj(process.platform),"X-Stainless-Arch":rj(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=eL();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function eL(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const s=n[1]||0,i=n[2]||0,o=n[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const rj=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",nj=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let sj;const tL=()=>sj??(sj=ZI()),rL=e=>{try{return JSON.parse(e)}catch{return}},nL=/^[a-z][a-z0-9+.-]*:/i,sL=e=>nL.test(e),hu=e=>new Promise(t=>setTimeout(t,e)),Kp=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new pe(`${e} must be an integer`);if(t<0)throw new pe(`${e} must be a positive integer`);return t},$g=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},ad=e=>{var t,r,n,s;if(typeof process<"u")return((t=vo==null?void 0:vo[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(n=(r=Deno.env)==null?void 0:r.get)==null?void 0:n.call(r,e))==null?void 0:s.trim()};function GS(e){if(!e)return!0;for(const t in e)return!1;return!0}function YS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function aj(e,t){for(const r in t){if(!YS(t,r))continue;const n=r.toLowerCase();if(!n)continue;const s=t[r];s===null?delete e[n]:s!==void 0&&(e[n]=s)}}const ij=new Set(["authorization","api-key"]);function ha(e,...t){if(typeof process<"u"&&(vo==null?void 0:vo.DEBUG)==="true"){const r=t.map(n=>{if(!n)return n;if(n.headers){const i={...n,headers:{...n.headers}};for(const o in n.headers)ij.has(o.toLowerCase())&&(i.headers[o]="REDACTED");return i}let s=null;for(const i in n)ij.has(i.toLowerCase())&&(s??(s={...n}),s[i]="REDACTED");return s??n});console.log(`OpenAI:DEBUG:${e}`,...r)}}const aL=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),iL=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",oL=e=>typeof(e==null?void 0:e.get)=="function",id=(e,t)=>{var n;const r=t.toLowerCase();if(oL(e)){const s=((n=t[0])==null?void 0:n.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,o,l)=>o+l.toUpperCase());for(const i of[t,r,t.toUpperCase(),s]){const o=e.get(i);if(o)return o}}for(const[s,i]of Object.entries(e))if(s.toLowerCase()===r)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i},lL=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),r=t.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=t.charCodeAt(s);return Array.from(new Float32Array(n.buffer))}};function Gp(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class Yh extends HS{constructor(t,r,n,s){super(t,r,n,s),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ht extends HS{constructor(t,r,n,s){super(t,r,n,s),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const r=Object.fromEntries(t.url.searchParams);return Object.keys(r).length?r:null}nextPageInfo(){var n;const t=this.getPaginatedItems();if(!t.length)return null;const r=(n=t[t.length-1])==null?void 0:n.id;return r?{params:{after:r}}:null}}class be{constructor(t){this._client=t}}let JS=class extends be{list(t,r={},n){return ot(r)?this.list(t,{},r):this._client.getAPIList(`/chat/completions/${t}/messages`,cL,{query:r,...n})}},Jh=class extends be{constructor(){super(...arguments),this.messages=new JS(this._client)}create(t,r){return this._client.post("/chat/completions",{body:t,...r,stream:t.stream??!1})}retrieve(t,r){return this._client.get(`/chat/completions/${t}`,r)}update(t,r,n){return this._client.post(`/chat/completions/${t}`,{body:r,...n})}list(t={},r){return ot(t)?this.list({},t):this._client.getAPIList("/chat/completions",Xh,{query:t,...r})}del(t,r){return this._client.delete(`/chat/completions/${t}`,r)}};class Xh extends Ht{}class cL extends Ht{}Jh.ChatCompletionsPage=Xh;Jh.Messages=JS;let Qh=class extends be{constructor(){super(...arguments),this.completions=new Jh(this._client)}};Qh.Completions=Jh;Qh.ChatCompletionsPage=Xh;class XS extends be{create(t,r){return this._client.post("/audio/speech",{body:t,...r,headers:{Accept:"application/octet-stream",...r==null?void 0:r.headers},__binaryResponse:!0})}}class QS extends be{create(t,r){return this._client.post("/audio/transcriptions",Io({body:t,...r,stream:t.stream??!1,__metadata:{model:t.model}}))}}class ZS extends be{create(t,r){return this._client.post("/audio/translations",Io({body:t,...r,__metadata:{model:t.model}}))}}class mu extends be{constructor(){super(...arguments),this.transcriptions=new QS(this._client),this.translations=new ZS(this._client),this.speech=new XS(this._client)}}mu.Transcriptions=QS;mu.Translations=ZS;mu.Speech=XS;class zy extends be{create(t,r){return this._client.post("/batches",{body:t,...r})}retrieve(t,r){return this._client.get(`/batches/${t}`,r)}list(t={},r){return ot(t)?this.list({},t):this._client.getAPIList("/batches",Uy,{query:t,...r})}cancel(t,r){return this._client.post(`/batches/${t}/cancel`,r)}}class Uy extends Ht{}zy.BatchesPage=Uy;var _n=function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},Xe=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Dg,Ud,Vd,Ul,Vl,qd,ql,cs,Wl,Pf,Ef,Ki,eC;class Vy{constructor(){Dg.add(this),this.controller=new AbortController,Ud.set(this,void 0),Vd.set(this,()=>{}),Ul.set(this,()=>{}),Vl.set(this,void 0),qd.set(this,()=>{}),ql.set(this,()=>{}),cs.set(this,{}),Wl.set(this,!1),Pf.set(this,!1),Ef.set(this,!1),Ki.set(this,!1),_n(this,Ud,new Promise((t,r)=>{_n(this,Vd,t,"f"),_n(this,Ul,r,"f")}),"f"),_n(this,Vl,new Promise((t,r)=>{_n(this,qd,t,"f"),_n(this,ql,r,"f")}),"f"),Xe(this,Ud,"f").catch(()=>{}),Xe(this,Vl,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},Xe(this,Dg,"m",eC).bind(this))},0)}_connected(){this.ended||(Xe(this,Vd,"f").call(this),this._emit("connect"))}get ended(){return Xe(this,Wl,"f")}get errored(){return Xe(this,Pf,"f")}get aborted(){return Xe(this,Ef,"f")}abort(){this.controller.abort()}on(t,r){return(Xe(this,cs,"f")[t]||(Xe(this,cs,"f")[t]=[])).push({listener:r}),this}off(t,r){const n=Xe(this,cs,"f")[t];if(!n)return this;const s=n.findIndex(i=>i.listener===r);return s>=0&&n.splice(s,1),this}once(t,r){return(Xe(this,cs,"f")[t]||(Xe(this,cs,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{_n(this,Ki,!0,"f"),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){_n(this,Ki,!0,"f"),await Xe(this,Vl,"f")}_emit(t,...r){if(Xe(this,Wl,"f"))return;t==="end"&&(_n(this,Wl,!0,"f"),Xe(this,qd,"f").call(this));const n=Xe(this,cs,"f")[t];if(n&&(Xe(this,cs,"f")[t]=n.filter(s=>!s.once),n.forEach(({listener:s})=>s(...r))),t==="abort"){const s=r[0];!Xe(this,Ki,"f")&&!(n!=null&&n.length)&&Promise.reject(s),Xe(this,Ul,"f").call(this,s),Xe(this,ql,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=r[0];!Xe(this,Ki,"f")&&!(n!=null&&n.length)&&Promise.reject(s),Xe(this,Ul,"f").call(this,s),Xe(this,ql,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Ud=new WeakMap,Vd=new WeakMap,Ul=new WeakMap,Vl=new WeakMap,qd=new WeakMap,ql=new WeakMap,cs=new WeakMap,Wl=new WeakMap,Pf=new WeakMap,Ef=new WeakMap,Ki=new WeakMap,Dg=new WeakSet,eC=function(t){if(_n(this,Pf,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new cn),t instanceof cn)return _n(this,Ef,!0,"f"),this._emit("abort",t);if(t instanceof pe)return this._emit("error",t);if(t instanceof Error){const r=new pe(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new pe(String(t)))};var de=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Rr=function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},Bt,Ig,Hn,Wd,Sn,Xa,oo,Ha,Af,Ir,Hd,Kd,hc,Hl,Kl,oj,lj,cj,uj,dj,fj,hj;class Rn extends Vy{constructor(){super(...arguments),Bt.add(this),Ig.set(this,[]),Hn.set(this,{}),Wd.set(this,{}),Sn.set(this,void 0),Xa.set(this,void 0),oo.set(this,void 0),Ha.set(this,void 0),Af.set(this,void 0),Ir.set(this,void 0),Hd.set(this,void 0),Kd.set(this,void 0),hc.set(this,void 0)}[(Ig=new WeakMap,Hn=new WeakMap,Wd=new WeakMap,Sn=new WeakMap,Xa=new WeakMap,oo=new WeakMap,Ha=new WeakMap,Af=new WeakMap,Ir=new WeakMap,Hd=new WeakMap,Kd=new WeakMap,hc=new WeakMap,Bt=new WeakSet,Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",s=>{const i=r.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,o)=>r.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const r=new Rn;return r._run(()=>r._fromReadableStream(t)),r}async _fromReadableStream(t,r){var i;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Gn.fromReadableStream(t,this.controller);for await(const o of s)de(this,Bt,"m",Hl).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new cn;return this._addRun(de(this,Bt,"m",Kl).call(this))}toReadableStream(){return new Gn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,n,s,i){const o=new Rn;return o._run(()=>o._runToolAssistantStream(t,r,n,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,r,n,s,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...s,stream:!0},c=await t.submitToolOutputs(r,n,l,{...i,signal:this.controller.signal});this._connected();for await(const d of c)de(this,Bt,"m",Hl).call(this,d);if((u=c.controller.signal)!=null&&u.aborted)throw new cn;return this._addRun(de(this,Bt,"m",Kl).call(this))}static createThreadAssistantStream(t,r,n){const s=new Rn;return s._run(()=>s._threadAssistantStream(t,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,r,n,s){const i=new Rn;return i._run(()=>i._runAssistantStream(t,r,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return de(this,Hd,"f")}currentRun(){return de(this,Kd,"f")}currentMessageSnapshot(){return de(this,Sn,"f")}currentRunStepSnapshot(){return de(this,hc,"f")}async finalRunSteps(){return await this.done(),Object.values(de(this,Hn,"f"))}async finalMessages(){return await this.done(),Object.values(de(this,Wd,"f"))}async finalRun(){if(await this.done(),!de(this,Xa,"f"))throw Error("Final run was not received.");return de(this,Xa,"f")}async _createThreadAssistantStream(t,r,n){var l;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},o=await t.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const c of o)de(this,Bt,"m",Hl).call(this,c);if((l=o.controller.signal)!=null&&l.aborted)throw new cn;return this._addRun(de(this,Bt,"m",Kl).call(this))}async _createAssistantStream(t,r,n,s){var c;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},l=await t.create(r,o,{...s,signal:this.controller.signal});this._connected();for await(const u of l)de(this,Bt,"m",Hl).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new cn;return this._addRun(de(this,Bt,"m",Kl).call(this))}static accumulateDelta(t,r){for(const[n,s]of Object.entries(r)){if(!t.hasOwnProperty(n)){t[n]=s;continue}let i=t[n];if(i==null){t[n]=s;continue}if(n==="index"||n==="type"){t[n]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(Gp(i)&&Gp(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...s);continue}for(const o of s){if(!Gp(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const c=i[l];c==null?i.push(o):i[l]=this.accumulateDelta(c,o)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${s}, accValue: ${i}`);t[n]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,r,n){return await this._createThreadAssistantStream(r,t,n)}async _runAssistantStream(t,r,n,s){return await this._createAssistantStream(r,t,n,s)}async _runToolAssistantStream(t,r,n,s,i){return await this._createToolAssistantStream(n,t,r,s,i)}}Hl=function(t){if(!this.ended)switch(Rr(this,Hd,t,"f"),de(this,Bt,"m",cj).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":de(this,Bt,"m",hj).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":de(this,Bt,"m",lj).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":de(this,Bt,"m",oj).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Kl=function(){if(this.ended)throw new pe("stream has ended, this shouldn't happen");if(!de(this,Xa,"f"))throw Error("Final run has not been received");return de(this,Xa,"f")},oj=function(t){const[r,n]=de(this,Bt,"m",dj).call(this,t,de(this,Sn,"f"));Rr(this,Sn,r,"f"),de(this,Wd,"f")[r.id]=r;for(const s of n){const i=r.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,o=r.content[s.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=de(this,oo,"f")){if(de(this,Ha,"f"))switch(de(this,Ha,"f").type){case"text":this._emit("textDone",de(this,Ha,"f").text,de(this,Sn,"f"));break;case"image_file":this._emit("imageFileDone",de(this,Ha,"f").image_file,de(this,Sn,"f"));break}Rr(this,oo,s.index,"f")}Rr(this,Ha,r.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(de(this,oo,"f")!==void 0){const s=t.data.content[de(this,oo,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,de(this,Sn,"f"));break;case"text":this._emit("textDone",s.text,de(this,Sn,"f"));break}}de(this,Sn,"f")&&this._emit("messageDone",t.data),Rr(this,Sn,void 0,"f")}},lj=function(t){const r=de(this,Bt,"m",uj).call(this,t);switch(Rr(this,hc,r,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const n=t.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const i of n.step_details.tool_calls)i.index==de(this,Af,"f")?this._emit("toolCallDelta",i,r.step_details.tool_calls[i.index]):(de(this,Ir,"f")&&this._emit("toolCallDone",de(this,Ir,"f")),Rr(this,Af,i.index,"f"),Rr(this,Ir,r.step_details.tool_calls[i.index],"f"),de(this,Ir,"f")&&this._emit("toolCallCreated",de(this,Ir,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Rr(this,hc,void 0,"f"),t.data.step_details.type=="tool_calls"&&de(this,Ir,"f")&&(this._emit("toolCallDone",de(this,Ir,"f")),Rr(this,Ir,void 0,"f")),this._emit("runStepDone",t.data,r);break}},cj=function(t){de(this,Ig,"f").push(t),this._emit("event",t)},uj=function(t){switch(t.event){case"thread.run.step.created":return de(this,Hn,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=de(this,Hn,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=t.data;if(n.delta){const s=Rn.accumulateDelta(r,n.delta);de(this,Hn,"f")[t.data.id]=s}return de(this,Hn,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":de(this,Hn,"f")[t.data.id]=t.data;break}if(de(this,Hn,"f")[t.data.id])return de(this,Hn,"f")[t.data.id];throw new Error("No snapshot available")},dj=function(t,r){let n=[];switch(t.event){case"thread.message.created":return[t.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in r.content){let o=r.content[i.index];r.content[i.index]=de(this,Bt,"m",fj).call(this,i,o)}else r.content[i.index]=i,n.push(i);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},fj=function(t,r){return Rn.accumulateDelta(r,t)},hj=function(t){switch(Rr(this,Kd,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Rr(this,Xa,t.data,"f"),de(this,Ir,"f")&&(this._emit("toolCallDone",de(this,Ir,"f")),Rr(this,Ir,void 0,"f"));break}};class qy extends be{create(t,r){return this._client.post("/assistants",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/assistants/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,n){return this._client.post(`/assistants/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(t={},r){return ot(t)?this.list({},t):this._client.getAPIList("/assistants",Wy,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,r){return this._client.delete(`/assistants/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Wy extends Ht{}qy.AssistantsPage=Wy;function mj(e){return typeof e.parse=="function"}const bo=e=>(e==null?void 0:e.role)==="assistant",tC=e=>(e==null?void 0:e.role)==="function",rC=e=>(e==null?void 0:e.role)==="tool";function Hy(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function pu(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function uL(e,t){return!t||!nC(t)?{...e,choices:e.choices.map(r=>({...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:Ky(e,t)}function Ky(e,t){const r=e.choices.map(n=>{var s;if(n.finish_reason==="length")throw new LS;if(n.finish_reason==="content_filter")throw new FS;return{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:((s=n.message.tool_calls)==null?void 0:s.map(i=>fL(t,i)))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?dL(t,n.message.content):null}}});return{...e,choices:r}}function dL(e,t){var r,n;return((r=e.response_format)==null?void 0:r.type)!=="json_schema"?null:((n=e.response_format)==null?void 0:n.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function fL(e,t){var n;const r=(n=e.tools)==null?void 0:n.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:pu(r)?r.$parseRaw(t.function.arguments):r!=null&&r.function.strict?JSON.parse(t.function.arguments):null}}}function hL(e,t){var n;if(!e)return!1;const r=(n=e.tools)==null?void 0:n.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return pu(r)||(r==null?void 0:r.function.strict)||!1}function nC(e){var t;return Hy(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(r=>pu(r)||r.type==="function"&&r.function.strict===!0))??!1}function mL(e){for(const t of e??[]){if(t.type!=="function")throw new pe(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new pe(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var br=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Jt,Lg,Tf,Fg,Bg,zg,sC,Ug;const pj=10;class aC extends Vy{constructor(){super(...arguments),Jt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var n;this._chatCompletions.push(t),this._emit("chatCompletion",t);const r=(n=t.choices[0])==null?void 0:n.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),(tC(t)||rC(t))&&t.content)this._emit("functionCallResult",t.content);else if(bo(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(bo(t)&&t.tool_calls)for(const n of t.tool_calls)n.type==="function"&&this._emit("functionCall",n.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new pe("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),br(this,Jt,"m",Lg).call(this)}async finalMessage(){return await this.done(),br(this,Jt,"m",Tf).call(this)}async finalFunctionCall(){return await this.done(),br(this,Jt,"m",Fg).call(this)}async finalFunctionCallResult(){return await this.done(),br(this,Jt,"m",Bg).call(this)}async totalUsage(){return await this.done(),br(this,Jt,"m",zg).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const r=br(this,Jt,"m",Tf).call(this);r&&this._emit("finalMessage",r);const n=br(this,Jt,"m",Lg).call(this);n&&this._emit("finalContent",n);const s=br(this,Jt,"m",Fg).call(this);s&&this._emit("finalFunctionCall",s);const i=br(this,Jt,"m",Bg).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",br(this,Jt,"m",zg).call(this))}async _createChatCompletion(t,r,n){const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),br(this,Jt,"m",sC).call(this,r);const i=await t.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Ky(i,r))}async _runChatCompletion(t,r,n){for(const s of r.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,r,n)}async _runFunctions(t,r,n){var h;const s="function",{function_call:i="auto",stream:o,...l}=r,c=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=pj}=n||{},d={};for(const p of r.functions)d[p.name||p.function.name]=p;const f=r.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of r.messages)this._addMessage(p,!1);for(let p=0;p<u;++p){const y=(h=(await this._createChatCompletion(t,{...l,function_call:i,functions:f,messages:[...this.messages]},n)).choices[0])==null?void 0:h.message;if(!y)throw new pe("missing message in ChatCompletion response");if(!y.function_call)return;const{name:v,arguments:x}=y.function_call,b=d[v];if(b){if(c&&c!==v){const _=`Invalid function_call: ${JSON.stringify(v)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:s,name:v,content:_});continue}}else{const _=`Invalid function_call: ${JSON.stringify(v)}. Available options are: ${f.map(k=>JSON.stringify(k.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:v,content:_});continue}let w;try{w=mj(b)?await b.parse(x):x}catch(_){this._addMessage({role:s,name:v,content:_ instanceof Error?_.message:String(_)});continue}const j=await b.function(w,this),N=br(this,Jt,"m",Ug).call(this,j);if(this._addMessage({role:s,name:v,content:N}),c)return}}async _runTools(t,r,n){var p,m,y;const s="tool",{tool_choice:i="auto",stream:o,...l}=r,c=typeof i!="string"&&((p=i==null?void 0:i.function)==null?void 0:p.name),{maxChatCompletions:u=pj}=n||{},d=r.tools.map(v=>{if(pu(v)){if(!v.$callback)throw new pe("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:v.$callback,name:v.function.name,description:v.function.description||"",parameters:v.function.parameters,parse:v.$parseRaw,strict:!0}}}return v}),f={};for(const v of d)v.type==="function"&&(f[v.function.name||v.function.function.name]=v.function);const h="tools"in r?d.map(v=>v.type==="function"?{type:"function",function:{name:v.function.name||v.function.function.name,parameters:v.function.parameters,description:v.function.description,strict:v.function.strict}}:v):void 0;for(const v of r.messages)this._addMessage(v,!1);for(let v=0;v<u;++v){const b=(m=(await this._createChatCompletion(t,{...l,tool_choice:i,tools:h,messages:[...this.messages]},n)).choices[0])==null?void 0:m.message;if(!b)throw new pe("missing message in ChatCompletion response");if(!((y=b.tool_calls)!=null&&y.length))return;for(const w of b.tool_calls){if(w.type!=="function")continue;const j=w.id,{name:N,arguments:_}=w.function,k=f[N];if(k){if(c&&c!==N){const E=`Invalid tool_call: ${JSON.stringify(N)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:s,tool_call_id:j,content:E});continue}}else{const E=`Invalid tool_call: ${JSON.stringify(N)}. Available options are: ${Object.keys(f).map(M=>JSON.stringify(M)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:j,content:E});continue}let S;try{S=mj(k)?await k.parse(_):_}catch(E){const M=E instanceof Error?E.message:String(E);this._addMessage({role:s,tool_call_id:j,content:M});continue}const C=await k.function(S,this),P=br(this,Jt,"m",Ug).call(this,C);if(this._addMessage({role:s,tool_call_id:j,content:P}),c)return}}}}Jt=new WeakSet,Lg=function(){return br(this,Jt,"m",Tf).call(this).content??null},Tf=function(){let t=this.messages.length;for(;t-- >0;){const r=this.messages[t];if(bo(r)){const{function_call:n,...s}=r,i={...s,content:r.content??null,refusal:r.refusal??null};return n&&(i.function_call=n),i}}throw new pe("stream ended without producing a ChatCompletionMessage with role=assistant")},Fg=function(){var t,r;for(let n=this.messages.length-1;n>=0;n--){const s=this.messages[n];if(bo(s)&&(s!=null&&s.function_call))return s.function_call;if(bo(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(r=s.tool_calls.at(-1))==null?void 0:r.function}},Bg=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(tC(r)&&r.content!=null||rC(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>{var s;return n.role==="assistant"&&((s=n.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===r.tool_call_id))}))return r.content}},zg=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},sC=function(t){if(t.n!=null&&t.n>1)throw new pe("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Ug=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class zc extends aC{static runFunctions(t,r,n){const s=new zc,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,r,i)),s}static runTools(t,r,n){const s=new zc,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,r,i)),s}_addMessage(t,r=!0){super._addMessage(t,r),bo(t)&&t.content&&this._emit("content",t.content)}}const iC=1,oC=2,lC=4,cC=8,uC=16,dC=32,fC=64,hC=128,mC=256,pC=hC|mC,gC=uC|dC|pC|fC,xC=iC|oC|gC,yC=lC|cC,pL=xC|yC,Ct={STR:iC,NUM:oC,ARR:lC,OBJ:cC,NULL:uC,BOOL:dC,NAN:fC,INFINITY:hC,MINUS_INFINITY:mC,INF:pC,SPECIAL:gC,ATOM:xC,COLLECTION:yC,ALL:pL};class gL extends Error{}class xL extends Error{}function yL(e,t=Ct.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return vL(e.trim(),t)}const vL=(e,t)=>{const r=e.length;let n=0;const s=h=>{throw new gL(`${h} at position ${n}`)},i=h=>{throw new xL(`${h} at position ${n}`)},o=()=>(f(),n>=r&&s("Unexpected end of input"),e[n]==='"'?l():e[n]==="{"?c():e[n]==="["?u():e.substring(n,n+4)==="null"||Ct.NULL&t&&r-n<4&&"null".startsWith(e.substring(n))?(n+=4,null):e.substring(n,n+4)==="true"||Ct.BOOL&t&&r-n<4&&"true".startsWith(e.substring(n))?(n+=4,!0):e.substring(n,n+5)==="false"||Ct.BOOL&t&&r-n<5&&"false".startsWith(e.substring(n))?(n+=5,!1):e.substring(n,n+8)==="Infinity"||Ct.INFINITY&t&&r-n<8&&"Infinity".startsWith(e.substring(n))?(n+=8,1/0):e.substring(n,n+9)==="-Infinity"||Ct.MINUS_INFINITY&t&&1<r-n&&r-n<9&&"-Infinity".startsWith(e.substring(n))?(n+=9,-1/0):e.substring(n,n+3)==="NaN"||Ct.NAN&t&&r-n<3&&"NaN".startsWith(e.substring(n))?(n+=3,NaN):d()),l=()=>{const h=n;let p=!1;for(n++;n<r&&(e[n]!=='"'||p&&e[n-1]==="\\");)p=e[n]==="\\"?!p:!1,n++;if(e.charAt(n)=='"')try{return JSON.parse(e.substring(h,++n-Number(p)))}catch(m){i(String(m))}else if(Ct.STR&t)try{return JSON.parse(e.substring(h,n-Number(p))+'"')}catch{return JSON.parse(e.substring(h,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},c=()=>{n++,f();const h={};try{for(;e[n]!=="}";){if(f(),n>=r&&Ct.OBJ&t)return h;const p=l();f(),n++;try{const m=o();Object.defineProperty(h,p,{value:m,writable:!0,enumerable:!0,configurable:!0})}catch(m){if(Ct.OBJ&t)return h;throw m}f(),e[n]===","&&n++}}catch{if(Ct.OBJ&t)return h;s("Expected '}' at end of object")}return n++,h},u=()=>{n++;const h=[];try{for(;e[n]!=="]";)h.push(o()),f(),e[n]===","&&n++}catch{if(Ct.ARR&t)return h;s("Expected ']' at end of array")}return n++,h},d=()=>{if(n===0){e==="-"&&Ct.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(Ct.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(p))}}const h=n;for(e[n]==="-"&&n++;e[n]&&!",]}".includes(e[n]);)n++;n==r&&!(Ct.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(h,n))}catch{e.substring(h,n)==="-"&&Ct.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(h,e.lastIndexOf("e")))}catch(m){i(String(m))}}},f=()=>{for(;n<r&&` 
\r	`.includes(e[n]);)n++};return o()},gj=e=>yL(e,Ct.ALL^Ct.NUM);var Ii=function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},Me=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},xt,ls,Li,Bs,Yp,od,Jp,Xp,Qp,ld,Zp,xj;class Uc extends aC{constructor(t){super(),xt.add(this),ls.set(this,void 0),Li.set(this,void 0),Bs.set(this,void 0),Ii(this,ls,t,"f"),Ii(this,Li,[],"f")}get currentChatCompletionSnapshot(){return Me(this,Bs,"f")}static fromReadableStream(t){const r=new Uc(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,n){const s=new Uc(r);return s._run(()=>s._runChatCompletion(t,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,r,n){var o;super._createChatCompletion;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Me(this,xt,"m",Yp).call(this);const i=await t.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const l of i)Me(this,xt,"m",Jp).call(this,l);if((o=i.controller.signal)!=null&&o.aborted)throw new cn;return this._addChatCompletion(Me(this,xt,"m",ld).call(this))}async _fromReadableStream(t,r){var o;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),Me(this,xt,"m",Yp).call(this),this._connected();const s=Gn.fromReadableStream(t,this.controller);let i;for await(const l of s)i&&i!==l.id&&this._addChatCompletion(Me(this,xt,"m",ld).call(this)),Me(this,xt,"m",Jp).call(this,l),i=l.id;if((o=s.controller.signal)!=null&&o.aborted)throw new cn;return this._addChatCompletion(Me(this,xt,"m",ld).call(this))}[(ls=new WeakMap,Li=new WeakMap,Bs=new WeakMap,xt=new WeakSet,Yp=function(){this.ended||Ii(this,Bs,void 0,"f")},od=function(r){let n=Me(this,Li,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Me(this,Li,"f")[r.index]=n,n)},Jp=function(r){var s,i,o,l,c,u,d,f,h,p,m,y,v,x,b;if(this.ended)return;const n=Me(this,xt,"m",xj).call(this,r);this._emit("chunk",r,n);for(const w of r.choices){const j=n.choices[w.index];w.delta.content!=null&&((s=j.message)==null?void 0:s.role)==="assistant"&&((i=j.message)!=null&&i.content)&&(this._emit("content",w.delta.content,j.message.content),this._emit("content.delta",{delta:w.delta.content,snapshot:j.message.content,parsed:j.message.parsed})),w.delta.refusal!=null&&((o=j.message)==null?void 0:o.role)==="assistant"&&((l=j.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:w.delta.refusal,snapshot:j.message.refusal}),((c=w.logprobs)==null?void 0:c.content)!=null&&((u=j.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(d=w.logprobs)==null?void 0:d.content,snapshot:((f=j.logprobs)==null?void 0:f.content)??[]}),((h=w.logprobs)==null?void 0:h.refusal)!=null&&((p=j.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(m=w.logprobs)==null?void 0:m.refusal,snapshot:((y=j.logprobs)==null?void 0:y.refusal)??[]});const N=Me(this,xt,"m",od).call(this,j);j.finish_reason&&(Me(this,xt,"m",Qp).call(this,j),N.current_tool_call_index!=null&&Me(this,xt,"m",Xp).call(this,j,N.current_tool_call_index));for(const _ of w.delta.tool_calls??[])N.current_tool_call_index!==_.index&&(Me(this,xt,"m",Qp).call(this,j),N.current_tool_call_index!=null&&Me(this,xt,"m",Xp).call(this,j,N.current_tool_call_index)),N.current_tool_call_index=_.index;for(const _ of w.delta.tool_calls??[]){const k=(v=j.message.tool_calls)==null?void 0:v[_.index];k!=null&&k.type&&((k==null?void 0:k.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(x=k.function)==null?void 0:x.name,index:_.index,arguments:k.function.arguments,parsed_arguments:k.function.parsed_arguments,arguments_delta:((b=_.function)==null?void 0:b.arguments)??""}):(k==null||k.type,void 0))}}},Xp=function(r,n){var o,l,c;if(Me(this,xt,"m",od).call(this,r).done_tool_calls.has(n))return;const i=(o=r.message.tool_calls)==null?void 0:o[n];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(c=(l=Me(this,ls,"f"))==null?void 0:l.tools)==null?void 0:c.find(d=>d.type==="function"&&d.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:n,arguments:i.function.arguments,parsed_arguments:pu(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Qp=function(r){var s,i;const n=Me(this,xt,"m",od).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const o=Me(this,xt,"m",Zp).call(this);this._emit("content.done",{content:r.message.content,parsed:o?o.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(s=r.logprobs)!=null&&s.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(i=r.logprobs)!=null&&i.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},ld=function(){if(this.ended)throw new pe("stream has ended, this shouldn't happen");const r=Me(this,Bs,"f");if(!r)throw new pe("request ended without sending any chunks");return Ii(this,Bs,void 0,"f"),Ii(this,Li,[],"f"),bL(r,Me(this,ls,"f"))},Zp=function(){var n;const r=(n=Me(this,ls,"f"))==null?void 0:n.response_format;return Hy(r)?r:null},xj=function(r){var n,s,i,o;let l=Me(this,Bs,"f");const{choices:c,...u}=r;l?Object.assign(l,u):l=Ii(this,Bs,{...u,choices:[]},"f");for(const{delta:d,finish_reason:f,index:h,logprobs:p=null,...m}of r.choices){let y=l.choices[h];if(y||(y=l.choices[h]={finish_reason:f,index:h,message:{},logprobs:p,...m}),p)if(!y.logprobs)y.logprobs=Object.assign({},p);else{const{content:_,refusal:k,...S}=p;Object.assign(y.logprobs,S),_&&((n=y.logprobs).content??(n.content=[]),y.logprobs.content.push(..._)),k&&((s=y.logprobs).refusal??(s.refusal=[]),y.logprobs.refusal.push(...k))}if(f&&(y.finish_reason=f,Me(this,ls,"f")&&nC(Me(this,ls,"f")))){if(f==="length")throw new LS;if(f==="content_filter")throw new FS}if(Object.assign(y,m),!d)continue;const{content:v,refusal:x,function_call:b,role:w,tool_calls:j,...N}=d;if(Object.assign(y.message,N),x&&(y.message.refusal=(y.message.refusal||"")+x),w&&(y.message.role=w),b&&(y.message.function_call?(b.name&&(y.message.function_call.name=b.name),b.arguments&&((i=y.message.function_call).arguments??(i.arguments=""),y.message.function_call.arguments+=b.arguments)):y.message.function_call=b),v&&(y.message.content=(y.message.content||"")+v,!y.message.refusal&&Me(this,xt,"m",Zp).call(this)&&(y.message.parsed=gj(y.message.content))),j){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:_,id:k,type:S,function:C,...P}of j){const E=(o=y.message.tool_calls)[_]??(o[_]={});Object.assign(E,P),k&&(E.id=k),S&&(E.type=S),C&&(E.function??(E.function={name:C.name??"",arguments:""})),C!=null&&C.name&&(E.function.name=C.name),C!=null&&C.arguments&&(E.function.arguments+=C.arguments,hL(Me(this,ls,"f"),E)&&(E.function.parsed_arguments=gj(E.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("chunk",s=>{const i=r.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,o)=>r.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Gn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function bL(e,t){const{id:r,choices:n,created:s,model:i,system_fingerprint:o,...l}=e,c={...l,id:r,choices:n.map(({message:u,finish_reason:d,index:f,logprobs:h,...p})=>{if(!d)throw new pe(`missing finish_reason for choice ${f}`);const{content:m=null,function_call:y,tool_calls:v,...x}=u,b=u.role;if(!b)throw new pe(`missing role for choice ${f}`);if(y){const{arguments:w,name:j}=y;if(w==null)throw new pe(`missing function_call.arguments for choice ${f}`);if(!j)throw new pe(`missing function_call.name for choice ${f}`);return{...p,message:{content:m,function_call:{arguments:w,name:j},role:b,refusal:u.refusal??null},finish_reason:d,index:f,logprobs:h}}return v?{...p,index:f,finish_reason:d,logprobs:h,message:{...x,role:b,content:m,refusal:u.refusal??null,tool_calls:v.map((w,j)=>{const{function:N,type:_,id:k,...S}=w,{arguments:C,name:P,...E}=N||{};if(k==null)throw new pe(`missing choices[${f}].tool_calls[${j}].id
${cd(e)}`);if(_==null)throw new pe(`missing choices[${f}].tool_calls[${j}].type
${cd(e)}`);if(P==null)throw new pe(`missing choices[${f}].tool_calls[${j}].function.name
${cd(e)}`);if(C==null)throw new pe(`missing choices[${f}].tool_calls[${j}].function.arguments
${cd(e)}`);return{...S,id:k,type:_,function:{...E,name:P,arguments:C}}})}}:{...p,message:{...x,content:m,role:b,refusal:u.refusal??null},finish_reason:d,index:f,logprobs:h}}),created:s,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return uL(c,t)}function cd(e){return JSON.stringify(e)}class wo extends Uc{static fromReadableStream(t){const r=new wo(null);return r._run(()=>r._fromReadableStream(t)),r}static runFunctions(t,r,n){const s=new wo(null),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,r,i)),s}static runTools(t,r,n){const s=new wo(r),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,r,i)),s}}let vC=class extends be{parse(t,r){return mL(t.tools),this._client.chat.completions.create(t,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(n=>Ky(n,t))}runFunctions(t,r){return t.stream?wo.runFunctions(this._client,t,r):zc.runFunctions(this._client,t,r)}runTools(t,r){return t.stream?wo.runTools(this._client,t,r):zc.runTools(this._client,t,r)}stream(t,r){return Uc.createChatCompletion(this._client,t,r)}};class Vg extends be{constructor(){super(...arguments),this.completions=new vC(this._client)}}(function(e){e.Completions=vC})(Vg||(Vg={}));class bC extends be{create(t,r){return this._client.post("/realtime/sessions",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class wC extends be{create(t,r){return this._client.post("/realtime/transcription_sessions",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Zh extends be{constructor(){super(...arguments),this.sessions=new bC(this._client),this.transcriptionSessions=new wC(this._client)}}Zh.Sessions=bC;Zh.TranscriptionSessions=wC;class Gy extends be{create(t,r,n){return this._client.post(`/threads/${t}/messages`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,r,n){return this._client.get(`/threads/${t}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,r,n,s){return this._client.post(`/threads/${t}/messages/${r}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,r={},n){return ot(r)?this.list(t,{},r):this._client.getAPIList(`/threads/${t}/messages`,Yy,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,r,n){return this._client.delete(`/threads/${t}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Yy extends Ht{}Gy.MessagesPage=Yy;class Jy extends be{retrieve(t,r,n,s={},i){return ot(s)?this.retrieve(t,r,n,{},s):this._client.get(`/threads/${t}/runs/${r}/steps/${n}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,r,n={},s){return ot(n)?this.list(t,r,{},n):this._client.getAPIList(`/threads/${t}/runs/${r}/steps`,Xy,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Xy extends Ht{}Jy.RunStepsPage=Xy;let gu=class extends be{constructor(){super(...arguments),this.steps=new Jy(this._client)}create(t,r,n){const{include:s,...i}=r;return this._client.post(`/threads/${t}/runs`,{query:{include:s},body:i,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:r.stream??!1})}retrieve(t,r,n){return this._client.get(`/threads/${t}/runs/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,r,n,s){return this._client.post(`/threads/${t}/runs/${r}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,r={},n){return ot(r)?this.list(t,{},r):this._client.getAPIList(`/threads/${t}/runs`,Qy,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(t,r,n){return this._client.post(`/threads/${t}/runs/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(t,r,n){const s=await this.create(t,r,n);return await this.poll(t,s.id,n)}createAndStream(t,r,n){return Rn.createAssistantStream(t,this._client.beta.threads.runs,r,n)}async poll(t,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,r,{...n,headers:{...n==null?void 0:n.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(l=u)}}await hu(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,r,n){return Rn.createAssistantStream(t,this._client.beta.threads.runs,r,n)}submitToolOutputs(t,r,n,s){return this._client.post(`/threads/${t}/runs/${r}/submit_tool_outputs`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(t,r,n,s){const i=await this.submitToolOutputs(t,r,n,s);return await this.poll(t,i.id,s)}submitToolOutputsStream(t,r,n,s){return Rn.createToolAssistantStream(t,r,this._client.beta.threads.runs,n,s)}};class Qy extends Ht{}gu.RunsPage=Qy;gu.Steps=Jy;gu.RunStepsPage=Xy;class Qo extends be{constructor(){super(...arguments),this.runs=new gu(this._client),this.messages=new Gy(this._client)}create(t={},r){return ot(t)?this.create({},t):this._client.post("/threads",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/threads/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,n){return this._client.post(`/threads/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,r){return this._client.delete(`/threads/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}createAndRun(t,r){return this._client.post("/threads/runs",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:t.stream??!1})}async createAndRunPoll(t,r){const n=await this.createAndRun(t,r);return await this.runs.poll(n.thread_id,n.id,r)}createAndRunStream(t,r){return Rn.createThreadAssistantStream(t,this._client.beta.threads,r)}}Qo.Runs=gu;Qo.RunsPage=Qy;Qo.Messages=Gy;Qo.MessagesPage=Yy;class Zo extends be{constructor(){super(...arguments),this.realtime=new Zh(this._client),this.chat=new Vg(this._client),this.assistants=new qy(this._client),this.threads=new Qo(this._client)}}Zo.Realtime=Zh;Zo.Assistants=qy;Zo.AssistantsPage=Wy;Zo.Threads=Qo;class jC extends be{create(t,r){return this._client.post("/completions",{body:t,...r,stream:t.stream??!1})}}class NC extends be{create(t,r){const n=!!t.encoding_format;let s=n?t.encoding_format:"base64";n&&ha("Request","User defined encoding_format:",t.encoding_format);const i=this._client.post("/embeddings",{body:{...t,encoding_format:s},...r});return n?i:(ha("response","Decoding base64 embeddings to float32 array"),i._thenUnwrap(o=>(o&&o.data&&o.data.forEach(l=>{const c=l.embedding;l.embedding=lL(c)}),o)))}}class Zy extends be{retrieve(t,r,n,s){return this._client.get(`/evals/${t}/runs/${r}/output_items/${n}`,s)}list(t,r,n={},s){return ot(n)?this.list(t,r,{},n):this._client.getAPIList(`/evals/${t}/runs/${r}/output_items`,ev,{query:n,...s})}}class ev extends Ht{}Zy.OutputItemListResponsesPage=ev;class xu extends be{constructor(){super(...arguments),this.outputItems=new Zy(this._client)}create(t,r,n){return this._client.post(`/evals/${t}/runs`,{body:r,...n})}retrieve(t,r,n){return this._client.get(`/evals/${t}/runs/${r}`,n)}list(t,r={},n){return ot(r)?this.list(t,{},r):this._client.getAPIList(`/evals/${t}/runs`,tv,{query:r,...n})}del(t,r,n){return this._client.delete(`/evals/${t}/runs/${r}`,n)}cancel(t,r,n){return this._client.post(`/evals/${t}/runs/${r}`,n)}}class tv extends Ht{}xu.RunListResponsesPage=tv;xu.OutputItems=Zy;xu.OutputItemListResponsesPage=ev;class yu extends be{constructor(){super(...arguments),this.runs=new xu(this._client)}create(t,r){return this._client.post("/evals",{body:t,...r})}retrieve(t,r){return this._client.get(`/evals/${t}`,r)}update(t,r,n){return this._client.post(`/evals/${t}`,{body:r,...n})}list(t={},r){return ot(t)?this.list({},t):this._client.getAPIList("/evals",rv,{query:t,...r})}del(t,r){return this._client.delete(`/evals/${t}`,r)}}class rv extends Ht{}yu.EvalListResponsesPage=rv;yu.Runs=xu;yu.RunListResponsesPage=tv;let nv=class extends be{create(t,r){return this._client.post("/files",Io({body:t,...r}))}retrieve(t,r){return this._client.get(`/files/${t}`,r)}list(t={},r){return ot(t)?this.list({},t):this._client.getAPIList("/files",sv,{query:t,...r})}del(t,r){return this._client.delete(`/files/${t}`,r)}content(t,r){return this._client.get(`/files/${t}/content`,{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}retrieveContent(t,r){return this._client.get(`/files/${t}/content`,r)}async waitForProcessing(t,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(t);for(;!o.status||!s.has(o.status);)if(await hu(r),o=await this.retrieve(t),Date.now()-i>n)throw new By({message:`Giving up on waiting for file ${t} to finish processing after ${n} milliseconds.`});return o}};class sv extends Ht{}nv.FileObjectsPage=sv;class av extends be{create(t,r,n){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,iv,{body:r,method:"post",...n})}retrieve(t,r={},n){return ot(r)?this.retrieve(t,{},r):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:r,...n})}del(t,r,n){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${r}`,n)}}class iv extends Yh{}av.PermissionCreateResponsesPage=iv;let em=class extends be{constructor(){super(...arguments),this.permissions=new av(this._client)}};em.Permissions=av;em.PermissionCreateResponsesPage=iv;class ov extends be{list(t,r={},n){return ot(r)?this.list(t,{},r):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,lv,{query:r,...n})}}class lv extends Ht{}ov.FineTuningJobCheckpointsPage=lv;class el extends be{constructor(){super(...arguments),this.checkpoints=new ov(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",{body:t,...r})}retrieve(t,r){return this._client.get(`/fine_tuning/jobs/${t}`,r)}list(t={},r){return ot(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",cv,{query:t,...r})}cancel(t,r){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},n){return ot(r)?this.listEvents(t,{},r):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,uv,{query:r,...n})}}class cv extends Ht{}class uv extends Ht{}el.FineTuningJobsPage=cv;el.FineTuningJobEventsPage=uv;el.Checkpoints=ov;el.FineTuningJobCheckpointsPage=lv;class tl extends be{constructor(){super(...arguments),this.jobs=new el(this._client),this.checkpoints=new em(this._client)}}tl.Jobs=el;tl.FineTuningJobsPage=cv;tl.FineTuningJobEventsPage=uv;tl.Checkpoints=em;class _C extends be{createVariation(t,r){return this._client.post("/images/variations",Io({body:t,...r}))}edit(t,r){return this._client.post("/images/edits",Io({body:t,...r}))}generate(t,r){return this._client.post("/images/generations",{body:t,...r})}}class dv extends be{retrieve(t,r){return this._client.get(`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",fv,t)}del(t,r){return this._client.delete(`/models/${t}`,r)}}class fv extends Yh{}dv.ModelsPage=fv;class kC extends be{create(t,r){return this._client.post("/moderations",{body:t,...r})}}function wL(e,t){return!t||!NL(t)?{...e,output_parsed:null,output:e.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:SC(e,t)}function SC(e,t){const r=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:SL(t,s)};if(s.type==="message"){const i=s.content.map(o=>o.type==="output_text"?{...o,parsed:jL(t,o.text)}:o);return{...s,content:i}}return s}),n=Object.assign({},e,{output:r});return Object.getOwnPropertyDescriptor(e,"output_text")||CC(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const s of n.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),n}function jL(e,t){var r,n,s,i;return((n=(r=e.text)==null?void 0:r.format)==null?void 0:n.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function NL(e){var t;return!!Hy((t=e.text)==null?void 0:t.format)}function _L(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function kL(e,t){return e.find(r=>r.type==="function"&&r.name===t)}function SL(e,t){const r=kL(e.tools??[],t.name);return{...t,...t,parsed_arguments:_L(r)?r.$parseRaw(t.arguments):r!=null&&r.strict?JSON.parse(t.arguments):null}}function CC(e){const t=[];for(const r of e.output)if(r.type==="message")for(const n of r.content)n.type==="output_text"&&t.push(n.text);e.output_text=t.join("")}class PC extends be{list(t,r={},n){return ot(r)?this.list(t,{},r):this._client.getAPIList(`/responses/${t}/input_items`,PL,{query:r,...n})}}var Fi=function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},zs=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Bi,ud,Us,dd,yj,vj,bj,wj;class hv extends Vy{constructor(t){super(),Bi.add(this),ud.set(this,void 0),Us.set(this,void 0),dd.set(this,void 0),Fi(this,ud,t,"f")}static createResponse(t,r,n){const s=new hv(r);return s._run(()=>s._createResponse(t,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createResponse(t,r,n){var o;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),zs(this,Bi,"m",yj).call(this);const i=await t.responses.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const l of i)zs(this,Bi,"m",vj).call(this,l);if((o=i.controller.signal)!=null&&o.aborted)throw new cn;return zs(this,Bi,"m",bj).call(this)}[(ud=new WeakMap,Us=new WeakMap,dd=new WeakMap,Bi=new WeakSet,yj=function(){this.ended||Fi(this,Us,void 0,"f")},vj=function(r){if(this.ended)return;const n=zs(this,Bi,"m",wj).call(this,r);switch(this._emit("event",r),r.type){case"response.output_text.delta":{const s=n.output[r.output_index];if(!s)throw new pe(`missing output at index ${r.output_index}`);if(s.type==="message"){const i=s.content[r.content_index];if(!i)throw new pe(`missing content at index ${r.content_index}`);if(i.type!=="output_text")throw new pe(`expected content to be 'output_text', got ${i.type}`);this._emit("response.output_text.delta",{...r,snapshot:i.text})}break}case"response.function_call_arguments.delta":{const s=n.output[r.output_index];if(!s)throw new pe(`missing output at index ${r.output_index}`);s.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...r,snapshot:s.arguments});break}default:this._emit(r.type,r);break}},bj=function(){if(this.ended)throw new pe("stream has ended, this shouldn't happen");const r=zs(this,Us,"f");if(!r)throw new pe("request ended without sending any events");Fi(this,Us,void 0,"f");const n=CL(r,zs(this,ud,"f"));return Fi(this,dd,n,"f"),n},wj=function(r){let n=zs(this,Us,"f");if(!n){if(r.type!=="response.created")throw new pe(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=Fi(this,Us,r.response,"f"),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{const s=n.output[r.output_index];if(!s)throw new pe(`missing output at index ${r.output_index}`);s.type==="message"&&s.content.push(r.part);break}case"response.output_text.delta":{const s=n.output[r.output_index];if(!s)throw new pe(`missing output at index ${r.output_index}`);if(s.type==="message"){const i=s.content[r.content_index];if(!i)throw new pe(`missing content at index ${r.content_index}`);if(i.type!=="output_text")throw new pe(`expected content to be 'output_text', got ${i.type}`);i.text+=r.delta}break}case"response.function_call_arguments.delta":{const s=n.output[r.output_index];if(!s)throw new pe(`missing output at index ${r.output_index}`);s.type==="function_call"&&(s.arguments+=r.delta);break}case"response.completed":{Fi(this,Us,r.response,"f");break}}return n},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",s=>{const i=r.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,o)=>r.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=zs(this,dd,"f");if(!t)throw new pe("stream ended without producing a ChatCompletion");return t}}function CL(e,t){return wL(e,t)}class mv extends be{constructor(){super(...arguments),this.inputItems=new PC(this._client)}create(t,r){return this._client.post("/responses",{body:t,...r,stream:t.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&CC(n),n))}retrieve(t,r={},n){return ot(r)?this.retrieve(t,{},r):this._client.get(`/responses/${t}`,{query:r,...n})}del(t,r){return this._client.delete(`/responses/${t}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}parse(t,r){return this._client.responses.create(t,r)._thenUnwrap(n=>SC(n,t))}stream(t,r){return hv.createResponse(this._client,t,r)}}class PL extends Ht{}mv.InputItems=PC;class EC extends be{create(t,r,n){return this._client.post(`/uploads/${t}/parts`,Io({body:r,...n}))}}class pv extends be{constructor(){super(...arguments),this.parts=new EC(this._client)}create(t,r){return this._client.post("/uploads",{body:t,...r})}cancel(t,r){return this._client.post(`/uploads/${t}/cancel`,r)}complete(t,r,n){return this._client.post(`/uploads/${t}/complete`,{body:r,...n})}}pv.Parts=EC;const EL=async e=>{const t=await Promise.allSettled(e),r=t.filter(s=>s.status==="rejected");if(r.length){for(const s of r)console.error(s.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const n=[];for(const s of t)s.status==="fulfilled"&&n.push(s.value);return n};class tm extends be{create(t,r,n){return this._client.post(`/vector_stores/${t}/files`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,r,n){return this._client.get(`/vector_stores/${t}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,r,n,s){return this._client.post(`/vector_stores/${t}/files/${r}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,r={},n){return ot(r)?this.list(t,{},r):this._client.getAPIList(`/vector_stores/${t}/files`,rm,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,r,n){return this._client.delete(`/vector_stores/${t}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(t,r,n){const s=await this.create(t,r,n);return await this.poll(t,s.id,n)}async poll(t,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const i=await this.retrieve(t,r,{...n,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=i.response.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(l=u)}}await hu(l);break;case"failed":case"completed":return o}}}async upload(t,r,n){const s=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(t,{file_id:s.id},n)}async uploadAndPoll(t,r,n){const s=await this.upload(t,r,n);return await this.poll(t,s.id,n)}content(t,r,n){return this._client.getAPIList(`/vector_stores/${t}/files/${r}/content`,gv,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class rm extends Ht{}class gv extends Yh{}tm.VectorStoreFilesPage=rm;tm.FileContentResponsesPage=gv;class AC extends be{create(t,r,n){return this._client.post(`/vector_stores/${t}/file_batches`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,r,n){return this._client.get(`/vector_stores/${t}/file_batches/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(t,r,n){return this._client.post(`/vector_stores/${t}/file_batches/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(t,r,n){const s=await this.create(t,r);return await this.poll(t,s.id,n)}listFiles(t,r,n={},s){return ot(n)?this.listFiles(t,r,{},n):this._client.getAPIList(`/vector_stores/${t}/file_batches/${r}/files`,rm,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(t,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,r,{...n,headers:s}).withResponse();switch(i.status){case"in_progress":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(l=u)}}await hu(l);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:r,fileIds:n=[]},s){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(i,r.length),l=this._client,c=r.values(),u=[...n];async function d(h){for(let p of h){const m=await l.files.create({file:p,purpose:"assistants"},s);u.push(m.id)}}const f=Array(o).fill(c).map(d);return await EL(f),await this.createAndPoll(t,{file_ids:u})}}class Sa extends be{constructor(){super(...arguments),this.files=new tm(this._client),this.fileBatches=new AC(this._client)}create(t,r){return this._client.post("/vector_stores",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/vector_stores/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,n){return this._client.post(`/vector_stores/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(t={},r){return ot(t)?this.list({},t):this._client.getAPIList("/vector_stores",xv,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,r){return this._client.delete(`/vector_stores/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}search(t,r,n){return this._client.getAPIList(`/vector_stores/${t}/search`,yv,{body:r,method:"post",...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class xv extends Ht{}class yv extends Yh{}Sa.VectorStoresPage=xv;Sa.VectorStoreSearchResponsesPage=yv;Sa.Files=tm;Sa.VectorStoreFilesPage=rm;Sa.FileContentResponsesPage=gv;Sa.FileBatches=AC;var TC;class ye extends JI{constructor({baseURL:t=ad("OPENAI_BASE_URL"),apiKey:r=ad("OPENAI_API_KEY"),organization:n=ad("OPENAI_ORG_ID")??null,project:s=ad("OPENAI_PROJECT_ID")??null,...i}={}){if(r===void 0)throw new pe("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:r,organization:n,project:s,...i,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&iL())throw new pe(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new jC(this),this.chat=new Qh(this),this.embeddings=new NC(this),this.files=new nv(this),this.images=new _C(this),this.audio=new mu(this),this.moderations=new kC(this),this.models=new dv(this),this.fineTuning=new tl(this),this.vectorStores=new Sa(this),this.beta=new Zo(this),this.batches=new zy(this),this.uploads=new pv(this),this.responses=new mv(this),this.evals=new yu(this),this._options=o,this.apiKey=r,this.organization=n,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return OI(t,{arrayFormat:"brackets"})}}TC=ye;ye.OpenAI=TC;ye.DEFAULT_TIMEOUT=6e5;ye.OpenAIError=pe;ye.APIError=Wt;ye.APIConnectionError=Wh;ye.APIConnectionTimeoutError=By;ye.APIUserAbortError=cn;ye.NotFoundError=MS;ye.ConflictError=RS;ye.RateLimitError=DS;ye.BadRequestError=AS;ye.AuthenticationError=TS;ye.InternalServerError=IS;ye.PermissionDeniedError=OS;ye.UnprocessableEntityError=$S;ye.toFile=VS;ye.fileFromPath=CS;ye.Completions=jC;ye.Chat=Qh;ye.ChatCompletionsPage=Xh;ye.Embeddings=NC;ye.Files=nv;ye.FileObjectsPage=sv;ye.Images=_C;ye.Audio=mu;ye.Moderations=kC;ye.Models=dv;ye.ModelsPage=fv;ye.FineTuning=tl;ye.VectorStores=Sa;ye.VectorStoresPage=xv;ye.VectorStoreSearchResponsesPage=yv;ye.Beta=Zo;ye.Batches=zy;ye.BatchesPage=Uy;ye.Uploads=pv;ye.Responses=mv;ye.Evals=yu;ye.EvalListResponsesPage=rv;const Vr=new ye({apiKey:"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",dangerouslyAllowBrowser:!0,defaultHeaders:{"OpenAI-Beta":"assistants=v2"}});Vr.baseOptions={headers:{"OpenAI-Beta":"assistants=v2"}};function AL({onGenerateCode:e,robotId:t,robotName:r,selectedVersion:n}){Nt();const[s,i]=g.useState([]),[o,l]=g.useState(""),[c,u]=g.useState(!1);g.useState(!1);const[d,f]=g.useState(""),h=g.useRef(null),p=g.useRef(null),{profile:m,updateTokenBalance:y}=Rt(),{t:v,language:x}=Ms(),{createVersion:b,versions:w,loadVersions:j}=du();g.useState(null),g.useState(500);const[N,_]=g.useState("create"),[k,S]=g.useState(""),[C,P]=g.useState(null),[E,M]=g.useState(""),[O,F]=g.useState([]),[A,q]=g.useState("");g.useState([]);const[H,$]=g.useState(!1),[D,W]=g.useState(""),[V,L]=g.useState(""),[se,K]=g.useState(!1),[B,ie]=g.useState({strategy:"",timeframes:[],assets:[],riskLevel:"",additionalDetails:""}),[ge,I]=g.useState(!1),[R,te]=g.useState("idle"),[ue,T]=g.useState(null),[fe,me]=g.useState(!1),[Se,Te]=g.useState(!1),kt=[{id:"trend-following",name:"Seguidor de Tendncia",icon:a.jsx(Mt,{className:"w-5 h-5"}),description:"Estratgia que segue a direo da tendncia do mercado"},{id:"mean-reversion",name:"Reverso  Mdia",icon:a.jsx(a6,{className:"w-5 h-5"}),description:"Estratgia que opera quando o preo se afasta da mdia"},{id:"breakout",name:"Rompimento",icon:a.jsx(Ar,{className:"w-5 h-5"}),description:"Estratgia que opera em rompimentos de suportes e resistncias"},{id:"scalping",name:"Scalping",icon:a.jsx(Re,{className:"w-5 h-5"}),description:"Estratgia de operaes rpidas com pequenos ganhos"}],Or=[{id:"quick-optimization",name:"Otimizao Rpida",icon:a.jsx(Re,{className:"w-5 h-5"}),description:"Melhoria geral de performance e cdigo"},{id:"add-trailing",name:"Incluir Trailing Stop",icon:a.jsx(Mt,{className:"w-5 h-5"}),description:"Adicionar trailing stop para proteger lucros"},{id:"add-breakeven",name:"Incluir Breakeven",icon:a.jsx(Ar,{className:"w-5 h-5"}),description:"Adicionar ponto de breakeven para reduzir risco"},{id:"financial-stop",name:"Stop Financeiro",icon:a.jsx(Bd,{className:"w-5 h-5"}),description:"Implementar stop loss baseado em valor financeiro"}],z=[{id:"M1",name:"1 minuto"},{id:"M5",name:"5 minutos"},{id:"M15",name:"15 minutos"},{id:"M30",name:"30 minutos"},{id:"H1",name:"1 hora"},{id:"H4",name:"4 horas"},{id:"D1",name:"1 dia"},{id:"W1",name:"1 semana"}],ve=["WINFUT","WDOFUT","PETR4","VALE3","ITUB4","BBDC4","ABEV3","MGLU3","BOVA11"],ee=["Tendncia","Reverso  Mdia","Rompimento","Scalping","HFT","Correlao","Volatilidade","Mdia Mvel"],ne=["Conservador","Moderado","Agressivo"],we=()=>{h.current&&h.current.scrollIntoView({behavior:"smooth"})};g.useEffect(()=>{we()},[s]),g.useEffect(()=>{n&&P(n)},[n]),g.useEffect(()=>{t?(console.log("Carregando verses para robotId:",t),j(t).then(Y=>{if(console.log("Verses carregadas:",Y.length),Y.length>0){let ae;C&&(ae=Y.find(Ye=>Ye.version_name===C),console.log("Verso selecionada encontrada:",!!ae)),ae||(ae=Y[0],console.log("Usando primeira verso:",ae.version_name),C||P(ae.version_name)),ae&&(console.log("Atualizando cdigo atual com verso:",ae.version_name),S(ae.code),M(ae.description||""),F(ae.tags||[]))}else console.log("Nenhuma verso encontrada, limpando dados atuais"),S(""),M(""),F([]),P("")}).catch(Y=>{console.error("Erro ao carregar verses:",Y)})):(console.log("Sem robotId, limpando dados"),S(""),M(""),F([]),P(""))},[t,j]),g.useEffect(()=>{t&&C&&(console.log("selectedVersionName mudou para:",C),j(t).then(Y=>{const ae=Y.find(Ye=>Ye.version_name===C);ae?(console.log("Carregando verso selecionada:",C),S(ae.code),M(ae.description||""),F(ae.tags||[])):console.warn("Verso selecionada no encontrada:",C)}).catch(Y=>{console.error("Erro ao carregar verso selecionada:",Y)}))},[C,t,j]);const lt=()=>{if(((m==null?void 0:m.token_balance)||0)<500){const ae=document.createElement("div");ae.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md z-50 flex items-center",ae.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
        </svg>
        Tokens insuficientes. A criao de rob com IA custa 500 tokens.
      `,document.body.appendChild(ae),setTimeout(()=>{document.body.removeChild(ae)},3e3);return}_("create"),K(!0)},Ge=async()=>{if(((m==null?void 0:m.token_balance)||0)<500){const ae=document.createElement("div");ae.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md z-50 flex items-center",ae.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
        </svg>
        Tokens insuficientes. A otimizao custa 500 tokens.
      `,document.body.appendChild(ae),setTimeout(()=>{document.body.removeChild(ae)},3e3);return}_("optimize"),K(!0)},Ra=()=>{if(((m==null?void 0:m.token_balance)||0)<500){const ae=document.createElement("div");ae.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md z-50 flex items-center",ae.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
        </svg>
        Tokens insuficientes. A correo de cdigo custa 500 tokens.
      `,document.body.appendChild(ae),setTimeout(()=>{document.body.removeChild(ae)},3e3);return}Te(!0)},Is=()=>{if(!B.strategy&&B.timeframes.length===0&&B.assets.length===0&&!B.additionalDetails){alert("Por favor, fornea pelo menos uma estratgia, timeframe, ativo ou detalhes adicionais para continuar.");return}let Y="";if(N==="create"){if(Y="Criar nova verso ",B.strategy&&(Y+=`utilizando a estratgia de ${B.strategy}`),B.timeframes.length>0){const ae=B.timeframes.map(Ye=>{const rn=z.find(nr=>nr.id===Ye);return rn?rn.name:Ye});Y+=` para operar em ${ae.join(", ")}`}B.assets.length>0&&(Y+=` nos ativos ${B.assets.join(", ")}`),B.riskLevel&&(Y+=` com perfil de risco ${B.riskLevel}`),B.additionalDetails&&(Y+=`. ${B.additionalDetails}`)}else{if(Y="Otimize o cdigo atual do rob ",B.strategy&&(Y+=`para melhorar a estratgia de ${B.strategy}`),B.timeframes.length>0){const ae=B.timeframes.map(Ye=>{const rn=z.find(nr=>nr.id===Ye);return rn?rn.name:Ye});Y+=` para operar em ${ae.join(", ")}`}B.assets.length>0&&(Y+=` nos ativos ${B.assets.join(", ")}`),B.riskLevel&&(Y+=` com perfil de risco ${B.riskLevel}`),B.additionalDetails&&(Y+=`. ${B.additionalDetails}`),Y+=`

Cdigo atual:
\`\`\`
${k}
\`\`\`

`,E&&(Y+=`Descrio atual: ${E}

`),O&&O.length>0&&(Y+=`Tags atuais: ${O.join(", ")}

`)}l(Y),K(!1),W(Y),$(!0),ie({strategy:"",timeframes:[],assets:[],riskLevel:"",additionalDetails:""})},Eu=()=>{if(!k){alert("No h cdigo para corrigir.");return}let Y=`O cdigo gerado no est funcionando corretamente. Por favor, corrija os erros e gere uma nova verso funcional. 
    
Cdigo atual com problemas:
\`\`\`
${k}
\`\`\`

Descrio do problema: ${A||"O cdigo no est funcionando como esperado."}

Por favor, fornea uma verso corrigida do cdigo que seja funcional, mantendo a mesma estratgia e lgica, mas corrigindo quaisquer erros de sintaxe ou lgica.`;l(Y),Te(!1),W(Y),$(!0)},Bn=async Y=>{if(Y.preventDefault(),!(!o.trim()||c)){if(o.trim().length<15&&!D){K(!0),ie({...B,additionalDetails:o.trim()});return}W(o.trim()),$(!0)}},tp=async()=>{if(!D||c)return;if(((m==null?void 0:m.token_balance)||0)<500){i(xr=>[...xr,{role:"user",content:D},{role:"assistant",content:x==="en"?"You don't have enough tokens to use the AI assistant. Each message costs 500 tokens. Please purchase more tokens or upgrade your plan.":"Voc no tem tokens suficientes para usar o assistente de IA. Cada mensagem custa 500 tokens. Por favor, compre mais tokens ou atualize seu plano."}]),l(""),$(!1),W("");return}const ae=D.toLowerCase().includes("create a robot")||D.toLowerCase().includes("criar um rob")||D.toLowerCase().includes("fazer um rob")||D.toLowerCase().includes("build a robot")||D.toLowerCase().includes("create a new version")||D.toLowerCase().includes("criar uma nova verso"),Ye=D.toLowerCase().includes("optimize")||D.toLowerCase().includes("otimizar")||D.toLowerCase().includes("improve")||D.toLowerCase().includes("melhorar"),rn=D.toLowerCase().includes("fix")||D.toLowerCase().includes("corrigir")||D.toLowerCase().includes("consertar")||D.toLowerCase().includes("arrumar")||D.toLowerCase().includes("no funciona")||D.toLowerCase().includes("not working");ae?_("create"):Ye?_("optimize"):rn&&me(!0);const nr=D;L(nr),l(""),i(xr=>[...xr,{role:"user",content:nr}]),u(!0),$(!1),W(""),I(!1),te("idle"),T(null);try{const xr=d||"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",Ls=void 0;if(!xr||!Ls)throw new Error("Missing API key or Assistant ID");let os="";Ye&&k?os=`${nr}

CURRENT CODE TO OPTIMIZE:
\`\`\`ntsl
${k}
\`\`\`

${E?`Current description: ${E}`:""}
${O&&O.length>0?`Current tags: ${O.join(", ")}`:""}

IMPORTANT: Please respond with ONLY the optimized NTSL code inside a code block. Do not include explanations, descriptions, or any other text. Format your response exactly like this:

\`\`\`ntsl
[YOUR OPTIMIZED CODE HERE]
\`\`\``:rn&&k?os=`${nr}

CODE TO FIX:
\`\`\`ntsl
${k}
\`\`\`

${E?`Current description: ${E}`:""}
${O&&O.length>0?`Current tags: ${O.join(", ")}`:""}

IMPORTANT: Please respond with ONLY the corrected NTSL code inside a code block. Do not include explanations, descriptions, or any other text. Format your response exactly like this:

\`\`\`ntsl
[YOUR FIXED CODE HERE]
\`\`\``:os=`${nr}

IMPORTANT: Please respond with ONLY the NTSL code inside a code block. Do not include explanations, descriptions, or any other text. Format your response exactly like this:

\`\`\`ntsl
[YOUR CODE HERE]
\`\`\``;const Da=await Vr.beta.threads.create();await Vr.beta.threads.messages.create(Da.id,{role:"user",content:os});const Ti=await Vr.beta.threads.runs.create(Da.id,{assistant_id:Ls});let Oi;for(;;){const yr=await Vr.beta.threads.runs.retrieve(Da.id,Ti.id);if(yr.status==="completed"){Oi=(await Vr.beta.threads.messages.list(Da.id)).data[0].content[0];break}else if(yr.status==="failed")throw new Error("Assistant failed to process the request");await new Promise(sr=>setTimeout(sr,1e3))}if(!Oi)throw new Error("No response from assistant");const ml=Oi.text.value;console.log("=== RESPOSTA COMPLETA DA IA ==="),console.log(ml),console.log("=== FIM DA RESPOSTA ===");let Mr="";const rp=/```(?:ntsl)?\s*\n([\s\S]*?)```/,pl=ml.match(rp);if(pl&&pl[1])Mr=pl[1].trim(),console.log(" Cdigo extrado de bloco markdown");else{const sr=ml.split(`
`).filter(gl=>{const ar=gl.trim();return ar?ar.includes("input:")||ar.includes("var:")||ar.includes("begin")||ar.includes("end;")||ar.includes("buyatmarket")||ar.includes("sellshortatmarket")||ar.includes("plot")||ar.includes("if ")||ar.includes("then")||ar.includes("else")||/^[a-zA-Z_][a-zA-Z0-9_]*\s*:/.test(ar)||/^[a-zA-Z_][a-zA-Z0-9_]*\s*=/.test(ar):!1});sr.length>0&&(Mr=sr.join(`
`).trim(),console.log(" Cdigo extrado por filtro de linhas"))}if(console.log("=== CDIGO EXTRADO ==="),console.log("Tamanho:",Mr.length),console.log("Primeiros 200 chars:",Mr.substring(0,200)),!(Mr.length>10&&(Mr.includes("input:")||Mr.includes("var:")||Mr.includes("begin")||Mr.includes("end;"))))throw new Error("Cdigo NTSL vlido no foi encontrado na resposta da IA");const Tu=`${N==="create"?"Nova verso criada":fe?"Cdigo corrigido":"Verso otimizada"} com IA - ${nr.substring(0,100)}`,Ou=[N==="create"?"nova-versao":fe?"correcao":"otimizacao","ia-gerada"];if(console.log("Aplicando cdigo ao editor..."),e(Mr,Tu,Ou),t)try{te("creating"),console.log("=== CRIANDO NOVA VERSO ===");const yr=new Date().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).replace(/[/:]/g,"-").replace(/,/g,""),sr=`Verso ${w.length+1}-${yr}`;console.log("Nome da verso:",sr),await b(t,sr,Mr,Tu,Ou),P(sr),te("success"),i(gl=>[...gl,{role:"assistant",content:x==="en"?` Code generated and applied successfully! Version "${sr}" created.`:` Cdigo gerado e aplicado com sucesso! Verso "${sr}" criada.`}]),console.log(" Verso criada com sucesso!")}catch(yr){console.error(" Erro ao criar verso:",yr),te("error"),T(yr.message),i(sr=>[...sr,{role:"assistant",content:x==="en"?` Code applied to editor, but failed to save version: ${yr.message}`:` Cdigo aplicado ao editor, mas falhou ao salvar verso: ${yr.message}`}])}else i(yr=>[...yr,{role:"assistant",content:x==="en"?" Code generated and applied to editor successfully.":" Cdigo gerado e aplicado ao editor com sucesso."}]);I(!0),me(!1),await y(-500)}catch(xr){console.error("=== ERRO NA FUNO PRINCIPAL ==="),console.error(xr);const Ls=xr instanceof Error?xr.message:String(xr);i(os=>[...os,{role:"assistant",content:` ${x==="en"?"Error":"Erro"}: ${Ls}`}]),te("error"),T(Ls)}finally{u(!1)}},hl=()=>{$(!1),W("")},Ai=Y=>{B.timeframes.includes(Y)?ie({...B,timeframes:B.timeframes.filter(ae=>ae!==Y)}):ie({...B,timeframes:[...B.timeframes,Y]})},Au=Y=>{B.assets.includes(Y)?ie({...B,assets:B.assets.filter(ae=>ae!==Y)}):ie({...B,assets:[...B.assets,Y]})},is=Y=>{let ae="";if(N==="create")switch(Y){case"trend-following":ae="Criar nova verso utilizando estratgia seguidor de tendncia com mdias mveis e indicadores de momentum para identificar a direo do mercado e entrar em operaes na direo da tendncia.";break;case"mean-reversion":ae="Criar nova verso utilizando estratgia de reverso  mdia que opere quando o preo se afasta muito da mdia, utilizando bandas de bollinger e RSI para identificar pontos de entrada e sada.";break;case"breakout":ae="Criar nova verso utilizando estratgia de rompimento que identifique suportes e resistncias e opere quando o preo rompe esses nveis com volume significativo.";break;case"scalping":ae="Criar nova verso utilizando estratgia de scalping para operaes rpidas com pequenos ganhos, utilizando indicadores de curto prazo e gerenciamento de risco rigoroso.";break;default:ae="Criar nova verso "}else switch(Y){case"quick-optimization":ae="Otimize o cdigo atual para melhorar a performance e legibilidade, mantendo a mesma estratgia.";break;case"add-trailing":ae="Adicione um trailing stop ao cdigo atual para proteger lucros quando o preo se mover a favor.";break;case"add-breakeven":ae="Implemente um mecanismo de breakeven que move o stop loss para o ponto de entrada aps o preo atingir um determinado lucro.";break;case"financial-stop":ae="Modifique o cdigo para usar stop loss baseado em valor financeiro ao invs de pontos/ticks.";break;default:ae="Otimize o cdigo atual "}ie({...B,additionalDetails:ae})},$a=Y=>{if(s[Y].role!=="assistant"||Y!==s.length-1)return null;const ae=((m==null?void 0:m.token_balance)||0)>=500,Ye=C||(w.length>0?w[0].version_name:"");return a.jsxs("div",{className:"mt-4 flex flex-col space-y-2",children:[ge&&a.jsx("div",{className:"flex items-center justify-center mb-2 bg-green-600 bg-opacity-20 py-2 px-3 rounded-md",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-5 h-5 mr-2 rounded-md border-2 border-green-500 flex items-center justify-center bg-green-500",children:a.jsx(at,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"text-green-400 text-sm font-medium",children:x==="en"?"Task completed":"Tarefa concluda"})]})}),R==="creating"&&a.jsx("div",{className:"flex items-center justify-center mb-2 bg-blue-600 bg-opacity-20 py-2 px-3 rounded-md",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-5 h-5 mr-2 rounded-md flex items-center justify-center",children:a.jsx(Cg,{className:"w-4 h-4 text-blue-400 animate-spin"})}),a.jsx("span",{className:"text-blue-400 text-sm font-medium",children:x==="en"?"Creating version...":"Criando verso..."})]})}),R==="success"&&a.jsx("div",{className:"flex items-center justify-center mb-2 bg-green-600 bg-opacity-20 py-2 px-3 rounded-md",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-5 h-5 mr-2 rounded-md border-2 border-green-500 flex items-center justify-center bg-green-500",children:a.jsx(at,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"text-green-400 text-sm font-medium",children:x==="en"?"Version created successfully":"Verso criada com sucesso"})]})}),R==="error"&&a.jsx("div",{className:"flex items-center justify-center mb-2 bg-red-600 bg-opacity-20 py-2 px-3 rounded-md",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-5 h-5 mr-2 rounded-md border-2 border-red-500 flex items-center justify-center bg-red-500",children:a.jsx(Ie,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"text-red-400 text-sm font-medium",children:x==="en"?`Error: ${ue}`:`Erro: ${ue}`})]})}),a.jsxs("button",{onClick:lt,disabled:!ae,className:`w-full py-2 px-4 rounded-md flex items-center justify-center space-x-2 ${ae?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(In,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:x==="en"?"Create New Version with AI":"Criar Nova Verso com IA"})]}),a.jsxs("button",{onClick:Ge,disabled:!ae||!t,className:`w-full py-2 px-4 rounded-md flex items-center justify-center space-x-2 ${ae&&t?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(Sf,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:x==="en"?`Optimize ${r?`"${r}"`:"This Robot"} ${Ye?`(${Ye})`:""}`:`Otimizar ${r?`"${r}"`:"Este Rob"} ${Ye?`(${Ye})`:""}`})]}),k&&a.jsxs("button",{onClick:Ra,disabled:!ae,className:`w-full py-2 px-4 rounded-md flex items-center justify-center space-x-2 ${ae?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(jt,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:x==="en"?"Fix Non-Functional Code":"Corrigir Cdigo No Funcional"})]}),!ae&&a.jsxs("div",{className:"text-xs text-yellow-500 text-center mt-1 flex items-center justify-center",children:[a.jsx(Bd,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:x==="en"?"Not enough tokens (500 required)":"Tokens insuficientes (500 necessrios)"})]})]})};return a.jsxs("div",{className:"flex flex-col h-full bg-gray-900",children:[a.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Do,{className:"w-5 h-5 text-blue-500 mr-2"}),a.jsx("h3",{className:"font-medium",children:v("ai.title")})]}),a.jsx(dc,{})]}),a.jsxs("div",{ref:p,className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"calc(100vh - 280px)"},children:[s.length===0?a.jsxs("div",{className:"text-center text-gray-400 py-8",children:[a.jsx("p",{className:"mb-2",children:x==="en"?"Hi! I'm your AI trading assistant.":"Ol! Sou seu assistente de trading com IA."}),a.jsx("p",{className:"text-sm",children:x==="en"?"Try asking me to:":"Tente me pedir para:"}),a.jsxs("ul",{className:"mt-4 space-y-2 text-sm",children:[a.jsx("li",{children:x==="en"?"Create a trading bot that uses RSI for trend following":"Criar nova verso utilizando RSI para seguir tendncias"}),a.jsx("li",{children:x==="en"?"Generate a mean reversion strategy with Bollinger Bands":"Criar nova verso com estratgia de reverso  mdia com Bandas de Bollinger"}),a.jsx("li",{children:x==="en"?"Build a breakout trading system with proper risk management":"Criar nova verso com sistema de trading de rompimento com gerenciamento de risco adequado"})]}),a.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 max-w-sm mx-auto",children:[a.jsxs("button",{onClick:lt,disabled:((m==null?void 0:m.token_balance)||0)<500,className:`w-full py-3 px-4 rounded-md flex items-center justify-center space-x-2 ${((m==null?void 0:m.token_balance)||0)>=500?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(In,{className:"w-5 h-5 mr-1"}),a.jsx("span",{className:"font-medium",children:x==="en"?"Create New Version with AI":"Criar Nova Verso com IA"})]}),t&&a.jsxs("button",{onClick:Ge,disabled:((m==null?void 0:m.token_balance)||0)<500,className:`w-full py-3 px-4 rounded-md flex items-center justify-center space-x-2 ${((m==null?void 0:m.token_balance)||0)>=500?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(Sf,{className:"w-5 h-5 mr-1"}),a.jsx("span",{className:"font-medium",children:x==="en"?`Optimize ${r?`"${r}"`:"This Robot"} ${C?`(${C})`:""}`:`Otimizar ${r?`"${r}"`:"Este Rob"} ${C?`(${C})`:""}`})]}),k&&a.jsxs("button",{onClick:Ra,disabled:((m==null?void 0:m.token_balance)||0)<500,className:`w-full py-3 px-4 rounded-md flex items-center justify-center space-x-2 ${((m==null?void 0:m.token_balance)||0)>=500?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(jt,{className:"w-5 h-5 mr-1"}),a.jsx("span",{className:"font-medium",children:x==="en"?"Fix Non-Functional Code":"Corrigir Cdigo No Funcional"})]}),((m==null?void 0:m.token_balance)||0)<500&&a.jsxs("div",{className:"text-xs text-yellow-500 text-center mt-1 flex items-center justify-center",children:[a.jsx(Bd,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:x==="en"?"Not enough tokens (500 required)":"Tokens insuficientes (500 necessrios)"})]})]})]}):s.map((Y,ae)=>a.jsx("div",{className:`flex ${Y.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${Y.role==="user"?"bg-blue-600 text-white":"bg-gray-800 text-gray-100"}`,children:[a.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:Y.content}),Y.role==="assistant"&&$a(ae)]})},ae)),a.jsx("div",{ref:h})]}),se&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full p-6 shadow-xl",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Mt,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:N==="create"?"Detalhes para Criao do Rob":"Detalhes para Otimizao do Rob"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Estratgias Prontas"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:N==="create"?kt.map(Y=>a.jsxs("button",{type:"button",onClick:()=>is(Y.id),className:"flex items-center p-3 bg-gray-700 hover:bg-gray-600 rounded-md text-left",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-2 mr-3",children:Y.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:Y.name}),a.jsx("p",{className:"text-xs text-gray-400",children:Y.description})]})]},Y.id)):Or.map(Y=>a.jsxs("button",{type:"button",onClick:()=>is(Y.id),className:"flex items-center p-3 bg-gray-700 hover:bg-gray-600 rounded-md text-left",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-2 mr-3",children:Y.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:Y.name}),a.jsx("p",{className:"text-xs text-gray-400",children:Y.description})]})]},Y.id))})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Estratgia"}),a.jsxs("select",{value:B.strategy,onChange:Y=>ie({...B,strategy:Y.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Selecione uma estratgia"}),ee.map(Y=>a.jsx("option",{value:Y,children:Y},Y))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Perodos (Timeframes)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:z.map(Y=>a.jsx("button",{type:"button",onClick:()=>Ai(Y.id),className:`px-3 py-1.5 rounded-md text-sm ${B.timeframes.includes(Y.id)?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:Y.name},Y.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ativos"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:ve.map(Y=>a.jsx("button",{type:"button",onClick:()=>Au(Y),className:`px-3 py-1.5 rounded-md text-sm ${B.assets.includes(Y)?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:Y},Y))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nvel de Risco"}),a.jsx("div",{className:"flex gap-3",children:ne.map(Y=>a.jsx("button",{type:"button",onClick:()=>ie({...B,riskLevel:Y}),className:`px-3 py-1.5 rounded-md text-sm flex-1 ${B.riskLevel===Y?"bg-yellow-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:Y},Y))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Detalhes Adicionais"}),a.jsx("textarea",{value:B.additionalDetails,onChange:Y=>ie({...B,additionalDetails:Y.target.value}),placeholder:"Descreva detalhes especficos para seu rob...",rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-md",children:"Cancelar"}),a.jsx("button",{onClick:Is,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md",children:"Gerar Rob"})]})]})}),Se&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full p-6 shadow-xl",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(jt,{className:"w-12 h-12 text-yellow-500"})}),a.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:"Corrigir Cdigo No Funcional"}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Descrio do Problema"}),a.jsx("textarea",{value:A,onChange:Y=>q(Y.target.value),placeholder:"Descreva o problema com o cdigo atual (erros, comportamento inesperado, etc.)",rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Cdigo Atual"}),a.jsx("div",{className:"bg-gray-900 p-3 rounded-lg max-h-48 overflow-y-auto",children:a.jsx("pre",{className:"text-xs text-gray-300 whitespace-pre-wrap",children:k})})]})]}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx("button",{onClick:()=>Te(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-md",children:"Cancelar"}),a.jsxs("button",{onClick:Eu,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-md flex items-center",children:[a.jsx(jt,{className:"w-4 h-4 mr-2"}),"Corrigir Cdigo"]})]})]})}),H&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 shadow-xl",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Do,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:x==="en"?"Send Message to AI Assistant?":"Enviar Mensagem para o Assistente de IA?"}),a.jsx("p",{className:"mt-2 text-gray-400 text-center mb-4",children:x==="en"?"This will use 500 tokens from your balance.":"Isso usar 500 tokens do seu saldo."}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsxs("button",{onClick:tp,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md flex items-center",children:[a.jsx(Eg,{className:"w-4 h-4 mr-2"}),x==="en"?"Send":"Enviar"]}),a.jsxs("button",{onClick:hl,className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-2 rounded-md flex items-center",children:[a.jsx(Ie,{className:"w-4 h-4 mr-2"}),x==="en"?"Cancel":"Cancelar"]})]})]})}),a.jsx("div",{className:"p-4 border-t border-gray-800",children:a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("textarea",{name:"chatInput",value:o,onChange:Y=>l(Y.target.value),placeholder:x==="en"?"Type your message...":"Digite sua mensagem...",className:"w-full bg-gray-800 text-white rounded-md px-4 py-3 min-h-[80px] max-h-[150px] resize-y",disabled:c,rows:3}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-xs text-gray-400",children:x==="en"?"Each message costs 500 tokens":"Cada mensagem custa 500 tokens"}),a.jsx("button",{type:"submit",onClick:Bn,disabled:c||!o.trim(),className:`px-4 py-2 rounded-md flex items-center ${c||!o.trim()?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:c?a.jsx(Cg,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(Eg,{className:"w-5 h-5 mr-2"}),x==="en"?"Send":"Enviar"]})})]})]})})]})}function TL({onClose:e}){const[t,r]=g.useState(!0),[n,s]=g.useState(0),[i,o]=g.useState(!1);g.useEffect(()=>{localStorage.getItem("assistantDismissed")==="true"?(o(!0),r(!1)):r(!0)},[]);const l=()=>{r(!1),e&&e()},c=()=>{r(!1),o(!0),localStorage.setItem("assistantDismissed","true"),e&&e()},u=[{title:"Bem-vindo ao DevHub Trader!",content:"Crie e gerencie seus robs de trading com facilidade. Vamos conhecer as principais funcionalidades da plataforma.",icon:a.jsx(Ja,{className:"w-8 h-8 text-blue-500"})},{title:"Crie seu rob sozinho ou com amigos",content:"Desenvolva robs de trading individualmente ou colabore em tempo real com outros usurios. Compartilhe seus projetos facilmente.",icon:a.jsx(Fn,{className:"w-8 h-8 text-green-500"})},{title:"Use a IA ou programe no editor",content:"Utilize nosso assistente de IA para criar estratgias automaticamente ou programe diretamente no editor avanado com suporte a NTSL.",icon:a.jsx(jt,{className:"w-8 h-8 text-purple-500"})},{title:"Faa reload de tokens e crie robs no automtico",content:"Recarregue tokens para utilizar recursos de IA e crie robs automaticamente com base em suas necessidades de trading.",icon:a.jsx(Re,{className:"w-8 h-8 text-yellow-500"})}];return i?a.jsx("button",{onClick:()=>{o(!1),r(!0),localStorage.removeItem("assistantDismissed")},className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg z-50 flex items-center justify-center","aria-label":"Open assistant",children:a.jsx(zd,{className:"w-6 h-6"})}):t?a.jsx("div",{className:"fixed bottom-6 right-6 z-50 max-w-sm w-full",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl border border-gray-700 overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-900 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Do,{className:"w-5 h-5 text-blue-500 mr-2"}),a.jsx("h3",{className:"font-medium text-white",children:"Assistente da Plataforma"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white","aria-label":"Dismiss assistant",title:"No mostrar novamente",children:a.jsx(Ie,{className:"w-5 h-5"})}),a.jsx("button",{onClick:l,className:"text-gray-400 hover:text-white","aria-label":"Minimize assistant",title:"Minimizar",children:a.jsx(zd,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:u[n].icon}),a.jsx("h4",{className:"text-lg font-semibold text-center mb-3",children:u[n].title}),a.jsx("p",{className:"text-gray-300 text-center mb-6",children:u[n].content}),a.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:u.map((d,f)=>a.jsx("button",{onClick:()=>s(f),className:`w-2 h-2 rounded-full ${n===f?"bg-blue-500":"bg-gray-600"}`,"aria-label":`Go to step ${f+1}`},f))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:()=>s(d=>Math.max(0,d-1)),disabled:n===0,className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),n<u.length-1?a.jsx("button",{onClick:()=>s(d=>Math.min(u.length-1,d+1)),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 rounded text-sm",children:"Prximo"}):a.jsx("button",{onClick:l,className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 rounded text-sm",children:"Entendi!"})]})]})]})}):a.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg z-50 flex items-center justify-center","aria-label":"Open assistant",children:a.jsx(zd,{className:"w-6 h-6"})})}function ss(){const e=Nt(),t=Mh(),[r,n]=g.useState(!1),[s,i]=g.useState(!1),{signOut:o,profile:l}=Rt(),{t:c}=Ms(),u=["pedropardal04@gmail.com","profitestrategista@gmail.com"],d=(l==null?void 0:l.email)&&u.includes(l.email),f=m=>t.pathname===m,h=(m,y)=>{y.preventDefault(),window.open(m,"_blank")},p=[{path:"/robots",label:c("nav.robots"),icon:a.jsx(jt,{className:"w-5 h-5"}),external:!1},{path:"https://profitestrategista.com.br/login",label:c("nav.community"),icon:a.jsx(Fn,{className:"w-5 h-5"}),external:!0},{path:"/experts",label:c("nav.experts"),icon:a.jsx(Dy,{className:"w-5 h-5"}),external:!1},{path:"https://profitestrategista.com.br/mesa-proprietaria",label:"Mesa Proprietria",icon:a.jsx(tS,{className:"w-5 h-5"}),external:!0},{path:"/backtest-analysis",label:"Backtest Analysis",icon:a.jsx(zD,{className:"w-5 h-5"}),external:!1}];return a.jsxs("nav",{className:"bg-gray-900 border-b border-gray-800",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"flex-shrink-0 flex items-center cursor-pointer",onClick:()=>e("/"),children:[a.jsx(jt,{className:"h-8 w-8 text-blue-500"}),a.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"DevHub Trader"})]}),a.jsx("div",{className:"hidden md:block ml-10",children:a.jsx("div",{className:"flex items-center space-x-4",children:p.map(m=>a.jsxs("button",{onClick:y=>{m.external?h(m.path,y):(e(m.path),n(!1))},className:`px-3 py-2 rounded-md text-sm font-medium flex items-center space-x-2 ${f(m.path)&&!m.external?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[m.icon,a.jsx("span",{children:m.label}),m.external&&a.jsx(hs,{className:"w-3 h-3 ml-1"})]},m.path))})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"hidden md:flex",children:a.jsx(dc,{})}),a.jsx("div",{className:"hidden md:flex",children:a.jsx(Ag,{})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>i(!s),className:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-700 text-white px-3 py-2 rounded-md",children:a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden",children:l!=null&&l.avatar_url?a.jsx("img",{src:l.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx(es,{className:"w-4 h-4 text-gray-400"})})}),s&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-50",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:(l==null?void 0:l.name)||"User"}),a.jsx("p",{className:"text-xs text-gray-400 truncate",children:l==null?void 0:l.email}),a.jsxs("div",{className:"mt-1 flex items-center",children:[a.jsx(dc,{showLabel:!1}),a.jsx("span",{className:"ml-1 text-xs text-gray-400",children:"tokens"})]})]}),a.jsxs("button",{onClick:()=>{e("/profile"),i(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[a.jsx(es,{className:"w-4 h-4 mr-2"}),c("nav.profile")]}),a.jsxs("button",{onClick:()=>{e("/subscription"),i(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[a.jsx(Zn,{className:"w-4 h-4 mr-2"}),c("nav.subscription")]}),d&&a.jsxs("button",{onClick:()=>{e("/admin"),i(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[a.jsx(Ly,{className:"w-4 h-4 mr-2"}),"Admin Panel"]}),a.jsxs("button",{onClick:()=>o(),className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[a.jsx(XD,{className:"w-4 h-4 mr-2"}),c("nav.signOut")]})]})]}),a.jsx("div",{className:"md:hidden",children:a.jsx("button",{onClick:()=>n(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none",children:r?a.jsx(Ie,{className:"block h-6 w-6"}):a.jsx(ZD,{className:"block h-6 w-6"})})})]})]})}),r&&a.jsx("div",{className:"md:hidden",children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[p.map(m=>a.jsxs("button",{onClick:y=>{m.external?h(m.path,y):(e(m.path),n(!1))},className:`w-full text-left px-3 py-2 rounded-md text-base font-medium flex items-center space-x-3 ${f(m.path)&&!m.external?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[m.icon,a.jsx("span",{children:m.label}),m.external&&a.jsx(hs,{className:"w-3 h-3 ml-1"})]},m.path)),a.jsxs("button",{onClick:m=>h("https://profitestrategista.com.br/robots",m),className:"w-full text-left px-3 py-2 rounded-md text-base font-medium flex items-center space-x-3 bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(r6,{className:"w-5 h-5"}),a.jsx("span",{children:"Opcionais"}),a.jsx(hs,{className:"w-3 h-3 ml-1"})]}),a.jsx("div",{className:"pt-4 pb-3 border-t border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between px-3",children:[a.jsx(dc,{}),a.jsx(Ag,{})]})})]})})]})}function OL({robotId:e,versionId:t,versionName:r,description:n,tags:s,createdAt:i,createdBy:o,onUpdate:l}){const[c,u]=g.useState(!1),[d,f]=g.useState(n),[h,p]=g.useState(s),[m,y]=g.useState(!1),[v,x]=g.useState(!1),[b,w]=g.useState(!1),[j,N]=g.useState(""),[_,k]=g.useState(""),[S,C]=g.useState(""),[P,E]=g.useState(!1),[M,O]=g.useState(!1),[F,A]=g.useState(!1),q=["trailing","sem-trailing","tendencia","reversao","medias-moveis","rompimento","volatilidade-alta","volatilidade-baixa","correlacao","alvo-longo","alvo-curto","hft","scalping","intraday","swing"],H=[{id:"M1",name:"1 minuto"},{id:"M5",name:"5 minutos"},{id:"M15",name:"15 minutos"},{id:"M30",name:"30 minutos"},{id:"H1",name:"1 hora"},{id:"H4",name:"4 horas"},{id:"D1",name:"1 dia"},{id:"W1",name:"1 semana"}],$=["WINFUT","WDOFUT","PETR4","VALE3","ITUB4","BBDC4","ABEV3","MGLU3","BOVA11"];g.useEffect(()=>{f(n),p(s)},[n,s]);const D=T=>{if(!T)return"";const fe=new Date(T);return new Intl.DateTimeFormat("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(fe)},W=()=>h.filter(T=>T.startsWith("tf-")).map(T=>{const fe=T.replace("tf-","").toUpperCase(),me=H.find(Se=>Se.id===fe);return{id:fe,name:me?me.name:fe}}),V=()=>h.filter(T=>T.startsWith("ativo-")).map(T=>T.replace("ativo-","").toUpperCase()),L=()=>h.filter(T=>!T.startsWith("tf-")&&!T.startsWith("ativo-")),se=async()=>{x(!0);try{await l({description:d,tags:h}),u(!1)}catch(T){console.error("Error updating robot info:",T)}finally{x(!1)}},K=()=>{f(n),p(s),u(!1)},B=T=>{h.includes(T)?p(h.filter(fe=>fe!==T)):p([...h,T])},ie=T=>{const fe=`tf-${T.toLowerCase()}`;h.includes(fe)?p(h.filter(me=>me!==fe)):p([...h,fe])},ge=T=>{const fe=`ativo-${T.toLowerCase()}`;h.includes(fe)?p(h.filter(me=>me!==fe)):p([...h,fe])},I=()=>{j.trim()&&!h.includes(j.trim())&&(p([...h,j.trim()]),N(""),E(!1))},R=()=>{if(_.trim()){const T=`tf-${_.trim().toLowerCase()}`;h.includes(T)||(p([...h,T]),k(""),O(!1))}},te=()=>{if(S.trim()){const T=`ativo-${S.trim().toLowerCase()}`;h.includes(T)||(p([...h,T]),C(""),A(!1))}},ue=async()=>{try{const T=`Informaes da Verso

Nome: ${r}
Criada em: ${D(i)}
Criada por: ${o?"Usurio":"IA"}
Descrio completa: ${n}
Tags: ${s.join(", ")}
`;await navigator.clipboard.writeText(T),w(!0),setTimeout(()=>{w(!1)},2e3);const fe=document.createElement("div");fe.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",fe.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Informaes da verso copiadas para a rea de transferncia!
      `,document.body.appendChild(fe),setTimeout(()=>{document.body.removeChild(fe)},3e3)}catch(T){console.error("Failed to copy version info:",T),alert("Falha ao copiar informaes da verso")}};return a.jsxs("div",{className:"bg-gray-800 px-4 py-2 border-b border-gray-700 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(iS,{className:"w-4 h-4 text-blue-400 mr-2"}),a.jsx("h3",{className:"font-medium text-white",children:"Informaes da Verso"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:c?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:K,className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Cancelar edio",children:a.jsx(Ie,{className:"w-4 h-4"})}),a.jsx("button",{onClick:se,className:"p-1 hover:bg-gray-700 rounded text-blue-400 hover:text-blue-300",title:"Salvar alteraes",disabled:v,children:v?a.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}):a.jsx(kf,{className:"w-4 h-4"})})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>u(!0),className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Editar informaes",children:a.jsx(_f,{className:"w-4 h-4"})}),a.jsx("button",{onClick:ue,className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Copiar informaes",children:b?a.jsx(at,{className:"w-4 h-4 text-green-500"}):a.jsx(LD,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>y(!m),className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:m?"Recolher painel":"Expandir painel",children:m?a.jsx(ut,{className:"w-4 h-4"}):a.jsx(Ze,{className:"w-4 h-4"})})]})})]}),a.jsx("div",{className:"mt-2 p-3 bg-gray-700 rounded-md",children:c?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Descrio"}),a.jsx("textarea",{value:d,onChange:T=>f(T.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-md px-3 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva esta verso do rob..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Perodos (Timeframes)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:H.map(T=>a.jsxs("button",{type:"button",onClick:()=>ie(T.id),className:`px-2 py-1 rounded-md text-xs flex items-center ${h.includes(`tf-${T.id.toLowerCase()}`)?"bg-purple-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx(hn,{className:"w-3 h-3 mr-1"}),T.name]},T.id))}),M?a.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[a.jsx("input",{type:"text",value:_,onChange:T=>k(T.target.value),placeholder:"Perodo personalizado",className:"flex-1 bg-gray-800 border border-gray-600 rounded-l-md px-3 py-1.5 text-white text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:R,disabled:!_.trim(),className:"bg-purple-600 hover:bg-purple-700 text-white px-2 py-1.5 rounded-r-md text-xs disabled:opacity-50",children:"Adicionar"}),a.jsx("button",{type:"button",onClick:()=>O(!1),className:"bg-gray-800 hover:bg-gray-600 text-white px-2 py-1.5 rounded-md text-xs",children:"Cancelar"})]}):a.jsxs("button",{type:"button",onClick:()=>O(!0),className:"text-purple-400 hover:text-purple-300 text-xs flex items-center mb-2",children:[a.jsx(In,{className:"w-3 h-3 mr-1"}),"Adicionar Perodo Personalizado"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Ativos"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:$.map(T=>a.jsxs("button",{type:"button",onClick:()=>ge(T),className:`px-2 py-1 rounded-md text-xs flex items-center ${h.includes(`ativo-${T.toLowerCase()}`)?"bg-green-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx(xn,{className:"w-3 h-3 mr-1"}),T]},T))}),F?a.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[a.jsx("input",{type:"text",value:S,onChange:T=>C(T.target.value),placeholder:"Ativo personalizado",className:"flex-1 bg-gray-800 border border-gray-600 rounded-l-md px-3 py-1.5 text-white text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:te,disabled:!S.trim(),className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1.5 rounded-r-md text-xs disabled:opacity-50",children:"Adicionar"}),a.jsx("button",{type:"button",onClick:()=>A(!1),className:"bg-gray-800 hover:bg-gray-600 text-white px-2 py-1.5 rounded-md text-xs",children:"Cancelar"})]}):a.jsxs("button",{type:"button",onClick:()=>A(!0),className:"text-green-400 hover:text-green-300 text-xs flex items-center mb-2",children:[a.jsx(In,{className:"w-3 h-3 mr-1"}),"Adicionar Ativo Personalizado"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:q.map(T=>a.jsx("button",{type:"button",onClick:()=>B(T),className:`px-2 py-1 rounded-md text-xs ${h.includes(T)?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-600"}`,children:T},T))}),P?a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{type:"text",value:j,onChange:T=>N(T.target.value),placeholder:"Tag personalizada",className:"flex-1 bg-gray-800 border border-gray-600 rounded-l-md px-3 py-1.5 text-white text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:I,disabled:!j.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1.5 rounded-r-md text-xs disabled:opacity-50",children:"Adicionar"}),a.jsx("button",{type:"button",onClick:()=>E(!1),className:"bg-gray-800 hover:bg-gray-600 text-white px-2 py-1.5 rounded-md text-xs",children:"Cancelar"})]}):a.jsxs("button",{type:"button",onClick:()=>E(!0),className:"text-blue-400 hover:text-blue-300 text-xs flex items-center",children:[a.jsx(In,{className:"w-3 h-3 mr-1"}),"Adicionar Tag Personalizada"]})]})]}):a.jsxs("div",{className:`space-y-2 ${m?"":"max-h-32 overflow-hidden"}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Criada em:"}),a.jsx("p",{className:"text-sm",children:D(i)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Criada por:"}),a.jsx("p",{className:"text-sm",children:o?"Usurio":"IA"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Descrio:"}),a.jsx("p",{className:"text-sm whitespace-pre-line",children:n})]}),W().length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Perodos:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:W().map(T=>a.jsxs("span",{className:"px-2 py-0.5 text-xs bg-purple-900 text-purple-300 rounded flex items-center",children:[a.jsx(hn,{className:"w-3 h-3 mr-1"}),T.name]},T.id))})]}),V().length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Ativos:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:V().map(T=>a.jsxs("span",{className:"px-2 py-0.5 text-xs bg-green-900 text-green-300 rounded flex items-center",children:[a.jsx(xn,{className:"w-3 h-3 mr-1"}),T]},T))})]}),L().length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Tags:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:L().map(T=>a.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-900 text-blue-300 rounded",children:T},T))})]})]})})]})}function ML({robotId:e,robotName:t}){g.useState(!1);const[r,n]=g.useState(null),[s,i]=g.useState(null),[o,l]=g.useState(!0),[c,u]=g.useState(!0),[d,f]=g.useState(!0);Rt();const{versions:h,loadVersions:p}=du(),[m,y]=g.useState(!1);g.useEffect(()=>{e&&p(e)},[e,p]);const v=async()=>{y(!0),n(null);try{if(!h.length)throw new Error("Nenhuma verso encontrada para este rob");const _=h[0].code,k=`
Analise o seguinte cdigo de rob de trading chamado "${t}" e fornea uma anlise tcnica detalhada com base na estratgia implementada.

Cdigo do rob:
\`\`\`
${_}
\`\`\`

Fornea as seguintes mtricas em formato de texto:
- Profit Factor (estimativa)
- Win Rate (estimativa em %)
- Payoff (estimativa)
- Max Drawdown (estimativa em %)
- Sharpe Ratio (estimativa)
- Total Trades (estimativa)
- Average Trade (estimativa)
- Expectancy (estimativa)
- Recovery Factor (estimativa)
- Max Consecutive Losses (estimativa)
- Time in Market (estimativa em %)
- Profitability (estimativa em %)
- Volatility (estimativa em %)
- Best Timeframe
- Best Assets (2-3 ativos)
- Best Market Conditions (2-4 condies)
- Worst Market Conditions (2-4 condies)
- Risk Level (Baixo, Mdio ou Alto)

Baseie suas estimativas na anlise do cdigo, considerando os indicadores utilizados, regras de entrada e sada, gerenciamento de risco e outras caractersticas da estratgia.

Fornea uma anlise estruturada com sees claras para cada mtrica.
`,C=(await Vr.chat.completions.create({model:"gpt-4",messages:[{role:"assistant",content:"Voc  um especialista em anlise de robs de trading. Sua tarefa  analisar o cdigo do rob e fornecer mtricas tcnicas estimadas com base na estratgia implementada."},{role:"user",content:k}],temperature:.7})).choices[0].message.content;if(!C)throw new Error("Resposta vazia da API");try{const P=x(C);i(P)}catch(P){throw console.error("Error parsing response:",P),new Error("Erro ao processar a resposta da anlise")}}catch(N){console.error("Error generating technical info:",N),n(N instanceof Error?N.message:"Erro ao gerar informaes tcnicas")}finally{y(!1)}};function x(N){console.log("Extracting metrics from text:",N);const _={profitFactor:0,winRate:0,payoff:0,maxDrawdown:0,sharpeRatio:0,totalTrades:0,averageTrade:0,expectancy:0,recoveryFactor:0,maxConsecutiveLosses:0,timeInMarket:0,profitability:0,volatility:0,bestTimeframe:"",bestAssets:[],bestMarketConditions:[],worstMarketConditions:[],riskLevel:"Mdio"},k=N.match(/profit\s*factor\s*:?\s*([\d\.\-]+)/i);k&&(_.profitFactor=parseFloat(k[1]));const S=N.match(/win\s*rate\s*:?\s*([\d\.\-]+)%?/i);S&&(_.winRate=parseFloat(S[1]));const C=N.match(/payoff\s*:?\s*([\d\.\-]+)/i);C&&(_.payoff=parseFloat(C[1]));const P=N.match(/max\s*drawdown\s*:?\s*([\d\.\-]+)%?/i);P&&(_.maxDrawdown=parseFloat(P[1]));const E=N.match(/sharpe\s*ratio\s*:?\s*([\d\.\-]+)/i);E&&(_.sharpeRatio=parseFloat(E[1]));const M=N.match(/total\s*trades\s*:?\s*(\d+)/i);M&&(_.totalTrades=parseInt(M[1]));const O=N.match(/average\s*trade\s*:?\s*([\d\.\-]+)/i);O&&(_.averageTrade=parseFloat(O[1]));const F=N.match(/expectancy\s*:?\s*([\d\.\-]+)/i);F&&(_.expectancy=parseFloat(F[1]));const A=N.match(/recovery\s*factor\s*:?\s*([\d\.\-]+)/i);A&&(_.recoveryFactor=parseFloat(A[1]));const q=N.match(/max\s*consecutive\s*losses\s*:?\s*(\d+)/i);q&&(_.maxConsecutiveLosses=parseInt(q[1]));const H=N.match(/time\s*in\s*market\s*:?\s*([\d\.\-]+)%?/i);H&&(_.timeInMarket=parseFloat(H[1]));const $=N.match(/profitability\s*:?\s*([\d\.\-]+)%?/i);$&&(_.profitability=parseFloat($[1]));const D=N.match(/volatility\s*:?\s*([\d\.\-]+)%?/i);D&&(_.volatility=parseFloat(D[1]));const W=N.match(/best\s*timeframe\s*:?\s*([^\n,\.]+)/i);W&&(_.bestTimeframe=W[1].trim());const V=N.match(/best\s*assets\s*:?\s*([\s\S]*?)(?=best\s*market|worst\s*market|risk\s*level|$)/i);if(V){const B=V[1].match(/[-*]\s*([^\n]+)/g);if(B)_.bestAssets=B.map(ie=>ie.replace(/[-*]\s*/,"").trim()).filter(ie=>ie.length>0);else{const ie=V[1].trim();ie&&(_.bestAssets=ie.split(/,\s*/).map(ge=>ge.trim()).filter(ge=>ge.length>0))}}const L=N.match(/best\s*market\s*conditions\s*:?\s*([\s\S]*?)(?=worst\s*market|risk\s*level|$)/i);if(L){const B=L[1].match(/[-*]\s*([^\n]+)/g);if(B)_.bestMarketConditions=B.map(ie=>ie.replace(/[-*]\s*/,"").trim()).filter(ie=>ie.length>0);else{const ie=L[1].trim();ie&&(_.bestMarketConditions=ie.split(/,\s*/).map(ge=>ge.trim()).filter(ge=>ge.length>0))}}const se=N.match(/worst\s*market\s*conditions\s*:?\s*([\s\S]*?)(?=risk\s*level|$)/i);if(se){const B=se[1].match(/[-*]\s*([^\n]+)/g);if(B)_.worstMarketConditions=B.map(ie=>ie.replace(/[-*]\s*/,"").trim()).filter(ie=>ie.length>0);else{const ie=se[1].trim();ie&&(_.worstMarketConditions=ie.split(/,\s*/).map(ge=>ge.trim()).filter(ge=>ge.length>0))}}const K=N.match(/risk\s*level\s*:?\s*([^\n,\.]+)/i);return K&&(_.riskLevel=K[1].trim()),_.bestAssets.length===0&&(_.bestAssets=["WINFUT","WDOFUT"]),_.bestMarketConditions.length===0&&(_.bestMarketConditions=["Mercados em tendncia","Volatilidade moderada"]),_.worstMarketConditions.length===0&&(_.worstMarketConditions=["Mercados lateralizados","Volatilidade extrema"]),_.bestTimeframe||(_.bestTimeframe="M5"),_.profitFactor===0&&(_.profitFactor=1.5),_.winRate===0&&(_.winRate=50),_.payoff===0&&(_.payoff=1.2),_.maxDrawdown===0&&(_.maxDrawdown=15),_.totalTrades===0&&(_.totalTrades=100),_.averageTrade===0&&(_.averageTrade=10),_.expectancy===0&&(_.expectancy=.5),_.recoveryFactor===0&&(_.recoveryFactor=2),_.maxConsecutiveLosses===0&&(_.maxConsecutiveLosses=3),_.timeInMarket===0&&(_.timeInMarket=40),_.profitability===0&&(_.profitability=60),_.volatility===0&&(_.volatility=20),_}const b=()=>{if(!s)return;const N=`
# Ficha Tcnica do Rob: ${t}

## Mtricas de Performance
- Profit Factor: ${s.profitFactor.toFixed(2)}
- Payoff: ${s.payoff.toFixed(2)}
- Win Rate: ${s.winRate.toFixed(2)}%
- Total Trades: ${s.totalTrades}
- Average Win: ${s.averageWin.toFixed(2)}
- Average Loss: ${s.averageLoss.toFixed(2)}
- Max Drawdown: ${s.maxDrawdown.toFixed(2)}%
- Max Consecutive Losses: ${s.maxConsecutiveLosses}
- Sharpe Ratio: ${s.sharpeRatio.toFixed(2)}
- Recovery Factor: ${s.recoveryFactor.toFixed(2)}
- Expectancy: ${s.expectancy.toFixed(2)}
- Average Trade: ${s.averageTrade.toFixed(2)}
- Time in Market: ${s.timeInMarket.toFixed(2)}%

## Condies de Mercado
### Melhores Condies
${s.bestMarketConditions.map(C=>`- ${C}`).join(`
`)}

### Piores Condies
${s.worstMarketConditions.map(C=>`- ${C}`).join(`
`)}

## Informaes Adicionais
- Timeframe Ideal: ${s.bestTimeframe}
- Ativos Recomendados: ${s.bestAssets.join(", ")}
- Nvel de Risco: ${s.riskLevel}

Relatrio gerado em: ${new Date().toLocaleString()}
`,_=new Blob([N],{type:"text/plain"}),k=URL.createObjectURL(_),S=document.createElement("a");S.href=k,S.download=`ficha-tecnica-${t.replace(/\s+/g,"-").toLowerCase()}.txt`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(k)},w=(N,_=!1,k=2)=>N==null?"N/A":_?N>=70?`Excelente (${N.toFixed(k)}%)`:N>=55?`Bom (${N.toFixed(k)}%)`:N>=45?`Regular (${N.toFixed(k)}%)`:`Baixo (${N.toFixed(k)}%)`:N<=0?`Negativo (${N.toFixed(k)})`:N>=2?`Excelente (${N.toFixed(k)})`:N>=1.5?`Bom (${N.toFixed(k)})`:N>=1?`Aceitvel (${N.toFixed(k)})`:`Insuficiente (${N.toFixed(k)})`,j=(N,_)=>{switch(N){case"profitFactor":return _>=1.5?"text-green-500":_>=1?"text-yellow-500":"text-red-500";case"winRate":return _>=60?"text-green-500":_>=45?"text-yellow-500":"text-red-500";case"payoff":return _>=1.5?"text-green-500":_>=1?"text-yellow-500":"text-red-500";case"maxDrawdown":return _<=10?"text-green-500":_<=20?"text-yellow-500":"text-red-500";case"sharpeRatio":return _>=1?"text-green-500":_>=.5?"text-yellow-500":"text-red-500";case"recoveryFactor":return _>=3?"text-green-500":_>=1?"text-yellow-500":"text-red-500";case"expectancy":return _>=.5?"text-green-500":_>=0?"text-yellow-500":"text-red-500";case"profitability":return _>=60?"text-green-500":_>=40?"text-yellow-500":"text-red-500";default:return"text-gray-300"}};return a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ar,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"Ficha Tcnica do Rob"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:s?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:b,className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Baixar ficha tcnica",children:a.jsx(ki,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>l(!o),className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:o?"Ocultar detalhes":"Mostrar detalhes",children:o?a.jsx(ut,{className:"w-4 h-4"}):a.jsx(Ze,{className:"w-4 h-4"})})]}):a.jsx("button",{onClick:v,disabled:m,className:`px-3 py-1.5 rounded-md text-sm flex items-center ${m?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:m?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 mr-1.5 animate-spin"}),"Gerando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Re,{className:"w-4 h-4 mr-1.5"}),"Gerar Ficha Tcnica"]})})})]}),r&&a.jsxs("div",{className:"p-4 bg-red-500 bg-opacity-10 border-b border-red-500 flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-red-500",children:r})]}),s&&o&&a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium mb-3 flex items-center",children:[a.jsx(Ro,{className:"w-4 h-4 text-yellow-500 mr-2"}),"Mtricas de Performance"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:`text-lg font-bold ${j("profitFactor",s.profitFactor)}`,children:w(s.profitFactor)})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:`text-lg font-bold ${j("winRate",s.winRate)}`,children:w(s.winRate,!0)})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Payoff"}),a.jsx("p",{className:`text-lg font-bold ${j("payoff",s.payoff)}`,children:w(s.payoff)})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Drawdown Mx."}),a.jsx("p",{className:`text-lg font-bold ${j("maxDrawdown",s.maxDrawdown)}`,children:w(s.maxDrawdown,!0)})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium mb-3 flex items-center",children:[a.jsx(jf,{className:"w-4 h-4 text-blue-500 mr-2"}),"Mtricas Adicionais"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Total de Trades"}),a.jsx("p",{className:"text-lg font-bold",children:s.totalTrades>100?`Alto Volume (${s.totalTrades})`:`Baixo Volume (${s.totalTrades})`})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Sharpe Ratio"}),a.jsx("p",{className:`text-lg font-bold ${j("sharpeRatio",s.sharpeRatio)}`,children:s.sharpeRatio>=1?`Excelente (${s.sharpeRatio.toFixed(2)})`:s.sharpeRatio>=.5?`Bom (${s.sharpeRatio.toFixed(2)})`:`Baixo (${s.sharpeRatio.toFixed(2)})`})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Expectativa"}),a.jsx("p",{className:`text-lg font-bold ${j("expectancy",s.expectancy)}`,children:s.expectancy>=.5?`Excelente (${s.expectancy.toFixed(2)})`:s.expectancy>=0?`Positivo (${s.expectancy.toFixed(2)})`:`Negativo (${s.expectancy.toFixed(2)})`})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Rentabilidade"}),a.jsx("p",{className:`text-lg font-bold ${j("profitability",s.profitability)}`,children:s.profitability>=60?`Excelente (${s.profitability.toFixed(2)}%)`:s.profitability>=40?`Bom (${s.profitability.toFixed(2)}%)`:`Baixo (${s.profitability.toFixed(2)}%)`})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"text-lg font-medium flex items-center",children:[a.jsx(Mt,{className:"w-4 h-4 text-green-500 mr-2"}),"Condies de Mercado"]}),a.jsx("button",{onClick:()=>u(!c),className:"p-1 hover:bg-gray-700 rounded",children:c?a.jsx(ut,{className:"w-4 h-4 text-gray-400"}):a.jsx(Ze,{className:"w-4 h-4 text-gray-400"})})]}),c&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-medium mb-2 text-green-400",children:"Melhores Condies"}),a.jsx("ul",{className:"space-y-1.5",children:s.bestMarketConditions.map((N,_)=>a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx(at,{className:"w-4 h-4 text-green-500 mr-1.5 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:N})]},_))})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-medium mb-2 text-red-400",children:"Piores Condies"}),a.jsx("ul",{className:"space-y-1.5",children:s.worstMarketConditions.map((N,_)=>a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx(Ie,{className:"w-4 h-4 text-red-500 mr-1.5 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:N})]},_))})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"text-lg font-medium flex items-center",children:[a.jsx(it,{className:"w-4 h-4 text-yellow-500 mr-2"}),"Anlise de Risco"]}),a.jsx("button",{onClick:()=>f(!d),className:"p-1 hover:bg-gray-700 rounded",children:d?a.jsx(ut,{className:"w-4 h-4 text-gray-400"}):a.jsx(Ze,{className:"w-4 h-4 text-gray-400"})})]}),d&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Nvel de Risco"}),a.jsx("div",{className:`inline-block px-2 py-1 rounded-full text-sm font-medium ${s.riskLevel.toLowerCase().includes("alto")?"bg-red-500 bg-opacity-20 text-red-400":s.riskLevel.toLowerCase().includes("mdio")?"bg-yellow-500 bg-opacity-20 text-yellow-400":"bg-green-500 bg-opacity-20 text-green-400"}`,children:s.riskLevel.toLowerCase()==="baixo"?"Baixo - Adequado para iniciantes":s.riskLevel.toLowerCase()==="mdio"?"Mdio - Para traders intermedirios":"Alto - Para traders experientes"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Timeframe Ideal"}),a.jsx("p",{className:"text-lg font-bold",children:s.bestTimeframe})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Ativos Recomendados"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:s.bestAssets.map((N,_)=>a.jsx("span",{className:"px-2 py-0.5 bg-blue-900 bg-opacity-50 rounded text-blue-300 text-xs",children:N},_))})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Volatilidade"}),a.jsx("p",{className:"text-lg font-bold",children:s.volatility>30?`Alta (${s.volatility.toFixed(2)}%)`:s.volatility<10?`Baixa (${s.volatility.toFixed(2)}%)`:`Mdia (${s.volatility.toFixed(2)}%)`})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Recuperao"}),a.jsx("p",{className:"text-lg font-bold",children:s.recoveryFactor>=3?`Excelente (${s.recoveryFactor.toFixed(2)})`:s.recoveryFactor>=1?`Bom (${s.recoveryFactor.toFixed(2)})`:`Insuficiente (${s.recoveryFactor.toFixed(2)})`})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mx. Perdas Consecutivas"}),a.jsx("p",{className:"text-lg font-bold",children:s.maxConsecutiveLosses>5?`Preocupante (${s.maxConsecutiveLosses})`:`Aceitvel (${s.maxConsecutiveLosses})`})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Tempo no Mercado"}),a.jsx("p",{className:"text-lg font-bold",children:s.timeInMarket>80?`Muito Exposto (${s.timeInMarket.toFixed(2)}%)`:s.timeInMarket<20?`Pouco Exposto (${s.timeInMarket.toFixed(2)}%)`:`Equilibrado (${s.timeInMarket.toFixed(2)}%)`})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Volatilidade"}),a.jsx("p",{className:"text-lg font-bold",children:s.volatility>30?`Alta (${s.volatility.toFixed(2)}%)`:s.volatility<10?`Baixa (${s.volatility.toFixed(2)}%)`:`Mdia (${s.volatility.toFixed(2)}%)`})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-blue-900 bg-opacity-20 border border-blue-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(zd,{className:"w-5 h-5 text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-sm text-blue-300",children:[a.jsx("strong",{children:"Nota:"})," Estas mtricas so estimativas baseadas na anlise do cdigo do rob e podem variar dependendo das condies de mercado, configuraes e outros fatores. Recomendamos realizar backtests e testes em conta demo antes de utilizar o rob em operaes reais."]})]})})]})]})}function RL(){var ve;const{robotId:e}=NM(),t=Nt();g.useState(null),g.useState("dark");const[r,n]=g.useState("ntsl");g.useState(1);const[s,i]=g.useState(null),[o,l]=g.useState(!1);g.useState(!0);const[c,u]=g.useState(!1),[d,f]=g.useState(!1),[h,p]=g.useState(""),[m,y]=g.useState(""),[v,x]=g.useState(!1),[b,w]=g.useState(null);g.useState(!1);const[j,N]=g.useState(!1),[_,k]=g.useState(!1),[S,C]=g.useState(!0),[P,E]=g.useState([]),[M,O]=g.useState("");g.useState(!1);const[F,A]=g.useState(""),[q,H]=g.useState("");g.useState(!1);const[$,D]=g.useState(!1);Rt();const{robots:W,versions:V,currentVersion:L,loadVersions:se,createVersion:K,updateVersion:B,loadRobots:ie,renameRobot:ge}=du(),{t:I}=Ms();g.useEffect(()=>{ie()},[ie]),g.useEffect(()=>{if(e){const ee=W.find(ne=>ne.id===e);ee&&(p(ee.name),se(e).then(ne=>{if(ne.length>0){const we=ne[0];i(we.version_name),y(we.code),O(we.description||""),E(we.tags||[]),A(we.created_at),H(we.created_by||"")}}))}},[e,W]);const R=ee=>{y(ee)},te=async()=>{if(!e||!s){alert("Selecione um rob e uma verso para salvar");return}try{const ee=V.find(we=>we.version_name===s);if(!ee)throw new Error("Verso no encontrada");await B(ee.id,{code:m,updated_at:new Date().toISOString()});const ne=document.createElement("div");ne.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",ne.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Verso salva com sucesso!
      `,document.body.appendChild(ne),setTimeout(()=>{document.body.removeChild(ne)},3e3)}catch(ee){console.error("Erro ao salvar rob:",ee),alert(ee instanceof Error?ee.message:"Erro ao salvar verso. Tente novamente.")}},ue=ee=>{if(!V.some(lt=>lt.version_name===ee))return ee;let ne=1,we=`${ee} (${ne})`;for(;V.some(lt=>lt.version_name===we);)ne++,we=`${ee} (${ne})`;return we},T=async(ee,ne,we)=>{if(!e){alert("Rob no encontrado. Por favor, selecione um rob vlido");return}try{const lt=ue(ee);if(!await K(e,lt,m,ne,we))throw new Error("Falha ao criar verso");u(!1),i(lt),await se(e),alert("Nova verso criada com sucesso!")}catch(lt){const Ge=lt instanceof Error?lt.message:"Erro ao criar verso";alert(Ge)}},fe=async ee=>{if(i(ee),!e)return;const ne=V.find(we=>we.version_name===ee);ne&&(y(ne.code),O(ne.description||""),E(ne.tags||[]),A(ne.created_at),H(ne.created_by||""))},me=async()=>{if(!e||!h.trim()){w("O nome do rob no pode estar vazio");return}x(!0),w(null);try{await ge(e,h.trim()),f(!1),await ie()}catch(ee){console.error("Error renaming robot:",ee),w(ee instanceof Error?ee.message:"Erro ao renomear rob")}finally{x(!1)}},Se=async()=>{try{await navigator.clipboard.writeText(m),k(!0),setTimeout(()=>k(!1),2e3);const ee=document.createElement("div");ee.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",ee.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Code copied to clipboard!
      `,document.body.appendChild(ee),setTimeout(()=>{document.body.removeChild(ee)},3e3)}catch(ee){console.error("Failed to copy code:",ee),alert("Failed to copy code to clipboard")}},Te=()=>{const ee=new Blob([m],{type:"text/plain"}),ne=URL.createObjectURL(ee),we=document.createElement("a");we.href=ne,we.download=`${h}_${s||"latest"}.txt`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(ne)},kt=async(ee,ne,we)=>{if(y(ee),e)try{let Ge=`Verso ${V.length+1}`;Ge=ue(Ge);const Ra=ne||"Verso gerada por IA",Is=we&&we.length>0?we:["tendencia"];if(await K(e,Ge,ee,Ra,Is)){i(Ge),await se(e),O(Ra),E(Is),A(new Date().toISOString()),H("");const Bn=document.createElement("div");Bn.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",Bn.innerHTML=`
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            Nova verso "${Ge}" criada automaticamente!
          `,document.body.appendChild(Bn),setTimeout(()=>{document.body.removeChild(Bn)},3e3)}}catch(lt){console.error("Error creating version:",lt);const Ge=document.createElement("div");Ge.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md z-50 flex items-center",Ge.innerHTML=`
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
          </svg>
          Erro ao salvar verso: ${lt instanceof Error?lt.message:"Erro desconhecido"}
        `,document.body.appendChild(Ge),setTimeout(()=>{document.body.removeChild(Ge)},5e3)}},Or=async ee=>{if(!e||!s){alert("Selecione um rob e uma verso para atualizar");return}try{const ne=V.find(lt=>lt.version_name===s);if(!ne)throw new Error("Verso no encontrada");await B(ne.id,{description:ee.description,tags:ee.tags}),O(ee.description),E(ee.tags);const we=document.createElement("div");we.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",we.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Informaes da verso atualizadas com sucesso!
      `,document.body.appendChild(we),setTimeout(()=>{document.body.removeChild(we)},3e3),await se(e)}catch(ne){console.error("Error updating version info:",ne),alert(ne instanceof Error?ne.message:"Erro ao atualizar informaes da verso. Tente novamente.")}},z=e?W.find(ee=>ee.id===e):null;return z?a.jsxs("div",{className:"min-h-screen h-screen bg-[#1E1E1E] text-gray-100 flex flex-col overflow-hidden",children:[a.jsx(ss,{}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsx("div",{className:"w-112 border-r border-gray-800 flex flex-col",children:a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(AL,{onGenerateCode:kt,robotId:e,robotName:h,selectedVersion:s})})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"border-b border-gray-800 bg-gray-900 p-4 flex-shrink-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>t("/robots"),className:"p-2 hover:bg-gray-800 rounded-full",title:"Back to robots",children:a.jsx(Os,{className:"w-5 h-5"})}),a.jsxs("button",{onClick:()=>t("/robots"),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2 text-sm",title:"View all robots",children:[a.jsx(HD,{className:"w-4 h-4"}),a.jsx("span",{children:I("nav.robots")})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[d?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",value:h,onChange:ee=>p(ee.target.value),className:"px-2 py-1 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),a.jsx("button",{onClick:()=>{f(!1),p(z.name)},className:"p-1 text-gray-400 hover:text-white",disabled:v,children:a.jsx(Ie,{className:"w-4 h-4"})}),a.jsx("button",{onClick:me,className:"p-1 text-blue-400 hover:text-blue-300",disabled:v,children:v?a.jsx(lr,{className:"w-4 h-4 animate-spin"}):a.jsx(at,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h2",{className:"text-lg font-medium",children:h}),a.jsx("button",{onClick:()=>f(!0),className:"p-1 text-gray-400 hover:text-white",title:"Rename robot",children:a.jsx(_f,{className:"w-4 h-4"})})]}),s&&a.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["(",s,")"]}),b&&a.jsx("span",{className:"text-sm text-red-500 ml-2",children:b})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:te,className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 rounded-md flex items-center space-x-2",title:"Save current version",disabled:!s,children:[a.jsx(kf,{className:"w-4 h-4"}),a.jsx("span",{children:I("button.save")})]}),a.jsxs("button",{onClick:()=>u(!0),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center space-x-2",title:"Create new version",children:[a.jsx(Fc,{className:"w-4 h-4"}),a.jsx("span",{children:I("button.newVersion")})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>N(!j),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2",title:"Export code",children:[a.jsx(BD,{className:"w-4 h-4"}),a.jsx("span",{children:I("button.export")}),a.jsx(Ze,{className:"w-4 h-4 ml-1"})]}),j&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10",children:[a.jsxs("button",{onClick:()=>{Se(),N(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:[a.jsx(rS,{className:"w-4 h-4 mr-2"}),"Copy to Clipboard"]}),a.jsxs("button",{onClick:()=>{Te(),N(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:[a.jsx(ki,{className:"w-4 h-4 mr-2"}),"Download as File"]})]})]}),a.jsxs("button",{onClick:()=>l(!0),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2",title:"Share robot",children:[a.jsx(Fy,{className:"w-4 h-4"}),a.jsx("span",{children:I("button.share")})]}),a.jsx("button",{className:"p-2 hover:bg-gray-800 rounded-full",title:"Settings",children:a.jsx(Ly,{className:"w-5 h-5 text-gray-400"})})]})]})}),$&&e&&a.jsx(ML,{robotId:e,robotName:h}),s&&a.jsx(OL,{robotId:e,versionId:((ve=V.find(ee=>ee.version_name===s))==null?void 0:ve.id)||null,versionName:s,description:M,tags:P,createdAt:F,createdBy:q,onUpdate:Or}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx("div",{className:"h-full",children:a.jsx(xI,{fileId:e,content:m,language:r,onContentChange:R,versions:V,selectedVersion:s,onVersionSelect:fe,showCreateVersionModal:c,setShowCreateVersionModal:u})})})]})]}),o&&a.jsx(vI,{isOpen:o,onClose:()=>l(!1),robotName:h}),c&&a.jsx(jI,{isOpen:c,onClose:()=>u(!1),onSave:T,existingVersions:V.map(ee=>ee.version_name),suggestedName:`v${V.length+1}.0.0`,suggestedDescription:M}),S&&a.jsx(TL,{onClose:()=>C(!1)})]}):a.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(it,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Robot Not Found"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Select a robot from your list to start editing"}),a.jsxs("button",{onClick:()=>t("/robots"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg flex items-center mx-auto",children:[a.jsx(aS,{className:"w-5 h-5 mr-2"}),"My Robots"]})]})})}function $L({className:e=""}){const{robots:t,robotLimit:r}=du(),{profile:n}=Rt(),{t:s,language:i}=Ms(),o=Nt(),l=t.length,c=l>=r*.8,u=l>=r,d=()=>Math.min(100,l/r*100),f=()=>{o("/subscription")};return a.jsxs("div",{className:`bg-gray-800 rounded-lg p-4 ${e}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"flex items-center",children:a.jsx("h3",{className:"font-medium text-white",children:i==="en"?"Robot Quota":"Cota de Robs"})}),(n==null?void 0:n.plan)&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zn,{className:"w-4 h-4 text-yellow-500 mr-1"}),a.jsx("span",{className:"text-sm text-gray-300",children:n.plan})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsxs("span",{className:"text-gray-400",children:[l," / ",r," ",i==="en"?"robots":"robs"]}),a.jsxs("span",{className:`${c?"text-yellow-400":u?"text-red-400":"text-green-400"}`,children:[d().toFixed(0),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${u?"bg-red-500":c?"bg-yellow-500":"bg-green-500"}`,style:{width:`${d()}%`}})})]}),c&&a.jsxs("div",{className:"mt-3",children:[u?a.jsxs("div",{className:"flex items-start text-xs text-red-400 mb-2",children:[a.jsx(Ic,{className:"w-4 h-4 mr-1 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:i==="en"?"You have reached your robot limit. Upgrade your plan to create more robots.":"Voc atingiu seu limite de robs. Atualize seu plano para criar mais robs."})]}):a.jsxs("div",{className:"flex items-start text-xs text-yellow-400 mb-2",children:[a.jsx(Ic,{className:"w-4 h-4 mr-1 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:i==="en"?"You are approaching your robot limit.":"Voc est se aproximando do seu limite de robs."})]}),a.jsx("button",{onClick:f,className:"w-full py-1.5 bg-blue-600 hover:bg-blue-700 rounded text-xs font-medium",children:i==="en"?"Upgrade Plan":"Atualizar Plano"})]})]})}function DL(){const e=Nt(),[t,r]=g.useState(""),[n,s]=g.useState("updated"),[i,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(""),[f,h]=g.useState(null),[p,m]=g.useState(null),[y,v]=g.useState(null),[x,b]=g.useState(!1);g.useState(!1);const[w,j]=g.useState(!1),{robots:N,loadRobots:_,createRobot:k,deleteRobot:S,renameRobot:C,isLoading:P,robotLimit:E,getRobotLimit:M}=du(),{signOut:O,profile:F}=Rt(),{t:A,language:q}=Ms();g.useEffect(()=>{_(),M()},[_,M]);const H=async()=>{if(!u.trim()){m("Robot name cannot be empty");return}try{if(N.length>=E)throw new Error(`You have reached your limit of ${E} robots. Please upgrade your plan to create more robots.`);const K=await k(u);K&&(o(!1),d(""),v("Robot created successfully"),e(`/editor/${K.id}`))}catch(K){m(K instanceof Error?K.message:"Failed to create robot")}},$=async()=>{if(f){if(!u.trim()){m("Robot name cannot be empty");return}try{j(!0),await C(f.id,u),c(!1),h(null),d(""),v("Robot renamed successfully"),await _()}catch(K){m(K instanceof Error?K.message:"Failed to rename robot")}finally{j(!1)}}},D=async K=>{try{b(!0),await S(K),v("Robot deleted successfully")}catch(B){m(B instanceof Error?B.message:"Failed to delete robot")}finally{b(!1)}},W=(K,B,ie)=>{ie.stopPropagation(),e(`/editor/${K}?action=export`)},V=()=>{window.open("https://buy.stripe.com/fZe5nX2320AB4EgfZC","_blank")},L=[...N].filter(K=>K.name.toLowerCase().includes(t.toLowerCase())).sort((K,B)=>n==="name"?K.name.localeCompare(B.name):new Date(B.created_at||"").getTime()-new Date(K.created_at||"").getTime()),se=K=>{if(!K)return"";const B=new Date(K),ge=Math.floor((new Date().getTime()-B.getTime())/(1e3*60*60*24));return ge===0?"Today":ge===1?"Yesterday":ge<7?`${ge} days ago`:B.toLocaleDateString()};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(ss,{}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold",children:A("nav.robots")}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:V,className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md flex items-center",title:"Buy more tokens",children:[a.jsx(Bd,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:q==="en"?"Buy Tokens":"Comprar Tokens"})]}),a.jsx("button",{onClick:()=>_(),className:"p-2 hover:bg-gray-800 rounded",title:"Refresh robots",children:a.jsx(lr,{className:`w-5 h-5 text-gray-400 ${P?"animate-spin":""}`})}),a.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",disabled:N.length>=E,children:[a.jsx(In,{className:"w-4 h-4 mr-2"}),A("button.createRobot")]})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx($L,{})}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"relative w-72",children:[a.jsx(uu,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search robots...",value:t,onChange:K=>r(K.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Sort by:"}),a.jsxs("select",{value:n,onChange:K=>s(K.target.value),className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"updated",children:"Last Updated"}),a.jsx("option",{value:"name",children:"Name"})]})]})]}),p&&a.jsxs("div",{className:"mb-6 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-start text-red-500",children:[a.jsx(it,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("p",{children:p}),a.jsx("button",{onClick:()=>m(null),className:"ml-auto",title:"Dismiss error",children:a.jsx(Ie,{className:"w-4 h-4"})})]}),y&&a.jsxs("div",{className:"mb-6 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-start text-green-500",children:[a.jsx("div",{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5",children:""}),a.jsx("p",{children:y}),a.jsx("button",{onClick:()=>v(null),className:"ml-auto",title:"Dismiss message",children:a.jsx(Ie,{className:"w-4 h-4"})})]}),P&&N.length===0?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):L.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(VD,{className:"w-16 h-16 text-gray-600 mb-4"}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No robots found"}),a.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:t?`No robots match your search "${t}"`:"Create your first robot to get started"}),t?a.jsx("button",{onClick:()=>r(""),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-md",children:"Clear Search"}):a.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",disabled:N.length>=E,children:[a.jsx(In,{className:"w-4 h-4 mr-2"}),A("button.createRobot")]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(K=>a.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg overflow-hidden hover:border-blue-500 transition-colors cursor-pointer group",onClick:()=>e(`/editor/${K.id}`),children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(aS,{className:"w-8 h-8 text-blue-500 mr-3"}),a.jsx("h3",{className:"text-lg font-semibold",children:K.name})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:B=>{B.stopPropagation(),h(K),d(K.name),c(!0)},className:"p-1 hover:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Rename robot",children:a.jsx(_f,{className:"w-5 h-5 text-gray-400 hover:text-blue-500"})}),a.jsx("button",{onClick:B=>{B.stopPropagation(),D(K.id)},disabled:x,className:`p-1 hover:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-opacity
                          ${x?"cursor-not-allowed opacity-50":""}`,title:"Delete robot",children:a.jsx(cc,{className:`w-5 h-5 text-gray-400 ${!x&&"hover:text-red-500"}`})})]})]}),a.jsxs("div",{className:"mt-3 flex items-center text-sm text-gray-400",children:[a.jsx(hn,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:["Updated ",se(K.updated_at)]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(es,{className:"w-4 h-4 text-gray-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:(F==null?void 0:F.name)||"You"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:B=>W(K.id,K.name,B),className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"Export robot",children:a.jsx(ki,{className:"w-4 h-4 hover:text-blue-400"})}),a.jsx("button",{onClick:B=>{B.stopPropagation()},className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"Share robot",children:a.jsx(Fy,{className:"w-4 h-4"})}),a.jsx("button",{onClick:B=>{B.stopPropagation()},className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"Robot settings",children:a.jsx(Ly,{className:"w-4 h-4"})})]})]})]})},K.id))})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-6 relative",onClick:K=>K.stopPropagation(),children:[a.jsx("button",{onClick:()=>{o(!1),d("")},className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:a.jsx(Ie,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(jt,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:A("button.createRobot")}),a.jsx("p",{className:"mt-2 text-gray-400",children:"Enter a name for your new robot"})]}),N.length>=E&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center",children:[a.jsx(Ic,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-500",children:q==="en"?`You have reached your limit of ${E} robots.`:`Voc atingiu seu limite de ${E} robs.`}),a.jsxs("button",{onClick:()=>{o(!1),e("/subscription")},className:"text-blue-400 hover:text-blue-300 text-sm mt-1",children:[q==="en"?"Upgrade your plan":"Atualize seu plano"," "]})]})]}),a.jsxs("form",{onSubmit:K=>{K.preventDefault(),H()},className:"space-y-4",children:[a.jsx("input",{type:"text",value:u,onChange:K=>d(K.target.value),placeholder:"Robot name",autoFocus:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:N.length>=E}),a.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium",disabled:N.length>=E,children:A("button.createRobot")})]})]})}),l&&f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-6 relative",onClick:K=>K.stopPropagation(),children:[a.jsx("button",{onClick:()=>{c(!1),h(null),d("")},className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:w,children:a.jsx(Ie,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(_f,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:A("robot.rename")}),a.jsxs("p",{className:"mt-2 text-gray-400",children:['Enter a new name for "',f.name,'"']})]}),a.jsxs("form",{onSubmit:K=>{K.preventDefault(),$()},className:"space-y-4",children:[a.jsx("input",{type:"text",value:u,onChange:K=>d(K.target.value),placeholder:"New robot name",autoFocus:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:w}),a.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium flex items-center justify-center",disabled:w,children:w?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Renaming..."]}):A("robot.rename")})]})]})})]})}function IL(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(null);g.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:u}}=await Z.auth.getUser();if(!u)return;const{data:d,error:f}=await Z.from("sharing_invites").select(`
          id,
          robot_name,
          permission,
          created_at,
          created_by,
          expires_at
        `).eq("email",u.email).eq("is_active",!0).is("accepted_at",null).order("created_at",{ascending:!1});if(f)throw f;if(!d)return;const h=[...new Set(d.map(x=>x.created_by))],{data:p,error:m}=await Z.from("profiles").select("id, email").in("id",h);if(m)throw m;const y=new Map((p||[]).map(x=>[x.id,x.email])),v=d.map(x=>({...x,created_by_email:y.get(x.created_by)}));t(v)}catch(u){console.error("Error loading invites:",u),i(u instanceof Error?u.message:"Failed to load invites")}finally{n(!1)}},l=async u=>{try{const{data:{user:d}}=await Z.auth.getUser();if(!d)throw new Error("Not authenticated");const{error:f}=await Z.from("sharing_invites").update({accepted_at:new Date().toISOString(),is_active:!1}).eq("id",u.id);if(f)throw f;const{error:h}=await Z.from("shared_robots").insert({robot_name:u.robot_name,user_id:d.id,permission:u.permission,created_by:u.created_by});if(h)throw h;t(e.filter(p=>p.id!==u.id))}catch(d){console.error("Error accepting invite:",d),i(d instanceof Error?d.message:"Failed to accept invite")}},c=async u=>{try{const{error:d}=await Z.from("sharing_invites").update({is_active:!1,accepted_at:null}).eq("id",u);if(d)throw d;t(e.filter(f=>f.id!==u))}catch(d){console.error("Error declining invite:",d),i(d instanceof Error?d.message:"Failed to decline invite")}};return r?a.jsx("div",{className:"text-center py-4",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mx-auto"})}):s?a.jsxs("div",{className:"p-4 bg-red-500 bg-opacity-10 border border-red-500 rounded-md text-red-500 flex items-center",children:[a.jsx(it,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:s})]}):e.length===0?a.jsx("div",{className:"text-center py-4 text-gray-400",children:"No pending invites"}):a.jsx("div",{className:"space-y-3",children:e.map(u=>a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center",children:a.jsx(es,{className:"w-4 h-4 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:u.created_by_email}),a.jsx("p",{className:"text-sm text-gray-400",children:"invited you to collaborate"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>l(u),className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center",title:"Accept invite",children:[a.jsx(at,{className:"w-4 h-4 mr-1"}),"Accept"]}),a.jsxs("button",{onClick:()=>c(u.id),className:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center",title:"Decline invite",children:[a.jsx(Ie,{className:"w-4 h-4 mr-1"}),"Decline"]})]})]}),a.jsx("div",{className:"bg-gray-900 rounded p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-400",children:u.robot_name}),a.jsx("p",{className:"text-sm text-gray-400",children:u.permission==="edit"?"Editor access":"Viewer access"})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Expires ",new Date(u.expires_at).toLocaleDateString()]})]})})]},u.id))})}function LL(){var b;const e=Nt(),{profile:t,updateProfile:r}=Rt(),[n,s]=g.useState((t==null?void 0:t.name)||""),[i,o]=g.useState((t==null?void 0:t.phone)||""),[l,c]=g.useState((t==null?void 0:t.avatar_url)||""),[u,d]=g.useState(!1),[f,h]=g.useState(null),[p,m]=g.useState(null);g.useEffect(()=>{t&&(s(t.name||""),o(t.phone||""),c(t.avatar_url||""))},[t]);const y=async w=>{var j;try{d(!0),h(null);const N=(j=w.target.files)==null?void 0:j[0];if(!N)return;if(!N.type.startsWith("image/"))throw new Error("Please upload an image file");if(N.size>5*1024*1024)throw new Error("Image size should be less than 5MB");const _=N.name.split(".").pop(),S=`avatars/${`${Math.random()}.${_}`}`,{error:C,data:P}=await Z.storage.from("avatars").upload(S,N);if(C)throw C;const{data:{publicUrl:E}}=Z.storage.from("avatars").getPublicUrl(S);await r({avatar_url:E}),c(E),m("Profile photo updated successfully")}catch(N){console.error("Error uploading avatar:",N),h(N instanceof Error?N.message:"Error uploading image")}finally{d(!1)}},v=async w=>{w.preventDefault(),h(null),m(null);try{await r({name:n.trim(),phone:i.trim()||null}),m("Profile updated successfully")}catch(j){console.error("Error updating profile:",j),h(j instanceof Error?j.message:"Error updating profile")}},x=async()=>{try{h(null),await r({avatar_url:null}),c(""),m("Profile photo removed successfully")}catch(w){console.error("Error removing avatar:",w),h(w instanceof Error?w.message:"Error removing photo")}};return t?a.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-900 px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>e(-1),className:"mr-4 p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Back",children:a.jsx(Os,{className:"w-5 h-5"})}),a.jsxs("h1",{className:"text-xl font-semibold flex items-center",children:[a.jsx(es,{className:"w-5 h-5 mr-2"}),"Profile Settings"]})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("button",{onClick:()=>e("/subscription"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center space-x-2",children:[a.jsx(Zn,{className:"w-4 h-4"}),a.jsx("span",{children:"Subscription"})]})})]}),a.jsxs("div",{className:"p-6",children:[f&&a.jsx("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md text-red-500",children:f}),p&&a.jsx("div",{className:"mb-4 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md text-green-500",children:p}),a.jsxs("div",{className:"mb-8 bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zn,{className:"w-5 h-5 text-yellow-500"}),a.jsx("h2",{className:"text-lg font-medium",children:t.plan||"Free Forever"})]}),a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-500 bg-opacity-20 text-green-400",children:t.plan_status||"Active"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Next Billing"}),a.jsx("p",{className:"font-medium",children:t.plan_renewal_date?new Date(t.plan_renewal_date).toLocaleDateString():"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Token Balance"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Re,{className:"w-4 h-4 text-yellow-500 mr-1"}),a.jsxs("p",{className:"font-medium",children:[((b=t.token_balance)==null?void 0:b.toLocaleString())||0," tokens"]})]})]}),a.jsx("div",{children:a.jsx("button",{onClick:()=>e("/subscription"),className:"text-blue-400 hover:text-blue-300 text-sm",children:"View Details "})})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx($D,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Pending Invites"})]}),a.jsx(IL,{})]}),a.jsxs("form",{onSubmit:v,className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden",children:l?a.jsx("img",{src:l,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx(es,{className:"w-12 h-12 text-gray-400"})}),a.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 rounded-full p-2 cursor-pointer hover:bg-blue-700",children:[a.jsx(ID,{className:"w-4 h-4"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:y,disabled:u})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Profile Photo"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Upload a photo to make your profile more personal"}),a.jsxs("div",{className:"mt-3 flex space-x-3",children:[a.jsxs("label",{className:"px-4 py-2 bg-blue-600 text-white rounded-md cursor-pointer hover:bg-blue-700",children:["Upload New",a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:y,disabled:u})]}),l&&a.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600",children:"Remove"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Email Address"}),a.jsxs("div",{className:"mt-1 flex items-center space-x-2 px-3 py-2 bg-gray-900 rounded-md",children:[a.jsx(Vh,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-gray-300",children:t.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300",children:"Phone Number"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(lS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"tel",id:"phone",value:i,onChange:w=>o(w.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-900 border border-gray-700 rounded-md text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+55 (11) 98765-4321"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Display Name"}),a.jsx("input",{type:"text",id:"name",value:n,onChange:w=>s(w.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your name"})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>e(-1),className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})]})]})})}):null}function FL(){const e=Nt(),t=()=>{window.open("https://profitestrategista.com.br/login","_blank")};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(ss,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Back to robots",children:a.jsx(Os,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Comunidade de Trading"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:t,children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-indigo-700 flex items-center justify-center",children:a.jsx(Fn,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Comunidade de Traders"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Conecte-se com outros traders, compartilhe estratgias e aprenda com os melhores profissionais do mercado."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(es,{className:"w-4 h-4 text-blue-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"500+ membros"})]}),a.jsx(hs,{className:"w-5 h-5 text-blue-400"})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:t,children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-green-600 to-teal-700 flex items-center justify-center",children:a.jsx(jt,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Robs Gratuitos"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Acesse uma biblioteca de robs de trading gratuitos desenvolvidos pela comunidade e compartilhe os seus."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(qD,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"200+ robs"})]}),a.jsx(hs,{className:"w-5 h-5 text-green-400"})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:t,children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-purple-600 to-pink-700 flex items-center justify-center",children:a.jsx(Do,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Frum de Discusso"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Participe de discusses sobre estratgias, anlise tcnica e compartilhe suas operaes com outros traders."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(o6,{className:"w-4 h-4 text-purple-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"1000+ tpicos"})]}),a.jsx(hs,{className:"w-5 h-5 text-purple-400"})]})]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8 mb-12",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Junte-se  nossa comunidade hoje"}),a.jsx("p",{className:"text-blue-100 max-w-xl mb-4",children:"Acesse nossa plataforma completa de comunidade, com fruns, robs gratuitos, anlises compartilhadas e muito mais."}),a.jsxs("div",{className:"flex items-center text-sm text-blue-200",children:[a.jsx(hn,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:"Acesso imediato aps o login"})]})]}),a.jsxs("button",{onClick:t,className:"px-6 py-3 bg-white text-blue-900 font-medium rounded-md hover:bg-gray-100 flex items-center",children:["Acessar Comunidade",a.jsx(hs,{className:"w-4 h-4 ml-2"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-3 mr-4",children:a.jsx(Mn,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Robs Verificados"})]}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Todos os robs gratuitos so testados e verificados pela nossa equipe para garantir qualidade e segurana."}),a.jsxs("button",{onClick:t,className:"text-blue-400 hover:text-blue-300 flex items-center text-sm",children:["Ver robs verificados",a.jsx(hs,{className:"w-4 h-4 ml-1"})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-green-600 rounded-full p-3 mr-4",children:a.jsx(DD,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Biblioteca de Conhecimento"})]}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Acesse artigos, tutoriais e recursos educacionais compartilhados pela comunidade para aprimorar suas habilidades."}),a.jsxs("button",{onClick:t,className:"text-green-400 hover:text-green-300 flex items-center text-sm",children:["Explorar biblioteca",a.jsx(hs,{className:"w-4 h-4 ml-1"})]})]})]})]})]})}function jj(){const e=Nt(),{profile:t}=Rt(),r={name:(t==null?void 0:t.plan)||"Free",status:(t==null?void 0:t.plan_status)||"active",renewalDate:(t==null?void 0:t.plan_renewal_date)||new Date().toISOString(),tokenBalance:(t==null?void 0:t.token_balance)||0},n=[{id:"free",name:"Free",price:"R$ 0,00",features:["At 5 robs de trading","Anlise bsica de backtest","Acesso  comunidade","100 tokens iniciais"]},{id:"pro1",name:"PRO 1",price:"R$ 259,80/ms",features:["At 25 robs de trading","Anlise de backtest intermediria","Acesso  comunidade","5.000 tokens/ms","Suporte por email"]},{id:"pro2",name:"PRO 2",price:"R$ 499,80/ms",features:["At 100 robs de trading","Anlise de backtest avanada","Suporte prioritrio","12.500 tokens/ms","API para integrao","Indicadores exclusivos"],isPopular:!0},{id:"pro3",name:"PRO 3",price:"R$ 999,80/ms",features:["Robs ilimitados","Anlise de backtest completa","Suporte dedicado","30.000 tokens/ms","API para integrao","Indicadores exclusivos","Opes de white-label"]}],i=(()=>{switch(r.name){case"Free":return 100;case"PRO 1":return 5e3;case"PRO 2":return 12500;case"PRO 3":return 3e4;default:return 100}})(),o=()=>{window.open("https://buy.stripe.com/fZe5nX2320AB4EgfZC","_blank")},l=u=>{let d="Ol vim do DevHub Trader e quero mais informaes e ajuda para criar robs";switch(u){case"pro1":d="Ol vim do DevHub Trader e quero mais informaes e ajuda para fazer upgrade para o plano PRO 1 (R$ 259,80/ms).";break;case"pro2":d="Ol vim do DevHub Trader e quero mais informaes e ajuda para fazer upgrade para o plano PRO 2 (R$ 499,80/ms).";break;case"pro3":d="Ol vim do DevHub Trader e quero mais informaes e ajuda para fazer upgrade para o plano PRO 3 (R$ 999,80/ms).";break;default:d=`Ol vim do DevHub Trader e quero mais informaes e ajuda para fazer upgrade do meu plano atual (${r.name}).`}const f=encodeURIComponent(d);window.open(`https://wa.me/5511975333355?text=${f}`,"_blank")},c=()=>{const u=`Ol vim do DevHub Trader e quero mais informaes e ajuda para fazer downgrade do meu plano atual (${r.name}).`,d=encodeURIComponent(u);window.open(`https://wa.me/5511975333355?text=${d}`,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(ss,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full",title:"Back",children:a.jsx(Os,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Subscription & Tokens"})]})}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Zn,{className:"w-6 h-6 text-yellow-500"}),a.jsx("h2",{className:"text-xl font-semibold",children:"Current Plan"})]}),a.jsx("span",{className:"px-3 py-1 bg-green-600 bg-opacity-20 text-green-400 rounded-full text-sm",children:r.status==="active"?"Active":"Inactive"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Plan"}),a.jsx("p",{className:"text-lg font-medium",children:r.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Status"}),a.jsx("p",{className:"text-lg font-medium",children:r.status})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Next Renewal"}),a.jsx("p",{className:"text-lg font-medium",children:new Date(r.renewalDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Token Balance"}),a.jsxs("p",{className:"text-lg font-medium flex items-center",children:[a.jsx(dc,{showLabel:!1}),a.jsx("span",{className:"ml-1",children:"tokens"})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700 flex justify-between",children:[a.jsxs("button",{onClick:c,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md flex items-center",children:[a.jsx(ft,{className:"w-4 h-4 mr-2"}),"Downgrade Plan"]}),a.jsxs("button",{onClick:()=>l(""),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[a.jsx(ft,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})]}),a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Available Plans"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:n.map(u=>a.jsxs("div",{className:`bg-gray-800 rounded-lg p-6 relative ${u.isPopular?"ring-2 ring-blue-500":""}`,children:[u.isPopular&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-blue-600 rounded-full text-sm font-medium",children:"Most Popular"}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:u.name}),u.id==="pro2"&&a.jsx(Mn,{className:"w-5 h-5 text-yellow-500"}),u.id==="pro3"&&a.jsx(gi,{className:"w-5 h-5 text-purple-500"})]}),a.jsx("p",{className:"text-2xl font-bold mb-4",children:u.price}),a.jsx("ul",{className:"space-y-3 mb-6",children:u.features.map((d,f)=>a.jsxs("li",{className:"flex items-center text-gray-300",children:[a.jsx(at,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:d})]},f))}),a.jsx("button",{onClick:()=>r.name===u.name?null:l(u.id),className:`w-full py-2 rounded-md flex items-center justify-center ${r.name===u.name?"bg-green-600 hover:bg-green-700":u.isPopular?"bg-blue-600 hover:bg-blue-700":"bg-gray-700 hover:bg-gray-600"}`,children:r.name===u.name?"Current Plan":a.jsxs(a.Fragment,{children:[a.jsx(ft,{className:"w-4 h-4 mr-2"}),"Upgrade"]})})]},u.id))}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Re,{className:"w-6 h-6 text-yellow-500"}),a.jsx("h2",{className:"text-xl font-semibold",children:"Token Reload"})]})}),a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("p",{className:"text-lg mb-2",children:"Need more tokens?"}),a.jsx("p",{className:"text-gray-400",children:"Purchase additional tokens to continue using AI features"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:"R$ 299,80"}),a.jsx("p",{className:"text-sm text-gray-400",children:"per reload"})]}),a.jsxs("button",{onClick:o,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[a.jsx(ft,{className:"w-4 h-4 mr-2"}),"Buy Tokens"]})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Re,{className:"w-6 h-6 text-yellow-500"}),a.jsx("h2",{className:"text-xl font-semibold",children:"Token Usage"})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-400",children:"Monthly Allocation"}),a.jsxs("span",{className:"font-medium",children:[i.toLocaleString()," tokens"]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(100,r.tokenBalance/i*100)}%`}})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Available"}),a.jsx("p",{className:"text-xl font-medium",children:r.tokenBalance.toLocaleString()})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Used This Month"}),a.jsx("p",{className:"text-xl font-medium",children:Math.max(0,i-r.tokenBalance).toLocaleString()})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Resets In"}),a.jsx("p",{className:"text-xl font-medium",children:"23 days"})]})]})]})]})]})]})}function BL(){const e=Nt(),{profile:t}=Rt(),[r,n]=g.useState(""),[s,i]=g.useState("all"),[o,l]=g.useState(!1),[c,u]=g.useState(null),[d,f]=g.useState("10"),[h,p]=g.useState([]),[m,y]=g.useState(!0),[v,x]=g.useState(null),[b,w]=g.useState(null),[j,N]=g.useState(!1),[_,k]=g.useState(!1),[S,C]=g.useState(""),[P,E]=g.useState("10"),[M,O]=g.useState(!1),[F,A]=g.useState(null),[q,H]=g.useState(!1),[$,D]=g.useState(!1),[W,V]=g.useState(null),[L,se]=g.useState(!1),[K,B]=g.useState(""),ie=[{id:"free",name:"Free",tokenAllocation:100,robotLimit:5,description:"Basic plan with limited features"},{id:"pro1",name:"PRO 1",tokenAllocation:5e3,robotLimit:25,description:"For beginners with more tokens and robots"},{id:"pro2",name:"PRO 2",tokenAllocation:12500,robotLimit:100,description:"Professional plan with advanced features"},{id:"pro3",name:"PRO 3",tokenAllocation:3e4,robotLimit:999,description:"Premium plan with unlimited robots"}],ge=["pedropardal04@gmail.com","profitestrategista@gmail.com"];g.useEffect(()=>{t!=null&&t.email&&ge.includes(t.email)&&I()},[t]);const I=async()=>{try{y(!0),x(null);const{data:z,error:ve}=await Z.from("profiles").select("id, email, name, phone, token_balance, plan, plan_status, updated_at");if(ve)throw ve;const ee=z.map(ne=>({id:ne.id,email:ne.email,name:ne.name||ne.email.split("@")[0],phone:ne.phone||null,plan:ne.plan||"Free",status:ne.plan_status||"active",token_balance:ne.token_balance||0,last_sign_in_at:ne.updated_at}));p(ee)}catch(z){console.error("Error loading users:",z),x(z instanceof Error?z.message:"Failed to load users")}finally{y(!1)}},R=async()=>{if(F)try{H(!0),x(null);const{data:{session:z}}=await Z.auth.getSession();if(!(z!=null&&z.access_token))throw new Error("No valid authentication session");const ve=await fetch("https://kjprgjvqceedibcekkep.supabase.co/functions/v1/delete-user",{method:"POST",headers:{Authorization:`Bearer ${z.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({userId:F.id})});if(!ve.ok){const ne=await ve.json().catch(()=>({error:`HTTP error! status: ${ve.status}`}));throw new Error(ne.error||`Failed to delete user (Status: ${ve.status})`)}let ee;try{ee=await ve.json()}catch{throw new Error("Invalid response from server")}if(!ee.success)throw new Error(ee.error||"Failed to delete user");p(h.filter(ne=>ne.id!==F.id)),w(`User ${F.email} deleted successfully`),setTimeout(()=>w(null),3e3),O(!1),A(null)}catch(z){console.error("Error deleting user:",z),x(z instanceof Error?z.message:"Failed to delete user"),setTimeout(()=>x(null),5e3)}finally{H(!1)}},te=async()=>{if(c)try{N(!0);const z=parseInt(d);if(isNaN(z)||z<=0)throw new Error("Please enter a valid token amount");const{error:ve}=await Z.from("profiles").update({token_balance:(c.token_balance||0)+z}).eq("id",c.id);if(ve)throw ve;const ee=h.map(ne=>ne.id===c.id?{...ne,token_balance:(ne.token_balance||0)+z}:ne);p(ee),w(`Added ${z} tokens to ${c.email}`),setTimeout(()=>w(null),3e3),l(!1),u(null),f("10")}catch(z){console.error("Error adding tokens:",z),x(z instanceof Error?z.message:"Failed to add tokens"),setTimeout(()=>x(null),3e3)}finally{N(!1)}},ue=async()=>{try{N(!0);const z=parseInt(P);if(isNaN(z)||z<=0)throw new Error("Please enter a valid token amount");if(!S)throw new Error("Please enter an email address");const{data:{session:ve}}=await Z.auth.getSession();if(!(ve!=null&&ve.access_token))throw new Error("No valid authentication session");const ee=await fetch("https://kjprgjvqceedibcekkep.supabase.co/functions/v1/add-tokens",{method:"POST",headers:{Authorization:`Bearer ${ve.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({email:S,amount:z})});if(!ee.ok){const we=await ee.json().catch(()=>({error:`HTTP error! status: ${ee.status}`}));throw new Error(we.error||`Failed to add tokens (Status: ${ee.status})`)}let ne;try{ne=await ee.json()}catch{throw new Error("Invalid response from server")}if(!ne.success)throw new Error(ne.error||"Failed to add tokens");w(`Added ${z} tokens to ${S}`),setTimeout(()=>w(null),3e3),k(!1),C(""),E("10"),await I()}catch(z){console.error("Error adding tokens directly:",z),x(z instanceof Error?z.message:"Failed to add tokens"),setTimeout(()=>x(null),3e3)}finally{N(!1)}},T=async()=>{if(!(!W||!K))try{se(!0);const z=ie.find(ne=>ne.id===K);if(!z)throw new Error("Invalid plan selected");const{error:ve}=await Z.from("profiles").update({plan:z.name,plan_status:"active",plan_renewal_date:new Date(Date.now()+30*24*60*60*1e3).toISOString()}).eq("id",W.id);if(ve)throw ve;const ee=h.map(ne=>ne.id===W.id?{...ne,plan:z.name,status:"active"}:ne);p(ee),w(`Changed ${W.email}'s plan to ${z.name}`),setTimeout(()=>w(null),3e3),D(!1),V(null),B("")}catch(z){console.error("Error changing plan:",z),x(z instanceof Error?z.message:"Failed to change plan"),setTimeout(()=>x(null),3e3)}finally{se(!1)}},fe=z=>{u(z),l(!0)},me=z=>{var ve;V(z),B(((ve=ie.find(ee=>ee.name===z.plan))==null?void 0:ve.id)||"free"),D(!0)},Se=z=>{A(z),O(!0)},Te=async(z,ve)=>{try{const{error:ee}=await Z.from("profiles").update({plan_status:ve}).eq("id",z);if(ee)throw ee;p(h.map(ne=>ne.id===z?{...ne,status:ve}:ne)),w(`User status updated to ${ve}`),setTimeout(()=>w(null),3e3)}catch(ee){console.error("Error updating user status:",ee),x(ee instanceof Error?ee.message:"Failed to update user status"),setTimeout(()=>x(null),3e3)}},kt=z=>{const ve=new Date(z);return ve.toLocaleDateString()+" "+ve.toLocaleTimeString()},Or=h.filter(z=>(s==="all"||z.status===s)&&(z.email.toLowerCase().includes(r.toLowerCase())||z.name.toLowerCase().includes(r.toLowerCase())));return!(t!=null&&t.email)||!ge.includes(t.email)?a.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(it,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"You don't have permission to access this page."}),a.jsx("button",{onClick:()=>e("/robots"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Back to Robots"})]})}):a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(ss,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full",title:"Back",children:a.jsx(Os,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Admin Panel"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md flex items-center space-x-2",children:[a.jsx(Re,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Tokens"})]}),a.jsxs("button",{onClick:()=>{},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2",children:[a.jsx(l6,{className:"w-4 h-4"}),a.jsx("span",{children:"Add User"})]}),a.jsxs("button",{onClick:()=>{},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2",children:[a.jsx(ki,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Data"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Users"}),a.jsx(Fn,{className:"w-5 h-5 text-blue-500"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h.length}),a.jsx("p",{className:"text-sm text-gray-400",children:"Total Users"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h.filter(z=>z.status==="active").length}),a.jsx("p",{className:"text-sm text-gray-400",children:"Active Users"})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Subscriptions"}),a.jsx(Zn,{className:"w-5 h-5 text-yellow-500"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h.filter(z=>z.plan!=="Free").length}),a.jsx("p",{className:"text-sm text-gray-400",children:"Paid Plans"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h.filter(z=>z.plan==="Free").length}),a.jsx("p",{className:"text-sm text-gray-400",children:"Free Plans"})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Token Usage"}),a.jsx(Re,{className:"w-5 h-5 text-yellow-500"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h.reduce((z,ve)=>z+(ve.token_balance||0),0).toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-400",children:"Total Tokens"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h.length>0?(h.reduce((z,ve)=>z+(ve.token_balance||0),0)/h.length).toFixed(0):0}),a.jsx("p",{className:"text-sm text-gray-400",children:"Avg per User"})]})]})]})]}),b&&a.jsxs("div",{className:"mb-6 p-4 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center",children:[a.jsx(at,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),a.jsx("p",{className:"text-green-500",children:b})]}),v&&a.jsxs("div",{className:"mb-6 p-4 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),a.jsx("p",{className:"text-red-500",children:v})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[a.jsx("div",{className:"flex-1 w-full md:w-auto",children:a.jsxs("div",{className:"relative",children:[a.jsx(uu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:r,onChange:z=>n(z.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),a.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[a.jsxs("select",{value:s,onChange:z=>i(z.target.value),className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Users"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"suspended",children:"Suspended"})]}),a.jsx("button",{onClick:I,className:"p-2 hover:bg-gray-800 rounded-md border border-gray-700",title:"Refresh",children:a.jsx(lr,{className:`w-5 h-5 text-gray-400 ${m?"animate-spin":""}`})})]})]}),a.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:m?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(lr,{className:"w-8 h-8 text-blue-500 animate-spin"})}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-900",children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Plan"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Tokens"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Last Login"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-700",children:Or.map(z=>a.jsxs("tr",{className:"hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:z.name}),a.jsx("div",{className:"text-sm text-gray-400",children:z.email})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-500 bg-opacity-20 text-blue-400",children:z.plan}),a.jsx("button",{onClick:()=>me(z),className:"ml-2 p-1 hover:bg-gray-700 rounded-full",title:"Change plan",children:a.jsx(q1,{className:"w-4 h-4 text-gray-400"})})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${z.status==="active"?"bg-green-500 bg-opacity-20 text-green-400":"bg-red-500 bg-opacity-20 text-red-400"}`,children:z.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[z.token_balance.toLocaleString(),a.jsx("button",{onClick:()=>fe(z),className:"ml-2 p-1 hover:bg-gray-700 rounded-full",title:"Add tokens",children:a.jsx(s6,{className:"w-4 h-4 text-green-400"})})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-400",children:z.phone||"Not provided"}),a.jsx("td",{className:"px-6 py-4 text-gray-400",children:kt(z.last_sign_in_at)}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{className:"p-1.5 hover:bg-gray-700 rounded",title:"Edit user",children:a.jsx(q1,{className:"w-4 h-4 text-gray-400"})}),z.status==="active"?a.jsx("button",{onClick:()=>Te(z.id,"suspended"),className:"p-1.5 hover:bg-gray-700 rounded",title:"Suspend user",children:a.jsx(t6,{className:"w-4 h-4 text-red-400"})}):a.jsx("button",{onClick:()=>Te(z.id,"active"),className:"p-1.5 hover:bg-gray-700 rounded",title:"Activate user",children:a.jsx(at,{className:"w-4 h-4 text-green-400"})}),a.jsx("button",{onClick:()=>Se(z),className:"p-1.5 hover:bg-gray-700 rounded",title:"Delete user",children:a.jsx(cc,{className:"w-4 h-4 text-red-400"})})]})})]},z.id))})]})})]}),o&&c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:()=>{l(!1),u(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:a.jsx(Ie,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Re,{className:"w-12 h-12 text-yellow-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Add Tokens"}),a.jsxs("p",{className:"mt-2 text-gray-400",children:["Add tokens to ",c.name,"'s account"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Balance"}),a.jsxs("div",{className:"px-3 py-2 bg-gray-700 rounded-md text-white",children:[c.token_balance.toLocaleString()," tokens"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Token Amount"}),a.jsx("input",{type:"number",value:d,onChange:z=>f(z.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>{l(!1),u(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:j,children:"Cancel"}),a.jsx("button",{onClick:te,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white flex items-center",disabled:j,children:j?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Add Tokens"})]})]})]})}),_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:()=>k(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:j,children:a.jsx(Ie,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Re,{className:"w-12 h-12 text-yellow-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Add Tokens by Email"}),a.jsx("p",{className:"mt-2 text-gray-400",children:"Add tokens to a user's account by email"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"User Email"}),a.jsx("input",{type:"email",value:S,onChange:z=>C(z.target.value),placeholder:"user@example.com",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Token Amount"}),a.jsx("input",{type:"number",value:P,onChange:z=>E(z.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:j,children:"Cancel"}),a.jsx("button",{onClick:ue,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white flex items-center",disabled:j||!S||!P,children:j?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Add Tokens"})]})]})]})}),M&&F&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:()=>{O(!1),A(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:q,children:a.jsx(Ie,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(cc,{className:"w-12 h-12 text-red-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Delete User"}),a.jsxs("p",{className:"mt-2 text-gray-400",children:["Are you sure you want to delete ",F.email,"?"]})]}),a.jsx("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),a.jsx("p",{className:"text-red-400 text-sm",children:"This action cannot be undone. All user data, including robots, versions, and settings will be permanently deleted."})]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>{O(!1),A(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:q,children:"Cancel"}),a.jsx("button",{onClick:R,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md text-white flex items-center",disabled:q,children:q?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cc,{className:"w-4 h-4 mr-2"}),"Delete User"]})})]})]})}),$&&W&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:()=>{D(!1),V(null),B("")},className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:L,children:a.jsx(Ie,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Sg,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Change Plan"}),a.jsxs("p",{className:"mt-2 text-gray-400",children:["Update subscription plan for ",W.email]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Plan"}),a.jsx("div",{className:"px-3 py-2 bg-gray-700 rounded-md text-white",children:W.plan})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Plan"}),a.jsx("select",{value:K,onChange:z=>B(z.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:ie.map(z=>a.jsxs("option",{value:z.id,children:[z.name," - ",z.tokenAllocation.toLocaleString()," tokens, ",z.robotLimit," robots"]},z.id))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>{D(!1),V(null),B("")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:L,children:"Cancel"}),a.jsx("button",{onClick:T,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white flex items-center",disabled:L||!K,children:L?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Change Plan"})]})]})]})})]})}function zL(){const e=Nt(),t=r=>{const n=`Ol vim do DevHub Trader e quero mais informaes e ajuda para criar robs${r?` - ${r}`:""}`,s=encodeURIComponent(n);window.open(`https://wa.me/5511975333355?text=${s}`,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(ss,{}),a.jsx("div",{className:"bg-gray-900 border-b border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Back to robots",children:a.jsx(Os,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Robs Prontos e Copy Trade"})]})})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer",children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-indigo-700 flex items-center justify-center",children:a.jsx(ki,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Robs Prontos"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Adquira robs de trading j configurados e prontos para operar em diversos mercados."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Resultados comprovados"})]}),a.jsxs("button",{onClick:()=>t("Robs Prontos"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md flex items-center",children:[a.jsx(ft,{className:"w-4 h-4 mr-2"}),"Contato"]})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer",children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-green-600 to-teal-700 flex items-center justify-center",children:a.jsx(Fn,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Copy Trade"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Copie automaticamente as operaes dos melhores traders da plataforma e lucre junto."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Sem conhecimento tcnico"})]}),a.jsxs("button",{onClick:()=>t("Copy Trade"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md flex items-center",children:[a.jsx(ft,{className:"w-4 h-4 mr-2"}),"Contato"]})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer",children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-purple-600 to-pink-700 flex items-center justify-center",children:a.jsx(Dy,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Estratgias Personalizadas"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Solicite o desenvolvimento de estratgias sob medida para suas necessidades especficas."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Suporte dedicado"})]}),a.jsxs("button",{onClick:()=>t("Estratgias Personalizadas"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md flex items-center",children:[a.jsx(ft,{className:"w-4 h-4 mr-2"}),"Solicitar"]})]})]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8 mb-12",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Robs prontos para todos os perfis"}),a.jsx("p",{className:"text-blue-100 max-w-xl mb-4",children:"Acesse nossa plataforma completa com dezenas de robs prontos para uso, estratgias testadas e sistema de copy trade."}),a.jsxs("div",{className:"flex items-center text-sm text-blue-200",children:[a.jsx(hn,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:"Comece a operar em minutos"})]})]}),a.jsxs("button",{onClick:()=>t("Plataforma Completa"),className:"px-6 py-3 bg-green-500 text-white font-medium rounded-md hover:bg-green-600 flex items-center",children:[a.jsx(ft,{className:"w-5 h-5 mr-2"}),"Falar com Especialista"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-3 mr-4",children:a.jsx(Mn,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Robs Verificados"})]}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Todos os robs so testados e verificados pela nossa equipe para garantir qualidade e segurana."}),a.jsxs("button",{onClick:()=>t("Robs Verificados"),className:"text-green-400 hover:text-green-300 flex items-center text-sm",children:[a.jsx(ft,{className:"w-4 h-4 mr-1"}),"Fale com um especialista"]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-green-600 rounded-full p-3 mr-4",children:a.jsx(Ro,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Copy Trade Premium"})]}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Copie as operaes dos melhores traders da plataforma e obtenha resultados consistentes sem precisar operar."}),a.jsxs("button",{onClick:()=>t("Copy Trade Premium"),className:"text-green-400 hover:text-green-300 flex items-center text-sm",children:[a.jsx(ft,{className:"w-4 h-4 mr-1"}),"Conhecer Copy Trade"]})]})]})]})]})}function UL(){const e=Nt(),{signUpWithEmail:t,profile:r}=Rt(),[n,s]=g.useState(1),[i,o]=g.useState({fullName:"",email:"",password:"",confirmPassword:"",specialty:"",experience:"",portfolio:"",phone:"",agreeTerms:!1}),[l,c]=g.useState(!1),[u,d]=g.useState(null),[f,h]=g.useState(!1),[p,m]=g.useState(!1),y=["algorithmic-trading","machine-learning","technical-analysis","risk-management","backtesting","strategy-development"],v=_=>{const{name:k,value:S,type:C}=_.target,P=C==="checkbox"?_.target.checked:void 0;o(E=>({...E,[k]:C==="checkbox"?P:S}))},x=()=>{if(d(null),n===1){if(!i.fullName.trim())return"Full name is required";if(!i.email.trim())return"Email is required";if(!i.email.includes("@"))return"Please enter a valid email";if(!i.password)return"Password is required";if(i.password.length<6)return"Password must be at least 6 characters";if(i.password!==i.confirmPassword)return"Passwords do not match";if(!i.phone.trim())return"Phone number is required"}if(n===2){if(!i.specialty)return"Please select your specialty";if(!i.experience.trim())return"Please describe your experience"}return n===3&&!i.agreeTerms?"You must agree to the terms and conditions":null},b=()=>{const _=x();if(_){d(_);return}s(k=>k+1)},w=()=>{s(_=>_-1)},j=async _=>{_.preventDefault();const k=x();if(k){d(k);return}h(!0),d(null);try{const S=`Ol vim do DevHub Trader e quero mais informaes e ajuda para me tornar um desenvolvedor. Meus dados: Nome: ${i.fullName}, Email: ${i.email}, Telefone: ${i.phone}, Especialidade: ${i.specialty}`,C=encodeURIComponent(S);m(!0),setTimeout(()=>{window.open(`https://wa.me/5511975333355?text=${C}`,"_blank"),e("/experts")},3e3)}catch(S){console.error("Error registering developer:",S),d(S instanceof Error?S.message:"Failed to register. Please try again.")}finally{h(!1)}},N=_=>_.split("-").map(k=>k.charAt(0).toUpperCase()+k.slice(1)).join(" ");return r?(e("/robots"),null):a.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/experts"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Back to experts",children:a.jsx(Os,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Become a Developer"})]})}),a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8 mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[a.jsxs("div",{className:"md:w-2/3 mb-6 md:mb-0 md:pr-8",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Join Our Developer Network"}),a.jsx("p",{className:"text-blue-100 mb-4",children:"Become a certified trading developer and connect with clients looking for your expertise. Grow your business and showcase your skills to our community."}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"bg-blue-800 bg-opacity-50 rounded-lg px-4 py-2 flex items-center",children:[a.jsx(Ro,{className:"w-5 h-5 text-yellow-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Monthly Subscription"}),a.jsx("p",{className:"text-blue-200 text-sm",children:"R$ 199,90/month"})]})]}),a.jsxs("div",{className:"bg-blue-800 bg-opacity-50 rounded-lg px-4 py-2 flex items-center",children:[a.jsx(gi,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"One-time Registration"}),a.jsx("p",{className:"text-blue-200 text-sm",children:"R$ 499,90"})]})]})]})]}),a.jsx("div",{className:"md:w-1/3 flex justify-center",children:a.jsx("div",{className:"bg-blue-800 bg-opacity-40 rounded-full p-8",children:a.jsx(jt,{className:"w-24 h-24 text-white"})})})]})}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n>=1?"bg-blue-600":"bg-gray-700"}`,children:a.jsx(es,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-sm mt-2",children:"Account"})]}),a.jsx("div",{className:`flex-1 h-1 mx-2 ${n>=2?"bg-blue-600":"bg-gray-700"}`}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n>=2?"bg-blue-600":"bg-gray-700"}`,children:a.jsx(Dy,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-sm mt-2",children:"Profile"})]}),a.jsx("div",{className:`flex-1 h-1 mx-2 ${n>=3?"bg-blue-600":"bg-gray-700"}`}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n>=3?"bg-blue-600":"bg-gray-700"}`,children:a.jsx(Sg,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-sm mt-2",children:"Payment"})]})]})}),u&&a.jsxs("div",{className:"mb-6 p-4 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),a.jsx("p",{className:"text-red-500",children:u})]}),p&&a.jsxs("div",{className:"mb-6 p-4 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center",children:[a.jsx(jr,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-500 font-medium",children:"Registration request sent!"}),a.jsx("p",{className:"text-green-400 text-sm",children:"Redirecting you to WhatsApp to complete your registration..."})]})]}),a.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:a.jsxs("form",{onSubmit:j,children:[n===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Account Information"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(es,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",name:"fullName",value:i.fullName,onChange:v,placeholder:"Your full name",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Vh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",name:"email",value:i.email,onChange:v,placeholder:"your@email.com",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(Phone,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:v,placeholder:"+55 (11) 98765-4321",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Nf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:l?"text":"password",name:"password",value:i.password,onChange:v,placeholder:"",className:"w-full pl-10 pr-10 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:l?a.jsx(nS,{className:"w-5 h-5"}):a.jsx(Iy,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Password must be at least 6 characters"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Nf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:l?"text":"password",name:"confirmPassword",value:i.confirmPassword,onChange:v,placeholder:"",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),n===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Developer Profile"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Primary Specialty"}),a.jsxs("div",{className:"relative",children:[a.jsx(V1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsxs("select",{name:"specialty",value:i.specialty,onChange:v,className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none",children:[a.jsx("option",{value:"",children:"Select your specialty"}),y.filter(_=>_!=="all").map(_=>a.jsx("option",{value:_,children:N(_)},_))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Experience"}),a.jsx("textarea",{name:"experience",value:i.experience,onChange:v,rows:4,placeholder:"Describe your experience in trading and development...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Portfolio URL (optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(V1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"url",name:"portfolio",value:i.portfolio,onChange:v,placeholder:"https://your-portfolio.com",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),n===3&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Information"}),a.jsx("div",{className:"bg-blue-900 bg-opacity-30 border border-blue-800 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-2 mr-4 flex-shrink-0",children:a.jsx(Mn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Developer Subscription"}),a.jsx("p",{className:"text-blue-200 mb-2",children:"Join our network of certified developers"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-baseline",children:[a.jsx("span",{className:"text-2xl font-bold",children:"R$ 199,90"}),a.jsx("span",{className:"text-blue-300 ml-2",children:"/month"})]}),a.jsxs("div",{className:"flex items-baseline mt-1",children:[a.jsx("span",{className:"text-lg font-bold",children:"+ R$ 499,90"}),a.jsx("span",{className:"text-blue-300 ml-2",children:"one-time registration fee"})]})]}),a.jsxs("ul",{className:"mt-3 space-y-1",children:[a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Featured listing in our experts directory"})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Direct client connections"})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"5,000 tokens monthly"})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Developer badge and verification"})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Priority support and resources"})]})]})]})]})}),a.jsxs("div",{className:"flex items-start mt-4",children:[a.jsx("input",{type:"checkbox",id:"agreeTerms",name:"agreeTerms",checked:i.agreeTerms,onChange:v,className:"mt-1 mr-2"}),a.jsxs("label",{htmlFor:"agreeTerms",className:"text-sm text-gray-300",children:["I agree to the ",a.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300",children:"Terms of Service"})," and ",a.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300",children:"Privacy Policy"}),". I understand that I will be charged R$ 199,90 monthly and a one-time registration fee of R$ 499,90."]})]})]}),a.jsxs("div",{className:"flex justify-between mt-8",children:[n>1?a.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Previous"}):a.jsx("button",{type:"button",onClick:()=>e("/experts"),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Cancel"}),n<3?a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Next"}):a.jsx("button",{type:"submit",disabled:f||p,className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:f?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ft,{className:"w-5 h-5 mr-2"}),"Complete Registration"]})})]})]})}),a.jsxs("div",{className:"mt-8 bg-gray-800 rounded-lg p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[a.jsx(Ro,{className:"w-6 h-6 text-yellow-500 mr-2"}),"Developer Benefits"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-2 mr-3",children:a.jsx(Fn,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-medium",children:"Client Connections"})]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Get direct access to clients looking for trading expertise and development services."})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-green-600 rounded-full p-2 mr-3",children:a.jsx(Mn,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-medium",children:"Verification Badge"})]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Stand out with a verified developer badge that builds trust with potential clients."})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-purple-600 rounded-full p-2 mr-3",children:a.jsx(Re,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-medium",children:"Premium Tools"})]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Access premium development tools and 5,000 monthly tokens for AI assistance."})]})]})]}),a.jsxs("div",{className:"mt-8 bg-gray-800 rounded-lg p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[a.jsx(Sg,{className:"w-6 h-6 text-blue-500 mr-2"}),"Pricing Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-medium",children:"Monthly Subscription"}),a.jsx("div",{className:"bg-blue-600 rounded-full px-3 py-1 text-sm",children:"Recurring"})]}),a.jsxs("div",{className:"text-2xl font-bold mb-2",children:["R$ 199,90",a.jsx("span",{className:"text-sm font-normal text-gray-400",children:"/month"})]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Billed monthly. Cancel anytime. Includes all developer benefits and platform access."})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-medium",children:"Registration Fee"}),a.jsx("div",{className:"bg-green-600 rounded-full px-3 py-1 text-sm",children:"One-time"})]}),a.jsx("div",{className:"text-2xl font-bold mb-2",children:"R$ 499,90"}),a.jsx("p",{className:"text-gray-300 text-sm",children:"One-time payment for account verification, profile setup, and initial platform onboarding."})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-900 bg-opacity-30 border border-blue-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(jr,{className:"w-5 h-5 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-blue-100 text-sm",children:["Your first payment today will be ",a.jsx("span",{className:"font-bold",children:"R$ 699,80"})," (R$ 199,90 + R$ 499,90). After that, you'll be charged R$ 199,90 monthly."]})]})})]})]})})}function VL(){Nt();const e=t=>{const r=`Ol vim do DevHub Trader e quero mais informaes e ajuda para criar robs${t?` - ${t}`:""}`,n=encodeURIComponent(r);window.open(`https://wa.me/5511975333355?text=${n}`,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(ss,{}),a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[a.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Mesa Proprietria de Trading"}),a.jsx("p",{className:"text-xl text-blue-100 mb-6",children:"Opere com nosso capital e divida os lucros. Sem risco financeiro para voc."}),a.jsxs("button",{onClick:()=>e("Mesa Proprietria"),className:"px-6 py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center",children:[a.jsx(ft,{className:"w-5 h-5 mr-2"}),"Falar com Especialista"]})]}),a.jsx("div",{className:"md:w-1/2 flex justify-center",children:a.jsx("div",{className:"bg-blue-800 bg-opacity-30 rounded-lg p-8",children:a.jsx(tS,{className:"w-32 h-32 text-blue-300"})})})]})})}),a.jsx("div",{className:"py-12 bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Traders Ativos"}),a.jsx(Fn,{className:"w-6 h-6 text-blue-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"120+"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Operando diariamente"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Capital Gerenciado"}),a.jsx(Lc,{className:"w-6 h-6 text-green-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"R$ 5M+"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Em operaes ativas"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Retorno Mdio"}),a.jsx(Ar,{className:"w-6 h-6 text-yellow-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"3.2%"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Mensal por trader"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Anos de Mercado"}),a.jsx(xn,{className:"w-6 h-6 text-purple-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"8+"}),a.jsx("p",{className:"text-sm text-gray-400",children:"De experincia"})]})]})})}),a.jsx("div",{className:"py-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:()=>e("Capital Gerenciado"),children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-indigo-700 flex items-center justify-center",children:a.jsx(Lc,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Capital Gerenciado"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Opere com nosso capital e divida os lucros. Planos a partir de R$ 5.000 at R$ 50.000."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Sem risco financeiro"})]}),a.jsx(lc,{className:"w-5 h-5 text-blue-400"})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:()=>e("Mentoria Especializada"),children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-green-600 to-teal-700 flex items-center justify-center",children:a.jsx(Fn,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Mentoria Especializada"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Receba orientao de traders profissionais e desenvolva suas habilidades com suporte contnuo."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Acompanhamento semanal"})]}),a.jsx(lc,{className:"w-5 h-5 text-green-400"})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:()=>e("Estratgias Exclusivas"),children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-purple-600 to-pink-700 flex items-center justify-center",children:a.jsx(Ar,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Estratgias Exclusivas"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Acesse estratgias proprietrias desenvolvidas por nossa equipe com alto ndice de assertividade."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Resultados comprovados"})]}),a.jsx(lc,{className:"w-5 h-5 text-purple-400"})]})]})]})]})})}),a.jsx("div",{className:"py-12 bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Pronto para comear?"}),a.jsx("p",{className:"text-blue-100 max-w-xl mb-4",children:"Acesse nossa plataforma completa de mesa proprietria e comece a operar com nosso capital hoje mesmo."}),a.jsxs("div",{className:"flex items-center text-sm text-blue-200",children:[a.jsx(hn,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:"Processo de avaliao rpido e 100% online"})]})]}),a.jsxs("button",{onClick:()=>e("Mesa Proprietria - CTA"),className:"px-6 py-3 bg-green-500 text-white font-medium rounded-md hover:bg-green-600 flex items-center",children:[a.jsx(ft,{className:"w-5 h-5 mr-2"}),"Falar com Especialista"]})]})})})}),a.jsx("div",{className:"py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Comece sua jornada como trader profissional"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto mb-8",children:"Junte-se a centenas de traders que j esto operando com nosso capital e transformando suas carreiras."}),a.jsxs("button",{onClick:()=>e("Jornada Trader Profissional"),className:"px-8 py-4 bg-green-500 hover:bg-green-600 rounded-md font-medium text-lg inline-flex items-center",children:[a.jsx(ft,{className:"w-5 h-5 mr-2"}),"Falar com Especialista"]})]})})]})}function qL(){Nt();const[e,t]=g.useState(null),[r,n]=g.useState(!1),[s,i]=g.useState(!1),[o,l]=g.useState(null),c=[{id:"1",name:"Trend Master Pro",description:"Estratgia de seguimento de tendncia com filtros avanados e gerenciamento de risco dinmico.",price:"R$ 997",platform:"Profit",market:"Mini ndice",timeframe:"M5",rating:4.8,reviews:124,image:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=500&h=300&fit=crop",featured:!0},{id:"2",name:"Reversal Hunter",description:"Estratgia de reverso  mdia com identificao precisa de pontos de entrada e sada.",price:"R$ 897",platform:"Profit",market:"Mini Dlar",timeframe:"M15",rating:4.6,reviews:98,image:"https://images.unsplash.com/photo-1535320903710-d993d3d77d29?w=500&h=300&fit=crop"},{id:"3",name:"Scalper Elite",description:"Estratgia de scalping de alta frequncia para operaes rpidas e precisas.",price:"R$ 1.297",platform:"Profit",market:"Mini ndice/Dlar",timeframe:"M1/M5",rating:4.9,reviews:156,image:"https://images.unsplash.com/photo-1642790551116-18e150f248e5?w=500&h=300&fit=crop"},{id:"4",name:"Breakout Master",description:"Estratgia especializada em identificar e operar rompimentos de suportes e resistncias.",price:"R$ 997",platform:"Profit",market:"Mini ndice",timeframe:"M15/H1",rating:4.7,reviews:87,image:"https://images.unsplash.com/photo-1559526324-593bc073d938?w=500&h=300&fit=crop"}],u=[{question:"Como funcionam as estratgias para Profit?",answer:"Nossas estratgias so desenvolvidas especificamente para a plataforma Profit. Aps a compra, voc recebe um arquivo de configurao que pode ser importado diretamente na plataforma. Todas as estratgias vm com instrues detalhadas de instalao e uso."},{question:"As estratgias funcionam em outras plataformas?",answer:"No, nossas estratgias so desenvolvidas exclusivamente para a plataforma Profit. Cada plataforma tem sua prpria linguagem e estrutura, por isso no  possvel utilizar em outras plataformas como MetaTrader ou TradingView."},{question:"Posso personalizar as estratgias?",answer:"Sim, todas as nossas estratgias permitem personalizao dos principais parmetros como stop loss, take profit, horrios de operao e filtros. No entanto, o cdigo-fonte no  fornecido para preservar a propriedade intelectual."},{question:"Vocs oferecem suporte aps a compra?",answer:"Sim, oferecemos suporte tcnico por 6 meses aps a compra. Isso inclui ajuda com instalao, configurao e otimizao da estratgia para seu perfil de risco. Aps esse perodo,  possvel adquirir extenses de suporte."},{question:"Qual a garantia de que as estratgias so lucrativas?",answer:"Todas as nossas estratgias passam por rigorosos testes de backtesting e so utilizadas por traders reais. Oferecemos uma garantia de 30 dias: se a estratgia no atender s suas expectativas, devolvemos seu dinheiro. No entanto,  importante lembrar que resultados passados no garantem resultados futuros."},{question:"Como recebo a estratgia aps a compra?",answer:"Aps a confirmao do pagamento, voc receber um email com os arquivos da estratgia e instrues detalhadas de instalao. Normalmente, o envio  feito em at 24 horas teis."}],d=m=>{t(e===m?null:m)},f=m=>{const y=`Ol vim do DevHub Trader e quero mais informaes e ajuda para criar robs${m?` - ${m}`:""}`,v=encodeURIComponent(y);window.open(`https://wa.me/5511975333355?text=${v}`,"_blank")},h=m=>{m.preventDefault(),f("Formulrio de Contato"),n(!1)},p=m=>{m.preventDefault(),o&&f(`Compra de Estratgia - ${o.name}`),i(!1),l(null)};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(ss,{}),a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[a.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Profit Estrategista"}),a.jsx("p",{className:"text-xl text-blue-100 mb-6",children:"Estratgias automatizadas de alta performance para a plataforma Profit."}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[a.jsx("button",{onClick:()=>{const m=document.getElementById("strategies");m==null||m.scrollIntoView({behavior:"smooth"})},className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md font-medium",children:"Ver Estratgias"}),a.jsxs("button",{onClick:()=>f("Demonstrao"),className:"px-6 py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center justify-center",children:[a.jsx(ft,{className:"w-5 h-5 mr-2"}),"Solicitar Demonstrao"]})]})]}),a.jsx("div",{className:"md:w-1/2 flex justify-center",children:a.jsx("div",{className:"bg-blue-800 bg-opacity-40 rounded-lg p-8",children:a.jsx(jt,{className:"w-32 h-32 text-blue-300"})})})]})})}),a.jsx("div",{className:"py-12 bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Estratgias"}),a.jsx(jt,{className:"w-6 h-6 text-blue-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"12+"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Estratgias disponveis"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Clientes"}),a.jsx(Fn,{className:"w-6 h-6 text-green-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"500+"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Traders satisfeitos"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Rentabilidade"}),a.jsx(Ar,{className:"w-6 h-6 text-yellow-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"2.5%"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Mdia mensal"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Suporte"}),a.jsx(xn,{className:"w-6 h-6 text-purple-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"6"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Meses inclusos"})]})]})})}),a.jsx("div",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Por Que Escolher Nossas Estratgias"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Desenvolvidas por traders profissionais com anos de experincia no mercado."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-3 mr-4",children:a.jsx(Ar,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Performance Comprovada"})]}),a.jsx("p",{className:"text-gray-300",children:"Todas as estratgias so testadas em condies reais de mercado e possuem histrico de performance comprovada."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-green-600 rounded-full p-3 mr-4",children:a.jsx(gi,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Gerenciamento de Risco"})]}),a.jsx("p",{className:"text-gray-300",children:"Sistemas avanados de gerenciamento de risco para proteger seu capital e maximizar seus ganhos."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-purple-600 rounded-full p-3 mr-4",children:a.jsx(Re,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Suporte Especializado"})]}),a.jsx("p",{className:"text-gray-300",children:"Suporte tcnico especializado por 6 meses para ajudar na configurao e otimizao da sua estratgia."})]})]})]})}),a.jsx("div",{id:"strategies",className:"py-16 bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Nossas Estratgias"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Escolha a estratgia que melhor se adapta ao seu perfil e objetivos."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(m=>a.jsxs("div",{className:`bg-gray-800 rounded-lg overflow-hidden ${m.featured?"ring-2 ring-blue-500":""}`,children:[m.featured&&a.jsx("div",{className:"bg-blue-600 text-center py-2",children:a.jsx("p",{className:"text-sm font-medium",children:"Mais Vendida"})}),a.jsx("img",{src:m.image,alt:m.name,className:"w-full h-48 object-cover"}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:m.name}),a.jsx("p",{className:"text-gray-300 mb-4",children:m.description}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-700 rounded-full text-xs",children:m.platform}),a.jsx("span",{className:"px-2 py-1 bg-gray-700 rounded-full text-xs",children:m.market}),a.jsx("span",{className:"px-2 py-1 bg-gray-700 rounded-full text-xs",children:m.timeframe})]}),a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"flex mr-2",children:[1,2,3,4,5].map(y=>a.jsx(Mn,{className:`w-4 h-4 ${y<=Math.floor(m.rating)?"text-yellow-500":"text-gray-600"}`,fill:y<=Math.floor(m.rating)?"currentColor":"none"},y))}),a.jsxs("span",{className:"text-sm text-gray-400",children:["(",m.reviews," avaliaes)"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-2xl font-bold",children:m.price}),a.jsxs("button",{onClick:()=>f(`Estratgia ${m.name}`),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md flex items-center",children:[a.jsx(ft,{className:"w-4 h-4 mr-2"}),"Comprar"]})]})]})]},m.id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs("button",{onClick:()=>f("Estratgia Personalizada"),className:"px-6 py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center mx-auto",children:[a.jsx(ft,{className:"w-5 h-5 mr-2"}),"Solicitar Estratgia Personalizada"]})})]})}),a.jsx("div",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Como Funciona"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Processo simples para comear a operar com nossas estratgias automatizadas."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-xl font-bold",children:"1"}),a.jsx("h3",{className:"text-xl font-semibold mb-4 mt-4",children:"Escolha"}),a.jsx("p",{className:"text-gray-300",children:"Selecione a estratgia que melhor se adapta ao seu perfil e objetivos de trading."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-xl font-bold",children:"2"}),a.jsx("h3",{className:"text-xl font-semibold mb-4 mt-4",children:"Compre"}),a.jsx("p",{className:"text-gray-300",children:"Entre em contato conosco via WhatsApp para finalizar sua compra de forma segura."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-xl font-bold",children:"3"}),a.jsx("h3",{className:"text-xl font-semibold mb-4 mt-4",children:"Instale"}),a.jsx("p",{className:"text-gray-300",children:"Receba os arquivos por email e siga as instrues detalhadas de instalao."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-xl font-bold",children:"4"}),a.jsx("h3",{className:"text-xl font-semibold mb-4 mt-4",children:"Opere"}),a.jsx("p",{className:"text-gray-300",children:"Configure a estratgia conforme suas preferncias e comece a operar automaticamente."})]})]})]})}),a.jsx("div",{className:"py-16 bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"O Que Dizem Nossos Clientes"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Veja o que os traders que utilizam nossas estratgias tm a dizer."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("img",{src:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop",alt:"Cliente",className:"w-12 h-12 rounded-full mr-4"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Carlos Mendes"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Trader h 3 anos"})]})]}),a.jsx("p",{className:"text-gray-300",children:'"A estratgia Trend Master Pro superou todas as minhas expectativas. O suporte tcnico  excelente e os resultados so consistentes."'}),a.jsx("div",{className:"flex mt-4",children:[1,2,3,4,5].map(m=>a.jsx(Mn,{className:"w-5 h-5 text-yellow-500",fill:"currentColor"},m))})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("img",{src:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop",alt:"Cliente",className:"w-12 h-12 rounded-full mr-4"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Fernanda Silva"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Trader h 2 anos"})]})]}),a.jsx("p",{className:"text-gray-300",children:'"Comecei com a Reversal Hunter e depois adquiri a Scalper Elite. Ambas so excelentes e me ajudaram a ter consistncia nos resultados."'}),a.jsx("div",{className:"flex mt-4",children:[1,2,3,4,5].map(m=>a.jsx(Mn,{className:`w-5 h-5 ${m<=4?"text-yellow-500":"text-gray-600"}`,fill:m<=4?"currentColor":"none"},m))})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("img",{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop",alt:"Cliente",className:"w-12 h-12 rounded-full mr-4"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Ricardo Alves"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Trader h 5 anos"})]})]}),a.jsx("p",{className:"text-gray-300",children:'"Como trader experiente, posso dizer que as estratgias da Profit Estrategista esto entre as melhores que j utilizei. Recomendo fortemente."'}),a.jsx("div",{className:"flex mt-4",children:[1,2,3,4,5].map(m=>a.jsx(Mn,{className:"w-5 h-5 text-yellow-500",fill:"currentColor"},m))})]})]})]})}),a.jsx("div",{className:"py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Perguntas Frequentes"}),a.jsx("p",{className:"text-xl text-gray-400",children:"Tire suas dvidas sobre nossas estratgias"})]}),a.jsx("div",{className:"space-y-4",children:u.map((m,y)=>a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>d(y),className:"w-full px-6 py-4 text-left flex items-center justify-between focus:outline-none",children:[a.jsx("h3",{className:"text-lg font-medium",children:m.question}),e===y?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})]}),e===y&&a.jsx("div",{className:"px-6 pb-4",children:a.jsx("p",{className:"text-gray-300",children:m.answer})})]},y))})]})}),a.jsx("div",{className:"py-16 bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pronto para automatizar suas operaes?"}),a.jsx("p",{className:"text-blue-100 max-w-xl mb-6",children:"Escolha uma de nossas estratgias prontas ou solicite uma estratgia personalizada para suas necessidades especficas."}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[a.jsx("button",{onClick:()=>{const m=document.getElementById("strategies");m==null||m.scrollIntoView({behavior:"smooth"})},className:"px-6 py-3 bg-white text-blue-900 font-medium rounded-md hover:bg-gray-100",children:"Ver Estratgias"}),a.jsxs("button",{onClick:()=>f("Estratgia Personalizada"),className:"px-6 py-3 bg-green-500 hover:bg-green-600 text-white font-medium rounded-md flex items-center justify-center",children:[a.jsx(ft,{className:"w-5 h-5 mr-2"}),"Estratgia Personalizada"]})]})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx(jt,{className:"w-32 h-32 text-blue-300"})})]})})})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:a.jsx(Ie,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Solicitar Informaes"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Preencha o formulrio abaixo para receber mais informaes sobre nossas estratgias"})]}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome Completo"}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),a.jsx("input",{type:"email",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Telefone"}),a.jsx("input",{type:"tel",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Interesse"}),a.jsxs("select",{className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Selecione uma opo"}),a.jsx("option",{value:"strategy",children:"Estratgia especfica"}),a.jsx("option",{value:"custom",children:"Estratgia personalizada"}),a.jsx("option",{value:"demo",children:"Demonstrao"}),a.jsx("option",{value:"other",children:"Outro"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Mensagem"}),a.jsx("textarea",{rows:4,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("button",{type:"submit",className:"w-full py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center justify-center",children:[a.jsx(ft,{className:"w-5 h-5 mr-2"}),"Enviar Mensagem"]})]})]})}),s&&o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:()=>{i(!1),l(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:a.jsx(Ie,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Comprar Estratgia"}),a.jsxs("p",{className:"text-gray-400 mt-2",children:[o.name," - ",o.price]})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("h3",{className:"font-medium",children:"Detalhes da Estratgia"})}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(at,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsxs("span",{children:["Plataforma: ",o.platform]})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(at,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsxs("span",{children:["Mercado: ",o.market]})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(at,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsxs("span",{children:["Timeframe: ",o.timeframe]})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(at,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Suporte tcnico por 6 meses"})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(at,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Atualizaes gratuitas"})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(at,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Garantia de 30 dias"})]})]})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome Completo"}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),a.jsx("input",{type:"email",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Telefone"}),a.jsx("input",{type:"tel",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",id:"terms",className:"mt-1 mr-2",required:!0}),a.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-300",children:["Concordo com os ",a.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300",children:"Termos e Condies"})," e ",a.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300",children:"Poltica de Privacidade"})]})]}),a.jsxs("button",{type:"submit",className:"w-full py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center justify-center",children:[a.jsx(ft,{className:"w-5 h-5 mr-2"}),"Finalizar Compra"]})]})]})})]})}function Nj({message:e="Ol vim do DevHub Trader e quero mais informaes e ajuda para criar robs"}){const[t,r]=Tt.useState(!1),n=()=>{const s=encodeURIComponent(e);window.open(`https://wa.me/5511975333355?text=${s}`,"_blank")};return a.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[t&&a.jsxs("div",{className:"absolute bottom-16 right-0 bg-white rounded-lg shadow-xl p-4 mb-4 w-72 transform transition-all duration-300 ease-in-out",children:[a.jsx("button",{onClick:()=>r(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:a.jsx(Ie,{className:"w-4 h-4"})}),a.jsx("p",{className:"text-gray-800 text-sm mb-3",children:"Precisa de ajuda com seus robs de trading?"}),a.jsxs("button",{onClick:n,className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-md flex items-center justify-center",children:[a.jsx("span",{className:"mr-2",children:"Fale conosco"}),a.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})]})]}),a.jsx("button",{onClick:()=>r(!t),className:"bg-green-500 hover:bg-green-600 text-white rounded-full p-4 shadow-lg flex items-center justify-center","aria-label":"Contact via WhatsApp",children:a.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})})]})}function WL({metrics:e,tradeObject:t}){var _,k;const[r,n]=g.useState(!1),[s,i]=g.useState({});g.useState(!0);const[o,l]=g.useState(!1),[c,u]=g.useState(!1),d=t==null?void 0:t.trades,h=(()=>{if(!d||d.length===0)return{averageDuration:"0h 0m",medianDuration:"0h 0m",maxDuration:"0h 0m",resultByDuration:[]};console.log("trades? ",d);const S=d==null?void 0:d.map(H=>{const $=new Date(H.entry_date),W=(new Date(H.exit_date).getTime()-$.getTime())/(1e3*60*60);return{...H,durationHours:W}}),C=S.map(H=>H.durationHours),P=C.reduce((H,$)=>H+$,0)/C.length,E=[...C].sort((H,$)=>H-$),M=E[Math.floor(E.length/2)],O=Math.max(...C),F=H=>{const $=Math.floor(H),D=Math.floor((H-$)*60);return`${$}h ${D}m`},q=[{label:"< 15min",min:0,max:.25},{label:"15-30min",min:.25,max:.5},{label:"30min - 1h",min:.5,max:1},{label:"1h - 2h",min:1,max:2},{label:"2h - 4h",min:2,max:4},{label:"4h - 9h",min:4,max:9},{label:"9h - 24h",min:9,max:24},{label:"24h - 72h",min:24,max:72},{label:"72h - 168h",min:72,max:168},{label:"> 168h",min:168,max:1/0}].map(H=>{const $=S.filter(R=>R.durationHours>=H.min&&R.durationHours<H.max);if($.length===0)return{duration:H.label,result:0,count:0,profitFactor:0,winRate:0,payoff:0};const D=$.reduce((R,te)=>R+(te.pnl||0),0),W=$.filter(R=>(R.pnl||0)>0),V=$.filter(R=>(R.pnl||0)<0),L=W.length/$.length*100,se=W.reduce((R,te)=>R+(te.pnl||0),0),K=Math.abs(V.reduce((R,te)=>R+(te.pnl||0),0)),B=K>0?se/K:se>0?999:0,ie=W.length>0?se/W.length:0,ge=V.length>0?K/V.length:0,I=ge>0?ie/ge:ie>0?999:0;return{duration:H.label,result:D,count:$.length,profitFactor:B,winRate:L,payoff:I}});return{averageDuration:F(P),medianDuration:F(M),maxDuration:F(O),resultByDuration:q}})();console.log("duration data: ",h);const p={stocks:{maxPositionPerTrade:500,avgPositionPerTrade:285,medianPositionPerTrade:250,avgLeverage:.85},futures:{maxPositionPerTrade:15,avgPositionPerTrade:8,medianPositionPerTrade:7,avgLeverage:3.2},general:{maxOpenPositions:3,setupsMaximosPorDia:8}};g.useEffect(()=>{const S=e||{},C={profitFactor:Number(S.profitFactor)||0,sharpeRatio:Number(S.sharpeRatio)||0,recoveryFactor:Number(S.recoveryFactor)||0,averageTradeDuration:S.averageTradeDuration||"N/A",maxConsecutiveWins:Number(S.maxConsecutiveWins)||0,maxConsecutiveLosses:Number(S.maxConsecutiveLosses)||0,payoff:Number(S.payoff)||0,totalTrades:Number(S.totalTrades)||0,profitableTrades:Number(S.profitableTrades)||0,lossTrades:Number(S.lossTrades)||0,averageWin:Number(S.averageWin)||0,averageLoss:Number(S.averageLoss)||0,netProfit:Number(S.netProfit)||0,maxDrawdown:Number(S.maxDrawdown)||0,maxDrawdownAmount:Number(S.maxDrawdownAmount)||0,averageTrade:Number(S.averageTrade)||0,winRate:Number(S.winRate)||0,grossProfit:Number(S.grossProfit)||0,grossLoss:Number(S.grossLoss)||0,stopIdealPorDia:Number(S.stopIdealPorDia)||120,resultadoDiasFuria:Number(S.resultadoDiasFuria)||-1250.5,numeroDiasFuria:Number(S.numeroDiasFuria)||3,maiorGanho:Number(S.maiorGanho)||0,maiorPerda:Number(S.maiorPerda)||0,operacoesMaximasPorDia:Number(S.operacoesMaximasPorDia)||12,setupsMaximosPorDia:Number(S.setupsMaximosPorDia)||8,mediaOperacoesDia:Number(S.mediaOperacoesDia)||0,dayOfWeekAnalysis:S.dayOfWeekAnalysis||{},monthlyAnalysis:S.monthlyAnalysis||{},bestDay:S.bestDay||null,worstDay:S.worstDay||null,bestMonth:S.bestMonth||null,worstMonth:S.worstMonth||null};i(C)},[e]);const m=(S,C)=>{if(isNaN(C)||C===null||C===void 0)return"text-gray-300";switch(S){case"profitFactor":return C>=1.5?"text-green-500":C>=1?"text-yellow-500":"text-red-500";case"payoff":return C>=1.5?"text-green-500":C>=1?"text-yellow-500":"text-red-500";case"winRate":return C>=60?"text-green-500":C>=45?"text-yellow-500":"text-red-500";case"maxDrawdown":return C<=10?"text-green-500":C<=20?"text-yellow-500":"text-red-500";case"sharpeRatio":return C>=1?"text-green-500":C>=.5?"text-yellow-500":"text-red-500";case"recoveryFactor":return C>=3?"text-green-500":C>=1?"text-yellow-500":"text-red-500";case"netProfit":return C>0?"text-green-500":C===0?"text-gray-300":"text-red-500";default:return"text-gray-300"}},y=(S,C=!1,P=!1)=>{if(S==null||isNaN(Number(S)))return"N/A";const E=Number(S);return P?`R$ ${E.toFixed(2)}`:C?`${E.toFixed(2)}%`:E.toFixed(2)},v=h.resultByDuration.filter(S=>S.count!==0),x=t==null?void 0:t.trades.filter(S=>S.pnl>0),b=t==null?void 0:t.trades.filter(S=>S.pnl<0),w=t==null?void 0:t.trades.filter(S=>S.pnl===0),j=Math.max(...((t==null?void 0:t.trades)||[]).map(S=>S.pnl||0)),N=Math.min(...((t==null?void 0:t.trades)||[]).map(S=>S.pnl||0));return a.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden shadow-lg",children:[a.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-800",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ar,{className:"w-5 h-5 text-blue-500 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Mtricas de Performance"})]}),a.jsx("button",{onClick:()=>n(!r),className:"p-1 hover:bg-gray-800 rounded-full",children:r?a.jsx(Ze,{className:"w-5 h-5 text-gray-400"}):a.jsx(ut,{className:"w-5 h-5 text-gray-400"})})]}),!r&&a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Lucro Lquido"}),a.jsx("p",{className:`text-3xl font-bold ${m("netProfit",s.netProfit||0)}`,children:y(s.netProfit,!1,!0)})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Drawdown Mximo R$"}),a.jsx("p",{className:"text-3xl font-bold text-red-500",children:y(s.maxDrawdownAmount,!1,!0)}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[y(s.maxDrawdown,!0)," do capital"]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total de Trades"}),a.jsx("p",{className:"text-3xl font-bold",children:((_=t==null?void 0:t.trades)==null?void 0:_.length)||"0"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:`text-2xl font-bold ${m("profitFactor",s.profitFactor||0)}`,children:y(s.profitFactor)})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Payoff"}),a.jsx("p",{className:`text-2xl font-bold ${m("payoff",s.payoff||0)}`,children:y(s.payoff)})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:`text-2xl font-bold ${m("winRate",s.winRate||0)}`,children:y(s.winRate,!0)})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(c6,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("h3",{className:"text-lg font-medium",children:"Dimensionamento de Posio"})]}),a.jsx("button",{onClick:()=>u(!c),className:"p-1 hover:bg-gray-800 rounded-full",children:c?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]}),c&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border-l-4 border-blue-500",children:[a.jsxs("h4",{className:"text-lg font-medium mb-3 flex items-center",children:[a.jsx(RD,{className:"w-5 h-5 text-blue-400 mr-2"}),"Aes"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Posio Mxima por Trade"}),a.jsxs("span",{className:"font-medium",children:[p.stocks.maxPositionPerTrade," aes"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Posio Mdia por Trade"}),a.jsxs("span",{className:"font-medium",children:[p.stocks.avgPositionPerTrade," aes"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Posio Mediana por Trade"}),a.jsxs("span",{className:"font-medium",children:[p.stocks.medianPositionPerTrade," aes"]})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border-l-4 border-green-500",children:[a.jsxs("h4",{className:"text-lg font-medium mb-3 flex items-center",children:[a.jsx(Mt,{className:"w-5 h-5 text-green-400 mr-2"}),"Futuros"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Posio Mxima por Trade"}),a.jsxs("span",{className:"font-medium",children:[p.futures.maxPositionPerTrade," contratos"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Posio Mdia por Trade"}),a.jsxs("span",{className:"font-medium",children:[p.futures.avgPositionPerTrade," contratos"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Posio Mediana por Trade"}),a.jsxs("span",{className:"font-medium",children:[p.futures.medianPositionPerTrade," contratos"]})]})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center",children:[a.jsx(Lc,{className:"w-5 h-5 text-yellow-400 mr-2"}),"Mtricas Adicionais de Posio"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Posies Abertas Mximas"}),a.jsxs("p",{className:"text-lg font-medium",children:[p.general.maxOpenPositions," posies"]})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Setups Mximos por Dia"}),a.jsxs("p",{className:"text-lg font-medium",children:[p.general.setupsMaximosPorDia," setups"]})]})]})]}),a.jsx("div",{className:"bg-blue-900 bg-opacity-20 border border-blue-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(xi,{className:"w-5 h-5 text-blue-400 mr-3 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-300 mb-2",children:"Anlise de Risco e Posicionamento"}),a.jsxs("ul",{className:"text-sm text-blue-200 space-y-1",children:[a.jsx("li",{children:" A distribuio de posio (500 aes / 15 contratos) est adequada para o capital"}),a.jsx("li",{children:" Posio mxima por trade (15 contratos) est dentro dos limites recomendados"}),a.jsxs("li",{children:[" Mximo de ",p.general.maxOpenPositions," posies abertas simultaneamente demonstra boa gesto"]}),a.jsxs("li",{children:[" Limite de ",p.general.setupsMaximosPorDia," setups por dia ajuda a manter a disciplina"]}),a.jsx("li",{children:" A posio mdia de 8 contratos por trade est adequada para o perfil de risco"})]})]})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[a.jsx(Mt,{className:"w-4 h-4 text-blue-400 mr-2"}),"Estatsticas de Trades"]}),a.jsx("table",{className:"w-full text-sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Total de Trades"}),a.jsx("td",{className:"py-2 text-right",children:((k=t==null?void 0:t.trades)==null?void 0:k.length)||"0"})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Trades Lucrativos"}),a.jsx("td",{className:"py-2 text-right text-green-500",children:x.length||"0"})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Trades com Perda"}),a.jsx("td",{className:"py-2 text-right text-red-500",children:b.length||"0"})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Trades Zerados"}),a.jsx("td",{className:"py-2 text-right text-white",children:w.length||"0"})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Ganho Mdio"}),a.jsx("td",{className:"py-2 text-right text-green-500",children:y(s.averageWin,!1,!0)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Perda Mdia"}),a.jsx("td",{className:"py-2 text-right text-red-500",children:y(Math.abs(s.averageLoss||0),!1,!0)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Mx. Perdas Consecutivas"}),a.jsx("td",{className:"py-2 text-right",children:s.maxConsecutiveLosses||"0"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Mx. Ganhos Consecutivos"}),a.jsx("td",{className:"py-2 text-right text-green-500",children:s.maxConsecutiveWins||"0"})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[a.jsx(Ro,{className:"w-4 h-4 text-blue-400 mr-2"}),"Mtricas Avanadas"]}),a.jsx("table",{className:"w-full text-sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Trade Mdio"}),a.jsx("td",{className:"py-2 text-right",children:((s.averageWin||0)-Math.abs(s.averageLoss||0)).toFixed(2)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Maior Ganho"}),a.jsx("td",{className:"py-2 text-right text-green-500",children:j.toFixed(2)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Maior Perda"}),a.jsx("td",{className:"py-2 text-right text-red-500",children:N.toFixed(2)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Ganho Bruto"}),a.jsx("td",{className:"py-2 text-right text-green-500",children:y(s.grossProfit,!1,!0)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Perda Bruta"}),a.jsx("td",{className:"py-2 text-right text-red-500",children:y(s.grossLoss,!1,!0)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Trades Lucrativos"}),a.jsx("td",{className:"py-2 text-right",children:y(s.winRate,!0)})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Trades com Perda"}),a.jsx("td",{className:"py-2 text-right",children:y(100-(s.winRate||0),!0)})]})]})})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(hn,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("h3",{className:"text-lg font-medium",children:"Durao dos Traes"})]}),a.jsx("button",{onClick:()=>l(!o),className:"p-1.5 hover:bg-gray-700 rounded-md",children:o?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]}),o?a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Durao Mdia"}),a.jsx("p",{className:"text-xl font-bold",children:h.averageDuration})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Durao Mediana"}),a.jsx("p",{className:"text-xl font-bold",children:h.medianDuration})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Durao Mxima"}),a.jsx("p",{className:"text-xl font-bold",children:h.maxDuration})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-300",children:"Anlise por Faixa de Durao"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-700",children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Durao"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Trades"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Fator de Lucro"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Taxa de Acerto"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Payoff"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Resultado"})]})}),a.jsx("tbody",{children:v.map((S,C)=>a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"px-3 py-2",children:S.duration}),a.jsx("td",{className:"px-3 py-2 text-center",children:S.count}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:S.profitFactor>=1.5?"text-green-400":S.profitFactor>=1?"text-yellow-400":"text-red-400",children:S.profitFactor.toFixed(2)})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsxs("span",{className:S.winRate>=60?"text-green-400":S.winRate>=45?"text-yellow-400":"text-red-400",children:[S.winRate.toFixed(1),"%"]})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:S.payoff>=1.5?"text-green-400":S.payoff>=1?"text-yellow-400":"text-red-400",children:S.payoff.toFixed(2)})}),a.jsxs("td",{className:`px-3 py-2 text-right ${S.result>0?"text-green-400":"text-red-400"}`,children:["R$ ",S.result.toFixed(2)]})]},C))})]})})]}),a.jsx("div",{className:"mt-4 p-3 bg-blue-900 bg-opacity-20 border border-blue-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ar,{className:"w-5 h-5 text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-300 mb-2",children:"Insights de Durao"}),a.jsxs("ul",{className:"text-sm text-blue-200 space-y-1",children:[a.jsx("li",{children:" Trades entre 1-2 horas apresentam melhor resultado e fator de lucro (2.10)"}),a.jsx("li",{children:" Operaes muito curtas (menos de 30 min) tendem a ser negativas com baixa taxa de acerto (38.5%)"}),a.jsx("li",{children:" Melhor payoff (1.65) e taxa de acerto (65.8%) na faixa de 1-2 horas"}),a.jsx("li",{children:" Trades longos >4h mostram baixo fator de lucro (0.78) e payoff abaixo de 1"})]})]})]})})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Durao Mdia"}),a.jsx("p",{className:"text-xl font-bold",children:h.averageDuration})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Durao Mediana"}),a.jsx("p",{className:"text-xl font-bold",children:h.medianDuration})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Durao Mxima"}),a.jsx("p",{className:"text-xl font-bold",children:h.maxDuration})]})]})]})]})]})}function OC({isAnalyzing:e,setIsAnalyzing:t,onCancelAnalysis:r,error:n,setError:s,analysisResult:i,onMetricsReceived:o,backtestData:l}){const[c,u]=g.useState([{id:"welcome",role:"assistant",content:"Ol! Estou analisando seus dados de backtest. Voc pode me perguntar sobre os resultados ou pedir sugestes para melhorar sua estratgia."}]),[d,f]=g.useState(""),[h,p]=g.useState(!1),m=g.useRef(null),{profile:y,updateTokenBalance:v}=Rt(),x="http://localhost:5002";g.useEffect(()=>{var _,k,S,C;i&&b("assistant",`Anlise concluda! Aqui esto os principais resultados:

- Profit Factor: ${((_=i.profitFactor)==null?void 0:_.toFixed(2))||"N/A"}
- Win Rate: ${((k=i.winRate)==null?void 0:k.toFixed(2))||"N/A"}%
- Drawdown Mximo: ${((S=i.maxDrawdown)==null?void 0:S.toFixed(2))||"N/A"}%
- Lucro Lquido: R$ ${((C=i.netProfit)==null?void 0:C.toFixed(2))||"N/A"}

Voc pode me perguntar mais detalhes sobre esses resultados ou pedir sugestes para melhorar a estratgia.`)},[i]),g.useEffect(()=>{n&&b("assistant",`Ocorreu um erro: ${n}`)},[n]);const b=(_,k)=>{const S={id:Date.now().toString(),role:_,content:k};u(C=>[...C,S])},w=_=>{var C;let k="";if(l){const P={performanceMetrics:l["Performance Metrics"],dayOfWeekAnalysis:l["Day of Week Analysis"],monthlyAnalysis:l["Monthly Analysis"],trades:l.trades?l.trades.slice(0,50):[],totalTrades:((C=l.trades)==null?void 0:C.length)||0};k=`
CONTEXTO DOS DADOS DE BACKTEST:
${JSON.stringify(P,null,2)}

PERGUNTA DO USURIO: ${_}

Por favor, analise os dados fornecidos e responda  pergunta do usurio com base nas informaes reais do backtest. Fornea insights especficos e sugestes prticas para melhorar a estratgia de trading.
`}else k=_;return[{role:"user",content:"Voc  um especialista em anlise de trading e backtesting. Analise os dados fornecidos e fornea insights valiosos e sugestes prticas para melhorar estratgias de trading."},...c.map(P=>({role:P.role,content:P.content})),{role:"user",content:k}]},j=async _=>{_.preventDefault()},N=async _=>{if(!l){s("Por favor, faa upload de um arquivo de backtest primeiro.");return}if(((y==null?void 0:y.token_balance)||0)<_.tokens){s(`Saldo de tokens insuficiente. Esta anlise requer ${_.tokens} tokens.`);return}b("user",_.prompt),p(!0),s(null);try{const S=w(_.prompt),C=await fetch(`${x}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:S})});if(!C.ok)throw new Error(`Erro na API: ${C.status} ${C.statusText}`);const P=await C.json();if(P.error)throw new Error(P.error);if(P.content)b("assistant",P.content);else throw new Error("Resposta invlida da API");await v(-_.tokens)}catch(S){console.error("Erro ao processar prompt rpido:",S),s(S instanceof Error?S.message:"Erro ao processar anlise")}finally{p(!1)}};return a.jsxs("div",{className:"flex flex-col h-full bg-gray-900 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.map(_=>a.jsx("div",{className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${_.role==="user"?"bg-blue-600 text-white":"bg-gray-800 text-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center mb-1",children:[_.role==="assistant"?a.jsx(Ja,{className:"w-4 h-4 mr-2 text-blue-400"}):a.jsx(es,{className:"w-4 h-4 mr-2 text-gray-300"}),a.jsx("span",{className:"text-xs font-medium",children:_.role==="assistant"?"Assistente IA":"Voc"})]}),a.jsx("p",{className:"whitespace-pre-line",children:_.content})]})},_.id)),h&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-gray-800 rounded-lg p-3 max-w-[80%]",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ja,{className:"w-4 h-4 mr-2 text-blue-400"}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}),n&&a.jsx("div",{className:"flex justify-center",children:a.jsxs("div",{className:"bg-red-500 bg-opacity-10 border border-red-500 rounded-lg p-3 text-red-500 flex items-center",children:[a.jsx(uS,{className:"w-4 h-4 mr-2 flex-shrink-0"}),a.jsx("p",{children:n})]})}),a.jsx("div",{ref:m})]}),a.jsxs("div",{className:"border-t border-gray-800 p-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[a.jsxs("button",{onClick:()=>N({id:"portfolio-analysis",label:"Anlise da Carteira",prompt:"Analise minha carteira de trading com base nos dados de backtest fornecidos. Identifique pontos fortes, fracos e oportunidades de melhoria.",tokens:500,icon:a.jsx(Pg,{className:"w-4 h-4"})}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",disabled:!l,children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Pg,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"font-medium text-sm",children:"Anlise da Carteira"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"500 tokens"}),a.jsx(Re,{className:"w-3 h-3 text-yellow-500"})]})]}),a.jsxs("button",{onClick:()=>N({id:"uncorrelated-portfolio",label:"Portflio Sem Correlao",prompt:"Com base nos dados de backtest, monte um portflio de estratgias sem correlao para diversificar riscos e maximizar retornos consistentes.",tokens:1e3,icon:a.jsx(Fc,{className:"w-4 h-4"})}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",disabled:!l,children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Fc,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"font-medium text-sm",children:"Portflio Sem Correlao"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"1000 tokens"}),a.jsx(Re,{className:"w-3 h-3 text-yellow-500"})]})]}),a.jsxs("button",{onClick:()=>N({id:"risk-return-portfolio",label:"Portflio Risco-Retorno",prompt:"Crie um portflio otimizado focando na relao risco-retorno ideal com base nos dados de performance das estratgias analisadas.",tokens:1e3,icon:a.jsx(Mt,{className:"w-4 h-4"})}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",disabled:!l,children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Mt,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"font-medium text-sm",children:"Portflio Risco-Retorno"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"1000 tokens"}),a.jsx(Re,{className:"w-3 h-3 text-yellow-500"})]})]}),a.jsxs("button",{onClick:()=>N({id:"consistency-portfolio",label:"Portflio Consistncia",prompt:"Monte um portflio priorizando consistncia e estabilidade de retornos, minimizando drawdowns e volatilidade excessiva.",tokens:1e3,icon:a.jsx(gi,{className:"w-4 h-4"})}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",disabled:!l,children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(gi,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"font-medium text-sm",children:"Portflio Consistncia"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"1000 tokens"}),a.jsx(Re,{className:"w-3 h-3 text-yellow-500"})]})]})]}),a.jsxs("form",{onSubmit:j,className:"flex space-x-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{type:"text",value:d,onChange:_=>f(_.target.value),placeholder:"Use os botes acima para anlises especficas...",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!0}),a.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-gray-400 flex items-center",children:[a.jsx(Re,{className:"w-3 h-3 mr-1 text-yellow-500"}),"Apenas prompts pr-definidos"]})]}),a.jsx("button",{type:"submit",disabled:!0,className:"p-2 rounded-md bg-gray-700 text-gray-400 cursor-not-allowed",children:a.jsx(Eg,{className:"w-5 h-5"})})]})]})]})}function HL({files:e,setFiles:t,error:r,isLoading:n,handleFileChange:s,handleDragOver:i,handleDrop:o,handleRemoveFile:l,handleUpload:c,fileInputRef:u}){return a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8 border-2 border-blue-600 border-opacity-30",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[a.jsx(ws,{className:"w-5 h-5 text-blue-400 mr-2"}),"Upload de Arquivo CSV"]}),a.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center mb-6 cursor-pointer hover:border-blue-500 transition-colors",onDragOver:i,onDrop:o,onClick:()=>{var d;return(d=u.current)==null?void 0:d.click()},children:[a.jsx("input",{type:"file",ref:u,onChange:s,className:"hidden",accept:".csv",multiple:!0}),a.jsx(ws,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.length>0?a.jsxs("div",{children:[a.jsxs("p",{className:"text-lg font-medium text-blue-400",children:[e.length," arquivo(s) selecionado(s)"]}),a.jsx("ul",{className:"mt-2 text-sm text-gray-400",children:e.map((d,f)=>a.jsxs("li",{className:"flex items-center justify-between py-1",children:[a.jsxs("span",{children:[d.name," (",(d.size/1024).toFixed(2)," KB)"]}),a.jsx("button",{onClick:h=>{h.stopPropagation(),l(f)},className:"text-gray-400 hover:text-red-400",children:a.jsx(Ie,{className:"w-4 h-4"})})]},f))})]}):a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"Arraste e solte seu(s) arquivo(s) CSV aqui"}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"ou clique para selecionar arquivos"}),a.jsxs("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md inline-flex items-center",children:[a.jsx(ws,{className:"w-4 h-4 mr-2"}),"Selecionar Arquivos"]})]})]}),r&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center text-red-500",children:[a.jsx(it,{className:"w-5 h-5 mr-2 flex-shrink-0"}),a.jsx("p",{children:r})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:c,disabled:e.length===0||n,className:`px-4 py-2 rounded-md flex items-center ${e.length===0||n?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:n?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-5 h-5 mr-2 animate-spin"}),"Analisando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"w-5 h-5 mr-2"}),"Analisar Backtest"]})})})]})}function KL({selectedStrategy:e,setSelectedStrategy:t,selectedAsset:r,setSelectedAsset:n,availableStrategies:s,availableAssets:i,setShowUploadForm:o,files:l=[],selectedFiles:c=[],setSelectedFiles:u,showConsolidated:d=!0,setShowConsolidated:f,onResetFilters:h}){const p=l.length>1,m=b=>{u&&(c.includes(b)?u(c.filter(w=>w!==b)):u([...c,b]))},y=()=>{u&&u(l.map(b=>b.name))},v=()=>{u&&u([])},x=()=>{t(null),n(null),h&&h()};return a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Estratgia"}),a.jsxs("select",{value:e||"",onChange:b=>t(b.target.value||null),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todas as estratgias"}),s.map(b=>a.jsx("option",{value:b,children:b},b))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Ativo"}),a.jsxs("select",{value:r||"",onChange:b=>n(b.target.value||null),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos os ativos"}),i.map(b=>a.jsx("option",{value:b,children:b},b))]})]}),p&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Modo"}),a.jsx("button",{onClick:()=>f&&f(!d),className:`px-3 py-2 rounded-md text-sm transition-colors ${d?"bg-blue-600 text-white":"bg-purple-600 text-white"}`,children:d?" Consolidado":" Individual"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:x,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-md flex items-center",children:[a.jsx(sS,{className:"w-4 h-4 mr-2"}),"Limpar Filtros"]}),a.jsxs("button",{onClick:()=>o(!0),className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[a.jsx(ws,{className:"w-4 h-4 mr-2"}),"Adicionar CSV"]})]})]}),(p||e||r)&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[p&&a.jsxs("span",{children:[" ",d?`${l.length} arquivos consolidados`:`${c.length}/${l.length} selecionados`]}),e&&a.jsxs("span",{children:[" ",e]}),r&&a.jsxs("span",{children:[" ",r]})]}),p&&!d&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:y,className:"text-xs text-blue-400 hover:text-blue-300",children:"Selecionar Todos"}),a.jsx("span",{className:"text-gray-600",children:"|"}),a.jsx("button",{onClick:v,className:"text-xs text-red-400 hover:text-red-300",children:"Desmarcar Todos"})]})]})}),p&&!d&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:l.map((b,w)=>a.jsxs("div",{className:`p-2 rounded border cursor-pointer transition-all text-xs ${c.includes(b.name)?"border-blue-500 bg-blue-500 bg-opacity-10":"border-gray-600 bg-gray-700 hover:border-gray-500"}`,onClick:()=>m(b.name),title:b.name,children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ws,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:b.name.replace(".csv","")}),c.includes(b.name)&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(b.size/1024).toFixed(1)," KB"]})]},w))})})]})}function GL({sampleTrades:e}){const[t,r]=g.useState(!1),[n,s]=g.useState(""),[i,o]=g.useState(null),[l,c]=g.useState(null),[u,d]=g.useState(null),[f,h]=g.useState("all"),[p,m]=g.useState("entry_date"),[y,v]=g.useState("desc"),[x,b]=g.useState(null),[w,j]=g.useState(!1),N=Array.isArray(e)?e:(e==null?void 0:e.trades)||[],_=g.useMemo(()=>[...new Set(N.map(A=>A.symbol).filter(Boolean))].sort(),[N]),k=g.useMemo(()=>[...new Set(N.map(A=>A.strategy).filter(Boolean))].sort(),[N]);g.useEffect(()=>{console.log("sampleTrades",e),console.log("extracted trades",N)},[e,N]);const S=g.useMemo(()=>{if(!N||!Array.isArray(N))return[];let A=N.filter(q=>{var H,$;if(n){const D=n.toLowerCase();if(!((H=q.symbol)!=null&&H.toLowerCase().includes(D)||($=q.strategy)!=null&&$.toLowerCase().includes(D)||q.direction.toLowerCase().includes(D)))return!1}if(i&&q.symbol!==i||l&&q.strategy!==l||u&&q.direction!==u)return!1;if(f!=="all"){const D=new Date(q.entry_date),L=(new Date().getTime()-D.getTime())/(1e3*3600*24);switch(f){case"today":if(L>1)return!1;break;case"week":if(L>7)return!1;break;case"month":if(L>30)return!1;break}}return!0});return A.sort((q,H)=>{let $,D;switch(p){case"entry_date":$=new Date(q.entry_date).getTime(),D=new Date(H.entry_date).getTime();break;case"exit_date":$=new Date(q.exit_date).getTime(),D=new Date(H.exit_date).getTime();break;default:$=q[p],D=H[p]}return y==="asc"?$>D?1:-1:$<D?1:-1}),A},[N,n,i,l,u,f,p,y]),C=A=>{p===A?v(y==="asc"?"desc":"asc"):(m(A),v("desc"))},P=()=>{s(""),o(null),c(null),d(null),h("all")},E=A=>A<1?`${Math.round(A*60)}m`:A<24?`${A.toFixed(1)}h`:`${Math.floor(A/24)}d ${Math.round(A%24)}h`,M=A=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A),O=S.reduce((A,q)=>A+q.pnl,0),F=S.length>0?S.filter(A=>A.pnl>0).length/S.length*100:0;return a.jsx("div",{className:"rounded-lg bg-gray-800 text-white p-6 flex-col ",children:a.jsxs("div",{className:"max-w-7xl mx-auto ",children:[a.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"p-6 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx($o,{className:"w-6 h-6 text-blue-400 mr-3"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Histrico de Operaes"}),a.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[S.length," operaes  P&L Total:",a.jsx("span",{className:`ml-1 font-medium ${O>=0?"text-green-400":"text-red-400"}`,children:M(O)})," Win Rate: ",a.jsxs("span",{className:"text-blue-400 font-medium",children:[F.toFixed(1),"%"]})]})]})]}),a.jsx("button",{onClick:()=>r(!t),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:t?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]}),t&&a.jsxs("div",{className:"p-6 ",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsx(uu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Buscar por ativo, estratgia...",value:n,onChange:A=>s(A.target.value),className:"pl-9 pr-4 py-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:f,onChange:A=>h(A.target.value),className:"px-3 py-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Todas as datas"}),a.jsx("option",{value:"today",children:"Hoje"}),a.jsx("option",{value:"week",children:"ltima semana"}),a.jsx("option",{value:"month",children:"ltimo ms"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>j(!w),className:`flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm transition-colors ${w?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx(sS,{className:"w-4 h-4"}),"Filtros"]}),(i||l||u||n)&&a.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-3 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm transition-colors",children:[a.jsx(Ie,{className:"w-4 h-4"}),"Limpar"]})]})]}),w&&a.jsx("div",{className:"mt-4 p-4 bg-gray-700 bg-opacity-50 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-medium",children:"Ativo"}),a.jsxs("select",{value:i||"",onChange:A=>o(A.target.value||null),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos os ativos"}),_.map(A=>a.jsx("option",{value:A,children:A},A))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-medium",children:"Estratgia"}),a.jsxs("select",{value:l||"",onChange:A=>c(A.target.value||null),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todas as estratgias"}),k.map(A=>a.jsx("option",{value:A,children:A},A))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-medium",children:"Direo"}),a.jsxs("select",{value:u||"",onChange:A=>d(A.target.value||null),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todas as direes"}),a.jsx("option",{value:"long",children:"Compra (Long)"}),a.jsx("option",{value:"short",children:"Venda (Short)"})]})]})]})})]}),a.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700",children:S.length>0?a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsxs("button",{onClick:()=>C("entry_date"),className:"flex items-center gap-1 hover:text-blue-400 transition-colors",children:["Data Entrada",a.jsx(Sl,{className:"w-3 h-3"})]})}),a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsxs("button",{onClick:()=>C("exit_date"),className:"flex items-center gap-1 hover:text-blue-400 transition-colors",children:["Data Sada",a.jsx(Sl,{className:"w-3 h-3"})]})}),a.jsx("th",{className:"px-4 py-3 text-center",children:a.jsxs("button",{onClick:()=>C("symbol"),className:"flex items-center gap-1 hover:text-blue-400 transition-colors",children:["Ativo",a.jsx(Sl,{className:"w-3 h-3"})]})}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Estratgia"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Direo"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Entrada"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Sada"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Durao"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Giro Total"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Quantidade"}),a.jsx("th",{className:"px-4 py-3 text-right",children:a.jsxs("button",{onClick:()=>C("pnl"),className:"flex items-center gap-1 hover:text-blue-400 transition-colors",children:["P&L (R$)",a.jsx(Sl,{className:"w-3 h-3"})]})}),a.jsx("th",{className:"px-4 py-3 text-right",children:a.jsxs("button",{onClick:()=>C("pnl_pct"),className:"flex items-center gap-1 hover:text-blue-400 transition-colors",children:["P&L (%)",a.jsx(Sl,{className:"w-3 h-3"})]})}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Detalhes"})]})}),a.jsx("tbody",{children:S.slice(0,100).map((A,q)=>a.jsxs("tr",{className:`border-b border-gray-700 hover:bg-gray-700 hover:bg-opacity-50 transition-colors ${A.pnl>0?"hover:bg-green-900 hover:bg-opacity-10":"hover:bg-red-900 hover:bg-opacity-10"}`,children:[a.jsxs("td",{className:"px-4 py-3 text-xs",children:[new Date(A.entry_date).toLocaleDateString("pt-BR"),a.jsx("br",{}),a.jsx("span",{className:"text-gray-400",children:new Date(A.entry_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),a.jsxs("td",{className:"px-4 py-3 text-xs",children:[new Date(A.exit_date).toLocaleDateString("pt-BR"),a.jsx("br",{}),a.jsx("span",{className:"text-gray-400",children:new Date(A.exit_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:"font-medium text-blue-400",children:A.symbol||"N/A"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:"px-2 py-1 bg-gray-600 rounded-full text-xs",children:A.strategy||"N/A"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsxs("span",{className:`flex items-center justify-center gap-1 px-2 py-1 rounded-full text-xs ${A.direction==="long"?"bg-green-900 bg-opacity-50 text-green-300":"bg-red-900 bg-opacity-50 text-red-300"}`,children:[A.direction==="long"?a.jsx(Mt,{className:"w-3 h-3"}):a.jsx(xi,{className:"w-3 h-3"}),A.direction==="long"?"Long":"Short"]})}),a.jsx("td",{className:"px-4 py-3 text-right font-mono",children:M(A.entry_price)}),a.jsx("td",{className:"px-4 py-3 text-right font-mono",children:M(A.exit_price)}),a.jsx("td",{className:"px-4 py-3 text-center text-xs",children:A.duration?E(A.duration):"N/A"}),a.jsx("td",{className:"px-4 py-3 text-center text-xs",children:(A==null?void 0:A.quantity_total)||"N/A"}),a.jsx("td",{className:"px-4 py-3 text-center text-xs",children:(A==null?void 0:A.quantity_compra)||"N/A"}),a.jsxs("td",{className:`px-4 py-3 text-right font-mono font-medium ${A.pnl>0?"text-green-400":"text-red-400"}`,children:[A.pnl>0?"+":"",M(A.pnl)]}),a.jsxs("td",{className:`px-4 py-3 text-right font-mono font-medium ${A.pnl_pct>0?"text-green-400":"text-red-400"}`,children:[A.pnl_pct>0?"+":"",A.pnl_pct.toFixed(2),"%"]}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("button",{onClick:()=>b(A),className:"p-1 hover:bg-gray-600 rounded transition-colors",children:a.jsx(Iy,{className:"w-4 h-4 text-gray-400"})})})]},A.id||q))})]}):a.jsxs("div",{className:"text-center py-12 bg-gray-700 bg-opacity-30",children:[a.jsx($o,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"Nenhuma operao encontrada"}),a.jsx("div",{className:"text-gray-500 text-sm",children:"Tente ajustar os filtros de busca"})]})}),S.length>100&&a.jsxs("div",{className:"mt-4 text-center text-gray-400 text-sm bg-gray-700 bg-opacity-30 rounded-lg py-3",children:["Mostrando 100 de ",S.length," operaes"]})]})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Detalhes da Operao"}),a.jsx("button",{onClick:()=>b(null),className:"p-1 hover:bg-gray-700 rounded",children:a.jsx(Ie,{className:"w-5 h-5 text-gray-400"})})]}),a.jsxs("div",{className:"space-y-3 text-sm",children:[x.id&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"ID:"}),a.jsxs("span",{children:["#",x.id]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Ativo:"}),a.jsx("span",{className:"font-medium text-blue-400",children:x.symbol||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Estratgia:"}),a.jsx("span",{children:x.strategy||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Direo:"}),a.jsxs("span",{className:`flex items-center gap-1 ${x.direction==="long"?"text-green-400":"text-red-400"}`,children:[x.direction==="long"?a.jsx(Mt,{className:"w-4 h-4"}):a.jsx(xi,{className:"w-4 h-4"}),x.direction==="long"?"Long":"Short"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Quantidade:"}),a.jsx("span",{children:x.quantity||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Durao:"}),a.jsx("span",{children:x.duration?E(x.duration):"N/A"})]}),a.jsx("hr",{className:"border-gray-700"}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Preo de Entrada:"}),a.jsx("span",{className:"font-mono",children:M(x.entry_price)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Preo de Sada:"}),a.jsx("span",{className:"font-mono",children:M(x.exit_price)})]}),x.drawdown!==void 0&&x.drawdown!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Drawdown:"}),a.jsx("span",{className:"text-red-400",children:M(x.drawdown)})]}),x.max_gain!==void 0&&x.max_gain!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Ganho Mximo:"}),a.jsx("span",{className:"text-green-400",children:M(x.max_gain)})]}),x.max_loss!==void 0&&x.max_loss!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Perda Mxima:"}),a.jsx("span",{className:"text-red-400",children:M(x.max_loss)})]}),a.jsxs("div",{className:"flex justify-between text-lg font-medium",children:[a.jsx("span",{className:"text-gray-400",children:"P&L Total:"}),a.jsxs("span",{className:x.pnl>0?"text-green-400":"text-red-400",children:[x.pnl>0?"+":"",M(x.pnl)," (",x.pnl_pct>0?"+":"",x.pnl_pct.toFixed(2),"%)"]})]})]})]})})]})})}function MC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=MC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=MC(e))&&(n&&(n+=" "),n+=t);return n}var nm={},RC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(RC);var vv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(vv);var bv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(bv);var sm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const u=r[i];l?u==="\\"&&i+1<s?(i++,o+=r[i]):u===l?l="":o+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(o),o=""):o+=u:u==="["?(c=!0,o&&(n.push(o),o="")):u==="."?o&&(n.push(o),o=""):o+=u,i++}return o&&n.push(o),n}e.toPath=t})(sm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RC,r=vv,n=bv,s=sm;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,s.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(nm);var YL=nm.get;const yi=ns(YL);var $C={exports:{}},Fe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv=Symbol.for("react.transitional.element"),jv=Symbol.for("react.portal"),am=Symbol.for("react.fragment"),im=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),lm=Symbol.for("react.consumer"),cm=Symbol.for("react.context"),um=Symbol.for("react.forward_ref"),dm=Symbol.for("react.suspense"),fm=Symbol.for("react.suspense_list"),hm=Symbol.for("react.memo"),mm=Symbol.for("react.lazy"),JL=Symbol.for("react.view_transition"),XL=Symbol.for("react.client.reference");function bn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wv:switch(e=e.type,e){case am:case om:case im:case dm:case fm:case JL:return e;default:switch(e=e&&e.$$typeof,e){case cm:case um:case mm:case hm:return e;case lm:return e;default:return t}}case jv:return t}}}Fe.ContextConsumer=lm;Fe.ContextProvider=cm;Fe.Element=wv;Fe.ForwardRef=um;Fe.Fragment=am;Fe.Lazy=mm;Fe.Memo=hm;Fe.Portal=jv;Fe.Profiler=om;Fe.StrictMode=im;Fe.Suspense=dm;Fe.SuspenseList=fm;Fe.isContextConsumer=function(e){return bn(e)===lm};Fe.isContextProvider=function(e){return bn(e)===cm};Fe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wv};Fe.isForwardRef=function(e){return bn(e)===um};Fe.isFragment=function(e){return bn(e)===am};Fe.isLazy=function(e){return bn(e)===mm};Fe.isMemo=function(e){return bn(e)===hm};Fe.isPortal=function(e){return bn(e)===jv};Fe.isProfiler=function(e){return bn(e)===om};Fe.isStrictMode=function(e){return bn(e)===im};Fe.isSuspense=function(e){return bn(e)===dm};Fe.isSuspenseList=function(e){return bn(e)===fm};Fe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===am||e===om||e===im||e===dm||e===fm||typeof e=="object"&&e!==null&&(e.$$typeof===mm||e.$$typeof===hm||e.$$typeof===cm||e.$$typeof===lm||e.$$typeof===um||e.$$typeof===XL||e.getModuleId!==void 0)};Fe.typeOf=bn;$C.exports=Fe;var QL=$C.exports,un=e=>e===0?0:e>0?1:-1,Jr=e=>typeof e=="number"&&e!=+e,Qa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ce=e=>(typeof e=="number"||e instanceof Number)&&!Jr(e),ts=e=>ce(e)||typeof e=="string",ZL=0,Lo=e=>{var t=++ZL;return"".concat(e||"").concat(t)},ba=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ce(t)&&typeof t!="string")return n;var i;if(Qa(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Jr(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},DC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Cl=(e,t)=>ce(e)&&ce(t)?r=>e+r*(t-e):()=>t;function zi(e,t,r){return ce(e)&&ce(t)?e+r*(t-e):t}function Nv(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):yi(n,t))===r)}var tt=e=>e===null||typeof e>"u",_v=e=>tt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),e8=["viewBox","children"],t8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_j=["points","pathLength"],e0={svg:e8,polygon:_j,polyline:_j},kv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Sv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{kv.includes(s)&&(n[s]=i=>r[s](r,i))}),n},r8=(e,t,r)=>n=>(e(t,r,n),null),n8=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];kv.includes(s)&&typeof i=="function"&&(n||(n={}),n[s]=r8(i,t,r))}),n},kj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Sj=null,t0=null,IC=e=>{if(e===Sj&&Array.isArray(t0))return t0;var t=[];return g.Children.forEach(e,r=>{tt(r)||(QL.isFragment(r)?t=t.concat(IC(r.props.children)):t.push(r))}),t0=t,Sj=e,t};function LC(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>kj(s)):n=[kj(t)],IC(e).forEach(s=>{var i=yi(s,"type.displayName")||yi(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var pm=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,s8=(e,t,r,n)=>{var s,i=(s=n&&(e0==null?void 0:e0[n]))!==null&&s!==void 0?s:[];return t.startsWith("data-")||typeof e!="function"&&(n&&i.includes(t)||t8.includes(t))||r&&kv.includes(t)},Ee=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var o;s8((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=n[i])}),s},a8=["children","width","height","viewBox","className","style","title","desc"];function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(null,arguments)}function i8(e,t){if(e==null)return{};var r,n,s=o8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function o8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FC=g.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=i8(e,a8),f=i||{width:n,height:s,x:0,y:0},h=De("recharts-surface",o);return g.createElement("svg",qg({},Ee(d,!0,"svg"),{className:h,width:n,height:s,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,u),r)}),l8=["children","className"];function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(null,arguments)}function c8(e,t){if(e==null)return{};var r,n,s=u8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function u8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xr=g.forwardRef((e,t)=>{var{children:r,className:n}=e,s=c8(e,l8),i=De("recharts-layer",n);return g.createElement("g",Wg({className:i},Ee(s,!0),{ref:t}),r)}),d8=g.createContext(null);function nt(e){return function(){return e}}const Hg=Math.PI,Kg=2*Hg,Ua=1e-6,f8=Kg-Ua;function BC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function h8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return BC;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class m8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?BC:h8(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ua)if(!(Math.abs(f*c-u*d)>Ua)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,m=s-l,y=c*c+u*u,v=p*p+m*m,x=Math.sqrt(y),b=Math.sqrt(h),w=i*Math.tan((Hg-Math.acos((y+h-v)/(2*x*b)))/2),j=w/b,N=w/x;Math.abs(j-1)>Ua&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*m)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ua||Math.abs(this._y1-d)>Ua)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Kg+Kg),h>f8?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ua&&this._append`A${n},${n},0,${+(h>=Hg)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function zC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new m8(t)}function Cv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UC(e){this._context=e}UC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gm(e){return new UC(e)}function VC(e){return e[0]}function qC(e){return e[1]}function WC(e,t){var r=nt(!0),n=null,s=gm,i=null,o=zC(l);e=typeof e=="function"?e:e===void 0?VC:nt(e),t=typeof t=="function"?t:t===void 0?qC:nt(t);function l(c){var u,d=(c=Cv(c)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:nt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:nt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:nt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function fd(e,t,r){var n=null,s=nt(!0),i=null,o=gm,l=null,c=zC(u);e=typeof e=="function"?e:e===void 0?VC:nt(+e),t=typeof t=="function"?t:nt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?qC:nt(+r);function u(f){var h,p,m,y=(f=Cv(f)).length,v,x=!1,b,w=new Array(y),j=new Array(y);for(i==null&&(l=o(b=c())),h=0;h<=y;++h){if(!(h<y&&s(v=f[h],h,f))===x)if(x=!x)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=p;--m)l.point(w[m],j[m]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(v,h,f),j[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):j[h]))}if(b)return l=null,b+""||null}function d(){return WC().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:nt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:nt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:nt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:nt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:nt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:nt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:nt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class HC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function p8(e){return new HC(e,!0)}function g8(e){return new HC(e,!1)}function Of(){}function Mf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function KC(e){this._context=e}KC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x8(e){return new KC(e)}function GC(e){this._context=e}GC.prototype={areaStart:Of,areaEnd:Of,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function y8(e){return new GC(e)}function YC(e){this._context=e}YC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v8(e){return new YC(e)}function JC(e){this._context=e}JC.prototype={areaStart:Of,areaEnd:Of,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function b8(e){return new JC(e)}function Cj(e){return e<0?-1:1}function Pj(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(Cj(i)+Cj(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Ej(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function r0(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Rf(e){this._context=e}Rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:r0(this,this._t0,Ej(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,r0(this,Ej(this,r=Pj(this,e,t)),r);break;default:r0(this,this._t0,r=Pj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function XC(e){this._context=new QC(e)}(XC.prototype=Object.create(Rf.prototype)).point=function(e,t){Rf.prototype.point.call(this,t,e)};function QC(e){this._context=e}QC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function w8(e){return new Rf(e)}function j8(e){return new XC(e)}function ZC(e){this._context=e}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Aj(e),s=Aj(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Aj(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function N8(e){return new ZC(e)}function xm(e,t){this._context=e,this._t=t}xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _8(e){return new xm(e,.5)}function k8(e){return new xm(e,0)}function S8(e){return new xm(e,1)}function Fo(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Gg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function C8(e,t){return e[t]}function P8(e){const t=[];return t.key=e,t}function E8(){var e=nt([]),t=Gg,r=Fo,n=C8;function s(i){var o=Array.from(e.apply(this,arguments),P8),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Cv(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:nt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:nt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Gg:typeof i=="function"?i:nt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Fo,s):r},s}function A8(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Fo(e,t)}}function T8(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Fo(e,t)}}function O8(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<l;++m){var y=e[t[m]],v=y[n][1]||0,x=y[n-1][1]||0;p+=v-x}c+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Fo(e,t)}}var eP={},tP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(tP);var Pv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Pv);var rP={},ym={},nP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(nP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nP;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ym);var sP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(sP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ym,r=sP;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(rP);var aP={},iP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nm;function r(n){return function(s){return t.get(s,n)}}e.property=r})(iP);var oP={},n0={},s0={},Ev={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Ev);var Av={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Av);var vm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(vm);var Tj;function M8(){return Tj||(Tj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tv(),r=Ev,n=Av,s=vm;function i(f,h,p){return typeof p!="function"?t.isMatch(f,h):o(f,h,function m(y,v,x,b,w,j){const N=p(y,v,x,b,w,j);return N!==void 0?!!N:o(y,v,m,j)},new Map)}function o(f,h,p,m){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,p,m);case"function":return Object.keys(h).length>0?o(f,{...h},p,m):s.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:s.eq(f,h)}}function l(f,h,p,m){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,m);if(h instanceof Map)return c(f,h,p,m);if(h instanceof Set)return d(f,h,p,m);const y=Object.keys(h);if(f==null)return y.length===0;if(y.length===0)return!0;if(m&&m.has(h))return m.get(h)===f;m&&m.set(h,f);try{for(let v=0;v<y.length;v++){const x=y[v];if(!n.isPrimitive(f)&&!(x in f)||h[x]===void 0&&f[x]!==void 0||h[x]===null&&f[x]!==null||!p(f[x],h[x],x,f,h,m))return!1}return!0}finally{m&&m.delete(h)}}function c(f,h,p,m){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[y,v]of h.entries()){const x=f.get(y);if(p(x,v,y,f,h,m)===!1)return!1}return!0}function u(f,h,p,m){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const y=new Set;for(let v=0;v<h.length;v++){const x=h[v];let b=!1;for(let w=0;w<f.length;w++){if(y.has(w))continue;const j=f[w];let N=!1;if(p(j,x,v,f,h,m)&&(N=!0),N){y.add(w),b=!0;break}}if(!b)return!1}return!0}function d(f,h,p,m){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,m):!1}e.isMatchWith=i,e.isSetMatch=d}(s0)),s0}var Oj;function Tv(){return Oj||(Oj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M8();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(n0)),n0}var lP={},Ov={},Mv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Mv);var bm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(bm);var wm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",y="[object DataView]",v="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",j="[object BigUint64Array]",N="[object Int8Array]",_="[object Int16Array]",k="[object Int32Array]",S="[object BigInt64Array]",C="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=j,e.booleanTag=s,e.dataViewTag=y,e.dateTag=l,e.errorTag=m,e.float32ArrayTag=C,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=k,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=x})(wm);var cP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(cP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mv,r=bm,n=wm,s=Av,i=cP;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,p=new Map,m=void 0){const y=m==null?void 0:m(d,f,h,p);if(y!=null)return y;if(s.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const v=new Array(d.length);p.set(d,v);for(let x=0;x<d.length;x++)v[x]=l(d[x],x,h,p,m);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;p.set(d,v);for(const[x,b]of d)v.set(x,l(b,x,h,p,m));return v}if(d instanceof Set){const v=new Set;p.set(d,v);for(const x of d)v.add(l(x,void 0,h,p,m));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,v);for(let x=0;x<d.length;x++)v[x]=l(d[x],x,h,p,m);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,v),c(v,d,h,p,m),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return p.set(d,v),c(v,d,h,p,m),v}if(d instanceof Blob){const v=new Blob([d],{type:d.type});return p.set(d,v),c(v,d,h,p,m),v}if(d instanceof Error){const v=new d.constructor;return p.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,h,p,m),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return p.set(d,v),c(v,d,h,p,m),v}return d}function c(d,f,h=d,p,m){const y=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<y.length;v++){const x=y[v],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=l(f[x],x,h,p,m))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Ov);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ov;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(lP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tv(),r=lP;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(oP);var uP={},dP={},fP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ov,r=wm;function n(s,i){return t.cloneDeepWith(s,(o,l,c,u)=>{const d=i==null?void 0:i(o,l,c,u);if(d!=null)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(f,s),f}case r.argumentsTag:{const f={};return t.copyProperties(f,s),f.length=s.length,f[Symbol.iterator]=s[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(fP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fP;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(dP);var hP={},Rv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Rv);var mP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bm;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(mP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vv,r=Rv,n=mP,s=sm;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=s.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(hP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tv(),r=bv,n=dP,s=nm,i=hP;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=s.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(uP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pv,r=iP,n=oP,s=uP;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(aP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tP,r=Pv,n=rP,s=aP;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(eP);var R8=eP.uniqBy;const Mj=ns(R8);function $8(e,t,r){return t===!0?Mj(e,r):typeof t=="function"?Mj(e,t):e}var $v=g.createContext(null),D8=e=>e,pr=()=>{var e=g.useContext($v);return e?e.store.dispatch:D8},Gd=()=>{},I8=()=>Gd,L8=(e,t)=>e===t;function he(e){var t=g.useContext($v);return P4.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:I8,t?t.store.getState:Gd,t?t.store.getState:Gd,t?e:Gd,L8)}function F8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function B8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function z8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Rj=e=>Array.isArray(e)?e:[e];function U8(e){const t=Array.isArray(e[0])?e[0]:e;return z8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function V8(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var q8=class{constructor(e){this.value=e}deref(){return this.value}},W8=typeof WeakRef<"u"?WeakRef:q8,H8=0,$j=1;function hd(){return{s:H8,v:void 0,o:null,p:null}}function pP(e,t={}){let r=hd();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var f;let l=r;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const v=y.get(m);v===void 0?(l=hd(),y.set(m,l)):l=v}else{let y=l.p;y===null&&(l.p=y=new Map);const v=y.get(m);v===void 0?(l=hd(),y.set(m,l)):l=v}}const u=l;let d;if(l.s===$j)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=s==null?void 0:s.deref)==null?void 0:f.call(s))??s;h!=null&&n(h,d)&&(d=h,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new W8(d):d}return u.s=$j,u.v=d,d}return o.clearCache=()=>{r=hd(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function K8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),F8(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:p=pP,argsMemoizeOptions:m=[],devModeChecks:y={}}=d,v=Rj(h),x=Rj(m),b=U8(s),w=f(function(){return i++,u.apply(null,arguments)},...v),j=p(function(){o++;const _=V8(b,arguments);return l=w.apply(null,_),l},...x);return Object.assign(j,{resultFunc:u,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var U=K8(pP),G8=Object.assign((e,t=U)=>{B8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>G8}),gP={},xP={},yP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(yP);var vP={},Dv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Dv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dv,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(vP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP,r=vP,n=sm;function s(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const u=(p,m)=>{let y=p;for(let v=0;v<m.length&&y!=null;++v)y=y[m[v]];return y},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let y=0;y<f.length;y++){const v=t.compareValues(p.criteria[y],m.criteria[y],l[y]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=s})(xP);var bP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):s.push(d)}};return o(r,0),s}e.flatten=t})(bP);var Iv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rv,r=ym,n=Ev,s=vm;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],o):!1}e.isIterateeCall=i})(Iv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xP,r=bP,n=Iv;function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(gP);var Y8=gP.sortBy;const jm=ns(Y8);var wP=e=>e.legend.settings,J8=e=>e.legend.size,X8=e=>e.legend.payload;U([X8,wP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?jm(n,r):n});var md=1;function Q8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>md||Math.abs(o.left-t.left)>md||Math.abs(o.top-t.top)>md||Math.abs(o.width-t.width)>md)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Lt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z8=typeof Symbol=="function"&&Symbol.observable||"@@observable",Dj=Z8,a0=()=>Math.random().toString(36).substring(7).split("").join("."),e7={INIT:`@@redux/INIT${a0()}`,REPLACE:`@@redux/REPLACE${a0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${a0()}`},$f=e7;function Lv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function jP(e,t,r){if(typeof e!="function")throw new Error(Lt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Lt(1));return r(jP)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((v,x)=>{o.set(x,v)}))}function d(){if(c)throw new Error(Lt(3));return s}function f(v){if(typeof v!="function")throw new Error(Lt(4));if(c)throw new Error(Lt(5));let x=!0;u();const b=l++;return o.set(b,v),function(){if(x){if(c)throw new Error(Lt(6));x=!1,u(),o.delete(b),i=null}}}function h(v){if(!Lv(v))throw new Error(Lt(7));if(typeof v.type>"u")throw new Error(Lt(8));if(typeof v.type!="string")throw new Error(Lt(17));if(c)throw new Error(Lt(9));try{c=!0,s=n(s,v)}finally{c=!1}return(i=o).forEach(b=>{b()}),v}function p(v){if(typeof v!="function")throw new Error(Lt(10));n=v,h({type:$f.REPLACE})}function m(){const v=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Lt(11));function b(){const j=x;j.next&&j.next(d())}return b(),{unsubscribe:v(b)}},[Dj](){return this}}}return h({type:$f.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[Dj]:m}}function t7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:$f.INIT})>"u")throw new Error(Lt(12));if(typeof r(void 0,{type:$f.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function NP(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{t7(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],p=o[f],m=h(p,l);if(typeof m>"u")throw l&&l.type,new Error(Lt(14));u[f]=m,c=c||m!==p}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Df(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function r7(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(Lt(15))};const o={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=Df(...l)(s.dispatch),{...s,dispatch:i}}}function _P(e){return Lv(e)&&"type"in e&&typeof e.type=="string"}var kP=Symbol.for("immer-nothing"),Ij=Symbol.for("immer-draftable"),Qr=Symbol.for("immer-state");function Tn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bo=Object.getPrototypeOf;function vi(e){return!!e&&!!e[Qr]}function Cs(e){var t;return e?SP(e)||Array.isArray(e)||!!e[Ij]||!!((t=e.constructor)!=null&&t[Ij])||_m(e)||km(e):!1}var n7=Object.prototype.constructor.toString();function SP(e){if(!e||typeof e!="object")return!1;const t=Bo(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===n7}function If(e,t){Nm(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Nm(e){const t=e[Qr];return t?t.type_:Array.isArray(e)?1:_m(e)?2:km(e)?3:0}function Yg(e,t){return Nm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function CP(e,t,r){const n=Nm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function s7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function _m(e){return e instanceof Map}function km(e){return e instanceof Set}function Va(e){return e.copy_||e.base_}function Jg(e,t){if(_m(e))return new Map(e);if(km(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=SP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Qr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Bo(e),n)}else{const n=Bo(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Fv(e,t=!1){return Sm(e)||vi(e)||!Cs(e)||(Nm(e)>1&&(e.set=e.add=e.clear=e.delete=a7),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Fv(n,!0))),e}function a7(){Tn(2)}function Sm(e){return Object.isFrozen(e)}var i7={};function bi(e){const t=i7[e];return t||Tn(0,e),t}var Vc;function PP(){return Vc}function o7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Lj(e,t){t&&(bi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Xg(e){Qg(e),e.drafts_.forEach(l7),e.drafts_=null}function Qg(e){e===Vc&&(Vc=e.parent_)}function Fj(e){return Vc=o7(Vc,e)}function l7(e){const t=e[Qr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Bj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Qr].modified_&&(Xg(t),Tn(4)),Cs(e)&&(e=Lf(t,e),t.parent_||Ff(t,e)),t.patches_&&bi("Patches").generateReplacementPatches_(r[Qr].base_,e,t.patches_,t.inversePatches_)):e=Lf(t,r,[]),Xg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kP?e:void 0}function Lf(e,t,r){if(Sm(t))return t;const n=t[Qr];if(!n)return If(t,(s,i)=>zj(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ff(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),If(i,(l,c)=>zj(e,n,s,l,c,r,o)),Ff(e,s,!1),r&&e.patches_&&bi("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function zj(e,t,r,n,s,i,o){if(vi(s)){const l=i&&t&&t.type_!==3&&!Yg(t.assigned_,n)?i.concat(n):void 0,c=Lf(e,s,l);if(CP(r,n,c),vi(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Cs(s)&&!Sm(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Lf(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ff(e,s)}}function Ff(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Fv(t,r)}function c7(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:PP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=Bv;r&&(s=[n],i=qc);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var Bv={get(e,t){if(t===Qr)return e;const r=Va(e);if(!Yg(r,t))return u7(e,r,t);const n=r[t];return e.finalized_||!Cs(n)?n:n===i0(e.base_,t)?(o0(e),e.copy_[t]=ex(n,e)):n},has(e,t){return t in Va(e)},ownKeys(e){return Reflect.ownKeys(Va(e))},set(e,t,r){const n=EP(Va(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=i0(Va(e),t),i=s==null?void 0:s[Qr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(s7(r,s)&&(r!==void 0||Yg(e.base_,t)))return!0;o0(e),Zg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return i0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,o0(e),Zg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Va(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Tn(11)},getPrototypeOf(e){return Bo(e.base_)},setPrototypeOf(){Tn(12)}},qc={};If(Bv,(e,t)=>{qc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});qc.deleteProperty=function(e,t){return qc.set.call(this,e,t,void 0)};qc.set=function(e,t,r){return Bv.set.call(this,e[0],t,r,e[0])};function i0(e,t){const r=e[Qr];return(r?Va(r):e)[t]}function u7(e,t,r){var s;const n=EP(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function EP(e,t){if(!(t in e))return;let r=Bo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Bo(r)}}function Zg(e){e.modified_||(e.modified_=!0,e.parent_&&Zg(e.parent_))}function o0(e){e.copy_||(e.copy_=Jg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var d7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Tn(6),n!==void 0&&typeof n!="function"&&Tn(7);let s;if(Cs(t)){const i=Fj(this),o=ex(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?Xg(i):Qg(i)}return Lj(i,n),Bj(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===kP&&(s=void 0),this.autoFreeze_&&Fv(s,!0),n){const i=[],o=[];bi("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else Tn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,s;return[this.produce(t,r,(o,l)=>{n=o,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Cs(e)||Tn(8),vi(e)&&(e=ma(e));const t=Fj(this),r=ex(e,void 0);return r[Qr].isManual_=!0,Qg(t),r}finishDraft(e,t){const r=e&&e[Qr];(!r||!r.isManual_)&&Tn(9);const{scope_:n}=r;return Lj(n,t),Bj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=bi("Patches").applyPatches_;return vi(e)?n(e,t):this.produce(e,s=>n(s,t))}};function ex(e,t){const r=_m(e)?bi("MapSet").proxyMap_(e,t):km(e)?bi("MapSet").proxySet_(e,t):c7(e,t);return(t?t.scope_:PP()).drafts_.push(r),r}function ma(e){return vi(e)||Tn(10,e),AP(e)}function AP(e){if(!Cs(e)||Sm(e))return e;const t=e[Qr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Jg(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Jg(e,!0);return If(r,(n,s)=>{CP(r,n,AP(s))}),t&&(t.finalized_=!1),r}var Zr=new d7,TP=Zr.produce;Zr.produceWithPatches.bind(Zr);Zr.setAutoFreeze.bind(Zr);Zr.setUseStrictShallowCopy.bind(Zr);Zr.applyPatches.bind(Zr);Zr.createDraft.bind(Zr);Zr.finishDraft.bind(Zr);function OP(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var f7=OP(),h7=OP,m7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Df:Df.apply(null,arguments)};function yn(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Gr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>_P(n)&&n.type===e,r}var MP=class Gl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Gl.prototype)}static get[Symbol.species](){return Gl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Gl(...t[0].concat(this)):new Gl(...t.concat(this))}};function Uj(e){return Cs(e)?TP(e,()=>{}):e}function pd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function p7(e){return typeof e=="boolean"}var g7=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new MP;return r&&(p7(r)?o.push(f7):o.push(h7(r.extraArgument))),o},x7="RTK_autoBatch",Vj=e=>t=>{setTimeout(t,e)},y7=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Vj(10):e.type==="callback"?e.queueNotification:Vj(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>s&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return s=!((f=d==null?void 0:d.meta)!=null&&f[x7]),i=!s,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{s=!0}}})},v7=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new MP(e);return n&&s.push(y7(typeof n=="object"?n:void 0)),s};function b7(e){const t=g7(),{reducer:r=void 0,middleware:n,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Lv(r))c=NP(r);else throw new Error(Gr(1));let u;typeof n=="function"?u=n(t):u=t();let d=Df;s&&(d=m7({trace:!1,...typeof s=="object"&&s}));const f=r7(...u),h=v7(f);let p=typeof l=="function"?l(h):h();const m=d(...p);return jP(c,o,m)}function RP(e){const t={},r=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Gr(28));if(l in t)throw new Error(Gr(29));return t[l]=o,s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function w7(e){return typeof e=="function"}function j7(e,t){let[r,n,s]=RP(t),i;if(w7(e))i=()=>Uj(e());else{const l=Uj(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,f)=>{if(f)if(vi(d)){const p=f(d,c);return p===void 0?d:p}else{if(Cs(d))return TP(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=i,o}var N7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_7=(e=21)=>{let t="",r=e;for(;r--;)t+=N7[Math.random()*64|0];return t},k7=Symbol.for("rtk-slice-createasyncthunk");function S7(e,t){return`${e}/${t}`}function C7({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[k7];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(Gr(11));typeof process<"u";const l=(typeof s.reducers=="function"?s.reducers(E7()):s.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,N){const _=typeof j=="string"?j:j.type;if(!_)throw new Error(Gr(12));if(_ in u.sliceCaseReducersByType)throw new Error(Gr(13));return u.sliceCaseReducersByType[_]=N,d},addMatcher(j,N){return u.sliceMatchers.push({matcher:j,reducer:N}),d},exposeAction(j,N){return u.actionCreators[j]=N,d},exposeCaseReducer(j,N){return u.sliceCaseReducersByName[j]=N,d}};c.forEach(j=>{const N=l[j],_={reducerName:j,type:S7(i,j),createNotation:typeof s.reducers=="function"};T7(N)?M7(_,N,d,t):A7(_,N,d)});function f(){const[j={},N=[],_=void 0]=typeof s.extraReducers=="function"?RP(s.extraReducers):[s.extraReducers],k={...j,...u.sliceCaseReducersByType};return j7(s.initialState,S=>{for(let C in k)S.addCase(C,k[C]);for(let C of u.sliceMatchers)S.addMatcher(C.matcher,C.reducer);for(let C of N)S.addMatcher(C.matcher,C.reducer);_&&S.addDefaultCase(_)})}const h=j=>j,p=new Map,m=new WeakMap;let y;function v(j,N){return y||(y=f()),y(j,N)}function x(){return y||(y=f()),y.getInitialState()}function b(j,N=!1){function _(S){let C=S[j];return typeof C>"u"&&N&&(C=pd(m,_,x)),C}function k(S=h){const C=pd(p,N,()=>new WeakMap);return pd(C,S,()=>{const P={};for(const[E,M]of Object.entries(s.selectors??{}))P[E]=P7(M,S,()=>pd(m,S,x),N);return P})}return{reducerPath:j,getSelectors:k,get selectors(){return k(_)},selectSlice:_}}const w={name:i,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...b(o),injectInto(j,{reducerPath:N,..._}={}){const k=N??o;return j.inject({reducerPath:k,reducer:v},_),{...w,...b(k,!0)}}};return w}}function P7(e,t,r,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var wn=C7();function E7(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function A7({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!O7(n))throw new Error(Gr(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?yn(e,o):yn(e))}function T7(e){return e._reducerDefinitionType==="asyncThunk"}function O7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function M7({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Gr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,f=s(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||gd,pending:l||gd,rejected:c||gd,settled:u||gd})}function gd(){}var R7="task",$P="listener",DP="completed",zv="cancelled",$7=`task-${zv}`,D7=`task-${DP}`,tx=`${$P}-${zv}`,I7=`${$P}-${DP}`,Cm=class{constructor(e){ip(this,"name","TaskAbortError");ip(this,"message");this.code=e,this.message=`${R7} ${zv} (reason: ${e})`}},Uv=(e,t)=>{if(typeof e!="function")throw new TypeError(Gr(32))},Bf=()=>{},IP=(e,t=Bf)=>(e.catch(t),e),LP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),oi=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},li=e=>{if(e.aborted){const{reason:t}=e;throw new Cm(t)}};function FP(e,t){let r=Bf;return new Promise((n,s)=>{const i=()=>s(new Cm(e.reason));if(e.aborted){i();return}r=LP(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Bf})}var L7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Cm?"cancelled":"rejected",error:r}}finally{t==null||t()}},zf=e=>t=>IP(FP(e,t).then(r=>(li(e),r))),BP=e=>{const t=zf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:jo}=Object,qj={},Pm="listenerMiddleware",F7=(e,t)=>{const r=n=>LP(e,()=>oi(n,e.reason));return(n,s)=>{Uv(n);const i=new AbortController;r(i);const o=L7(async()=>{li(e),li(i.signal);const l=await n({pause:zf(i.signal),delay:BP(i.signal),signal:i.signal});return li(i.signal),l},()=>oi(i,D7));return s!=null&&s.autoJoin&&t.push(o.catch(Bf)),{result:zf(e)(o),cancel(){oi(i,$7)}}}},B7=(e,t)=>{const r=async(n,s)=>{li(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await FP(t,Promise.race(l));return li(t),c}finally{i()}};return(n,s)=>IP(r(n,s))},zP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=yn(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Gr(21));return Uv(i),{predicate:s,type:t,effect:i}},UP=jo(e=>{const{type:t,predicate:r,effect:n}=zP(e);return{id:_7(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Gr(22))}}},{withTypes:()=>UP}),Wj=(e,t)=>{const{type:r,effect:n,predicate:s}=zP(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},rx=e=>{e.pending.forEach(t=>{oi(t,tx)})},z7=e=>()=>{e.forEach(rx),e.clear()},Hj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},VP=jo(yn(`${Pm}/add`),{withTypes:()=>VP}),U7=yn(`${Pm}/removeAll`),qP=jo(yn(`${Pm}/remove`),{withTypes:()=>qP}),V7=(...e)=>{console.error(`${Pm}/error`,...e)},vu=(e={})=>{const t=new Map,{extra:r,onError:n=V7}=e;Uv(n);const s=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&rx(d)}),i=d=>{const f=Wj(t,d)??UP(d);return s(f)};jo(i,{withTypes:()=>i});const o=d=>{const f=Wj(t,d);return f&&(f.unsubscribe(),d.cancelActive&&rx(f)),!!f};jo(o,{withTypes:()=>o});const l=async(d,f,h,p)=>{const m=new AbortController,y=B7(i,m.signal),v=[];try{d.pending.add(m),await Promise.resolve(d.effect(f,jo({},h,{getOriginalState:p,condition:(x,b)=>y(x,b).then(Boolean),take:y,delay:BP(m.signal),pause:zf(m.signal),extra:r,signal:m.signal,fork:F7(m.signal,v),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((x,b,w)=>{x!==m&&(oi(x,tx),w.delete(x))})},cancel:()=>{oi(m,tx),d.pending.delete(m)},throwIfCancelled:()=>{li(m.signal)}})))}catch(x){x instanceof Cm||Hj(n,x,{raisedBy:"effect"})}finally{await Promise.all(v),oi(m,I7),d.pending.delete(m)}},c=z7(t);return{middleware:d=>f=>h=>{if(!_P(h))return f(h);if(VP.match(h))return i(h.payload);if(U7.match(h)){c();return}if(qP.match(h))return o(h.payload);let p=d.getState();const m=()=>{if(p===qj)throw new Error(Gr(23));return p};let y;try{if(y=f(h),t.size>0){const v=d.getState(),x=Array.from(t.values());for(const b of x){let w=!1;try{w=b.predicate(h,v,p)}catch(j){w=!1,Hj(n,j,{raisedBy:"predicate"})}w&&l(b,h,d,m)}}}finally{p=qj}return y},startListening:i,stopListening:o,clearListeners:c}};function Gr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var q7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},WP=wn({name:"chartLayout",initialState:q7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:W7,setLayout:H7,setChartSize:K7,setScale:G7}=WP.actions,Y7=WP.reducer;function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){J7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J7(e,t,r){return(t=X7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X7(e){var t=Q7(e,"string");return typeof t=="symbol"?t:t+""}function Q7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uf=Math.PI/180,Z7=e=>e*180/Math.PI,Ut=(e,t,r,n)=>({x:e+Math.cos(-Uf*n)*r,y:t+Math.sin(-Uf*n)*r}),eF=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},tF=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},rF=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=tF({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:Z7(c),angleInRadian:c}},nF=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},sF=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},aF=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=rF({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:c,endAngle:u}=nF(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?Gj(Gj({},t),{},{radius:s,angle:sF(d,t)}):null};function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){iF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iF(e,t,r){return(t=oF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oF(e){var t=lF(e,"string");return typeof t=="symbol"?t:t+""}function lF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dr(e,t,r){return tt(e)||tt(t)?r:ts(t)?yi(e,t,r):typeof t=="function"?t(e):r}var cF=(e,t,r,n,s)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(un(d-u)!==un(f-d)){var p=[];if(un(f-d)===un(s[1]-s[0])){h=f;var m=d+s[1]-s[0];p[0]=Math.min(m,(m+u)/2),p[1]=Math.max(m,(m+u)/2)}else{h=u;var y=f+s[1]-s[0];p[0]=Math.min(d,(y+d)/2),p[1]=Math.max(d,(y+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){({index:o}=r[c]);break}}else{var x=Math.min(u,f),b=Math.max(u,f);if(e>(x+d)/2&&e<=(b+d)/2){({index:o}=r[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},uF=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ce(e[i]))return on(on({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ce(e[o]))return on(on({},e),{},{[o]:e[o]+(s||0)})}return e},as=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",HP=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},KP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!o)return null;var m=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=s==="category"&&o.bandwidth?o.bandwidth()/m:0;if(y=p==="angleAxis"&&i&&i.length>=2?un(i[0]-i[1])*2*y:y,f||h){var v=(f||h||[]).map((x,b)=>{var w=n?n.indexOf(x):x;return{coordinate:o(w)+y,value:x,offset:y,index:b}});return v.filter(x=>!Jr(x.coordinate))}return c&&u?u.map((x,b)=>({coordinate:o(x)+y,value:x,index:b,offset:y})):o.ticks&&!r&&d!=null?o.ticks(d).map((x,b)=>({coordinate:o(x)+y,value:x,offset:y,index:b})):o.domain().map((x,b)=>({coordinate:o(x)+y,value:n?n[x]:x,index:b,offset:y}))},Jj=1e-4,dF=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-Jj,i=Math.max(n[0],n[1])+Jj,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},fF=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=Jr(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},hF=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=Jr(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},mF={sign:fF,expand:A8,none:Fo,silhouette:T8,wiggle:O8,positive:hF},pF=(e,t,r)=>{var n=mF[r],s=E8().keys(t).value((i,o)=>+dr(i,o,0)).order(Gg).offset(n);return s(e)};function GP(e){return e==null?void 0:String(e)}function Vf(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!tt(s[t.dataKey])){var l=Nv(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=dr(s,tt(o)?t.dataKey:o);return tt(c)?null:t.scale(c)}var gF=e=>{var t=e.flat(2).filter(ce);return[Math.min(...t),Math.max(...t)]},xF=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],yF=(e,t,r)=>{if(e!=null)return xF(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((c,u)=>{var d=gF(u.slice(t,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},Xj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=jm(t,d=>d.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function Zj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return on(on({},t),{},{dataKey:r,payload:n,value:s,name:i})}function Em(e,t){if(e)return String(e);if(typeof t=="string")return t}function vF(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?aF({x:e,y:t},n):null}var bF=(e,t,r,n)=>{var s=t.find(u=>u&&u.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=n;return on(on(on({},n),Ut(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:c}=n;return on(on(on({},n),Ut(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},wF=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ca=e=>e.layout.width,Pa=e=>e.layout.height,jF=e=>e.layout.scale,YP=e=>e.layout.margin,Vv=U(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),qv=U(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),NF="data-recharts-item-index",_F="data-recharts-item-data-key",Am=60;function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){kF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kF(e,t,r){return(t=SF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=CF(e,"string");return typeof t=="symbol"?t:t+""}function CF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PF=e=>e.brush.height,tr=U([Ca,Pa,YP,PF,Vv,qv,wP,J8],(e,t,r,n,s,i,o,l)=>{var c=i.reduce((m,y)=>{var{orientation:v}=y;if(!y.mirror&&!y.hide){var x=typeof y.width=="number"?y.width:Am;return Vs(Vs({},m),{},{[v]:m[v]+x})}return m},{left:r.left||0,right:r.right||0}),u=s.reduce((m,y)=>{var{orientation:v}=y;return!y.mirror&&!y.hide?Vs(Vs({},m),{},{[v]:yi(m,"".concat(v))+y.height}):m},{top:r.top||0,bottom:r.bottom||0}),d=Vs(Vs({},u),c),f=d.bottom;d.bottom+=n,d=uF(d,o,l);var h=e-d.left-d.right,p=t-d.top-d.bottom;return Vs(Vs({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(p,0)})}),EF=U(tr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),JP=U(Ca,Pa,(e,t)=>({x:0,y:0,width:e,height:t})),AF=g.createContext(null),gr=()=>g.useContext(AF)!=null,Tm=e=>e.brush,Om=U([Tm,tr,YP],(e,t,r)=>({height:e.height,x:ce(e.x)?e.x:t.left,y:ce(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ce(e.width)?e.width:t.width})),Wv=()=>{var e,t=gr(),r=he(EF),n=he(Om),s=(e=he(Tm))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},TF={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},rl=()=>{var e;return(e=he(tr))!==null&&e!==void 0?e:TF},XP=()=>he(Ca),QP=()=>he(Pa),Ue=e=>e.layout.layoutType,Mm=()=>he(Ue),OF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ZP=wn({name:"legend",initialState:OF,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=ma(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:FJ,setLegendSettings:BJ,addLegendPayload:MF,removeLegendPayload:RF}=ZP.actions,$F=ZP.reducer;function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nx.apply(null,arguments)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){DF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DF(e,t,r){return(t=IF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IF(e){var t=LF(e,"string");return typeof t=="symbol"?t:t+""}function LF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FF(e){return Array.isArray(e)&&ts(e[0])&&ts(e[1])?e.join(" ~ "):e}var BF=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(i&&i.length){var N={padding:0,margin:0},_=(l?jm(i,l):i).map((k,S)=>{if(k.type==="none")return null;var C=k.formatter||o||FF,{value:P,name:E}=k,M=P,O=E;if(C){var F=C(P,E,k,S,i);if(Array.isArray(F))[M,O]=F;else if(F!=null)M=F;else return null}var A=l0({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:A},ts(O)?g.createElement("span",{className:"recharts-tooltip-item-name"},O):null,ts(O)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},M),g.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:N},_)}return null},m=l0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=l0({margin:0},s),v=!tt(d),x=v?d:"",b=De("recharts-default-tooltip",c),w=De("recharts-tooltip-label",u);v&&f&&i!==void 0&&i!==null&&(x=f(d,i));var j=h?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",nx({className:b,style:m},j),g.createElement("p",{className:w,style:y},g.isValidElement(x)?x:"".concat(x)),p())},Pl="recharts-tooltip-wrapper",zF={visibility:"hidden"};function UF(e){var{coordinate:t,translateX:r,translateY:n}=e;return De(Pl,{["".concat(Pl,"-right")]:ce(r)&&t&&ce(t.x)&&r>=t.x,["".concat(Pl,"-left")]:ce(r)&&t&&ce(t.x)&&r<t.x,["".concat(Pl,"-bottom")]:ce(n)&&t&&ce(t.y)&&n>=t.y,["".concat(Pl,"-top")]:ce(n)&&t&&ce(t.y)&&n<t.y})}function r2(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&ce(i[n]))return i[n];var d=r[n]-l-(s>0?s:0),f=r[n]+s;if(t[n])return o[n]?d:f;var h=c[n];if(h==null)return 0;if(o[n]){var p=d,m=h;return p<m?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var y=f+l,v=h+u;return y>v?Math.max(d,h):Math.max(f,h)}function VF(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function qF(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=r2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=r2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=VF({translateX:d,translateY:f,useTranslate3d:l})):u=zF,{cssProperties:u,cssClasses:UF({translateX:d,translateY:f,coordinate:r})}}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){sx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sx(e,t,r){return(t=WF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=HF(e,"string");return typeof t=="symbol"?t:t+""}function HF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class KF extends g.PureComponent{constructor(){super(...arguments),sx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),sx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:y,innerRef:v,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:w}=qF({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:p}),j=x?{}:xd(xd({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=xd(xd({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},m);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:N,ref:v},i)}}var GF=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),nl={isSsr:GF()},eE=()=>he(e=>e.rootProps.accessibilityLayer);function fr(e){return Number.isFinite(e)}function qf(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ax.apply(null,arguments)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function a2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){YF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YF(e,t,r){return(t=JF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JF(e){var t=XF(e,"string");return typeof t=="symbol"?t:t+""}function XF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i2={curveBasisClosed:y8,curveBasisOpen:v8,curveBasis:x8,curveBumpX:p8,curveBumpY:g8,curveLinearClosed:b8,curveLinear:gm,curveMonotoneX:w8,curveMonotoneY:j8,curveNatural:N8,curveStep:_8,curveStepAfter:S8,curveStepBefore:k8},yd=e=>fr(e.x)&&fr(e.y),El=e=>e.x,Al=e=>e.y,QF=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(_v(e));return(r==="curveMonotone"||r==="curveBump")&&t?i2["".concat(r).concat(t==="vertical"?"Y":"X")]:i2[r]||gm},ZF=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=QF(t,s),l=i?r.filter(yd):r,c;if(Array.isArray(n)){var u=i?n.filter(f=>yd(f)):n,d=l.map((f,h)=>a2(a2({},f),{},{base:u[h]}));return s==="vertical"?c=fd().y(Al).x1(El).x0(f=>f.base.x):c=fd().x(El).y1(Al).y0(f=>f.base.y),c.defined(yd).curve(o),c(d)}return s==="vertical"&&ce(n)?c=fd().y(Al).x1(El).x0(n):ce(n)?c=fd().x(El).y1(Al).y0(n):c=WC().x(El).y(Al),c.defined(yd).curve(o),c(l)},mc=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?ZF(e):n;return g.createElement("path",ax({},Ee(e,!1),Sv(e),{className:De("recharts-curve",t),d:i===null?void 0:i,ref:s}))},e9=["x","y","top","left","width","height","className"];function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ix.apply(null,arguments)}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function t9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){r9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r9(e,t,r){return(t=n9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n9(e){var t=s9(e,"string");return typeof t=="symbol"?t:t+""}function s9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a9(e,t){if(e==null)return{};var r,n,s=i9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function i9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var o9=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),l9=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=a9(e,e9),u=t9({x:t,y:r,top:n,left:s,width:i,height:o},c);return!ce(t)||!ce(r)||!ce(i)||!ce(o)||!ce(n)||!ce(s)?null:g.createElement("path",ix({},Ee(u,!0),{className:De("recharts-cross",l),d:o9(t,r,i,o,n,s)}))};function c9(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function u9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){d9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d9(e,t,r){return(t=f9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ea(e,t){var r=u9({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}var tE={},rE={},nE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(nE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nE,r=Mv,n=bm,s=wm,i=vm;function o(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,p,m,y){const v=y(u,d,f,h,p,m);if(v!==void 0)return v;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,m,y)}return c(u,d,m,y)}function c(u,d,f,h){if(Object.is(u,d))return!0;let p=n.getTag(u),m=n.getTag(d);if(p===s.argumentsTag&&(p=s.objectTag),m===s.argumentsTag&&(m=s.objectTag),p!==m)return!1;switch(p){case s.stringTag:return u.toString()===d.toString();case s.numberTag:{const x=u.valueOf(),b=d.valueOf();return i.eq(x,b)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(u.valueOf(),d.valueOf());case s.regexpTag:return u.source===d.source&&u.flags===d.flags;case s.functionTag:return u===d}f=f??new Map;const y=f.get(u),v=f.get(d);if(y!=null&&v!=null)return y===d;f.set(u,d),f.set(d,u);try{switch(p){case s.mapTag:{if(u.size!==d.size)return!1;for(const[x,b]of u.entries())if(!d.has(x)||!l(b,d.get(x),x,u,d,f,h))return!1;return!0}case s.setTag:{if(u.size!==d.size)return!1;const x=Array.from(u.values()),b=Array.from(d.values());for(let w=0;w<x.length;w++){const j=x[w],N=b.findIndex(_=>l(j,_,void 0,u,d,f,h));if(N===-1)return!1;b.splice(N,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let x=0;x<u.length;x++)if(!l(u[x],d[x],x,u,d,f,h))return!1;return!0}case s.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case s.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case s.errorTag:return u.name===d.name&&u.message===d.message;case s.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const b=[...Object.keys(u),...r.getSymbols(u)],w=[...Object.keys(d),...r.getSymbols(d)];if(b.length!==w.length)return!1;for(let j=0;j<b.length;j++){const N=b[j],_=u[N];if(!Object.hasOwn(d,N))return!1;const k=d[N];if(!l(_,k,N,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=o})(rE);var sE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(sE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rE,r=sE;function n(s,i){return t.isEqualWith(s,i,r.noop)}e.isEqual=n})(tE);var m9=tE.isEqual;const p9=ns(m9);function g9(e){var t={},r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){s=e.setTimeout(i.bind(null,u),c);return}i(c),s=e.setTimeout(i.bind(null,u));return}typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}var Wf=1e-4,aE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],iE=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),c2=(e,t)=>r=>{var n=aE(e,t);return iE(n,r)},x9=(e,t)=>r=>{var n=aE(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return iE(s,r)},u2=function(){for(var t,r,n,s,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,s]=c[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([t,n,r,s]=o);var u=c2(t,r),d=c2(n,s),f=x9(t,r),h=m=>m>1?1:m<0?0:m,p=m=>{for(var y=m>1?1:m,v=y,x=0;x<8;++x){var b=u(v)-y,w=f(v);if(Math.abs(b-y)<Wf||w<Wf)return d(v);v=h(v-b/w)}return d(v)};return p.isStepper=!1,p},y9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*n,f=c+(u-d)*s/1e3,h=c*s/1e3+o;return Math.abs(h-l)<Wf&&Math.abs(f)<Wf?[l,0]:[h,f]};return i.isStepper=!0,i.dt=s,i},v9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u2(e);case"spring":return y9();default:if(e.split("(")[0]==="cubic-bezier")return u2(e)}return typeof e=="function"?e:null};function d2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function f2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(r),!0).forEach(function(n){b9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b9(e,t,r){return(t=w9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w9(e){var t=j9(e,"string");return typeof t=="symbol"?t:t+""}function j9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),_9=(e,t,r)=>e.map(n=>"".concat(N9(n)," ").concat(t,"ms ").concat(r)).join(","),k9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),Hc=(e,t)=>Object.keys(t).reduce((r,n)=>f2(f2({},r),{},{[n]:e(n,t[n])}),{});function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){S9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S9(e,t,r){return(t=C9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C9(e){var t=P9(e,"string");return typeof t=="symbol"?t:t+""}function P9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hf=(e,t,r)=>e+(t-e)*r,ox=e=>{var{from:t,to:r}=e;return t!==r},oE=(e,t,r)=>{var n=Hc((s,i)=>{if(ox(i)){var[o,l]=e(i.from,i.to,i.velocity);return zt(zt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Hc((s,i)=>ox(i)?zt(zt({},i),{},{velocity:Hf(i.velocity,n[s].velocity,r),from:Hf(i.from,n[s].from,r)}):i,t):oE(e,n,r-1)};function E9(e,t,r,n,s,i){var o,l=n.reduce((h,p)=>zt(zt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>Hc((h,p)=>p.from,l),u=()=>!Object.values(l).filter(ox).length,d=null,f=h=>{o||(o=h);var p=h-o,m=p/r.dt;l=oE(r,l,m),s(zt(zt(zt({},e),t),c())),o=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function A9(e,t,r,n,s,i,o){var l=null,c=s.reduce((f,h)=>zt(zt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,p=Hc((y,v)=>Hf(...v,r(h)),c);if(i(zt(zt(zt({},e),t),p)),h<1)l=o.setTimeout(d);else{var m=Hc((y,v)=>Hf(...v,r(1)),c);i(zt(zt(zt({},e),t),m))}};return()=>(l=o.setTimeout(d),()=>{l()})}const T9=(e,t,r,n,s,i)=>{var o=k9(e,t);return r.isStepper===!0?E9(e,t,r,o,s,i):A9(e,t,r,n,o,s,i)};class O9{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}var M9=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(null,arguments)}function R9(e,t){if(e==null)return{};var r,n,s=$9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){Za(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Za(e,t,r){return(t=D9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D9(e){var t=I9(e,"string");return typeof t=="symbol"?t:t+""}function I9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L9(){return g9(new O9)}class Hv extends g.PureComponent{constructor(t,r){super(t,r),Za(this,"mounted",!1),Za(this,"manager",null),Za(this,"stopJSAnimation",null),Za(this,"unSubscribe",null);var{isActive:n,attributeName:s,from:i,to:o,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(i){if(typeof l=="function"){this.state={style:i};return}this.state={style:s?{[s]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:s,shouldReAnimate:i,to:o,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:s?{[s]:o}:o};this.state&&c&&(s&&c[s]!==o||!s&&c!==o)&&this.setState(u);return}if(!(p9(t.to,o)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||i?l:t.to;if(this.state&&c){var h={style:s?{[s]:f}:f};(s&&c[s]!==f||!s&&c!==f)&&this.setState(h)}this.runAnimation(qs(qs({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c}=t,u=T9(r,n,v9(i),s,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,o,d,s,l])}runAnimation(t){var{begin:r,duration:n,attributeName:s,to:i,easing:o,onAnimationStart:l,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof u=="function"||o==="spring"){this.runJSAnimation(t);return}var d=s?{[s]:i}:i,f=_9(Object.keys(d),n,o);this.manager.start([l,r,qs(qs({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:s,attributeName:i,easing:o,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:p,animationManager:m}=t,y=R9(t,M9),v=g.Children.count(r),x=this.state.style;if(typeof r=="function")return r(x);if(!l||v===0||s<=0)return r;var b=w=>{var{style:j={},className:N}=w.props,_=g.cloneElement(w,qs(qs({},y),{},{style:qs(qs({},j),x),className:N}));return _};return v===1?b(g.Children.only(r)):g.createElement("div",null,g.Children.map(r,w=>b(w)))}}Za(Hv,"displayName","Animate");Za(Hv,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var F9=g.createContext(null);function Kc(e){var t,r,n=g.useContext(F9);return g.createElement(Hv,lx({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:L9()}))}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kf.apply(null,arguments)}var p2=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=s[f]>i?i:s[f];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(i>0&&s===+s&&s>0){var p=Math.min(i,s);u="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,`
            L `).concat(e+r-l*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*p,`
            L `).concat(e+r,",").concat(t+n-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-l*p,",").concat(t+n,`
            L `).concat(e+l*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},B9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z9=e=>{var t=Ea(e,B9),r=g.useRef(null),[n,s]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:y}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var v=De("recharts-rectangle",d);return y?g.createElement(Kc,{canBegin:n>0,from:{width:l,height:c,x:i,y:o},to:{width:l,height:c,x:i,y:o},duration:h,animationEasing:f,isActive:y},x=>{var{width:b,height:w,x:j,y:N}=x;return g.createElement(Kc,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:m,easing:f},g.createElement("path",Kf({},Ee(t,!0),{className:v,d:p2(j,N,b,w,u),ref:r})))}):g.createElement("path",Kf({},Ee(t,!0),{className:v,d:p2(i,o,l,c,u)}))};function lE(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=Ut(t,r,n,s),l=Ut(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cx.apply(null,arguments)}var U9=(e,t)=>{var r=un(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},vd=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/Uf,f=c?s:s+i*d,h=Ut(t,r,u,f),p=Ut(t,r,n,f),m=c?s-i*d:s,y=Ut(t,r,u*Math.cos(d*Uf),m);return{center:h,circleTangency:p,lineTangency:y,theta:d}},cE=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=U9(i,o),c=i+l,u=Ut(t,r,s,i),d=Ut(t,r,s,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Ut(t,r,n,i),p=Ut(t,r,n,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},V9=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=un(u-c),{circleTangency:f,lineTangency:h,theta:p}=vd({cx:t,cy:r,radius:s,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:m,lineTangency:y,theta:v}=vd({cx:t,cy:r,radius:s,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),x=l?Math.abs(c-u):Math.abs(c-u)-p-v;if(x<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):cE({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:j,theta:N}=vd({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:_,lineTangency:k,theta:S}=vd({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),C=l?Math.abs(c-u):Math.abs(c-u)-N-S;if(C<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},q9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},W9=e=>{var t=Ea(e,q9),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<s||u===d)return null;var h=De("recharts-sector",f),p=i-s,m=ba(o,p,0,!0),y;return m>0&&Math.abs(u-d)<360?y=V9({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(m,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=cE({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),g.createElement("path",cx({},Ee(t,!0),{className:h,d:y}))};function H9(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=Ut(l,c,u,f),p=Ut(l,c,d,f);n=h.x,s=h.y,i=p.x,o=p.y}else return lE(t);return[{x:n,y:s},{x:i,y:o}]}var uE={},dE={},fE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dv;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(fE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fE;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(dE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iv,r=dE;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=s,s+=o;return c}e.range=n})(uE);var K9=uE.range;const hE=ns(K9);function pa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function G9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kv(e){let t,r,n;e.length!==2?(t=pa,r=(l,c)=>pa(e(l),c),n=(l,c)=>e(l)-c):(t=e===pa||e===G9?e:Y9,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function Y9(){return 0}function mE(e){return e===null?NaN:+e}function*J9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const X9=Kv(pa),bu=X9.right;Kv(mE).center;class g2 extends Map{constructor(t,r=eB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(x2(this,t))}has(t){return super.has(x2(this,t))}set(t,r){return super.set(Q9(this,t),r)}delete(t){return super.delete(Z9(this,t))}}function x2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Q9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Z9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function eB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tB(e=pa){if(e===pa)return pE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function pE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rB=Math.sqrt(50),nB=Math.sqrt(10),sB=Math.sqrt(2);function Gf(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=rB?10:i>=nB?5:i>=sB?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Gf(e,t,r*2):[l,c,u]}function ux(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Gf(t,e,r):Gf(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function dx(e,t,r){return t=+t,e=+e,r=+r,Gf(e,t,r)[2]}function fx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?dx(t,e,r):dx(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function y2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function v2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function gE(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?pE:tB(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),m=Math.min(n,Math.floor(t+(c-u)*f/c+h));gE(e,t,p,m,s)}const i=e[t];let o=r,l=n;for(Tl(e,r,t),s(e[n],i)>0&&Tl(e,r,n);o<l;){for(Tl(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Tl(e,r,l):(++l,Tl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Tl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function aB(e,t,r){if(e=Float64Array.from(J9(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return v2(e);if(t>=1)return y2(e);var n,s=(n-1)*t,i=Math.floor(s),o=y2(gE(e,i).subarray(0,i+1)),l=v2(e.subarray(i+1));return o+(l-o)*(s-i)}}function iB(e,t,r=mE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function oB(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function jn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Rs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hx=Symbol("implicit");function Gv(){var e=new g2,t=[],r=[],n=hx;function s(i){let o=e.get(i);if(o===void 0){if(n!==hx)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new g2;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Gv(t,r).unknown(n)},jn.apply(s,arguments),s}function Yv(){var e=Gv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,m=p?s:n,y=p?n:s;i=(y-m)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),m+=(y-m-i*(h-c))*d,o=i*(1-c),l&&(m=Math.round(m),o=Math.round(o));var v=oB(h).map(function(x){return m+i*x});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Yv(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},jn.apply(f(),arguments)}function xE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xE(t())},e}function lB(){return xE(Yv.apply(null,arguments).paddingInner(1))}function Jv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function yE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function wu(){}var Gc=.7,Yf=1/Gc,No="\\s*([+-]?\\d+)\\s*",Yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cB=/^#([0-9a-f]{3,8})$/,uB=new RegExp(`^rgb\\(${No},${No},${No}\\)$`),dB=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),fB=new RegExp(`^rgba\\(${No},${No},${No},${Yc}\\)$`),hB=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${Yc}\\)$`),mB=new RegExp(`^hsl\\(${Yc},${Qn},${Qn}\\)$`),pB=new RegExp(`^hsla\\(${Yc},${Qn},${Qn},${Yc}\\)$`),b2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jv(wu,Jc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:w2,formatHex:w2,formatHex8:gB,formatHsl:xB,formatRgb:j2,toString:j2});function w2(){return this.rgb().formatHex()}function gB(){return this.rgb().formatHex8()}function xB(){return vE(this).formatHsl()}function j2(){return this.rgb().formatRgb()}function Jc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=cB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?N2(t):r===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uB.exec(e))?new Sr(t[1],t[2],t[3],1):(t=dB.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fB.exec(e))?bd(t[1],t[2],t[3],t[4]):(t=hB.exec(e))?bd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mB.exec(e))?S2(t[1],t[2]/100,t[3]/100,1):(t=pB.exec(e))?S2(t[1],t[2]/100,t[3]/100,t[4]):b2.hasOwnProperty(e)?N2(b2[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function N2(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function bd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sr(e,t,r,n)}function yB(e){return e instanceof wu||(e=Jc(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function mx(e,t,r,n){return arguments.length===1?yB(e):new Sr(e,t,r,n??1)}function Sr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Jv(Sr,mx,yE(wu,{brighter(e){return e=e==null?Yf:Math.pow(Yf,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gc:Math.pow(Gc,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(ci(this.r),ci(this.g),ci(this.b),Jf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_2,formatHex:_2,formatHex8:vB,formatRgb:k2,toString:k2}));function _2(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}`}function vB(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}${ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function k2(){const e=Jf(this.opacity);return`${e===1?"rgb(":"rgba("}${ci(this.r)}, ${ci(this.g)}, ${ci(this.b)}${e===1?")":`, ${e})`}`}function Jf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ci(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ei(e){return e=ci(e),(e<16?"0":"")+e.toString(16)}function S2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new On(e,t,r,n)}function vE(e){if(e instanceof On)return new On(e.h,e.s,e.l,e.opacity);if(e instanceof wu||(e=Jc(e)),!e)return new On;if(e instanceof On)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new On(o,l,c,e.opacity)}function bB(e,t,r,n){return arguments.length===1?vE(e):new On(e,t,r,n??1)}function On(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Jv(On,bB,yE(wu,{brighter(e){return e=e==null?Yf:Math.pow(Yf,e),new On(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gc:Math.pow(Gc,e),new On(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Sr(c0(e>=240?e-240:e+120,s,n),c0(e,s,n),c0(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new On(C2(this.h),wd(this.s),wd(this.l),Jf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jf(this.opacity);return`${e===1?"hsl(":"hsla("}${C2(this.h)}, ${wd(this.s)*100}%, ${wd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function C2(e){return e=(e||0)%360,e<0?e+360:e}function wd(e){return Math.max(0,Math.min(1,e||0))}function c0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Xv=e=>()=>e;function wB(e,t){return function(r){return e+r*t}}function jB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function NB(e){return(e=+e)==1?bE:function(t,r){return r-t?jB(t,r,e):Xv(isNaN(t)?r:t)}}function bE(e,t){var r=t-e;return r?wB(e,r):Xv(isNaN(e)?t:e)}const P2=function e(t){var r=NB(t);function n(s,i){var o=r((s=mx(s)).r,(i=mx(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=bE(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function _B(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function kB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function SB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=sl(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function CB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Xf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function PB(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=sl(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var px=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u0=new RegExp(px.source,"g");function EB(e){return function(){return e}}function AB(e){return function(t){return e(t)+""}}function TB(e,t){var r=px.lastIndex=u0.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=px.exec(e))&&(s=u0.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Xf(n,s)})),r=u0.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?AB(c[0].x):EB(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function sl(e,t){var r=typeof t,n;return t==null||r==="boolean"?Xv(t):(r==="number"?Xf:r==="string"?(n=Jc(t))?(t=n,P2):TB:t instanceof Jc?P2:t instanceof Date?CB:kB(t)?_B:Array.isArray(t)?SB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?PB:Xf)(e,t)}function Qv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function OB(e,t){t===void 0&&(t=e,e=sl);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function MB(e){return function(){return e}}function Qf(e){return+e}var E2=[0,1];function cr(e){return e}function gx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:MB(isNaN(t)?NaN:.5)}function RB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function $B(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=gx(s,n),i=r(o,i)):(n=gx(n,s),i=r(i,o)),function(l){return i(n(l))}}function DB(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=gx(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=bu(e,l,1,n)-1;return i[c](s[c](l))}}function ju(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rm(){var e=E2,t=E2,r=sl,n,s,i,o=cr,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==cr&&(o=RB(e[0],e[h-1])),l=h>2?DB:$B,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),Xf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Qf),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Qv,d()},f.clamp=function(h){return arguments.length?(o=h?!0:cr,d()):o!==cr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,d()}}function Zv(){return Rm()(cr,cr)}function IB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function zo(e){return e=Zf(Math.abs(e)),e?e[1]:NaN}function LB(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function FB(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var BB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xc(e){if(!(t=BB.exec(e)))throw new Error("invalid format: "+e);var t;return new eb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xc.prototype=eb.prototype;function eb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zB(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var wE;function UB(e,t){var r=Zf(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(wE=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Zf(e,Math.max(0,t+i-1))[0]}function A2(e,t){var r=Zf(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const T2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:IB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>A2(e*100,t),r:A2,s:UB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function O2(e){return e}var M2=Array.prototype.map,R2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function VB(e){var t=e.grouping===void 0||e.thousands===void 0?O2:LB(M2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?O2:FB(M2.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Xc(f);var h=f.fill,p=f.align,m=f.sign,y=f.symbol,v=f.zero,x=f.width,b=f.comma,w=f.precision,j=f.trim,N=f.type;N==="n"?(b=!0,N="g"):T2[N]||(w===void 0&&(w=12),j=!0,N="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var _=y==="$"?r:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=y==="$"?n:/[%p]/.test(N)?o:"",S=T2[N],C=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(E){var M=_,O=k,F,A,q;if(N==="c")O=S(E)+O,E="";else{E=+E;var H=E<0||1/E<0;if(E=isNaN(E)?c:S(Math.abs(E),w),j&&(E=zB(E)),H&&+E==0&&m!=="+"&&(H=!1),M=(H?m==="("?m:l:m==="-"||m==="("?"":m)+M,O=(N==="s"?R2[8+wE/3]:"")+O+(H&&m==="("?")":""),C){for(F=-1,A=E.length;++F<A;)if(q=E.charCodeAt(F),48>q||q>57){O=(q===46?s+E.slice(F+1):E.slice(F))+O,E=E.slice(0,F);break}}}b&&!v&&(E=t(E,1/0));var $=M.length+E.length+O.length,D=$<x?new Array(x-$+1).join(h):"";switch(b&&v&&(E=t(D+E,D.length?x-O.length:1/0),D=""),p){case"<":E=M+E+O+D;break;case"=":E=M+D+E+O;break;case"^":E=D.slice(0,$=D.length>>1)+M+E+O+D.slice($);break;default:E=D+M+E+O;break}return i(E)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=Xc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(zo(h)/3)))*3,y=Math.pow(10,-m),v=R2[8+m/3];return function(x){return p(y*x)+v}}return{format:u,formatPrefix:d}}var jd,tb,jE;qB({thousands:",",grouping:[3],currency:["$",""]});function qB(e){return jd=VB(e),tb=jd.format,jE=jd.formatPrefix,jd}function WB(e){return Math.max(0,-zo(Math.abs(e)))}function HB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zo(t)/3)))*3-zo(Math.abs(e)))}function KB(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zo(t)-zo(e))+1}function NE(e,t,r,n){var s=fx(e,t,r),i;switch(n=Xc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=HB(s,o))&&(n.precision=i),jE(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=KB(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=WB(s))&&(n.precision=i-(n.type==="%")*2);break}}return tb(n)}function Aa(e){var t=e.domain;return e.ticks=function(r){var n=t();return ux(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return NE(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=dx(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function _E(){var e=Zv();return e.copy=function(){return ju(e,_E())},jn.apply(e,arguments),Aa(e)}function kE(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Qf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kE(e).unknown(t)},e=arguments.length?Array.from(e,Qf):[0,1],Aa(r)}function SE(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function $2(e){return Math.log(e)}function D2(e){return Math.exp(e)}function GB(e){return-Math.log(-e)}function YB(e){return-Math.exp(-e)}function JB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function XB(e){return e===10?JB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function QB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function I2(e){return(t,r)=>-e(-t,r)}function rb(e){const t=e($2,D2),r=t.domain;let n=10,s,i;function o(){return s=QB(n),i=XB(n),r()[0]<0?(s=I2(s),i=I2(i),e(GB,YB)):e($2,D2),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),m,y;const v=l==null?10:+l;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(y=h<0?m/i(-h):m*i(h),!(y<u)){if(y>d)break;x.push(y)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(y=h>0?m/i(-h):m*i(h),!(y<u)){if(y>d)break;x.push(y)}x.length*2<v&&(x=ux(u,d,v))}else x=ux(h,p,Math.min(p-h,v)).map(i);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Xc(c)).precision==null&&(c.trim=!0),c=tb(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(SE(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function CE(){const e=rb(Rm()).domain([1,10]);return e.copy=()=>ju(e,CE()).base(e.base()),jn.apply(e,arguments),e}function L2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function F2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function nb(e){var t=1,r=e(L2(t),F2(t));return r.constant=function(n){return arguments.length?e(L2(t=+n),F2(t)):t},Aa(r)}function PE(){var e=nb(Rm());return e.copy=function(){return ju(e,PE()).constant(e.constant())},jn.apply(e,arguments)}function B2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ZB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ez(e){return e<0?-e*e:e*e}function sb(e){var t=e(cr,cr),r=1;function n(){return r===1?e(cr,cr):r===.5?e(ZB,ez):e(B2(r),B2(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Aa(t)}function ab(){var e=sb(Rm());return e.copy=function(){return ju(e,ab()).exponent(e.exponent())},jn.apply(e,arguments),e}function tz(){return ab.apply(null,arguments).exponent(.5)}function z2(e){return Math.sign(e)*e*e}function rz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function EE(){var e=Zv(),t=[0,1],r=!1,n;function s(i){var o=rz(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(z2(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Qf)).map(z2)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return EE(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},jn.apply(s,arguments),Aa(s)}function AE(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=iB(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[bu(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(pa),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return AE().domain(e).range(t).unknown(n)},jn.apply(i,arguments)}function TE(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[bu(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return TE().domain([e,t]).range(s).unknown(i)},jn.apply(Aa(o),arguments)}function OE(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[bu(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return OE().domain(e).range(t).unknown(r)},jn.apply(s,arguments)}const d0=new Date,f0=new Date;function _t(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>_t(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(d0.setTime(+i),f0.setTime(+o),e(d0),e(f0),Math.floor(r(d0,f0))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const eh=_t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);eh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_t(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):eh);eh.range;const ys=1e3,dn=ys*60,vs=dn*60,Ps=vs*24,ib=Ps*7,U2=Ps*30,h0=Ps*365,ti=_t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ys)},(e,t)=>(t-e)/ys,e=>e.getUTCSeconds());ti.range;const ob=_t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ys)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getMinutes());ob.range;const lb=_t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getUTCMinutes());lb.range;const cb=_t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ys-e.getMinutes()*dn)},(e,t)=>{e.setTime(+e+t*vs)},(e,t)=>(t-e)/vs,e=>e.getHours());cb.range;const ub=_t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vs)},(e,t)=>(t-e)/vs,e=>e.getUTCHours());ub.range;const Nu=_t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dn)/Ps,e=>e.getDate()-1);Nu.range;const $m=_t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ps,e=>e.getUTCDate()-1);$m.range;const ME=_t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ps,e=>Math.floor(e/Ps));ME.range;function Si(e){return _t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*dn)/ib)}const Dm=Si(0),th=Si(1),nz=Si(2),sz=Si(3),Uo=Si(4),az=Si(5),iz=Si(6);Dm.range;th.range;nz.range;sz.range;Uo.range;az.range;iz.range;function Ci(e){return _t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ib)}const Im=Ci(0),rh=Ci(1),oz=Ci(2),lz=Ci(3),Vo=Ci(4),cz=Ci(5),uz=Ci(6);Im.range;rh.range;oz.range;lz.range;Vo.range;cz.range;uz.range;const db=_t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());db.range;const fb=_t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fb.range;const Es=_t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Es.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Es.range;const As=_t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());As.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});As.range;function RE(e,t,r,n,s,i){const o=[[ti,1,ys],[ti,5,5*ys],[ti,15,15*ys],[ti,30,30*ys],[i,1,dn],[i,5,5*dn],[i,15,15*dn],[i,30,30*dn],[s,1,vs],[s,3,3*vs],[s,6,6*vs],[s,12,12*vs],[n,1,Ps],[n,2,2*Ps],[r,1,ib],[t,1,U2],[t,3,3*U2],[e,1,h0]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function c(u,d,f){const h=Math.abs(d-u)/f,p=Kv(([,,v])=>v).right(o,h);if(p===o.length)return e.every(fx(u/h0,d/h0,f));if(p===0)return eh.every(Math.max(fx(u,d,f),1));const[m,y]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(y)}return[l,c]}const[dz,fz]=RE(As,fb,Im,ME,ub,lb),[hz,mz]=RE(Es,db,Dm,Nu,cb,ob);function m0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function p0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ol(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function pz(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ml(s),d=Rl(s),f=Ml(i),h=Rl(i),p=Ml(o),m=Rl(o),y=Ml(l),v=Rl(l),x=Ml(c),b=Rl(c),w={a:H,A:$,b:D,B:W,c:null,d:G2,e:G2,f:Lz,g:Gz,G:Jz,H:$z,I:Dz,j:Iz,L:$E,m:Fz,M:Bz,p:V,q:L,Q:X2,s:Q2,S:zz,u:Uz,U:Vz,V:qz,w:Wz,W:Hz,x:null,X:null,y:Kz,Y:Yz,Z:Xz,"%":J2},j={a:se,A:K,b:B,B:ie,c:null,d:Y2,e:Y2,f:tU,g:dU,G:hU,H:Qz,I:Zz,j:eU,L:IE,m:rU,M:nU,p:ge,q:I,Q:X2,s:Q2,S:sU,u:aU,U:iU,V:oU,w:lU,W:cU,x:null,X:null,y:uU,Y:fU,Z:mU,"%":J2},N={a:P,A:E,b:M,B:O,c:F,d:H2,e:H2,f:Tz,g:W2,G:q2,H:K2,I:K2,j:Cz,L:Az,m:Sz,M:Pz,p:C,q:kz,Q:Mz,s:Rz,S:Ez,u:bz,U:wz,V:jz,w:vz,W:Nz,x:A,X:q,y:W2,Y:q2,Z:_z,"%":Oz};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(R,te){return function(ue){var T=[],fe=-1,me=0,Se=R.length,Te,kt,Or;for(ue instanceof Date||(ue=new Date(+ue));++fe<Se;)R.charCodeAt(fe)===37&&(T.push(R.slice(me,fe)),(kt=V2[Te=R.charAt(++fe)])!=null?Te=R.charAt(++fe):kt=Te==="e"?" ":"0",(Or=te[Te])&&(Te=Or(ue,kt)),T.push(Te),me=fe+1);return T.push(R.slice(me,fe)),T.join("")}}function k(R,te){return function(ue){var T=Ol(1900,void 0,1),fe=S(T,R,ue+="",0),me,Se;if(fe!=ue.length)return null;if("Q"in T)return new Date(T.Q);if("s"in T)return new Date(T.s*1e3+("L"in T?T.L:0));if(te&&!("Z"in T)&&(T.Z=0),"p"in T&&(T.H=T.H%12+T.p*12),T.m===void 0&&(T.m="q"in T?T.q:0),"V"in T){if(T.V<1||T.V>53)return null;"w"in T||(T.w=1),"Z"in T?(me=p0(Ol(T.y,0,1)),Se=me.getUTCDay(),me=Se>4||Se===0?rh.ceil(me):rh(me),me=$m.offset(me,(T.V-1)*7),T.y=me.getUTCFullYear(),T.m=me.getUTCMonth(),T.d=me.getUTCDate()+(T.w+6)%7):(me=m0(Ol(T.y,0,1)),Se=me.getDay(),me=Se>4||Se===0?th.ceil(me):th(me),me=Nu.offset(me,(T.V-1)*7),T.y=me.getFullYear(),T.m=me.getMonth(),T.d=me.getDate()+(T.w+6)%7)}else("W"in T||"U"in T)&&("w"in T||(T.w="u"in T?T.u%7:"W"in T?1:0),Se="Z"in T?p0(Ol(T.y,0,1)).getUTCDay():m0(Ol(T.y,0,1)).getDay(),T.m=0,T.d="W"in T?(T.w+6)%7+T.W*7-(Se+5)%7:T.w+T.U*7-(Se+6)%7);return"Z"in T?(T.H+=T.Z/100|0,T.M+=T.Z%100,p0(T)):m0(T)}}function S(R,te,ue,T){for(var fe=0,me=te.length,Se=ue.length,Te,kt;fe<me;){if(T>=Se)return-1;if(Te=te.charCodeAt(fe++),Te===37){if(Te=te.charAt(fe++),kt=N[Te in V2?te.charAt(fe++):Te],!kt||(T=kt(R,ue,T))<0)return-1}else if(Te!=ue.charCodeAt(T++))return-1}return T}function C(R,te,ue){var T=u.exec(te.slice(ue));return T?(R.p=d.get(T[0].toLowerCase()),ue+T[0].length):-1}function P(R,te,ue){var T=p.exec(te.slice(ue));return T?(R.w=m.get(T[0].toLowerCase()),ue+T[0].length):-1}function E(R,te,ue){var T=f.exec(te.slice(ue));return T?(R.w=h.get(T[0].toLowerCase()),ue+T[0].length):-1}function M(R,te,ue){var T=x.exec(te.slice(ue));return T?(R.m=b.get(T[0].toLowerCase()),ue+T[0].length):-1}function O(R,te,ue){var T=y.exec(te.slice(ue));return T?(R.m=v.get(T[0].toLowerCase()),ue+T[0].length):-1}function F(R,te,ue){return S(R,t,te,ue)}function A(R,te,ue){return S(R,r,te,ue)}function q(R,te,ue){return S(R,n,te,ue)}function H(R){return o[R.getDay()]}function $(R){return i[R.getDay()]}function D(R){return c[R.getMonth()]}function W(R){return l[R.getMonth()]}function V(R){return s[+(R.getHours()>=12)]}function L(R){return 1+~~(R.getMonth()/3)}function se(R){return o[R.getUTCDay()]}function K(R){return i[R.getUTCDay()]}function B(R){return c[R.getUTCMonth()]}function ie(R){return l[R.getUTCMonth()]}function ge(R){return s[+(R.getUTCHours()>=12)]}function I(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var te=_(R+="",w);return te.toString=function(){return R},te},parse:function(R){var te=k(R+="",!1);return te.toString=function(){return R},te},utcFormat:function(R){var te=_(R+="",j);return te.toString=function(){return R},te},utcParse:function(R){var te=k(R+="",!0);return te.toString=function(){return R},te}}}var V2={"-":"",_:" ",0:"0"},$t=/^\s*\d+/,gz=/^%/,xz=/[\\^$*+?|[\]().{}]/g;function Pe(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function yz(e){return e.replace(xz,"\\$&")}function Ml(e){return new RegExp("^(?:"+e.map(yz).join("|")+")","i")}function Rl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function vz(e,t,r){var n=$t.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function bz(e,t,r){var n=$t.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function wz(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function jz(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Nz(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function q2(e,t,r){var n=$t.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function W2(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _z(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function kz(e,t,r){var n=$t.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Sz(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function H2(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Cz(e,t,r){var n=$t.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function K2(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Pz(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Ez(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Az(e,t,r){var n=$t.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Tz(e,t,r){var n=$t.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Oz(e,t,r){var n=gz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Mz(e,t,r){var n=$t.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Rz(e,t,r){var n=$t.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function G2(e,t){return Pe(e.getDate(),t,2)}function $z(e,t){return Pe(e.getHours(),t,2)}function Dz(e,t){return Pe(e.getHours()%12||12,t,2)}function Iz(e,t){return Pe(1+Nu.count(Es(e),e),t,3)}function $E(e,t){return Pe(e.getMilliseconds(),t,3)}function Lz(e,t){return $E(e,t)+"000"}function Fz(e,t){return Pe(e.getMonth()+1,t,2)}function Bz(e,t){return Pe(e.getMinutes(),t,2)}function zz(e,t){return Pe(e.getSeconds(),t,2)}function Uz(e){var t=e.getDay();return t===0?7:t}function Vz(e,t){return Pe(Dm.count(Es(e)-1,e),t,2)}function DE(e){var t=e.getDay();return t>=4||t===0?Uo(e):Uo.ceil(e)}function qz(e,t){return e=DE(e),Pe(Uo.count(Es(e),e)+(Es(e).getDay()===4),t,2)}function Wz(e){return e.getDay()}function Hz(e,t){return Pe(th.count(Es(e)-1,e),t,2)}function Kz(e,t){return Pe(e.getFullYear()%100,t,2)}function Gz(e,t){return e=DE(e),Pe(e.getFullYear()%100,t,2)}function Yz(e,t){return Pe(e.getFullYear()%1e4,t,4)}function Jz(e,t){var r=e.getDay();return e=r>=4||r===0?Uo(e):Uo.ceil(e),Pe(e.getFullYear()%1e4,t,4)}function Xz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pe(t/60|0,"0",2)+Pe(t%60,"0",2)}function Y2(e,t){return Pe(e.getUTCDate(),t,2)}function Qz(e,t){return Pe(e.getUTCHours(),t,2)}function Zz(e,t){return Pe(e.getUTCHours()%12||12,t,2)}function eU(e,t){return Pe(1+$m.count(As(e),e),t,3)}function IE(e,t){return Pe(e.getUTCMilliseconds(),t,3)}function tU(e,t){return IE(e,t)+"000"}function rU(e,t){return Pe(e.getUTCMonth()+1,t,2)}function nU(e,t){return Pe(e.getUTCMinutes(),t,2)}function sU(e,t){return Pe(e.getUTCSeconds(),t,2)}function aU(e){var t=e.getUTCDay();return t===0?7:t}function iU(e,t){return Pe(Im.count(As(e)-1,e),t,2)}function LE(e){var t=e.getUTCDay();return t>=4||t===0?Vo(e):Vo.ceil(e)}function oU(e,t){return e=LE(e),Pe(Vo.count(As(e),e)+(As(e).getUTCDay()===4),t,2)}function lU(e){return e.getUTCDay()}function cU(e,t){return Pe(rh.count(As(e)-1,e),t,2)}function uU(e,t){return Pe(e.getUTCFullYear()%100,t,2)}function dU(e,t){return e=LE(e),Pe(e.getUTCFullYear()%100,t,2)}function fU(e,t){return Pe(e.getUTCFullYear()%1e4,t,4)}function hU(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Vo(e):Vo.ceil(e),Pe(e.getUTCFullYear()%1e4,t,4)}function mU(){return"+0000"}function J2(){return"%"}function X2(e){return+e}function Q2(e){return Math.floor(+e/1e3)}var Ui,FE,BE;pU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pU(e){return Ui=pz(e),FE=Ui.format,Ui.parse,BE=Ui.utcFormat,Ui.utcParse,Ui}function gU(e){return new Date(e)}function xU(e){return e instanceof Date?+e:+new Date(+e)}function hb(e,t,r,n,s,i,o,l,c,u){var d=Zv(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),y=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function N(_){return(c(_)<_?p:l(_)<_?m:o(_)<_?y:i(_)<_?v:n(_)<_?s(_)<_?x:b:r(_)<_?w:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,xU)):h().map(gU)},d.ticks=function(_){var k=h();return e(k[0],k[k.length-1],_??10)},d.tickFormat=function(_,k){return k==null?N:u(k)},d.nice=function(_){var k=h();return(!_||typeof _.range!="function")&&(_=t(k[0],k[k.length-1],_??10)),_?h(SE(k,_)):d},d.copy=function(){return ju(d,hb(e,t,r,n,s,i,o,l,c,u))},d}function yU(){return jn.apply(hb(hz,mz,Es,db,Dm,Nu,cb,ob,ti,FE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vU(){return jn.apply(hb(dz,fz,As,fb,Im,$m,ub,lb,ti,BE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lm(){var e=0,t=1,r,n,s,i,o=cr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),u):[o(0),o(1)]}}return u.range=d(sl),u.rangeRound=d(Qv),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Ta(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zE(){var e=Aa(Lm()(cr));return e.copy=function(){return Ta(e,zE())},Rs.apply(e,arguments)}function UE(){var e=rb(Lm()).domain([1,10]);return e.copy=function(){return Ta(e,UE()).base(e.base())},Rs.apply(e,arguments)}function VE(){var e=nb(Lm());return e.copy=function(){return Ta(e,VE()).constant(e.constant())},Rs.apply(e,arguments)}function mb(){var e=sb(Lm());return e.copy=function(){return Ta(e,mb()).exponent(e.exponent())},Rs.apply(e,arguments)}function bU(){return mb.apply(null,arguments).exponent(.5)}function qE(){var e=[],t=cr;function r(n){if(n!=null&&!isNaN(n=+n))return t((bu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(pa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>aB(e,i/n))},r.copy=function(){return qE(t).domain(e)},Rs.apply(r,arguments)}function Fm(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=cr,d,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-i)*(n*y<n*i?l:c),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function m(y){return function(v){var x,b,w;return arguments.length?([x,b,w]=v,u=OB(y,[x,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(sl),p.rangeRound=m(Qv),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return d=y,s=y(e),i=y(t),o=y(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function WE(){var e=Aa(Fm()(cr));return e.copy=function(){return Ta(e,WE())},Rs.apply(e,arguments)}function HE(){var e=rb(Fm()).domain([.1,1,10]);return e.copy=function(){return Ta(e,HE()).base(e.base())},Rs.apply(e,arguments)}function KE(){var e=nb(Fm());return e.copy=function(){return Ta(e,KE()).constant(e.constant())},Rs.apply(e,arguments)}function pb(){var e=sb(Fm());return e.copy=function(){return Ta(e,pb()).exponent(e.exponent())},Rs.apply(e,arguments)}function wU(){return pb.apply(null,arguments).exponent(.5)}const Yl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yv,scaleDiverging:WE,scaleDivergingLog:HE,scaleDivergingPow:pb,scaleDivergingSqrt:wU,scaleDivergingSymlog:KE,scaleIdentity:kE,scaleImplicit:hx,scaleLinear:_E,scaleLog:CE,scaleOrdinal:Gv,scalePoint:lB,scalePow:ab,scaleQuantile:AE,scaleQuantize:TE,scaleRadial:EE,scaleSequential:zE,scaleSequentialLog:UE,scaleSequentialPow:mb,scaleSequentialQuantile:qE,scaleSequentialSqrt:bU,scaleSequentialSymlog:VE,scaleSqrt:tz,scaleSymlog:PE,scaleThreshold:OE,scaleTime:yU,scaleUtc:vU,tickFormat:NE},Symbol.toStringTag,{value:"Module"}));var al=e=>e.chartData,jU=U([al],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),gb=(e,t,r,n)=>n?jU(e):al(e);function qo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(fr(t)&&fr(r))return!0}return!1}function Z2(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function NU(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(fr(r))s=r;else if(typeof r=="function")return;if(fr(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(qo(o))return o}}function _U(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(qo(n))return Z2(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(ce(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&Xj.test(s)){var c=Xj.exec(s);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ce(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Qj.test(i)){var d=Qj.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if(qo(h))return t==null?h:Z2(h,t,r)}}}var il=1e9,kU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yb,Ke=!0,vn="[DecimalError] ",ui=vn+"Invalid argument: ",xb=vn+"Exponent out of range: ",ol=Math.floor,qa=Math.pow,SU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wr,Et=1e7,qe=7,GE=9007199254740991,nh=ol(GE/qe),le={};le.absoluteValue=le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};le.comparedTo=le.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};le.decimalPlaces=le.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};le.dividedBy=le.div=function(e){return js(this,new this.constructor(e))};le.dividedToIntegerBy=le.idiv=function(e){var t=this,r=t.constructor;return Le(js(t,new r(e),0,1),r.precision)};le.equals=le.eq=function(e){return!this.cmp(e)};le.exponent=function(){return pt(this)};le.greaterThan=le.gt=function(e){return this.cmp(e)>0};le.greaterThanOrEqualTo=le.gte=function(e){return this.cmp(e)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(e){return this.cmp(e)<0};le.lessThanOrEqualTo=le.lte=function(e){return this.cmp(e)<1};le.logarithm=le.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Wr))throw Error(vn+"NaN");if(r.s<1)throw Error(vn+(r.s?"NaN":"-Infinity"));return r.eq(Wr)?new n(0):(Ke=!1,t=js(Qc(r,i),Qc(e,i),i),Ke=!0,Le(t,s))};le.minus=le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XE(t,e):YE(t,(e.s=-e.s,e))};le.modulo=le.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(vn+"NaN");return r.s?(Ke=!1,t=js(r,e,0,1).times(e),Ke=!0,r.minus(t)):Le(new n(r),s)};le.naturalExponential=le.exp=function(){return JE(this)};le.naturalLogarithm=le.ln=function(){return Qc(this)};le.negated=le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};le.plus=le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YE(t,e):XE(t,(e.s=-e.s,e))};le.precision=le.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ui+e);if(t=pt(s)+1,n=s.d.length-1,r=n*qe+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};le.squareRoot=le.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(vn+"NaN")}for(e=pt(l),Ke=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Yn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=ol((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(js(l,i,o+2)).times(.5),Yn(i.d).slice(0,o)===(t=Yn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Le(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ke=!0,Le(n,r)};le.times=le.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%Et|0,t=l/Et|0;i[s]=(i[s]+t)%Et|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ke?Le(e,f.precision):e};le.toDecimalPlaces=le.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(rs(e,0,il),t===void 0?t=n.rounding:rs(t,0,8),Le(r,e+pt(r)+1,t))};le.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=wi(n,!0):(rs(e,0,il),t===void 0?t=s.rounding:rs(t,0,8),n=Le(new s(n),e+1,t),r=wi(n,!0,e+1)),r};le.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?wi(s):(rs(e,0,il),t===void 0?t=i.rounding:rs(t,0,8),n=Le(new i(s),e+pt(s)+1,t),r=wi(n.abs(),!1,e+pt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};le.toInteger=le.toint=function(){var e=this,t=e.constructor;return Le(new t(e),pt(e)+1,t.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Wr);if(l=new c(l),!l.s){if(e.s<1)throw Error(vn+"Infinity");return l}if(l.eq(Wr))return l;if(n=c.precision,e.eq(Wr))return Le(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=GE){for(s=new c(Wr),t=Math.ceil(n/qe+4),Ke=!1;r%2&&(s=s.times(l),tN(s.d,t)),r=ol(r/2),r!==0;)l=l.times(l),tN(l.d,t);return Ke=!0,e.s<0?new c(Wr).div(s):Le(s,n)}}else if(i<0)throw Error(vn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ke=!1,s=e.times(Qc(l,n+u)),Ke=!0,s=JE(s),s.s=i,s};le.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=pt(s),n=wi(s,r<=i.toExpNeg||r>=i.toExpPos)):(rs(e,1,il),t===void 0?t=i.rounding:rs(t,0,8),s=Le(new i(s),e,t),r=pt(s),n=wi(s,e<=r||r<=i.toExpNeg,e)),n};le.toSignificantDigits=le.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(rs(e,1,il),t===void 0?t=n.rounding:rs(t,0,8)),Le(new n(r),e,t)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pt(e),r=e.constructor;return wi(e,t<=r.toExpNeg||t>=r.toExpPos)};function YE(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ke?Le(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/qe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Et|0,c[i]%=Et;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Ke?Le(t,f):t}function rs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ui+e)}function Yn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=qe-n.length,r&&(i+=Js(r)),i+=n;o=e[t],n=o+"",r=qe-n.length,r&&(i+=Js(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var js=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Et|0,o=i/Et|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Et+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,p,m,y,v,x,b,w,j,N,_,k,S,C=n.constructor,P=n.s==s.s?1:-1,E=n.d,M=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(vn+"Division by zero");for(c=n.e-s.e,k=M.length,N=E.length,p=new C(P),m=p.d=[],u=0;M[u]==(E[u]||0);)++u;if(M[u]>(E[u]||0)&&--c,i==null?b=i=C.precision:o?b=i+(pt(n)-pt(s))+1:b=i,b<0)return new C(0);if(b=b/qe+2|0,u=0,k==1)for(d=0,M=M[0],b++;(u<N||d)&&b--;u++)w=d*Et+(E[u]||0),m[u]=w/M|0,d=w%M|0;else{for(d=Et/(M[0]+1)|0,d>1&&(M=e(M,d),E=e(E,d),k=M.length,N=E.length),j=k,y=E.slice(0,k),v=y.length;v<k;)y[v++]=0;S=M.slice(),S.unshift(0),_=M[0],M[1]>=Et/2&&++_;do d=0,l=t(M,y,k,v),l<0?(x=y[0],k!=v&&(x=x*Et+(y[1]||0)),d=x/_|0,d>1?(d>=Et&&(d=Et-1),f=e(M,d),h=f.length,v=y.length,l=t(f,y,h,v),l==1&&(d--,r(f,k<h?S:M,h))):(d==0&&(l=d=1),f=M.slice()),h=f.length,h<v&&f.unshift(0),r(y,f,v),l==-1&&(v=y.length,l=t(M,y,k,v),l<1&&(d++,r(y,k<v?S:M,v))),v=y.length):l===0&&(d++,y=[0]),m[u++]=d,l&&y[0]?y[v++]=E[j]||0:(y=[E[j]],v=1);while((j++<N||y[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=c,Le(p,o?i+pt(p)+1:i)}}();function JE(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(pt(e)>16)throw Error(xb+pt(e));if(!e.s)return new d(Wr);for(t==null?(Ke=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(qa(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(Wr),d.precision=l;;){if(s=Le(s.times(e),l),r=r.times(++c),o=i.plus(js(s,r,l)),Yn(o.d).slice(0,l)===Yn(i.d).slice(0,l)){for(;u--;)i=Le(i.times(i),l);return d.precision=f,t==null?(Ke=!0,Le(i,f)):i}i=o}}function pt(e){for(var t=e.e*qe,r=e.d[0];r>=10;r/=10)t++;return t}function g0(e,t,r){if(t>e.LN10.sd())throw Ke=!0,r&&(e.precision=r),Error(vn+"LN10 precision limit exceeded");return Le(new e(e.LN10),t)}function Js(e){for(var t="";e--;)t+="0";return t}function Qc(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,p=e,m=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(vn+(p.s?"NaN":"-Infinity"));if(p.eq(Wr))return new y(0);if(t==null?(Ke=!1,u=v):u=t,p.eq(10))return t==null&&(Ke=!0),g0(y,u);if(u+=h,y.precision=u,r=Yn(m),n=r.charAt(0),i=pt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Yn(p.d),n=r.charAt(0),f++;i=pt(p),n>1?(p=new y("0."+r),i++):p=new y(n+"."+r.slice(1))}else return c=g0(y,u+2,v).times(i+""),p=Qc(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=v,t==null?(Ke=!0,Le(p,v)):p;for(l=o=p=js(p.minus(Wr),p.plus(Wr),u),d=Le(p.times(p),u),s=3;;){if(o=Le(o.times(d),u),c=l.plus(js(o,new y(s),u)),Yn(c.d).slice(0,u)===Yn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(g0(y,u+2,v).times(i+""))),l=js(l,new y(f),u),y.precision=v,t==null?(Ke=!0,Le(l,v)):l;l=c,s+=2}}function eN(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=ol(r/qe),e.d=[],n=(r+1)%qe,r<0&&(n+=qe),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=qe;n<s;)e.d.push(+t.slice(n,n+=qe));t=t.slice(n),n=qe-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Ke&&(e.e>nh||e.e<-nh))throw Error(xb+r)}else e.s=0,e.e=0,e.d=[0];return e}function Le(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=qe,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/qe),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=qe,s=n-qe+o}if(r!==void 0&&(i=qa(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/qa(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=pt(e),f.length=1,t=t-i-1,f[0]=qa(10,(qe-t%qe)%qe),e.e=ol(-t/qe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=qa(10,qe-n),f[d]=s>0?(u/qa(10,o-s)%qa(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Et&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Et)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ke&&(e.e>nh||e.e<-nh))throw Error(xb+pt(e));return e}function XE(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ke?Le(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(p/qe),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Et-1;--c[i],c[s]+=Et}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ke?Le(t,p):t):new h(0)}function wi(e,t,r){var n,s=pt(e),i=Yn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Js(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Js(-s-1)+i,r&&(n=r-o)>0&&(i+=Js(n))):s>=o?(i+=Js(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Js(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Js(n))),e.s<0?"-"+i:i}function tN(e,t){if(e.length>t)return e.length=t,!0}function QE(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ui+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return eN(o,i.toString())}else if(typeof i!="string")throw Error(ui+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,SU.test(i))eN(o,i);else throw Error(ui+i)}if(s.prototype=le,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=QE,s.config=s.set=CU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function CU(e){if(!e||typeof e!="object")throw Error(vn+"Object expected");var t,r,n,s=["precision",1,il,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(ol(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(ui+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ui+r+": "+n);return this}var yb=QE(kU);Wr=new yb(1);const Ae=yb;var PU=e=>e,ZE={"@@functional/placeholder":!0},eA=e=>e===ZE,rN=e=>function t(){return arguments.length===0||arguments.length===1&&eA(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},tA=(e,t)=>e===1?t:rN(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==ZE).length;return i>=e?t(...n):tA(e-i,rN(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(d=>eA(d)?l.shift():d);return t(...u,...l)}))}),Bm=e=>tA(e.length,e),xx=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},EU=Bm((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),AU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return PU;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},yx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),rA=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=s,r=e(...s)),r}};function nA(e){var t;return e===0?t=1:t=Math.floor(new Ae(e).abs().log(10).toNumber())+1,t}function sA(e,t,r){for(var n=new Ae(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}Bm((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});Bm((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Bm((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var aA=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},iA=(e,t,r)=>{if(e.lte(0))return new Ae(0);var n=nA(e.toNumber()),s=new Ae(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Ae(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?new Ae(c.toNumber()):new Ae(Math.ceil(c.toNumber()))},TU=(e,t,r)=>{var n=new Ae(1),s=new Ae(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Ae(10).pow(nA(e)-1),s=new Ae(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Ae(Math.floor(e)))}else e===0?s=new Ae(Math.floor((t-1)/2)):r||(s=new Ae(Math.floor(e)));var o=Math.floor((t-1)/2),l=AU(EU(c=>s.add(new Ae(c-o).mul(n)).toNumber()),xx);return l(0,t)},oA=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ae(0),tickMin:new Ae(0),tickMax:new Ae(0)};var o=iA(new Ae(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new Ae(0):(l=new Ae(t).add(r).div(2),l=l.sub(new Ae(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new Ae(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?oA(t,r,n,s,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new Ae(c).mul(o)),tickMax:l.add(new Ae(u).mul(o))})};function OU(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=aA([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...xx(0,n-1).map(()=>1/0)]:[...xx(0,n-1).map(()=>-1/0),l];return t>r?yx(c):c}if(o===l)return TU(o,n,s);var{step:u,tickMin:d,tickMax:f}=oA(o,l,i,s,0),h=sA(d,f.add(new Ae(.1).mul(u)),u);return t>r?yx(h):h}function MU(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=aA([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=iA(new Ae(o).sub(i).div(l-1),s,0),u=[...sA(new Ae(i),new Ae(o).sub(new Ae(.99).mul(c)),c),o];return r>n?yx(u):u}var RU=rA(OU),$U=rA(MU),DU=e=>e.rootProps.barCategoryGap,zm=e=>e.rootProps.stackOffset,vb=e=>e.options.chartName,bb=e=>e.rootProps.syncId,lA=e=>e.rootProps.syncMethod,wb=e=>e.options.eventEmitter,ms={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Ur={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Um=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},IU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ms.angleAxisId,includeHidden:!1,name:void 0,reversed:ms.reversed,scale:ms.scale,tick:ms.tick,tickCount:void 0,ticks:void 0,type:ms.type,unit:void 0},LU={allowDataOverflow:Ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ur.scale,tick:Ur.tick,tickCount:Ur.tickCount,ticks:void 0,type:Ur.type,unit:void 0},FU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ms.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ms.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ms.scale,tick:ms.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},BU={allowDataOverflow:Ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ur.scale,tick:Ur.tick,tickCount:Ur.tickCount,ticks:void 0,type:"category",unit:void 0},jb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?FU:IU,Nb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?BU:LU,Vm=e=>e.polarOptions,_b=U([Ca,Pa,tr],eF),cA=U([Vm,_b],(e,t)=>{if(e!=null)return ba(e.innerRadius,t,0)}),uA=U([Vm,_b],(e,t)=>{if(e!=null)return ba(e.outerRadius,t,t*.8)}),zU=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},dA=U([Vm],zU);U([jb,dA],Um);var fA=U([_b,cA,uA],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});U([Nb,fA],Um);var UU=U([Ue,Vm,cA,uA,Ca,Pa],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:ba(o,s,s/2),cy:ba(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Dt=(e,t)=>t,qm=(e,t,r)=>r;function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(n){VU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VU(e,t,r){return(t=qU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qU(e){var t=WU(e,"string");return typeof t=="symbol"?t:t+""}function WU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vx=[0,"auto"],Lr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},$s=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Lr},Fr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:vx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Am},Oa=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Fr},HU={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},kb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??HU},Tr=(e,t,r)=>{switch(t){case"xAxis":return $s(e,r);case"yAxis":return Oa(e,r);case"zAxis":return kb(e,r);case"angleAxis":return jb(e,r);case"radiusAxis":return Nb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},KU=(e,t,r)=>{switch(t){case"xAxis":return $s(e,r);case"yAxis":return Oa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},_u=(e,t,r)=>{switch(t){case"xAxis":return $s(e,r);case"yAxis":return Oa(e,r);case"angleAxis":return jb(e,r);case"radiusAxis":return Nb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hA=e=>e.graphicalItems.countOfBars>0;function mA(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Sb=e=>e.graphicalItems.cartesianItems,GU=U([Dt,qm],mA),pA=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),ku=U([Sb,Tr,GU],pA),gA=e=>e.filter(t=>t.stackId===void 0),YU=U([ku],gA),xA=e=>e.map(t=>t.data).filter(Boolean).flat(1),JU=U([ku],xA),yA=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},Wm=U([JU,gb],yA),vA=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:dr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:dr(s,n)}))):e.map(n=>({value:n})),Hm=U([Wm,Tr,ku],vA);function bA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Pi(e){return e.filter(t=>ts(t)||t instanceof Date).map(Number).filter(t=>Jr(t)===!1)}function XU(e,t,r){return!r||typeof t!="number"||Jr(t)?[]:r.length?Pi(r.flatMap(n=>{var s=dr(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!fr(i)||!fr(o)))return[t-i,t+o]})):[]}var wA=(e,t,r)=>{var n={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=l.map(u=>u.dataKey);return[o,{stackedData:pF(e,c,r),graphicalItems:l}]}))},bx=U([Wm,ku,zm],wA),jA=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=yF(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},QU=U([bx,al,Dt],jA),NA=(e,t,r,n)=>r.length>0?e.flatMap(s=>r.flatMap(i=>{var o,l,c=(o=i.errorBars)===null||o===void 0?void 0:o.filter(d=>bA(n,d)),u=dr(s,(l=t.dataKey)!==null&&l!==void 0?l:i.dataKey);return{value:u,errorDomain:XU(s,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:dr(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),ZU=U(Wm,Tr,YU,Dt,NA);function eV(e){var{value:t}=e;if(ts(t)||t instanceof Date)return t}var tV=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Pi(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rV=(e,t,r)=>{var n=e.map(eV).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&DC(n))?hE(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Cb=e=>{var t;if(e==null||!("domain"in e))return vx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Pi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:vx},Pb=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},_A=e=>e.referenceElements.dots,ll=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),nV=U([_A,Dt,qm],ll),kA=e=>e.referenceElements.areas,sV=U([kA,Dt,qm],ll),SA=e=>e.referenceElements.lines,aV=U([SA,Dt,qm],ll),CA=(e,t)=>{var r=Pi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iV=U(nV,Dt,CA),PA=(e,t)=>{var r=Pi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},oV=U([sV,Dt],PA),EA=(e,t)=>{var r=Pi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lV=U(aV,Dt,EA),cV=U(iV,lV,oV,(e,t,r)=>Pb(e,r,t)),uV=U([Tr],Cb),AA=(e,t,r,n,s)=>{var i=NU(t,e.allowDataOverflow);return i??_U(t,Pb(r,s,tV(n)),e.allowDataOverflow)},dV=U([Tr,uV,QU,ZU,cV],AA),fV=[0,1],TA=(e,t,r,n,s,i,o)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:l,type:c}=e,u=as(t,i);return u&&l==null?hE(0,r.length):c==="category"?rV(n,e,u):s==="expand"?fV:o}},Eb=U([Tr,Ue,Wm,Hm,zm,Dt,dV],TA),OA=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(_v(i));return l in Yl?l:"point"}}},Su=U([Tr,Ue,hA,vb,Dt],OA);function hV(e){if(e!=null){if(e in Yl)return Yl[e]();var t="scale".concat(_v(e));if(t in Yl)return Yl[t]()}}function Ab(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=hV(t);if(s!=null){var i=s.domain(r).range(n);return dF(i),i}}}var MA=(e,t,r)=>{var n=Cb(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&qo(e))return RU(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&qo(e))return $U(e,t.tickCount,t.allowDecimals)}},Tb=U([Eb,_u,Su],MA),RA=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&qo(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},mV=U([Tr,Eb,Tb,Dt],RA),pV=U(Hm,Tr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Pi(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),$A=U(pV,Ue,DU,tr,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!fr(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=ba(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),gV=(e,t)=>{var r=$s(e,t);return r==null||typeof r.padding!="string"?0:$A(e,"xAxis",t,r.padding)},xV=(e,t)=>{var r=Oa(e,t);return r==null||typeof r.padding!="string"?0:$A(e,"yAxis",t,r.padding)},yV=U($s,gV,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),vV=U(Oa,xV,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),bV=U([tr,yV,Om,Tm,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),wV=U([tr,Ue,vV,Om,Tm,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Cu=(e,t,r,n)=>{var s;switch(t){case"xAxis":return bV(e,r,n);case"yAxis":return wV(e,r,n);case"zAxis":return(s=kb(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return dA(e);case"radiusAxis":return fA(e,r);default:return}},DA=U([Tr,Cu],Um),cl=U([Tr,Su,mV,DA],Ab);U(ku,Dt,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>bA(t,r)));function IA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Km=(e,t)=>t,Gm=(e,t,r)=>r,jV=U(Vv,Km,Gm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IA)),NV=U(qv,Km,Gm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IA)),LA=(e,t)=>({width:e.width,height:t.height}),_V=(e,t)=>{var r=typeof t.width=="number"?t.width:Am;return{width:r,height:e.height}},kV=U(tr,$s,LA),SV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},CV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},PV=U(Pa,tr,jV,Km,Gm,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=LA(t,l);o==null&&(o=SV(t,n,e));var u=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),EV=U(Ca,tr,NV,Km,Gm,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=_V(t,l);o==null&&(o=CV(t,n,e));var u=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),AV=(e,t)=>{var r=tr(e),n=$s(e,t);if(n!=null){var s=PV(e,n.orientation,n.mirror),i=s[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},TV=(e,t)=>{var r=tr(e),n=Oa(e,t);if(n!=null){var s=EV(e,n.orientation,n.mirror),i=s[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},OV=U(tr,Oa,(e,t)=>{var r=typeof t.width=="number"?t.width:Am;return{width:r,height:e.height}}),FA=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=as(e,n),c=t.map(u=>u.value);if(o&&l&&i==="category"&&s&&DC(c))return c}},Ob=U([Ue,Hm,Tr,Dt],FA),BA=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=as(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},Mb=U([Ue,Hm,_u,Dt],BA),sN=U([Ue,KU,Su,cl,Ob,Mb,Cu,Tb,Dt],(e,t,r,n,s,i,o,l,c)=>{if(t==null)return null;var u=as(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}),MV=(e,t,r,n,s,i,o,l,c)=>{if(!(t==null||n==null)){var u=as(e,c),{type:d,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/p:0;m=c==="angleAxis"&&i!=null&&i.length>=2?un(i[0]-i[1])*2*m:m;var y=f||s;if(y){var v=y.map((x,b)=>{var w=o?o.indexOf(x):x;return{index:b,coordinate:n(w)+m,value:x,offset:m}});return v.filter(x=>!Jr(x.coordinate))}return u&&l?l.map((x,b)=>({coordinate:n(x)+m,value:x,index:b,offset:m})):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+m,value:x,offset:m})):n.domain().map((x,b)=>({coordinate:n(x)+m,value:o?o[x]:x,index:b,offset:m}))}},zA=U([Ue,_u,Su,cl,Tb,Cu,Ob,Mb,Dt],MV),RV=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=as(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?un(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:s?s[d]:d,index:f,offset:u}))}},Ym=U([Ue,_u,cl,Cu,Ob,Mb,Dt],RV),ul=U(Tr,cl,(e,t)=>{if(!(e==null||t==null))return sh(sh({},e),{},{scale:t})}),$V=U([Tr,Su,Eb,DA],Ab);U((e,t,r)=>kb(e,r),$V,(e,t)=>{if(!(e==null||t==null))return sh(sh({},e),{},{scale:t})});var DV=U([Ue,Vv,qv],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),UA=e=>e.options.defaultTooltipEventType,VA=e=>e.options.validateTooltipEventTypes;function qA(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Rb(e,t){var r=UA(e),n=VA(e);return qA(t,r,n)}function IV(e){return he(t=>Rb(t,e))}var WA=(e,t)=>{var r,n=Number(t);if(!(Jr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},LV=e=>e.tooltip.settings,ea={active:!1,index:null,dataKey:void 0,coordinate:void 0},FV={itemInteraction:{click:ea,hover:ea},axisInteraction:{click:ea,hover:ea},keyboardInteraction:ea,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},HA=wn({name:"tooltip",initialState:FV,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=ma(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:BV,removeTooltipEntrySettings:zV,setTooltipSettingsState:UV,setActiveMouseOverItemIndex:VV,mouseLeaveItem:zJ,mouseLeaveChart:KA,setActiveClickItemIndex:UJ,setMouseOverAxisIndex:GA,setMouseClickAxisIndex:qV,setSyncInteraction:wx,setKeyboardInteraction:jx}=HA.actions,WV=HA.reducer;function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){HV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HV(e,t,r){return(t=KV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YV(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function JV(e){return e.index!=null}var YA=(e,t,r,n)=>{if(t==null)return ea;var s=YV(e,t,r);if(s==null)return ea;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(JV(s)){if(i)return Nd(Nd({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Nd(Nd({},ea),{},{coordinate:s.coordinate})},$b=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!fr(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},JA=(e,t,r,n,s,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=s==null?void 0:s[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},XA=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},Jm=e=>e.options.tooltipPayloadSearcher,dl=e=>e.tooltip,It=e=>{var t=Ue(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},fl=e=>e.tooltip.settings.axisId,rr=e=>{var t=It(e),r=fl(e);return _u(e,t,r)},Db=U([rr,Ue,hA,vb,It],OA),XV=U([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),QV=U([It,fl],mA),Xm=U([XV,rr,QV],pA),ZV=U([Xm],xA),Ei=U([ZV,al],yA),Ib=U([Ei,rr,Xm],vA),eq=U([rr],Cb),tq=U([Ei,Xm,zm],wA),rq=U([tq,al,It],jA),nq=U([Xm],gA),sq=U([Ei,rr,nq,It],NA),aq=U([_A,It,fl],ll),iq=U([aq,It],CA),oq=U([kA,It,fl],ll),lq=U([oq,It],PA),cq=U([SA,It,fl],ll),uq=U([cq,It],EA),dq=U([iq,uq,lq],Pb),fq=U([rr,eq,rq,sq,dq],AA),QA=U([rr,Ue,Ei,Ib,zm,It,fq],TA),hq=U([QA,rr,Db],MA),mq=U([rr,QA,hq,It],RA),ZA=e=>{var t=It(e),r=fl(e),n=!1;return Cu(e,t,r,n)},e3=U([rr,ZA],Um),t3=U([rr,Db,mq,e3],Ab),pq=U([Ue,Ib,rr,It],FA),gq=U([Ue,Ib,rr,It],BA),xq=(e,t,r,n,s,i,o,l)=>{if(t){var{type:c}=t,u=as(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?un(s[0]-s[1])*2*f:f,u&&o?o.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}}},Ds=U([Ue,rr,Db,t3,ZA,pq,gq,It],xq),r3=U([UA,VA,LV],(e,t,r)=>qA(r.shared,e,t)),n3=e=>e.tooltip.settings.trigger,Lb=e=>e.tooltip.settings.defaultIndex,Qm=U([dl,r3,n3,Lb],YA),ah=U([Qm,Ei],$b),s3=U([Ds,ah],WA),yq=U([Qm],e=>{if(e)return e.dataKey}),vq=U([dl,r3,n3,Lb],XA),bq=U([Ca,Pa,Ue,tr,Ds,Lb,vq,Jm],JA),wq=U([Qm,bq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),jq=U([Qm],e=>e.active);function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){Nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nq(e,t,r){return(t=_q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _q(e){var t=kq(e,"string");return typeof t=="symbol"?t:t+""}function kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a3=()=>he(rr),Sq=()=>{var e=a3(),t=he(Ds),r=he(t3);return Wc(oN(oN({},e),{},{scale:r}),t)};function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){Cq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cq(e,t,r){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pq(e){var t=Eq(e,"string");return typeof t=="symbol"?t:t+""}function Eq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i3=()=>he(vb),Fb=(e,t)=>t,o3=(e,t,r)=>r,Bb=(e,t,r,n)=>n;function Aq(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}var Tq=U(Ds,e=>jm(e,t=>t.coordinate)),zb=U([dl,Fb,o3,Bb],YA),l3=U([zb,Ei],$b),Oq=(e,t,r)=>{if(t!=null){var n=dl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},c3=U([dl,Fb,o3,Bb],XA),ih=U([Ca,Pa,Ue,tr,Ds,Bb,c3,Jm],JA),Mq=U([zb,ih],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),u3=U(Ds,l3,WA);function Rq(e,t){return e??t}var $q=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:y,settings:v}=p,x=Rq(y,l),b=Aq(x,u,d),w=(m=v==null?void 0:v.dataKey)!==null&&m!==void 0?m:n==null?void 0:n.dataKey,j=v==null?void 0:v.nameKey,N;if(n!=null&&n.dataKey&&!(n!=null&&n.allowDuplicatedCategory)&&Array.isArray(b)&&o==="axis"?N=Nv(b,n.dataKey,s):N=i(b,t,c,j),Array.isArray(N))N.forEach(k=>{var S=cN(cN({},v),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(Zj({tooltipEntrySettings:S,dataKey:k.dataKey,payload:k.payload,value:dr(k.payload,k.dataKey),name:k.name}))});else{var _;h.push(Zj({tooltipEntrySettings:v,dataKey:w,payload:N,value:dr(N,w),name:(_=dr(N,j))!==null&&_!==void 0?_:v==null?void 0:v.name}))}return h},f)}},Dq=U([c3,l3,al,rr,u3,Jm,Fb],$q),Iq=U([zb],e=>({isActive:e.active,activeIndex:e.index})),Lq=(e,t,r,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i)){var c=vF(e.chartX,e.chartY,t,r,l);if(c){var u=wF(c,t),d=cF(u,o,i,n,s),f=bF(t,i,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nx.apply(null,arguments)}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){Fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fq(e,t,r){return(t=Bq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bq(e){var t=zq(e,"string");return typeof t=="symbol"?t:t+""}function zq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uq(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var p,m;if(u==="ScatterChart")p=d,m=l9;else if(u==="BarChart")p=c9(o,d,s,i),m=z9;else if(o==="radial"){var{cx:y,cy:v,radius:x,startAngle:b,endAngle:w}=lE(d);p={cx:y,cy:v,startAngle:b,endAngle:w,innerRadius:x,outerRadius:x},m=W9}else p={points:H9(o,d,s)},m=mc;var j=typeof l=="object"&&"className"in l?l.className:void 0,N=_d(_d(_d(_d({stroke:"#ccc",pointerEvents:"none"},s),p),Ee(l,!1)),{},{payload:f,payloadIndex:h,className:De("recharts-tooltip-cursor",j)});return g.isValidElement(l)?g.cloneElement(l,N):g.createElement(m,N)}function Vq(e){var t=Sq(),r=rl(),n=Mm(),s=i3();return g.createElement(Uq,Nx({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var d3=g.createContext(null),qq=()=>g.useContext(d3),f3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,m){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var j=v.length,N;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(N=1,b=new Array(x-1);N<x;N++)b[N-1]=arguments[N];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var y=0,v=[],x=m.length;y<x;y++)(m[y].fn!==d||h&&!m[y].once||f&&m[y].context!==f)&&v.push(m[y]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(f3);var Wq=f3.exports;const Hq=ns(Wq);var Zc=new Hq,_x="recharts.syncEvent.tooltip",dN="recharts.syncEvent.brush";function Kq(e,t){if(t){var r=Number.parseInt(t,10);if(!Jr(r))return e==null?void 0:e[r]}}var Gq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},h3=wn({name:"options",initialState:Gq,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Yq=h3.reducer,{createEventEmitter:Jq}=h3.actions;function Xq(e){return e.tooltip.syncInteraction}var Qq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},m3=wn({name:"chartData",initialState:Qq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:fN,setDataStartEndIndexes:Zq,setComputedData:VJ}=m3.actions,eW=m3.reducer,p3=()=>{};function tW(){var e=he(bb),t=he(wb),r=pr(),n=he(lA),s=he(Ds),i=Mm(),o=Wv(),l=he(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return p3;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(s!=null){var h;if(typeof n=="function"){var p={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},m=n(s,p);h=s[m]}else n==="value"&&(h=s.find(_=>String(_.value)===d.payload.label));var{coordinate:y}=d.payload;if(h==null||d.payload.active===!1||y==null||o==null){r(wx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y:x}=y,b=Math.min(v,o.x+o.width),w=Math.min(x,o.y+o.height),j={x:i==="horizontal"?h.coordinate:b,y:i==="horizontal"?w:h.coordinate},N=wx({active:d.payload.active,coordinate:j,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(N)}}};return Zc.on(_x,c),()=>{Zc.off(_x,c)}},[l,r,t,e,n,s,i,o])}function rW(){var e=he(bb),t=he(wb),r=pr();g.useEffect(()=>{if(e==null)return p3;var n=(s,i,o)=>{t!==o&&e===s&&r(Zq(i))};return Zc.on(dN,n),()=>{Zc.off(dN,n)}},[r,t,e])}function nW(){var e=pr();g.useEffect(()=>{e(Jq())},[e]),tW(),rW()}function sW(e,t,r,n,s,i){var o=he(h=>Oq(h,e,t)),l=he(wb),c=he(bb),u=he(lA),d=he(Xq),f=d==null?void 0:d.active;g.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=wx({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n});Zc.emit(_x,c,h,l)}},[f,r,o,s,n,l,c,u,i])}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){aW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aW(e,t,r){return(t=iW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iW(e){var t=oW(e,"string");return typeof t=="symbol"?t:t+""}function oW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lW(e){return e.dataKey}function cW(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(BF,t)}var pN=[],uW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!nl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function gN(e){var t=Ea(e,uW),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:y,shared:v,trigger:x,defaultIndex:b,portal:w,axisId:j}=t,N=pr(),_=typeof b=="number"?String(b):b;g.useEffect(()=>{N(UV({shared:v,trigger:x,axisId:j,active:r,defaultIndex:_}))},[N,v,x,j,r,_]);var k=Wv(),S=eE(),C=IV(v),{activeIndex:P,isActive:E}=he(B=>Iq(B,C,x,_)),M=he(B=>Dq(B,C,x,_)),O=he(B=>u3(B,C,x,_)),F=he(B=>Mq(B,C,x,_)),A=M,q=qq(),H=r??E,[$,D]=Q8([A,H]),W=C==="axis"?O:void 0;sW(C,x,F,W,P,H);var V=w??q;if(V==null)return null;var L=A??pN;H||(L=pN),l&&L.length&&(L=$8(A.filter(B=>B.value!=null&&(B.hide!==!0||t.includeHidden)),d,lW));var se=L.length>0,K=g.createElement(KF,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:c,active:H,coordinate:F,hasPayload:se,offset:u,position:f,reverseDirection:h,useTranslate3d:p,viewBox:k,wrapperStyle:m,lastBoundingBox:$,innerRef:D,hasPortalFromProps:!!w},cW(o,mN(mN({},t),{},{payload:L,label:W,active:H,coordinate:F,accessibilityLayer:S})));return g.createElement(g.Fragment,null,d4.createPortal(K,V),H&&g.createElement(Vq,{cursor:y,tooltipEventType:C,coordinate:F,payload:A,index:P}))}var g3={},x3={},y3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),y()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},m=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{m(),o=void 0,l=null},v=()=>{m(),d()},x=function(...b){if(s!=null&&s.aborted)return;o=this,l=b;const w=h==null;p(),c&&w&&d()};return x.schedule=p,x.cancel=y,x.flush=v,s==null||s.addEventListener("abort",y,{once:!0}),x}e.debounce=t})(y3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y3;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...y){d=n.apply(this,y),f=null},s,{edges:u}),p=function(...y){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},m=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=m,p}e.debounce=r})(x3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x3;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,trailing:l,maxWait:s})}e.throttle=r})(g3);var dW=g3.throttle;const fW=ns(dW);var pc=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function x0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){hW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hW(e,t,r){return(t=mW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mW(e){var t=pW(e,"string");return typeof t=="symbol"?t:t+""}function pW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gW=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:p,style:m={}}=e,y=g.useRef(null),v=g.useRef();v.current=p,g.useImperativeHandle(t,()=>y.current);var[x,b]=g.useState({containerWidth:n.width,containerHeight:n.height}),w=g.useCallback((N,_)=>{b(k=>{var S=Math.round(N),C=Math.round(_);return k.containerWidth===S&&k.containerHeight===C?k:{containerWidth:S,containerHeight:C}})},[]);g.useEffect(()=>{var N=C=>{var P,{width:E,height:M}=C[0].contentRect;w(E,M),(P=v.current)===null||P===void 0||P.call(v,E,M)};d>0&&(N=fW(N,d,{trailing:!0,leading:!1}));var _=new ResizeObserver(N),{width:k,height:S}=y.current.getBoundingClientRect();return w(k,S),_.observe(y.current),()=>{_.disconnect()}},[w,d]);var j=g.useMemo(()=>{var{containerWidth:N,containerHeight:_}=x;if(N<0||_<0)return null;pc(Qa(s)||Qa(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),pc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=Qa(s)?N:s,S=Qa(i)?_:i;return r&&r>0&&(k?S=k/r:S&&(k=S*r),c&&S>c&&(S=c)),pc(k>0||S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,S,s,i,o,l,r),g.Children.map(u,C=>g.cloneElement(C,{width:k,height:S,style:x0({height:"100%",width:"100%",maxHeight:S,maxWidth:k},C.props.style)}))},[r,u,i,c,l,o,x,s]);return g.createElement("div",{id:f?"".concat(f):void 0,className:De("recharts-responsive-container",h),style:x0(x0({},m),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:y},j)});function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){xW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xW(e,t,r){return(t=yW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vi={widthCache:{},cacheCount:0},bW=2e3,wW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vN="recharts_measurement_span";function jW(e){var t=kx({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var gc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nl.isSsr)return{width:0,height:0};var n=jW(r),s=JSON.stringify({text:t,copyStyle:n});if(Vi.widthCache[s])return Vi.widthCache[s];try{var i=document.getElementById(vN);i||(i=document.createElement("span"),i.setAttribute("id",vN),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=kx(kx({},wW),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Vi.widthCache[s]=c,++Vi.cacheCount>bW&&(Vi.cacheCount=0,Vi.widthCache={}),c}catch{return{width:0,height:0}}},bN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_W=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,v3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kW=Object.keys(v3),lo="NaN";function SW(e,t){return e*v3[t]}class wr{static parse(t){var r,[,n,s]=(r=_W.exec(t))!==null&&r!==void 0?r:[];return new wr(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Jr(t)&&(this.unit=""),r!==""&&!NW.test(r)&&(this.num=NaN,this.unit=""),kW.includes(r)&&(this.num=SW(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Jr(this.num)}}function b3(e){if(e.includes(lo))return lo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=bN.exec(t))!==null&&r!==void 0?r:[],o=wr.parse(n??""),l=wr.parse(i??""),c=s==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return lo;t=t.replace(bN,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=wN.exec(t))!==null&&u!==void 0?u:[],p=wr.parse(d??""),m=wr.parse(h??""),y=f==="+"?p.add(m):p.subtract(m);if(y.isNaN())return lo;t=t.replace(wN,y.toString())}return t}var jN=/\(([^()]*)\)/;function CW(e){for(var t=e,r;(r=jN.exec(t))!=null;){var[,n]=r;t=t.replace(jN,b3(n))}return t}function PW(e){var t=e.replace(/\s+/g,"");return t=CW(t),t=b3(t),t}function EW(e){try{return PW(e)}catch{return lo}}function y0(e){var t=EW(e.slice(5,-1));return t===lo?"":t}var AW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],TW=["dx","dy","angle","className","breakAll"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sx.apply(null,arguments)}function NN(e,t){if(e==null)return{};var r,n,s=OW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w3=/[ \f\n\r\t\v\u2028\u2029]+/,j3=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];tt(t)||(r?s=t.toString().split(""):s=t.toString().split(w3));var i=s.map(l=>({word:l,width:gc(l,n).width})),o=r?0:gc("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},MW=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=ce(i),d=o,f=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce((M,O)=>{var{word:F,width:A}=O,q=M[M.length-1];if(q&&(n==null||s||q.width+A+r<Number(n)))q.words.push(F),q.width+=A+r;else{var H={words:[F],width:A};M.push(H)}return M},[])},h=f(t),p=P=>P.reduce((E,M)=>E.width>M.width?E:M);if(!u||s)return h;var m=h.length>i||p(h).width>Number(n);if(!m)return h;for(var y="",v=P=>{var E=d.slice(0,P),M=j3({breakAll:c,style:l,children:E+y}).wordsWithComputedWidth,O=f(M),F=O.length>i||p(O).width>Number(n);return[F,O]},x=0,b=d.length-1,w=0,j;x<=b&&w<=d.length-1;){var N=Math.floor((x+b)/2),_=N-1,[k,S]=v(_),[C]=v(N);if(!k&&!C&&(x=N+1),k&&C&&(b=N-1),!k&&C){j=S;break}w++}return j||h},_N=e=>{var t=tt(e)?[]:e.toString().split(w3);return[{words:t}]},RW=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!nl.isSsr){var l,c,u=j3({breakAll:i,children:n,style:s});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return _N(n);return MW({breakAll:i,children:n,maxLines:o,style:s},l,c,t,r)}return _N(n)},kN="#808080",Ub=g.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=kN}=e,d=NN(e,AW),f=g.useMemo(()=>RW({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:h,dy:p,angle:m,className:y,breakAll:v}=d,x=NN(d,TW);if(!ts(r)||!ts(n))return null;var b=r+(ce(h)?h:0),w=n+(ce(p)?p:0),j;switch(c){case"start":j=y0("calc(".concat(i,")"));break;case"middle":j=y0("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:j=y0("calc(".concat(f.length-1," * -").concat(s,")"));break}var N=[];if(o){var _=f[0].width,{width:k}=d;N.push("scale(".concat(ce(k)?k/_:1,")"))}return m&&N.push("rotate(".concat(m,", ").concat(b,", ").concat(w,")")),N.length&&(x.transform=N.join(" ")),g.createElement("text",Sx({},Ee(x,!0),{ref:t,x:b,y:w,className:De("recharts-text",y),textAnchor:l,fill:u.includes("url")?kN:u}),f.map((S,C)=>{var P=S.words.join(v?"":" ");return g.createElement("tspan",{x:b,dy:C===0?j:s,key:"".concat(P,"-").concat(C)},P)}))});Ub.displayName="Text";var $W=["offset"],DW=["labelRef"];function SN(e,t){if(e==null)return{};var r,n,s=IW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function IW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){LW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LW(e,t,r){return(t=FW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FW(e){var t=BW(e,"string");return typeof t=="symbol"?t:t+""}function BW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(null,arguments)}var zW=e=>{var{value:t,formatter:r}=e,n=tt(e.children)?t:e.children;return typeof r=="function"?r(n):n},Vb=e=>e!=null&&typeof e=="function",UW=(e,t)=>{var r=un(t-e),n=Math.min(Math.abs(t-e),360);return r*n},VW=(e,t,r)=>{var{position:n,viewBox:s,offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=s,m=(u+d)/2,y=UW(f,h),v=y>=0?1:-1,x,b;n==="insideStart"?(x=f+v*i,b=p):n==="insideEnd"?(x=h-v*i,b=!p):n==="end"&&(x=h+v*i,b=p),b=y<=0?b:!b;var w=Ut(l,c,m,x),j=Ut(l,c,m,x+(b?1:-1)*359),N="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(j.x,",").concat(j.y),_=tt(e.id)?Lo("recharts-radial-line-"):e.id;return g.createElement("text",ps({},r,{dominantBaseline:"central",className:De("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:_,d:N})),g.createElement("textPath",{xlinkHref:"#".concat(_)},t))},qW=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:s,cy:i,innerRadius:o,outerRadius:l,startAngle:c,endAngle:u}=t,d=(c+u)/2;if(n==="outside"){var{x:f,y:h}=Ut(s,i,l+r,d);return{x:f,y:h,textAnchor:f>=s?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(o+l)/2,{x:m,y}=Ut(s,i,p,d);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},WW=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,{x:i,y:o,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",p=l>=0?1:-1,m=p*n,y=p>0?"end":"start",v=p>0?"start":"end";if(s==="top"){var x={x:i+l/2,y:o-u*n,textAnchor:"middle",verticalAnchor:f};return dt(dt({},x),r?{height:Math.max(o-r.y,0),width:l}:{})}if(s==="bottom"){var b={x:i+l/2,y:o+c+d,textAnchor:"middle",verticalAnchor:h};return dt(dt({},b),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{})}if(s==="left"){var w={x:i-m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return dt(dt({},w),r?{width:Math.max(w.x-r.x,0),height:c}:{})}if(s==="right"){var j={x:i+l+m,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return dt(dt({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:c}:{})}var N=r?{width:l,height:c}:{};return s==="insideLeft"?dt({x:i+m,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},N):s==="insideRight"?dt({x:i+l-m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},N):s==="insideTop"?dt({x:i+l/2,y:o+d,textAnchor:"middle",verticalAnchor:h},N):s==="insideBottom"?dt({x:i+l/2,y:o+c-d,textAnchor:"middle",verticalAnchor:f},N):s==="insideTopLeft"?dt({x:i+m,y:o+d,textAnchor:v,verticalAnchor:h},N):s==="insideTopRight"?dt({x:i+l-m,y:o+d,textAnchor:y,verticalAnchor:h},N):s==="insideBottomLeft"?dt({x:i+m,y:o+c-d,textAnchor:v,verticalAnchor:f},N):s==="insideBottomRight"?dt({x:i+l-m,y:o+c-d,textAnchor:y,verticalAnchor:f},N):s&&typeof s=="object"&&(ce(s.x)||Qa(s.x))&&(ce(s.y)||Qa(s.y))?dt({x:i+ba(s.x,l),y:o+ba(s.y,c),textAnchor:"end",verticalAnchor:"end"},N):dt({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},N)},HW=e=>"cx"in e&&ce(e.cx);function qr(e){var{offset:t=5}=e,r=SN(e,$W),n=dt({offset:t},r),{viewBox:s,position:i,value:o,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=Wv(),p=s||h;if(!p||tt(o)&&tt(l)&&!g.isValidElement(c)&&typeof c!="function")return null;if(g.isValidElement(c)){var m=SN(n,DW);return g.cloneElement(c,m)}var y;if(typeof c=="function"){if(y=g.createElement(c,n),g.isValidElement(y))return y}else y=zW(n);var v=HW(p),x=Ee(n,!0);if(v&&(i==="insideStart"||i==="insideEnd"||i==="end"))return VW(n,y,x);var b=v?qW(n):WW(n,p);return g.createElement(Ub,ps({ref:f,className:De("recharts-label",u)},x,b,{breakAll:d}),y)}qr.displayName="Label";var N3=e=>{var{cx:t,cy:r,angle:n,startAngle:s,endAngle:i,r:o,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:p,width:m,height:y,clockWise:v,labelViewBox:x}=e;if(x)return x;if(ce(m)&&ce(y)){if(ce(d)&&ce(f))return{x:d,y:f,width:m,height:y};if(ce(h)&&ce(p))return{x:h,y:p,width:m,height:y}}if(ce(d)&&ce(f))return{x:d,y:f,width:0,height:0};if(ce(t)&&ce(r))return{cx:t,cy:r,startAngle:s||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:v};if(e.viewBox)return e.viewBox},KW=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(qr,ps({key:"label-implicit"},n)):ts(e)?g.createElement(qr,ps({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===qr?g.cloneElement(e,dt({key:"label-implicit"},n)):g.createElement(qr,ps({key:"label-implicit",content:e},n)):Vb(e)?g.createElement(qr,ps({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(qr,ps({},e,{key:"label-implicit"},n)):null},GW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:s,labelRef:i}=t,o=N3(t),l=LC(s,qr).map((u,d)=>g.cloneElement(u,{viewBox:r||o,key:"label-".concat(d)}));if(!n)return l;var c=KW(t.label,r||o,i);return[c,...l]};qr.parseViewBox=N3;qr.renderCallByParent=GW;var _3={},k3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(k3);var S3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(S3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k3,r=S3,n=ym;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(_3);var YW=_3.last;const JW=ns(YW);var XW=["valueAccessor"],QW=["data","dataKey","clockWise","id","textBreakAll"];function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oh.apply(null,arguments)}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function EN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){ZW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZW(e,t,r){return(t=eH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eH(e){var t=tH(e,"string");return typeof t=="symbol"?t:t+""}function tH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AN(e,t){if(e==null)return{};var r,n,s=rH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function rH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nH=e=>Array.isArray(e.value)?JW(e.value):e.value;function ga(e){var{valueAccessor:t=nH}=e,r=AN(e,XW),{data:n,dataKey:s,clockWise:i,id:o,textBreakAll:l}=r,c=AN(r,QW);return!n||!n.length?null:g.createElement(Xr,{className:"recharts-label-list"},n.map((u,d)=>{var f=tt(s)?t(u,d):dr(u&&u.payload,s),h=tt(o)?{}:{id:"".concat(o,"-").concat(d)};return g.createElement(qr,oh({},Ee(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:qr.parseViewBox(tt(i)?u:EN(EN({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}ga.displayName="LabelList";function sH(e,t){return e?e===!0?g.createElement(ga,{key:"labelList-implicit",data:t}):g.isValidElement(e)||Vb(e)?g.createElement(ga,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?g.createElement(ga,oh({data:t},e,{key:"labelList-implicit"})):null:null}function aH(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,s=LC(n,ga).map((o,l)=>g.cloneElement(o,{data:t,key:"labelList-".concat(l)}));if(!r)return s;var i=sH(e.label,t);return[i,...s]}ga.renderCallByParent=aH;function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cx.apply(null,arguments)}var qb=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=De("recharts-dot",s);return t===+t&&r===+r&&n===+n?g.createElement("circle",Cx({},Ee(e,!1),Sv(e),{className:i,cx:t,cy:r,r:n})):null},iH={radiusAxis:{},angleAxis:{}},oH=wn({name:"polarAxis",initialState:iH,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),lH=oH.reducer,cH={countOfBars:0,cartesianItems:[],polarItems:[]},C3=wn({name:"graphicalItems",initialState:cH,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},removeCartesianGraphicalItem(e,t){var r=ma(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=ma(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:qJ,removeBar:WJ,addCartesianGraphicalItem:uH,removeCartesianGraphicalItem:dH,addPolarGraphicalItem:HJ,removePolarGraphicalItem:KJ}=C3.actions,fH=C3.reducer;function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ON(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){hH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hH(e,t,r){return(t=mH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mH(e){var t=pH(e,"string");return typeof t=="symbol"?t:t+""}function pH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gH(e){var t=pr();return g.useEffect(()=>{var r=ON(ON({},e),{},{stackId:GP(e.stackId)});return t(uH(r)),()=>{t(dH(r))}},[t,e]),null}function P3(e){var{fn:t,args:r}=e,n=pr(),s=gr();return g.useEffect(()=>{if(!s){var i=t(r);return n(BV(i)),()=>{n(zV(i))}}},[t,r,n,s]),null}var xH=()=>{};function E3(e){var{legendPayload:t}=e,r=pr(),n=gr();return g.useEffect(()=>n?xH:(r(MF(t)),()=>{r(RF(t))}),[r,n,t]),null}function A3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(Lo(t)),n=g.useRef(e);return n.current!==e&&(r.current=Lo(t),n.current=e),r.current}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){yH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yH(e,t,r){return(t=vH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=bH(e,"string");return typeof t=="symbol"?t:t+""}function bH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wH=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=RN(RN({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ee(s,!1)),Sv(s)),l;return g.isValidElement(s)?l=g.cloneElement(s,o):typeof s=="function"?l=s(o):l=g.createElement(qb,o),g.createElement(Xr,{className:"recharts-active-dot"},l)};function Px(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=a3(),o=he(ah),l=he(s3);if(!o)return null;var c,u=i.dataKey;if(u&&!i.allowDuplicatedCategory){var d=typeof u=="function"?f=>u(f.payload):"payload.".concat(u);c=Nv(t,d,l)}else c=t==null?void 0:t[Number(o)];return tt(c)?null:wH({point:c,childIndex:Number(o),mainColor:r,dataKey:s,activeDot:n})}var jH=["children"];function NH(e,t){if(e==null)return{};var r,n,s=_H(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _H(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $N=()=>{},T3=g.createContext({addErrorBar:$N,removeErrorBar:$N}),kH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},O3=g.createContext(kH);function SH(e){var{children:t}=e,r=NH(e,jH);return g.createElement(O3.Provider,{value:r},t)}var CH=()=>g.useContext(O3),M3=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:s,dataKey:i,data:o,stackId:l,hide:c,type:u,barSize:d}=e,[f,h]=g.useState([]),p=g.useCallback(v=>{h(x=>[...x,v])},[h]),m=g.useCallback(v=>{h(x=>x.filter(b=>b!==v))},[h]),y=gr();return g.createElement(T3.Provider,{value:{addErrorBar:p,removeErrorBar:m}},g.createElement(gH,{type:u,data:o,xAxisId:r,yAxisId:n,zAxisId:s,dataKey:i,errorBars:f,stackId:l,hide:c,barSize:d,isPanorama:y}),t)};function PH(e){var{addErrorBar:t,removeErrorBar:r}=g.useContext(T3);return g.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var EH=e=>{var t=gr();return he(r=>ul(r,"xAxis",e,t))},AH=e=>{var t=gr();return he(r=>ul(r,"yAxis",e,t))},TH=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function R3(e,t,r){return(t=OH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eu.apply(null,arguments)}function RH(e,t){if(e==null)return{};var r,n,s=$H(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $H(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function DH(e){var{direction:t,width:r,dataKey:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l}=e,c=RH(e,TH),u=Ee(c,!1),{data:d,dataPointFormatter:f,xAxisId:h,yAxisId:p,errorBarOffset:m}=CH(),y=EH(h),v=AH(p);if((y==null?void 0:y.scale)==null||(v==null?void 0:v.scale)==null||d==null||t==="x"&&y.type!=="number")return null;var x=d.map(b=>{var{x:w,y:j,value:N,errorVal:_}=f(b,n,t);if(!_)return null;var k=[],S,C;if(Array.isArray(_)?[S,C]=_:S=C=_,t==="x"){var{scale:P}=y,E=j+m,M=E+r,O=E-r,F=P(N-S),A=P(N+C);k.push({x1:A,y1:M,x2:A,y2:O}),k.push({x1:F,y1:E,x2:A,y2:E}),k.push({x1:F,y1:M,x2:F,y2:O})}else if(t==="y"){var{scale:q}=v,H=w+m,$=H-r,D=H+r,W=q(N-S),V=q(N+C);k.push({x1:$,y1:V,x2:D,y2:V}),k.push({x1:H,y1:W,x2:H,y2:V}),k.push({x1:$,y1:W,x2:D,y2:W})}var L="".concat(w+m,"px ").concat(j+m,"px");return g.createElement(Xr,eu({className:"recharts-errorBar",key:"bar-".concat(k.map(se=>"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)))},u),k.map(se=>{var K=s?{transformOrigin:"".concat(se.x1-5,"px")}:void 0;return g.createElement(Kc,{from:{transform:"scaleY(0)",transformOrigin:L},to:{transform:"scaleY(1)",transformOrigin:L},begin:i,easing:l,isActive:s,duration:o,key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2),style:{transformOrigin:L}},g.createElement("line",eu({},se,{style:K})))}))});return g.createElement(Xr,{className:"recharts-errorBars"},x)}var $3=g.createContext(void 0);function IH(e){var t=g.useContext($3);return e??t??"x"}function LH(e){var{direction:t,children:r}=e;return g.createElement($3.Provider,{value:t},r)}var D3={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function FH(e){var t=IH(e.direction),{width:r,isAnimationActive:n,animationBegin:s,animationDuration:i,animationEasing:o}=Ea(e,D3);return g.createElement(g.Fragment,null,g.createElement(PH,{dataKey:e.dataKey,direction:t}),g.createElement(DH,eu({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:s,animationDuration:i,animationEasing:o})))}class I3 extends g.Component{render(){return g.createElement(FH,this.props)}}R3(I3,"defaultProps",D3);R3(I3,"displayName","ErrorBar");function Wb(e,t){var r,n,s=he(u=>$s(u,e)),i=he(u=>Oa(u,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Lr.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Fr.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function L3(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=rl(),{needClipX:i,needClipY:o,needClip:l}=Wb(t,r);if(!l)return null;var{left:c,top:u,width:d,height:f}=s;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var BH=e=>{var{chartData:t}=e,r=pr(),n=gr();return g.useEffect(()=>n?()=>{}:(r(fN(t)),()=>{r(fN(void 0))}),[t,r,n]),null},DN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},zH=wn({name:"brush",initialState:DN,reducers:{setBrushSettings(e,t){return t.payload==null?DN:t.payload}}}),UH=zH.reducer;function VH(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=WH(e,"string");return typeof t=="symbol"?t:t+""}function WH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Hb{static create(t){return new Hb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}VH(Hb,"EPS",1e-4);function HH(e){return(e%180+180)%180}var KH=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=HH(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},GH={dots:[],areas:[],lines:[]},YH=wn({name:"referenceElements",initialState:GH,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ma(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ma(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ma(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),JH=YH.reducer,XH=g.createContext(void 0),QH=e=>{var{children:t}=e,[r]=g.useState("".concat(Lo("recharts"),"-clip")),n=rl();if(n==null)return null;var{left:s,top:i,height:o,width:l}=n;return g.createElement(XH.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:s,y:i,height:o,width:l}))),t)};function v0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function F3(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function ZH(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return KH(n,r)}function eK(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function lh(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function tK(e,t){return F3(e,t+1)}function rK(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:F3(n,u)};var y=c,v,x=()=>(v===void 0&&(v=r(m,y)),v),b=m.coordinate,w=c===0||lh(e,b,x,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(x()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){nK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nK(e,t,r){return(t=sK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=aK(e,"string");return typeof t=="symbol"?t:t+""}function aK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iK(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(h){var p=i[h],m,y=()=>(m===void 0&&(m=r(p,h)),m);if(h===o-1){var v=e*(p.coordinate+e*y()/2-c);i[h]=p=Xt(Xt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Xt(Xt({},p),{},{tickCoord:p.coordinate});var x=lh(e,p.tickCoord,y,l,c);x&&(c=p.tickCoord-e*(y()/2+s),i[h]=Xt(Xt({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function oK(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Xt(Xt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=lh(e,d.tickCoord,()=>f,c,u);p&&(u=d.tickCoord-e*(f/2+s),o[l-1]=Xt(Xt({},d),{},{isShow:!0}))}for(var m=i?l-1:l,y=function(b){var w=o[b],j,N=()=>(j===void 0&&(j=r(w,b)),j);if(b===0){var _=e*(w.coordinate-e*N()/2-c);o[b]=w=Xt(Xt({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else o[b]=w=Xt(Xt({},w),{},{tickCoord:w.coordinate});var k=lh(e,w.tickCoord,N,c,u);k&&(c=w.tickCoord+e*(N()/2+s),o[b]=Xt(Xt({},w),{},{isShow:!0}))},v=0;v<m;v++)y(v);return o}function Kb(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!s||!s.length||!n)return[];if(ce(c)||nl.isSsr){var h;return(h=tK(s,ce(c)?c:0))!==null&&h!==void 0?h:[]}var p=[],m=l==="top"||l==="bottom"?"width":"height",y=d&&m==="width"?gc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,j)=>{var N=typeof u=="function"?u(w.value,j):w.value;return m==="width"?ZH(gc(N,{fontSize:t,letterSpacing:r}),y,f):gc(N,{fontSize:t,letterSpacing:r})[m]},x=s.length>=2?un(s[1].coordinate-s[0].coordinate):1,b=eK(i,x,m);return c==="equidistantPreserveStart"?rK(x,b,v,s,o):(c==="preserveStart"||c==="preserveStartEnd"?p=oK(x,b,v,s,o,c==="preserveStartEnd"):p=iK(x,b,v,s,o),p.filter(w=>w.isShow))}var lK=["viewBox"],cK=["viewBox"];function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(null,arguments)}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){Gb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FN(e,t){if(e==null)return{};var r,n,s=uK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function uK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gb(e,t,r){return(t=dK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=fK(e,"string");return typeof t=="symbol"?t:t+""}function fK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ma extends g.Component{constructor(t){super(t),this.tickRefs=g.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=FN(t,lK),i=this.props,{viewBox:o}=i,l=FN(i,cK);return!v0(n,o)||!v0(s,l)||!v0(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:i,orientation:o,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,p,m,y,v=c?-1:1,x=t.tickSize||l,b=ce(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=f=t.coordinate,p=n+ +!c*i,h=p-v*x,y=h-v*u,m=b;break;case"left":h=p=t.coordinate,f=r+ +!c*s,d=f-v*x,m=d-v*u,y=b;break;case"right":h=p=t.coordinate,f=r+ +c*s,d=f+v*x,m=d+v*u,y=b;break;default:d=f=t.coordinate,p=n+ +c*i,h=p+v*x,y=h+v*u,m=b;break}return{line:{x1:d,y1:h,x2:f,y2:p},tick:{x:m,y}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:l}=this.props,c=yt(yt(yt({},Ee(this.props,!1)),Ee(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);c=yt(yt({},c),{},{x1:t,y1:r+u*s,x2:t+n,y2:r+u*s})}else{var d=+(i==="left"&&!o||i==="right"&&o);c=yt(yt({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+s})}return g.createElement("line",co({},c,{className:De("recharts-cartesian-axis-line",yi(l,"className"))}))}static renderTickItem(t,r,n){var s,i=De(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))s=g.cloneElement(t,yt(yt({},r),{},{className:i}));else if(typeof t=="function")s=t(yt(yt({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=De(o,t.className)),s=g.createElement(Ub,co({},r,{className:o}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:o,tickFormatter:l,unit:c}=this.props,u=Kb(yt(yt({},this.props),{},{ticks:n}),t,r),d=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),h=Ee(this.props,!1),p=Ee(o,!1),m=yt(yt({},h),{},{fill:"none"},Ee(s,!1)),y=u.map((v,x)=>{var{line:b,tick:w}=this.getTickLineCoord(v),j=yt(yt(yt(yt({textAnchor:d,verticalAnchor:f},h),{},{stroke:"none",fill:i},p),w),{},{index:x,payload:v,visibleTicksCount:u.length,tickFormatter:l});return g.createElement(Xr,co({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},n8(this.props,v,x)),s&&g.createElement("line",co({},m,b,{className:De("recharts-cartesian-axis-tick-line",yi(s,"className"))})),o&&Ma.renderTickItem(o,j,"".concat(typeof l=="function"?l(v.value,x):v.value).concat(c||"")))});return y.length>0?g.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:g.createElement(Xr,{className:De("recharts-cartesian-axis",s),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),qr.renderCallByParent(this.props))}}Gb(Ma,"displayName","CartesianAxis");Gb(Ma,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hK=["x1","y1","x2","y2","key"],mK=["offset"],pK=["xAxisId","yAxisId"],gK=["xAxisId","yAxisId"];function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){xK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xK(e,t,r){return(t=yK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yK(e){var t=vK(e,"string");return typeof t=="symbol"?t:t+""}function vK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(null,arguments)}function ch(e,t){if(e==null)return{};var r,n,s=bK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:l}=e;return g.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function B3(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:o,key:l}=t,c=ch(t,hK),u=Ee(c,!1),d=ch(u,mK);r=g.createElement("line",ri({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function jK(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var i=ch(e,pK),o=s.map((l,c)=>{var u=Zt(Zt({},i),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return B3(n,u)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function NK(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var i=ch(e,gK),o=s.map((l,c)=>{var u=Zt(Zt({},i),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return B3(n,u)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function _K(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],m=p?s+o-f:u[h+1]-f;if(m<=0)return null;var y=h%t.length;return g.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:m,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function kK(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],m=p?s+o-f:u[h+1]-f;if(m<=0)return null;var y=h%r.length;return g.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:m,height:l,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var SK=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return HP(Kb(Zt(Zt(Zt({},Ma.defaultProps),r),{},{ticks:KP(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},CK=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return HP(Kb(Zt(Zt(Zt({},Ma.defaultProps),r),{},{ticks:KP(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},PK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Ex(e){var t=XP(),r=QP(),n=rl(),s=Zt(Zt({},Ea(e,PK)),{},{x:ce(e.x)?e.x:n.left,y:ce(e.y)?e.y:n.top,width:ce(e.width)?e.width:n.width,height:ce(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=s,m=gr(),y=he(C=>sN(C,"xAxis",i,m)),v=he(C=>sN(C,"yAxis",o,m));if(!ce(u)||u<=0||!ce(d)||d<=0||!ce(l)||l!==+l||!ce(c)||c!==+c)return null;var x=s.verticalCoordinatesGenerator||SK,b=s.horizontalCoordinatesGenerator||CK,{horizontalPoints:w,verticalPoints:j}=s;if((!w||!w.length)&&typeof b=="function"){var N=h&&h.length,_=b({yAxis:v?Zt(Zt({},v),{},{ticks:N?h:v.ticks}):void 0,width:t,height:r,offset:n},N?!0:f);pc(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(w=_)}if((!j||!j.length)&&typeof x=="function"){var k=p&&p.length,S=x({xAxis:y?Zt(Zt({},y),{},{ticks:k?p:y.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);pc(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(wK,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),g.createElement(_K,ri({},s,{horizontalPoints:w})),g.createElement(kK,ri({},s,{verticalPoints:j})),g.createElement(jK,ri({},s,{offset:n,horizontalPoints:w,xAxis:y,yAxis:v})),g.createElement(NK,ri({},s,{offset:n,verticalPoints:j,xAxis:y,yAxis:v})))}Ex.displayName="CartesianGrid";var z3=(e,t,r,n)=>ul(e,"xAxis",t,n),U3=(e,t,r,n)=>Ym(e,"xAxis",t,n),V3=(e,t,r,n)=>ul(e,"yAxis",r,n),q3=(e,t,r,n)=>Ym(e,"yAxis",r,n),EK=U([Ue,z3,V3,U3,q3],(e,t,r,n,s)=>as(e,"xAxis")?Wc(t,n,!1):Wc(r,s,!1)),AK=(e,t,r,n,s)=>s,TK=U([Sb,AK],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),OK=U([Ue,z3,V3,U3,q3,TK,EK,gb],(e,t,r,n,s,i,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null)){var{dataKey:f,data:h}=i,p;if(h!=null&&h.length>0?p=h:p=c==null?void 0:c.slice(u,d+1),p!=null)return XK({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:f,bandSize:o,displayedData:p})}}),MK=["type","layout","connectNulls","needClip"],RK=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function W3(e,t){if(e==null)return{};var r,n,s=$K(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $K(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){Zm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zm(e,t,r){return(t=DK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=IK(e,"string");return typeof t=="symbol"?t:t+""}function IK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wo.apply(null,arguments)}var LK=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Em(r,t),payload:e}]};function FK(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Em(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var H3=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function BK(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var zK=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return H3(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){l=[...r.slice(0,c),i-u];break}var d=l.length%2===0?[0,o]:[o];return[...BK(r,s),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function UK(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=De("recharts-line-dot",typeof e!="boolean"?e.className:"");r=g.createElement(qb,Wo({},t,{className:n}))}return r}function VK(e,t){return e==null?!1:t?!0:e.length===1}function qK(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n;if(!VK(r,s))return null;var l=pm(s),c=Ee(n,!1),u=Ee(s,!0),d=r.map((h,p)=>{var m=An(An(An({key:"dot-".concat(p),r:3},c),u),{},{index:p,cx:h.x,cy:h.y,dataKey:i,value:h.value,payload:h.payload,points:r});return UK(s,m)}),f={clipPath:o?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):null};return g.createElement(Xr,Wo({className:"recharts-line-dots",key:"dots"},f),d)}function Ax(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i,showLabels:o}=e,{type:l,layout:c,connectNulls:u,needClip:d}=i,f=W3(i,MK),h=An(An({},Ee(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):null,points:n,type:l,layout:c,connectNulls:u,strokeDasharray:s??i.strokeDasharray});return g.createElement(g.Fragment,null,(n==null?void 0:n.length)>1&&g.createElement(mc,Wo({},h,{pathRef:r})),g.createElement(qK,{points:n,clipPathId:t,props:i}),o&&ga.renderCallByParent(i,n))}function WK(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function HK(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:p,height:m,onAnimationEnd:y,onAnimationStart:v}=r,x=s.current,b=A3(r,"recharts-line-"),[w,j]=g.useState(!1),N=g.useCallback(()=>{typeof y=="function"&&y(),j(!1)},[y]),_=g.useCallback(()=>{typeof v=="function"&&v(),j(!0)},[v]),k=WK(n.current),S=i.current;return g.createElement(Kc,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},onAnimationEnd:N,onAnimationStart:_,key:b},C=>{var{t:P}=C,E=Cl(S,k+S),M=Math.min(E(P),k),O;if(l){var F="".concat(l).split(/[,\s]+/gim).map(H=>parseFloat(H));O=zK(M,k,F)}else O=H3(k,M);if(x){var A=x.length/o.length,q=P===1?o:o.map((H,$)=>{var D=Math.floor($*A);if(x[D]){var W=x[D],V=Cl(W.x,H.x),L=Cl(W.y,H.y);return An(An({},H),{},{x:V(P),y:L(P)})}if(h){var se=Cl(p*2,H.x),K=Cl(m/2,H.y);return An(An({},H),{},{x:se(P),y:K(P)})}return An(An({},H),{},{x:H.x,y:H.y})});return s.current=q,g.createElement(Ax,{props:r,points:q,clipPathId:t,pathRef:n,showLabels:!w,strokeDasharray:O})}return P>0&&k>0&&(s.current=o,i.current=M),g.createElement(Ax,{props:r,points:o,clipPathId:t,pathRef:n,showLabels:!w,strokeDasharray:O})})}function KK(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:s}=r,i=g.useRef(null),o=g.useRef(0),l=g.useRef(null),c=i.current;return s&&n&&n.length&&c!==n?g.createElement(HK,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:l}):g.createElement(Ax,{props:r,points:n,clipPathId:t,pathRef:l,showLabels:!0})}var GK=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:dr(e.payload,t)});class YK extends g.Component{constructor(){super(...arguments),Zm(this,"id",Lo("recharts-line-"))}render(){var t,{hide:r,dot:n,points:s,className:i,xAxisId:o,yAxisId:l,top:c,left:u,width:d,height:f,id:h,needClip:p,layout:m}=this.props;if(r)return null;var y=De("recharts-line",i),v=tt(h)?this.id:h,{r:x=3,strokeWidth:b=2}=(t=Ee(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},w=pm(n),j=x*2+b;return g.createElement(g.Fragment,null,g.createElement(Xr,{className:y},p&&g.createElement("defs",null,g.createElement(L3,{clipPathId:v,xAxisId:o,yAxisId:l}),!w&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:u-j/2,y:c-j/2,width:d+j,height:f+j}))),g.createElement(KK,{props:this.props,clipPathId:v}),g.createElement(LH,{direction:m==="horizontal"?"y":"x"},g.createElement(SH,{xAxisId:o,yAxisId:l,data:s,dataPointFormatter:GK,errorBarOffset:0},this.props.children))),g.createElement(Px,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var K3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!nl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function JK(e){var t=Ea(e,K3),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:p,yAxisId:m}=t,y=W3(t,RK),{needClip:v}=Wb(p,m),{height:x,width:b,left:w,top:j}=rl(),N=Mm(),_=gr(),k=g.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),S=he(C=>OK(C,p,m,_,k));return N!=="horizontal"&&N!=="vertical"?null:g.createElement(YK,Wo({},y,{connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:p,yAxisId:m,points:S,layout:N,height:x,width:b,left:w,top:j,needClip:v}))}function XK(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=dr(u,o);return t==="horizontal"?{x:Vf({axis:r,ticks:s,bandSize:l,entry:u,index:d}),y:tt(f)?null:n.scale(f),value:f,payload:u}:{x:tt(f)?null:r.scale(f),y:Vf({axis:n,ticks:i,bandSize:l,entry:u,index:d}),value:f,payload:u}})}class Yb extends g.PureComponent{render(){return g.createElement(M3,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},g.createElement(E3,{legendPayload:LK(this.props)}),g.createElement(P3,{fn:FK,args:this.props}),g.createElement(JK,this.props))}}Zm(Yb,"displayName","Line");Zm(Yb,"defaultProps",K3);var G3=(e,t,r,n)=>ul(e,"xAxis",t,n),Y3=(e,t,r,n)=>Ym(e,"xAxis",t,n),J3=(e,t,r,n)=>ul(e,"yAxis",r,n),X3=(e,t,r,n)=>Ym(e,"yAxis",r,n),QK=U([Ue,G3,J3,Y3,X3],(e,t,r,n,s)=>as(e,"xAxis")?Wc(t,n,!1):Wc(r,s,!1)),ZK=(e,t,r,n,s)=>{var i,o=Ue(e),l=as(o,"xAxis"),c;if(l?c=bx(e,"yAxis",r,n):c=bx(e,"xAxis",t,n),c!=null){var{dataKey:u,stackId:d}=s;if(d!=null){var f=(i=c[d])===null||i===void 0?void 0:i.stackedData;return f==null?void 0:f.find(h=>h.key===u)}}},eG=(e,t,r,n,s)=>s,tG=U([Sb,eG],(e,t)=>{if(e.some(r=>r.type==="area"&&t.dataKey===r.dataKey&&GP(t.stackId)===r.stackId&&t.data===r.data))return t}),rG=U([Ue,G3,J3,Y3,X3,ZK,gb,QK,tG],(e,t,r,n,s,i,o,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||s==null||n.length===0||s.length===0||l==null)){var{data:h}=c,p;if(h&&h.length>0?p=h:p=u==null?void 0:u.slice(d,f+1),p!=null){var m=void 0;return wG({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:p,chartBaseValue:m,bandSize:l})}}}),nG=["layout","type","stroke","connectNulls","isRange"],sG=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Q3(e,t){if(e==null)return{};var r,n,s=aG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function aG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){ep(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ep(e,t,r){return(t=iG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iG(e){var t=oG(e,"string");return typeof t=="symbol"?t:t+""}function oG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xa.apply(null,arguments)}function uh(e,t){return e&&e!=="none"?e:t}var lG=e=>{var{dataKey:t,name:r,stroke:n,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:uh(n,s),value:Em(r,t),payload:e}]};function cG(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Em(o,t),hide:l,type:e.tooltipType,color:uh(n,i),unit:c}}}var uG=(e,t)=>{var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=De("recharts-area-dot",typeof e!="boolean"?e.className:"");r=g.createElement(qb,xa({},t,{className:n}))}return r};function dG(e,t){return e==null?!1:t?!0:e.length===1}function fG(e){var{clipPathId:t,points:r,props:n}=e,{needClip:s,dot:i,dataKey:o}=n;if(!dG(r,i))return null;var l=pm(i),c=Ee(n,!1),u=Ee(i,!0),d=r.map((h,p)=>{var m=ni(ni(ni({key:"dot-".concat(p),r:3},c),u),{},{index:p,cx:h.x,cy:h.y,dataKey:o,value:h.value,payload:h.payload,points:r});return uG(i,m)}),f={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return g.createElement(Xr,xa({className:"recharts-area-dots"},f),d)}function Tx(e){var{points:t,baseLine:r,needClip:n,clipPathId:s,props:i,showLabels:o}=e,{layout:l,type:c,stroke:u,connectNulls:d,isRange:f}=i,h=Q3(i,nG);return g.createElement(g.Fragment,null,(t==null?void 0:t.length)>1&&g.createElement(Xr,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},g.createElement(mc,xa({},Ee(h,!0),{points:t,connectNulls:d,type:c,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&g.createElement(mc,xa({},Ee(i,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:t})),u!=="none"&&f&&g.createElement(mc,xa({},Ee(i,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r}))),g.createElement(fG,{points:t,props:i,clipPathId:s}),o&&ga.renderCallByParent(i,t))}function hG(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].y,o=n[n.length-1].y;if(!fr(i)||!fr(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.x||0));return ce(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.x||0),c)),ce(c)?g.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}function mG(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].x,o=n[n.length-1].x;if(!fr(i)||!fr(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.y||0));return ce(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.y||0),c)),ce(c)?g.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function pG(e){var{alpha:t,layout:r,points:n,baseLine:s,strokeWidth:i}=e;return r==="vertical"?g.createElement(hG,{alpha:t,points:n,baseLine:s,strokeWidth:i}):g.createElement(mG,{alpha:t,points:n,baseLine:s,strokeWidth:i})}function gG(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=n,m=A3(n,"recharts-area-"),[y,v]=g.useState(!0),x=g.useCallback(()=>{typeof p=="function"&&p(),v(!1)},[p]),b=g.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]),w=s.current,j=i.current;return g.createElement(Kc,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},onAnimationEnd:x,onAnimationStart:b,key:m},N=>{var{t:_}=N;if(w){var k=w.length/o.length,S=_===1?o:o.map((P,E)=>{var M=Math.floor(E*k);if(w[M]){var O=w[M];return ni(ni({},P),{},{x:zi(O.x,P.x,_),y:zi(O.y,P.y,_)})}return P}),C;return ce(l)?C=zi(j,l,_):tt(l)||Jr(l)?C=zi(j,0,_):C=l.map((P,E)=>{var M=Math.floor(E*k);if(Array.isArray(j)&&j[M]){var O=j[M];return ni(ni({},P),{},{x:zi(O.x,P.x,_),y:zi(O.y,P.y,_)})}return P}),_>0&&(s.current=S,i.current=C),g.createElement(Tx,{points:S,baseLine:C,needClip:t,clipPathId:r,props:n,showLabels:!y})}return _>0&&(s.current=o,i.current=l),g.createElement(Xr,null,g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(r)},g.createElement(pG,{alpha:_,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),g.createElement(Xr,{clipPath:"url(#animationClipPath-".concat(r,")")},g.createElement(Tx,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n,showLabels:!0})))})}function xG(e){var{needClip:t,clipPathId:r,props:n}=e,{points:s,baseLine:i,isAnimationActive:o}=n,l=g.useRef(null),c=g.useRef(),u=l.current,d=c.current;return o&&s&&s.length&&(u!==s||d!==i)?g.createElement(gG,{needClip:t,clipPathId:r,props:n,previousPointsRef:l,previousBaselineRef:c}):g.createElement(Tx,{points:s,baseLine:i,needClip:t,clipPathId:r,props:n,showLabels:!0})}class yG extends g.PureComponent{constructor(){super(...arguments),ep(this,"id",Lo("recharts-area-"))}render(){var t,{hide:r,dot:n,points:s,className:i,top:o,left:l,needClip:c,xAxisId:u,yAxisId:d,width:f,height:h,id:p,baseLine:m}=this.props;if(r)return null;var y=De("recharts-area",i),v=tt(p)?this.id:p,{r:x=3,strokeWidth:b=2}=(t=Ee(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},w=pm(n),j=x*2+b;return g.createElement(g.Fragment,null,g.createElement(Xr,{className:y},c&&g.createElement("defs",null,g.createElement(L3,{clipPathId:v,xAxisId:u,yAxisId:d}),!w&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:l-j/2,y:o-j/2,width:f+j,height:h+j}))),g.createElement(xG,{needClip:c,clipPathId:v,props:this.props})),g.createElement(Px,{points:s,mainColor:uh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(m)&&g.createElement(Px,{points:m,mainColor:uh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var Z3={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!nl.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function vG(e){var t,r=Ea(e,Z3),{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:f,isAnimationActive:h,legendType:p,stroke:m,xAxisId:y,yAxisId:v}=r,x=Q3(r,sG),b=Mm(),w=i3(),{needClip:j}=Wb(y,v),N=gr(),_=g.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:l,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,l,e.data,e.dataKey]),{points:k,isRange:S,baseLine:C}=(t=he(F=>rG(F,y,v,N,_)))!==null&&t!==void 0?t:{},{height:P,width:E,left:M,top:O}=rl();return b!=="horizontal"&&b!=="vertical"||w!=="AreaChart"&&w!=="ComposedChart"?null:g.createElement(yG,xa({},x,{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:C,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:P,hide:f,layout:b,isAnimationActive:h,isRange:S,legendType:p,needClip:j,points:k,stroke:m,width:E,left:M,top:O,xAxisId:y,yAxisId:v}))}var bG=(e,t,r,n,s)=>{var i=r??t;if(ce(i))return i;var o=e==="horizontal"?s:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function wG(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:s,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:f,yAxisTicks:h,bandSize:p}=e,m=s&&s.length,y=bG(i,o,r,l,c),v=i==="horizontal",x=!1,b=u.map((j,N)=>{var _;m?_=s[d+N]:(_=dr(j,n),Array.isArray(_)?x=!0:_=[y,_]);var k=_[1]==null||m&&!t&&dr(j,n)==null;return v?{x:Vf({axis:l,ticks:f,bandSize:p,entry:j,index:N}),y:k?null:c.scale(_[1]),value:_,payload:j}:{x:k?null:l.scale(_[1]),y:Vf({axis:c,ticks:h,bandSize:p,entry:j,index:N}),value:_,payload:j}}),w;return m||x?w=b.map(j=>{var N=Array.isArray(j.value)?j.value[0]:null;return v?{x:j.x,y:N!=null&&j.y!=null?c.scale(N):null}:{x:N!=null?l.scale(N):null,y:j.y}}):w=v?c.scale(y):l.scale(y),{points:b,baseLine:w,isRange:x}}class dh extends g.PureComponent{render(){return g.createElement(M3,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},g.createElement(E3,{legendPayload:lG(this.props)}),g.createElement(P3,{fn:cG,args:this.props}),g.createElement(vG,this.props))}}ep(dh,"displayName","Area");ep(dh,"defaultProps",Z3);function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){jG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jG(e,t,r){return(t=NG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kG={xAxis:{},yAxis:{},zAxis:{}},e5=wn({name:"cartesianAxis",initialState:kG,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=qN(qN({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:SG,removeXAxis:CG,addYAxis:PG,removeYAxis:EG,addZAxis:GJ,removeZAxis:YJ,updateYAxisWidth:AG}=e5.actions,TG=e5.reducer,OG=["children"],MG=["dangerouslySetInnerHTML","ticks"];function t5(e,t,r){return(t=RG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=$G(e,"string");return typeof t=="symbol"?t:t+""}function $G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ox.apply(null,arguments)}function r5(e,t){if(e==null)return{};var r,n,s=DG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function DG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IG(e){var t=pr(),r=g.useMemo(()=>{var i=r5(e,OG);return i},[e]),n=he(i=>$s(i,r.id)),s=r===n;return g.useEffect(()=>(t(SG(r)),()=>{t(CG(r))}),[r,t]),s?e.children:null}var LG=e=>{var{xAxisId:t,className:r}=e,n=he(JP),s=gr(),i="xAxis",o=he(f=>cl(f,i,t,s)),l=he(f=>zA(f,i,t,s)),c=he(f=>kV(f,t)),u=he(f=>AV(f,t));if(c==null||u==null)return null;var d=r5(e,MG);return g.createElement(Ma,Ox({},d,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:De("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},FG=e=>{var t,r,n,s,i;return g.createElement(IG,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},g.createElement(LG,e))};class fh extends g.Component{render(){return g.createElement(FG,this.props)}}t5(fh,"displayName","XAxis");t5(fh,"defaultProps",{allowDataOverflow:Lr.allowDataOverflow,allowDecimals:Lr.allowDecimals,allowDuplicatedCategory:Lr.allowDuplicatedCategory,height:Lr.height,hide:!1,mirror:Lr.mirror,orientation:Lr.orientation,padding:Lr.padding,reversed:Lr.reversed,scale:Lr.scale,tickCount:Lr.tickCount,type:Lr.type,xAxisId:0});var BG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=s+i,u=o+c+l+(r?n:0);return Math.round(u)}return 0},zG=["dangerouslySetInnerHTML","ticks"];function n5(e,t,r){return(t=UG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=VG(e,"string");return typeof t=="symbol"?t:t+""}function VG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mx.apply(null,arguments)}function qG(e,t){if(e==null)return{};var r,n,s=WG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function WG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HG(e){var t=pr();return g.useEffect(()=>(t(PG(e)),()=>{t(EG(e))}),[e,t]),null}var KG=e=>{var t,{yAxisId:r,className:n,width:s,label:i}=e,o=g.useRef(null),l=g.useRef(null),c=he(JP),u=gr(),d=pr(),f="yAxis",h=he(x=>cl(x,f,r,u)),p=he(x=>OV(x,r)),m=he(x=>TV(x,r)),y=he(x=>zA(x,f,r,u));if(g.useLayoutEffect(()=>{var x;if(!(s!=="auto"||!p||Vb(i)||g.isValidElement(i))){var b=o.current,w=b==null||(x=b.tickRefs)===null||x===void 0?void 0:x.current,{tickSize:j,tickMargin:N}=b.props,_=BG({ticks:w,label:l.current,labelGapWithTick:5,tickSize:j,tickMargin:N});Math.round(p.width)!==Math.round(_)&&d(AG({id:r,width:_}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,p==null?void 0:p.width,p,d,i,r,s]),p==null||m==null)return null;var v=qG(e,zG);return g.createElement(Ma,Mx({},v,{ref:o,labelRef:l,scale:h,x:m.x,y:m.y,width:p.width,height:p.height,className:De("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:y}))},GG=e=>{var t,r,n,s,i;return g.createElement(g.Fragment,null,g.createElement(HG,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),g.createElement(KG,e))},YG={allowDataOverflow:Fr.allowDataOverflow,allowDecimals:Fr.allowDecimals,allowDuplicatedCategory:Fr.allowDuplicatedCategory,hide:!1,mirror:Fr.mirror,orientation:Fr.orientation,padding:Fr.padding,reversed:Fr.reversed,scale:Fr.scale,tickCount:Fr.tickCount,type:Fr.type,width:Fr.width,yAxisId:0};class hh extends g.Component{render(){return g.createElement(GG,this.props)}}n5(hh,"displayName","YAxis");n5(hh,"defaultProps",YG);var JG={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pu=g;function XG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QG=typeof Object.is=="function"?Object.is:XG,ZG=Pu.useSyncExternalStore,eY=Pu.useRef,tY=Pu.useEffect,rY=Pu.useMemo,nY=Pu.useDebugValue;JG.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=eY(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=rY(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),s!==void 0&&o.hasValue){var m=o.value;if(s(m,p))return f=m}return f=p}if(m=f,QG(d,p))return m;var y=n(p);return s!==void 0&&s(m,y)?(d=p,m):(d=p,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=ZG(e,i[0],i[1]);return tY(function(){o.hasValue=!0,o.value=l},[l]),nY(l),l};function sY(e){e()}function aY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){sY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var WN={notify(){},get:()=>[]};function iY(e,t){let r,n=WN,s=0,i=!1;function o(y){d();const v=n.subscribe(y);let x=!1;return()=>{x||(x=!0,v(),f())}}function l(){n.notify()}function c(){m.onStateChange&&m.onStateChange()}function u(){return i}function d(){s++,r||(r=e.subscribe(c),n=aY())}function f(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=WN)}function h(){i||(i=!0,d())}function p(){i&&(i=!1,f())}const m={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return m}var oY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lY=oY(),cY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",uY=cY(),dY=()=>lY||uY?g.useLayoutEffect:g.useEffect,fY=dY(),b0=Symbol.for("react-redux-context"),w0=typeof globalThis<"u"?globalThis:{};function hY(){if(!g.createContext)return{};const e=w0[b0]??(w0[b0]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var mY=hY();function pY(e){const{children:t,context:r,serverState:n,store:s}=e,i=g.useMemo(()=>{const c=iY(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),o=g.useMemo(()=>s.getState(),[s]);fY(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||mY;return g.createElement(l.Provider,{value:i},t)}var gY=pY,xY=(e,t)=>t,Jb=U([xY,Ue,UU,It,e3,Ds,Tq,tr],Lq),Xb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},s5=yn("mouseClick"),a5=vu();a5.startListening({actionCreator:s5,effect:(e,t)=>{var r=e.payload,n=Jb(t.getState(),Xb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(qV({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Rx=yn("mouseMove"),i5=vu();i5.startListening({actionCreator:Rx,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Rb(n,n.tooltip.settings.shared),i=Jb(n,Xb(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(GA({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(KA()))}});function yY(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var HN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},o5=wn({name:"rootProps",initialState:HN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:HN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),vY=o5.reducer,{updateOptions:bY}=o5.actions,wY=wn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),jY=wY.reducer,l5=yn("keyDown"),c5=yn("focus"),Qb=vu();Qb.startListening({actionCreator:l5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number($b(s,Ei(r))),l=Ds(r);if(i==="Enter"){var c=ih(r,"axis","hover",String(s.index));t.dispatch(jx({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=DV(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=o+f*d;if(!(l==null||h>=l.length||h<0)){var p=ih(r,"axis","hover",String(h));t.dispatch(jx({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Qb.startListening({actionCreator:c5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=ih(r,"axis","hover",String(i));t.dispatch(jx({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var nn=yn("externalEvent"),u5=vu();u5.startListening({actionCreator:nn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:wq(r),activeDataKey:yq(r),activeIndex:ah(r),activeLabel:s3(r),activeTooltipIndex:ah(r),isTooltipActive:jq(r)};e.payload.handler(n,e.payload.reactEvent)}}});var NY=U([dl],e=>e.tooltipItemPayloads),_Y=U([NY,Jm,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),d5=yn("touchMove"),f5=vu();f5.startListening({actionCreator:d5,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Rb(n,n.tooltip.settings.shared);if(s==="axis"){var i=Jb(n,Xb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(GA({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(NF),d=(o=c.getAttribute(_F))!==null&&o!==void 0?o:void 0,f=_Y(t.getState(),u,d);t.dispatch(VV({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var kY=NP({brush:UH,cartesianAxis:TG,chartData:eW,graphicalItems:fH,layout:Y7,legend:$F,options:Yq,polarAxis:lH,polarOptions:jY,referenceElements:JH,rootProps:vY,tooltip:WV}),SY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return b7({reducer:kY,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([a5.middleware,i5.middleware,Qb.middleware,u5.middleware,f5.middleware]),devTools:{serialize:{replacer:yY},name:"recharts-".concat(r)}})};function CY(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=gr(),i=g.useRef(null);if(s)return r;i.current==null&&(i.current=SY(t,n));var o=$v;return g.createElement(gY,{context:o,store:i.current},r)}function PY(e){var{layout:t,width:r,height:n,margin:s}=e,i=pr(),o=gr();return g.useEffect(()=>{o||(i(H7(t)),i(K7({width:r,height:n})),i(W7(s)))},[i,o,t,r,n,s]),null}function EY(e){var t=pr();return g.useEffect(()=>{t(bY(e))},[t,e]),null}var AY=["children"];function TY(e,t){if(e==null)return{};var r,n,s=OY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(null,arguments)}var MY={width:"100%",height:"100%"},RY=g.forwardRef((e,t)=>{var r=XP(),n=QP(),s=eE();if(!qf(r)||!qf(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=s?0:void 0,typeof o.role=="string"?d=o.role:d=s?"application":void 0,g.createElement(FC,mh({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:MY,ref:t}),i)}),$Y=e=>{var{children:t}=e,r=he(Om);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return g.createElement(FC,{width:n,height:s,x:o,y:i},t)},KN=g.forwardRef((e,t)=>{var{children:r}=e,n=TY(e,AY),s=gr();return s?g.createElement($Y,null,r):g.createElement(RY,mh({ref:t},n),r)});function DY(){var e=pr(),[t,r]=g.useState(null),n=he(jF);return g.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;fr(i)&&i!==n&&e(G7(i))}},[t,e,n]),r}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){LY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LY(e,t,r){return(t=FY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FY(e){var t=BY(e,"string");return typeof t=="symbol"?t:t+""}function BY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zY=g.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:y,style:v,width:x}=e,b=pr(),[w,j]=g.useState(null),[N,_]=g.useState(null);nW();var k=DY(),S=g.useCallback(L=>{k(L),typeof t=="function"&&t(L),j(L),_(L)},[k,t,j,_]),C=g.useCallback(L=>{b(s5(L)),b(nn({handler:i,reactEvent:L}))},[b,i]),P=g.useCallback(L=>{b(Rx(L)),b(nn({handler:u,reactEvent:L}))},[b,u]),E=g.useCallback(L=>{b(KA()),b(nn({handler:d,reactEvent:L}))},[b,d]),M=g.useCallback(L=>{b(Rx(L)),b(nn({handler:f,reactEvent:L}))},[b,f]),O=g.useCallback(()=>{b(c5())},[b]),F=g.useCallback(L=>{b(l5(L.key))},[b]),A=g.useCallback(L=>{b(nn({handler:o,reactEvent:L}))},[b,o]),q=g.useCallback(L=>{b(nn({handler:l,reactEvent:L}))},[b,l]),H=g.useCallback(L=>{b(nn({handler:c,reactEvent:L}))},[b,c]),$=g.useCallback(L=>{b(nn({handler:h,reactEvent:L}))},[b,h]),D=g.useCallback(L=>{b(nn({handler:y,reactEvent:L}))},[b,y]),W=g.useCallback(L=>{b(d5(L)),b(nn({handler:m,reactEvent:L}))},[b,m]),V=g.useCallback(L=>{b(nn({handler:p,reactEvent:L}))},[b,p]);return g.createElement(d3.Provider,{value:w},g.createElement(d8.Provider,{value:N},g.createElement("div",{className:De("recharts-wrapper",n),style:IY({position:"relative",cursor:"default",width:x,height:s},v),role:"application",onClick:C,onContextMenu:A,onDoubleClick:q,onFocus:O,onKeyDown:F,onMouseDown:H,onMouseEnter:P,onMouseLeave:E,onMouseMove:M,onMouseUp:$,onTouchEnd:V,onTouchMove:W,onTouchStart:D,ref:S},r)))}),UY=["children","className","width","height","style","compact","title","desc"];function VY(e,t){if(e==null)return{};var r,n,s=qY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WY=g.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:o,compact:l,title:c,desc:u}=e,d=VY(e,UY),f=Ee(d,!1);return l?g.createElement(KN,{otherAttributes:f,title:c,desc:u},r):g.createElement(zY,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(KN,{otherAttributes:f,title:c,desc:u,ref:t},g.createElement(QH,null,r)))}),HY=["width","height"];function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$x.apply(null,arguments)}function KY(e,t){if(e==null)return{};var r,n,s=GY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function GY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YY={top:5,right:5,bottom:5,left:5},JY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:YY,reverseStackOrder:!1,syncMethod:"index"},XY=g.forwardRef(function(t,r){var n,s=Ea(t.categoricalChartProps,JY),{width:i,height:o}=s,l=KY(s,HY);if(!qf(i)||!qf(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return g.createElement(CY,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},g.createElement(BH,{chartData:h.data}),g.createElement(PY,{width:i,height:o,layout:s.layout,margin:s.margin}),g.createElement(EY,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),g.createElement(WY,$x({},l,{width:i,height:o,ref:r})))}),QY=["axis"],YN=g.forwardRef((e,t)=>g.createElement(XY,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:QY,tooltipPayloadSearcher:Kq,categoricalChartProps:e,ref:t}));function ZY({showEquityCurve:e,setShowEquityCurve:t,data:r}){const[n,s]=g.useState("resultado"),[i,o]=g.useState("daily"),[l,c]=g.useState("20"),[u,d]=g.useState(""),[f,h]=g.useState(""),[p,m]=g.useState("100000"),y=g.useMemo(()=>{if(!(r!=null&&r["Equity Curve Data"]))return[];const j=r["Equity Curve Data"];let N=[];switch(i){case"trade":N=j.trade_by_trade||[];break;case"daily":N=j.daily||[];break;case"weekly":N=j.weekly||[];break;case"monthly":N=j.monthly||[];break;default:N=j.daily||[]}const _=N.map(k=>({...k,saldo:Number(k.saldo)||Number(k.resultado)||0,valor:Number(k.valor)||0,resultado:Number(k.resultado)||0,drawdown:Number(k.drawdown)||0,drawdownPercent:Number(k.drawdownPercent)||0,peak:Number(k.peak)||0,trades:Number(k.trades)||0}));if(u&&f){const k=new Date(u),S=new Date(f);return _.filter(C=>{const P=new Date(C.date);return P>=k&&P<=S})}return _},[r,i,u,f]),v=g.useMemo(()=>{if(l==="nenhuma"||y.length===0)return y;const j=parseInt(l);return y.map((N,_)=>{if(_<j-1)return{...N,saldoMA:null};const k=y.slice(_-j+1,_+1).reduce((S,C)=>S+(C.saldo||C.resultado||0),0);return{...N,saldoMA:k/j}})},[y,l]),x=g.useMemo(()=>{if(r!=null&&r["Performance Metrics"]&&y.length>0){const j=r["Performance Metrics"],N=Math.abs(j["Max Drawdown ($)"]||0),_=Math.abs(j["Max Drawdown (%)"]||0),k=y.filter(P=>!P.isStart).map(P=>P.drawdown),S=k.length>0?k.reduce((P,E)=>P+E,0)/k.length:0,C=y.filter(P=>!P.isStart).length;return{resultado:j["Net Profit"]||0,maxDrawdown:N,avgDrawdown:S,roi:(j["Net Profit"]||0)/parseFloat(p||"100000")*100,fatorLucro:j["Profit Factor"]||0,winRate:j["Win Rate (%)"]||0,sharpeRatio:j["Sharpe Ratio"]||0,grossProfit:j["Gross Profit"]||0,grossLoss:Math.abs(j["Gross Loss"]||0),avgWin:j["Average Win"]||0,avgLoss:Math.abs(j["Average Loss"]||0),activeDays:j["Active Days"]||0,maxDrawdownPercent:_,pontosComDados:C}}return{resultado:0,maxDrawdown:0,avgDrawdown:0,roi:0,fatorLucro:0,winRate:0,sharpeRatio:0,grossProfit:0,grossLoss:0,avgWin:0,avgLoss:0,activeDays:0,maxDrawdownPercent:0,pontosComDados:0}},[r,p,y]),b=({active:j,payload:N,label:_})=>{var k;if(j&&N&&N.length){const S=(k=N[0])==null?void 0:k.payload;return a.jsxs("div",{className:"bg-gray-800 border border-gray-600 rounded-lg p-3 shadow-lg",children:[a.jsx("p",{className:"text-gray-300 text-sm mb-2",children:`Data: ${(S==null?void 0:S.fullDate)||_}`}),N.map((C,P)=>{var E;return a.jsxs("p",{className:"text-sm",style:{color:C.color},children:[C.dataKey==="saldo"&&`Saldo: R$ ${C.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,C.dataKey==="valor"&&`Patrimnio: R$ ${C.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,C.dataKey==="resultado"&&`Resultado: R$ ${C.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,C.dataKey==="drawdown"&&`Drawdown: R$ ${C.value.toLocaleString("pt-BR",{minimumFractionDigits:2})} (${((E=S==null?void 0:S.drawdownPercent)==null?void 0:E.toFixed(2))||0}%)`,C.dataKey==="saldoMA"&&`MM ${l}: R$ ${C.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]},P)}),S&&n==="drawdown"&&!S.isStart&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Detalhes do perodo:"}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Trades: ",S.trades||0]}),i==="trade"&&S.trade_result&&a.jsxs("p",{className:"text-xs text-gray-400",children:["Resultado do trade: R$ ",S.trade_result.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),i!=="trade"&&S.resultado_periodo&&a.jsxs("p",{className:"text-xs text-gray-400",children:["Resultado do perodo: R$ ",S.resultado_periodo.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),N.map((C,P)=>{var E;return a.jsxs("p",{className:"text-sm",style:{color:C.color},children:[C.dataKey==="drawdown"&&`Drawdown: R$ ${C.value.toLocaleString("pt-BR",{minimumFractionDigits:2})} (${((E=S==null?void 0:S.drawdownPercent)==null?void 0:E.toFixed(2))||0}%)`,C.dataKey==="resultadoMA"&&`MM ${l}: R$ ${C.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]},P)}),S&&n==="resultado"&&!S.isStart&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Detalhes do perodo:"}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Trades: ",S.trades||0]}),i==="trade"&&S.trade_result&&a.jsxs("p",{className:"text-xs text-gray-400",children:["Resultado do trade: R$ ",S.trade_result.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),i!=="trade"&&S.resultado_periodo&&a.jsxs("p",{className:"text-xs text-gray-400",children:["Resultado do perodo: R$ ",S.resultado_periodo.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Saldo: R$ ",(S.saldo||S.resultado||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["DD: R$ ",(S.drawdown||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Pico: R$ ",(S.peak||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}return null},w=j=>{if(i==="trade")return"";if(j.includes("-")){const N=new Date(j);if(i==="daily")return`${N.getDate()}/${N.getMonth()+1}`;if(i==="monthly")return`${N.getMonth()+1}/${N.getFullYear()}`}return j};return a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx($o,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Grficos"})]}),a.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]}),e&&a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"mb-4 bg-gray-700 p-4 rounded-lg",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Lc,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"Patrimnio Total Investido"})]}),a.jsxs("div",{className:"flex items-center space-x-2 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 md:w-48",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"R$"}),a.jsx("input",{type:"number",value:p,onChange:j=>m(j.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Valor investido",min:"1"})]}),a.jsxs("div",{className:"bg-blue-900 bg-opacity-20 px-3 py-2 rounded-md flex items-center",children:[a.jsx(oS,{className:"w-4 h-4 text-blue-400 mr-2"}),a.jsxs("span",{className:"text-blue-300 font-medium",children:["ROI: ",x.roi.toFixed(2),"%"]})]})]})]})}),a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tipo de Grfico"}),a.jsxs("select",{value:n,onChange:j=>s(j.target.value),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"resultado",children:"Evoluo do Resultado"}),a.jsx("option",{value:"drawdown",children:"Drawdown"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Granularidade"}),a.jsxs("select",{value:i,onChange:j=>o(j.target.value),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"trade",children:"Trade por Trade"}),a.jsx("option",{value:"daily",children:"Dirio"}),a.jsx("option",{value:"weekly",children:"Semanal"}),a.jsx("option",{value:"monthly",children:"Mensal"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Mdia Mvel"}),a.jsxs("select",{value:l,onChange:j=>c(j.target.value),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"nenhuma",children:"Nenhuma"}),a.jsx("option",{value:"9",children:"MM 9 perodos"}),a.jsx("option",{value:"20",children:"MM 20 perodos"}),a.jsx("option",{value:"50",children:"MM 50 perodos"}),a.jsx("option",{value:"200",children:"MM 200 perodos"}),a.jsx("option",{value:"2000",children:"MM 2000 perodos"})]})]})]})}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[r!=null&&r["Performance Metrics"]?a.jsx("div",{className:"text-center text-gray-400 mb-4",children:n==="resultado"?`Evoluo ${i==="trade"?"por Trade":i==="daily"?"Diria":i==="weekly"?"Semanal":"Mensal"} (${x.pontosComDados} pontos) - Resultado Total: R$ ${x.resultado.toLocaleString("pt-BR",{minimumFractionDigits:2})}`:`Drawdown ${i==="trade"?"por Trade":i==="daily"?"Dirio":i==="weekly"?"Semanal":"Mensal"} (${x.pontosComDados} pontos) - Mximo: R$ ${x.maxDrawdown.toLocaleString("pt-BR",{minimumFractionDigits:2})} (${x.maxDrawdownPercent.toFixed(2)}%)`}):a.jsx("div",{className:"text-center text-gray-400 mb-4",children:"Nenhum dado de backtest disponvel"}),y.length>0?a.jsx("div",{className:"h-64",children:a.jsx(gW,{width:"100%",height:"100%",children:n==="resultado"?a.jsxs(YN,{data:v,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"equityGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:.8}),a.jsx("stop",{offset:"50%",stopColor:"#3B82F6",stopOpacity:.6}),a.jsx("stop",{offset:"100%",stopColor:"#1E40AF",stopOpacity:.2})]})}),a.jsx(Ex,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(fh,{dataKey:"date",stroke:"#9CA3AF",fontSize:12,tickFormatter:w}),a.jsx(hh,{stroke:"#9CA3AF",fontSize:12,tickFormatter:j=>j>=1e3?`R$ ${(j/1e3).toFixed(1)}k`:`R$ ${j.toFixed(0)}`}),a.jsx(gN,{content:a.jsx(b,{})}),a.jsx(dh,{type:"monotone",dataKey:"saldo",stroke:"#10B981",strokeWidth:2,fill:"url(#equityGradient)",name:"Saldo Cumulativo"}),l!=="nenhuma"&&a.jsx(Yb,{type:"monotone",dataKey:"saldoMA",stroke:"#FBBF24",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:`Mdia Mvel ${l}`})]}):a.jsxs(YN,{data:v,children:[a.jsx(Ex,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(fh,{dataKey:"date",stroke:"#9CA3AF",fontSize:12,tickFormatter:w}),a.jsx(hh,{stroke:"#9CA3AF",fontSize:12,tickFormatter:j=>j>=1e3?`R$ ${(j/1e3).toFixed(1)}k`:`R$ ${j.toFixed(0)}`,domain:[0,"dataMax"]}),a.jsx(gN,{content:a.jsx(b,{})}),a.jsx(dh,{type:"monotone",dataKey:"drawdown",stroke:"#EF4444",fill:"#EF4444",fillOpacity:.3,name:"Drawdown"})]})})}):a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500",children:[n==="resultado"?a.jsx(YD,{className:"w-16 h-16 text-gray-600 mx-auto mb-2"}):a.jsx($o,{className:"w-16 h-16 text-gray-600 mx-auto mb-2"}),a.jsxs("p",{children:["Nenhum dado disponvel para ",i]})]})})]}),a.jsx("div",{className:"mt-4 p-3 bg-gray-700 rounded-lg",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-300",children:"Legenda"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 bg-gradient-to-b from-green-500 to-blue-600 rounded-full mr-2"}),a.jsx("span",{className:"text-sm text-gray-400",children:n==="resultado"?`Saldo ${i==="trade"?"por Trade":i==="daily"?"Dirio":i==="weekly"?"Semanal":"Mensal"}`:"Drawdown"})]}),l!=="nenhuma"&&n==="resultado"&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full mr-2"}),a.jsxs("span",{className:"text-sm text-gray-400",children:["Mdia Mvel ",l]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Resultado Total"}),a.jsxs("p",{className:`text-lg font-medium ${x.resultado>=0?"text-green-400":"text-red-400"}`,children:["R$ ",x.resultado.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"DD Mximo"}),a.jsxs("p",{className:"text-lg font-medium text-red-400",children:["R$ ",x.maxDrawdown.toLocaleString("pt-BR",{minimumFractionDigits:2}),a.jsxs("span",{className:"text-sm text-gray-400 ml-1",children:["(",x.maxDrawdownPercent.toFixed(2),"%)"]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"DD Mdio"}),a.jsxs("p",{className:"text-lg font-medium text-orange-400",children:["R$ ",x.avgDrawdown.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Fator de Lucro"}),a.jsx("p",{className:`text-lg font-medium ${x.fatorLucro>=1?"text-green-400":"text-red-400"}`,children:x.fatorLucro.toFixed(3)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Win Rate"}),a.jsxs("p",{className:"text-lg font-medium text-blue-400",children:[x.winRate.toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"ROI"}),a.jsxs("p",{className:`text-lg font-medium ${x.roi>=0?"text-green-400":"text-red-400"}`,children:[x.roi.toFixed(2),"%"]})]})]})]})})]})]})}const JN={"PIB EUA":["2022-04-28","2022-07-28","2022-10-27","2023-01-26","2023-04-27","2023-07-27","2023-10-26","2025-06-17","2024-01-25","2024-04-25","2024-07-25","2024-10-30","2025-01-30","2025-04-30","2025-07-30","2025-10-30","2026-01-29","2026-04-29","2026-07-29","2026-10-28","2027-01-28","2027-04-28","2027-07-28","2027-10-27","2028-01-27"],"PIB Brasil":["2022-06-02","2022-09-01","2022-12-01","2023-03-02","2023-06-01","2023-09-01","2023-12-05","2024-03-01","2024-06-04","2024-09-02","2024-12-02","2025-03-07","2025-06-02","2025-09-01","2025-12-01","2026-03-02","2026-06-01","2026-09-01","2026-12-01","2027-03-02","2027-06-01","2027-09-01","2027-12-01"],"Vespera de Feriados":["2022-03-28","2022-04-14","2022-06-15","2023-04-06","2023-06-07","2024-03-28","2024-05-29","2025-04-17","2025-06-18","2026-04-02","2026-06-03","2027-03-25","2027-06-23","2022-04-20","2022-04-30","2022-09-06","2022-10-11","2022-11-01","2022-11-14","2022-12-24","2023-04-20","2023-04-30","2023-09-06","2023-10-11","2023-11-01","2023-11-14","2023-12-24","2024-04-20","2024-04-30","2024-09-06","2024-10-11","2024-11-01","2024-11-14","2024-12-24","2025-04-20","2025-04-30","2025-09-06","2025-10-11","2025-11-01","2025-11-14","2025-12-24","2026-04-20","2026-04-30","2026-09-06","2026-10-11","2026-11-01","2026-11-14","2026-12-24","2027-04-20","2027-04-30","2027-09-06","2027-10-11","2027-11-01","2027-11-14","2027-12-24"],"Vencimento Dlar Futuro":["2022-01-03","2022-02-01","2022-03-01","2022-04-01","2022-05-02","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-03","2022-11-01","2022-12-01","2023-01-02","2023-02-01","2023-03-01","2023-04-03","2023-05-01","2023-06-01","2023-07-03","2023-08-01","2023-09-01","2023-10-02","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-03","2024-07-01","2024-08-01","2024-09-02","2024-10-01","2024-11-01","2024-12-02","2025-01-01","2025-02-03","2025-03-03","2025-04-01","2025-05-01","2025-06-02","2025-07-01","2025-08-01","2025-09-01","2025-10-01","2025-11-03","2025-12-01"],"Vencimento WIN Futuro":["2022-02-16","2022-04-13","2022-06-15","2022-08-17","2022-10-12","2022-12-14","2023-02-15","2023-04-12","2023-06-14","2023-08-16","2023-10-18","2023-12-13","2024-02-14","2024-04-17","2024-06-12","2024-08-14","2024-10-16","2024-12-18","2025-02-12","2025-04-16","2025-06-18","2025-08-13","2025-10-15","2025-12-17","2026-02-18","2026-04-15","2026-06-17","2026-08-12","2026-10-14","2026-12-16"],"Vencimento Opes Bovespa":["2022-01-21","2022-02-18","2022-03-18","2022-04-15","2022-05-20","2022-06-17","2022-07-15","2022-08-19","2022-09-16","2022-10-21","2022-11-18","2022-12-16","2023-01-20","2023-02-17","2023-03-17","2023-04-21","2023-05-19","2023-06-16","2023-07-21","2023-08-18","2023-09-15","2023-10-20","2023-11-17","2023-12-15","2024-01-19","2024-02-16","2024-03-15","2024-04-19","2024-05-17","2024-06-21","2024-07-19","2024-08-16","2024-09-20","2024-10-18","2024-11-15","2024-12-20","2025-01-17","2025-02-21","2025-03-21","2025-04-18","2025-05-16","2025-06-20","2025-07-18","2025-08-15","2025-09-19","2025-10-17","2025-11-21","2025-12-19"],"Super Quartas (Fed + Copom)":["2022-03-16","2022-05-04","2022-09-21","2023-02-01","2023-03-22","2023-05-03","2023-09-20","2023-11-01","2023-12-13","2024-01-31","2024-03-20","2024-07-31","2024-09-18","2025-01-29","2025-03-19","2025-05-07","2025-06-18","2025-07-30","2025-09-17","2025-12-10","2026-01-28","2026-03-18","2026-04-29","2026-06-17","2026-09-16","2026-12-09","2027-01-27"],"Payroll EUA":["2022-01-07","2022-02-04","2022-03-04","2022-04-01","2022-05-06","2022-06-03","2022-07-08","2022-08-05","2022-09-02","2022-10-07","2022-11-04","2022-12-02","2023-01-06","2023-02-03","2023-03-03","2023-04-07","2023-05-05","2023-06-02","2023-07-07","2023-08-04","2023-09-01","2023-10-06","2023-11-03","2023-12-01","2024-01-05","2024-02-02","2024-03-01","2024-04-05","2024-05-03","2024-06-07","2024-07-05","2024-08-02","2024-09-06","2024-10-04","2024-11-01","2024-12-06","2025-01-03","2025-02-07","2025-03-07","2025-04-04","2025-05-02","2025-06-06","2025-07-04","2025-08-01","2025-09-05","2025-10-03","2025-11-07","2025-12-05"],"FOMC (Fed)":["2022-01-25","2022-01-26","2022-03-15","2022-03-16","2022-05-03","2022-05-04","2022-06-14","2022-06-15","2022-07-26","2022-07-27","2022-09-20","2022-09-21","2022-11-01","2022-11-02","2022-12-13","2022-12-14","2023-01-31","2023-02-01","2023-03-21","2023-03-22","2023-05-02","2023-05-03","2023-06-13","2023-06-14","2023-07-25","2023-07-26","2023-09-19","2023-09-20","2023-10-31","2023-11-01","2023-12-12","2023-12-13","2024-01-30","2024-01-31","2024-03-19","2024-03-20","2024-04-30","2024-05-01","2024-06-11","2024-06-12","2024-07-30","2024-07-31","2024-09-17","2024-09-18","2024-11-06","2024-11-07","2024-12-17","2024-12-18","2025-01-28","2025-01-29","2025-03-18","2025-03-19","2025-05-06","2025-05-07","2025-06-17","2025-06-18","2025-07-29","2025-07-30","2025-09-16","2025-09-17","2025-10-28","2025-10-29","2025-12-09","2025-12-10"]},uo=e=>{if(!e)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(typeof e=="string"&&e.includes("T"))return e.split("T")[0];if(typeof e=="string"&&e.includes(" ")){const t=e.split(" ")[0];if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t}if(e instanceof Date)return e.toISOString().split("T")[0];if(/^\d{2}\/\d{2}\/\d{4}$/.test(e)){const[t,r,n]=e.split("/");return`${n}-${r.padStart(2,"0")}-${t.padStart(2,"0")}`}if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)){const[t,r,n]=e.split("/");return`${n}-${t.padStart(2,"0")}-${r.padStart(2,"0")}`}try{const t=new Date(e);if(!isNaN(t.getTime()))return t.toISOString().split("T")[0]}catch{console.warn("Data invlida:",e)}return null},eJ=e=>{if(!e||!Array.isArray(e))return console.warn("Dados de trades invlidos:",e),[];if(console.log("=== DEBUG EVENTOS ESPECIAIS ==="),console.log("Total de trades recebidos:",e.length),e.length>0){console.log("Primeiro trade:",e[0]),console.log("ltimo trade:",e[e.length-1]);const i=e[0],o=Object.keys(i).filter(l=>l.toLowerCase().includes("date")||l.toLowerCase().includes("data")||l.toLowerCase().includes("timestamp")||l.toLowerCase().includes("abertura")||l.toLowerCase().includes("entry"));console.log("Campos de data encontrados:",o)}const t=new Map;Object.entries(JN).forEach(([i,o])=>{o.forEach(l=>{const c=uo(l);c&&(t.has(c)||t.set(c,[]),t.get(c).push(i))})}),console.log("Datas especiais mapeadas:",t.size);const r={};Object.keys(JN).forEach(i=>{r[i]={name:i,trades:[],totalTrades:0,winningTrades:0,losingTrades:0,totalProfit:0,totalLoss:0,result:0}});let n=0,s=0;return e.forEach((i,o)=>{const l=[i.date,i.Date,i.data,i.Abertura,i.Data,i.timestamp,i.entry_date,i.entry_time,i.open_time,i.datetime];let c=null;for(const u of l)if(u&&(c=uo(u),c))break;if(o<5&&console.log(`Trade ${o+1}:`,{originalDate:l.find(u=>u),normalizedDate:c,isSpecialDate:c&&t.has(c)}),n++,c&&t.has(c)){const u=t.get(c);s++,console.log(` Trade em evento especial - Data: ${c}, Eventos: ${u.join(", ")}`);const d=[i.pnl,i.PnL,i.resultado,i["Res. Operao"],i.profit,i.dailyPnL,i.return,i.net_pnl,i.realized_pnl,i.total_pnl];let f=0;for(const h of d)if(h!=null){const p=parseFloat(h);if(!isNaN(p)){f=p;break}}isNaN(f)||u.forEach(h=>{const p=r[h];p.trades.push({date:c,result:f,...i}),p.totalTrades++,p.result+=f,f>0?(p.winningTrades++,p.totalProfit+=f):f<0&&(p.losingTrades++,p.totalLoss+=Math.abs(f))})}}),console.log(`Trades processados: ${n}`),console.log(`Trades com eventos especiais: ${s}`),console.log("=== FIM DEBUG ==="),Object.values(r).filter(i=>i.totalTrades>0).map(i=>{const o=i.totalTrades>0?i.winningTrades/i.totalTrades*100:0;let l=0;return i.totalLoss>0&&i.totalProfit>0?l=i.totalProfit/i.totalLoss:i.totalProfit>0&&i.totalLoss===0?l=99.99:i.totalProfit===0&&i.totalLoss>0&&(l=0),{name:i.name,date:`${i.totalTrades} trades`,impact:i.result>0?"Positivo":"Negativo",profitFactor:Number(l.toFixed(2)),winRate:Number(o.toFixed(1)),trades:i.totalTrades,result:Number(i.result.toFixed(2))}}).sort((i,o)=>Math.abs(o.result)-Math.abs(i.result))};function tJ({showSpecialEvents:e,setShowSpecialEvents:t,tadesData:r}){var c,u,d,f,h,p,m,y,v,x,b,w,j,N,_,k,S,C;const n=r.trades;console.log("Dados recebidos para eventos especiais:",r);const s=eJ(n),i=s.reduce((P,E)=>P+E.trades,0),o=s.reduce((P,E)=>P+E.result,0),l=s.length>0?s.reduce((P,E)=>P+E.winRate,0)/s.length:0;return a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Re,{className:"w-5 h-5 text-yellow-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Eventos Especiais"}),i>0&&a.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-600 text-blue-100 text-xs rounded",children:[i," trades"]})]}),a.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]}),e&&a.jsx("div",{className:"p-4",children:s.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(xn,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-400",children:"Nenhum trade encontrado em dias de eventos especiais"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total de trades analisados: ",(n==null?void 0:n.length)||0]}),(n==null?void 0:n.length)>0&&a.jsxs("div",{className:"text-xs text-gray-600 mt-2 p-3 bg-gray-700 rounded",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-left",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Primeiro trade:"}),a.jsx("br",{}),"Data: ",uo(((c=n[0])==null?void 0:c.entry_date)||((u=n[0])==null?void 0:u.date)||((d=n[0])==null?void 0:d.Date))||"N/A",a.jsx("br",{}),"PnL: R$ ",((f=n[0])==null?void 0:f.pnl)||((h=n[0])==null?void 0:h.PnL)||"N/A",a.jsx("br",{}),"Smbolo: ",((p=n[0])==null?void 0:p.symbol)||((m=n[0])==null?void 0:m.Symbol)||"N/A"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"ltimo trade:"}),a.jsx("br",{}),"Data: ",uo(((y=n[n.length-1])==null?void 0:y.entry_date)||((v=n[n.length-1])==null?void 0:v.date)||((x=n[n.length-1])==null?void 0:x.Date))||"N/A",a.jsx("br",{}),"PnL: R$ ",((b=n[n.length-1])==null?void 0:b.pnl)||((w=n[n.length-1])==null?void 0:w.PnL)||"N/A",a.jsx("br",{}),"Direo: ",((j=n[n.length-1])==null?void 0:j.direction)||((N=n[n.length-1])==null?void 0:N.Direction)||"N/A"]})]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-600",children:[a.jsx("strong",{children:"Perodo analisado:"})," ",uo(((_=n[0])==null?void 0:_.entry_date)||((k=n[0])==null?void 0:k.date))," a ",uo(((S=n[n.length-1])==null?void 0:S.entry_date)||((C=n[n.length-1])==null?void 0:C.date)),a.jsx("br",{}),a.jsx("strong",{children:"Eventos prximos a 2024-09-12:"})," Payroll EUA (2024-09-06), FOMC (2024-09-17, 2024-09-18), Super Quarta (2024-09-18), Vencimento Opes (2024-09-20)",a.jsx("br",{}),a.jsx("strong",{children:"Eventos prximos a 2025-06-17:"})," Vencimento WIN (2025-06-18), FOMC (2025-06-17, 2025-06-18), Super Quarta (2025-06-18), Vencimento Opes (2025-06-20)"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:i}),a.jsx("div",{className:"text-xs text-gray-400",children:"Total Trades"})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg text-center",children:[a.jsxs("div",{className:`text-2xl font-bold ${o>=0?"text-green-400":"text-red-400"}`,children:[o>=0?"+":"","R$ ",o.toFixed(0)]}),a.jsx("div",{className:"text-xs text-gray-400",children:"Resultado Total"})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[l.toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-gray-400",children:"Taxa Mdia"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-700",children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Evento"}),a.jsx("th",{className:"px-4 py-2 text-center",children:"Fator de Lucro"}),a.jsx("th",{className:"px-4 py-2 text-center",children:"Taxa de Acerto"}),a.jsx("th",{className:"px-4 py-2 text-right",children:"Resultado"}),a.jsx("th",{className:"px-4 py-2 text-center",children:"Trades"})]})}),a.jsx("tbody",{children:s.map((P,E)=>a.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center",children:[P.result>0?a.jsx(Mt,{className:"w-4 h-4 text-green-400 mr-2"}):a.jsx(xi,{className:"w-4 h-4 text-red-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:P.name}),a.jsx("div",{className:"text-xs text-gray-400",children:P.date})]})]})}),a.jsx("td",{className:"px-4 py-2 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${P.profitFactor>=1.5?"bg-green-900 text-green-300":P.profitFactor>=1?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:P.profitFactor===99.99?"99.99+":P.profitFactor.toFixed(2)})}),a.jsx("td",{className:"px-4 py-2 text-center",children:a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${P.winRate>=60?"bg-green-900 text-green-300":P.winRate>=45?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:[P.winRate.toFixed(1),"%"]})}),a.jsx("td",{className:"px-4 py-2 text-right",children:a.jsxs("div",{className:`font-medium ${P.result>0?"text-green-400":"text-red-400"}`,children:[P.result>0?"+":"","R$ ",P.result.toFixed(2)]})}),a.jsx("td",{className:"px-4 py-2 text-center",children:a.jsx("span",{className:"px-2 py-1 bg-gray-600 text-gray-300 rounded text-xs",children:P.trades})})]},E))})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-700 rounded-lg",children:[a.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[a.jsx(Re,{className:"w-4 h-4 text-yellow-400 mr-2"}),"Insights dos Eventos Especiais"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-300 mb-1",children:"Melhor Evento:"}),a.jsx("div",{className:"text-green-400 font-medium",children:s.length>0?s[0].name:"N/A"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-300 mb-1",children:"Eventos com Resultado Positivo:"}),a.jsxs("div",{className:"text-blue-400 font-medium",children:[s.filter(P=>P.result>0).length," de ",s.length]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-300 mb-1",children:"Maior Impacto:"}),a.jsx("div",{className:`font-medium ${s.length>0&&s[0].result>0?"text-green-400":"text-red-400"}`,children:s.length>0?`R$ ${Math.abs(s[0].result).toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-300 mb-1",children:"Volatilidade:"}),a.jsx("div",{className:"text-yellow-400 font-medium",children:i>0?"Alta":"N/A"})]})]})]})]})})]})}function rJ({showCorrelation:e,setShowCorrelation:t,backtestResult:r}){const[n,s]=g.useState("resultado"),i=r==null?void 0:r.dateDirectionCorrelation,o=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d||0),l=d=>{try{return new Date(d).toLocaleDateString("pt-BR")}catch{return d}},c=()=>{var h;if(!(i!=null&&i.correlacao_data_resultado))return null;const{resumo:d,detalhes:f}=i.correlacao_data_resultado;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-red-900 bg-opacity-20 p-4 rounded-lg border border-red-700",children:a.jsxs("div",{className:"text-center",children:[a.jsx(xi,{className:"w-8 h-8 text-red-400 mx-auto mb-2"}),a.jsxs("div",{className:"text-2xl font-bold text-red-400",children:[d.resposta_pergunta.quando_uma_perde_outra_tambem_perde_pct,"%"]}),a.jsx("div",{className:"text-sm text-red-300",children:"Quando uma perde, a outra tambm perde"})]})}),a.jsx("div",{className:"bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Mt,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),a.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[d.resposta_pergunta.quando_uma_ganha_outra_tambem_ganha_pct,"%"]}),a.jsx("div",{className:"text-sm text-green-300",children:"Quando uma ganha, a outra tambm ganha"})]})}),a.jsx("div",{className:"bg-blue-900 bg-opacity-20 p-4 rounded-lg border border-blue-700",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Fd,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),a.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[d.resposta_pergunta.dias_com_diversificacao_pct,"%"]}),a.jsx("div",{className:"text-sm text-blue-300",children:"Dias com diversificao (resultados opostos)"})]})})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Interpretao"}),a.jsx("div",{className:"text-lg font-medium text-yellow-400 mb-2",children:d.interpretacao}),a.jsxs("div",{className:"text-sm text-gray-300",children:[d.interpretacao==="Boa diversificao"&&" As estratgias se complementam bem. Usar ambas reduz o risco.",d.interpretacao==="Alta correlao"&&" As estratgias so muito similares. Pouco benefcio em diversificao.",d.interpretacao==="Correlao moderada"&&" H algum benefcio de diversificao, mas no  muito alto."]}),a.jsxs("div",{className:"text-sm text-gray-400 mt-2",children:["Analisados ",d.total_dias_analisados," dias com operaes simultneas."]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium mb-4",children:"ltimos Dias Analisados"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-700",children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Data"}),Object.keys(((h=f[0])==null?void 0:h.estrategias)||{}).map(p=>a.jsx("th",{className:"px-3 py-2 text-center",children:p},p)),a.jsx("th",{className:"px-3 py-2 text-center",children:"Correlao"})]})}),a.jsx("tbody",{children:f.slice(0,10).map((p,m)=>a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"px-3 py-2",children:l(p.data)}),Object.entries(p.estrategias).map(([y,v])=>a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:`text-xs font-medium ${v.status==="ganhou"?"text-green-400":v.status==="perdeu"?"text-red-400":"text-gray-400"}`,children:o(v.resultado_dia)}),a.jsxs("div",{className:"text-xs text-gray-500",children:[v.num_operacoes," ops"]})]})},y)),a.jsxs("td",{className:"px-3 py-2 text-center",children:[p.analise.todas_ganharam&&a.jsx("span",{className:"text-green-400 text-xs font-medium",children:"Todas +"}),p.analise.todas_perderam&&a.jsx("span",{className:"text-red-400 text-xs font-medium",children:"Todas -"}),p.analise.resultados_mistos&&a.jsx("span",{className:"text-blue-400 text-xs font-medium",children:"Diversif."})]})]},m))})]})})]})]})},u=()=>{var h;if(!(i!=null&&i.correlacao_data_direcao))return null;const{resumo:d,detalhes:f}=i.correlacao_data_direcao;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-medium mb-3",children:"Operaes Simultneas"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{className:"font-medium",children:d.total_operacoes_simultaneas})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-green-400",children:"Todas ganharam:"}),a.jsx("span",{className:"text-green-400 font-medium",children:d.todas_ganharam_simultaneo})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-red-400",children:"Todas perderam:"}),a.jsx("span",{className:"text-red-400 font-medium",children:d.todas_perderam_simultaneo})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-400",children:"Resultados mistos:"}),a.jsx("span",{className:"text-blue-400 font-medium",children:d.resultados_mistos})]})]})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-medium mb-3",children:"Percentuais"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-green-400",children:"Correlao positiva:"}),a.jsxs("span",{className:"text-green-400 font-medium",children:[d.pct_correlacao_positiva,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-red-400",children:"Correlao negativa:"}),a.jsxs("span",{className:"text-red-400 font-medium",children:[d.pct_correlacao_negativa,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-400",children:"Diversificao:"}),a.jsxs("span",{className:"text-blue-400 font-medium",children:[d.pct_diversificacao,"%"]})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium mb-4",children:"Operaes por Data e Direo"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-700",children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Data"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Direo"}),Object.keys(((h=f[0])==null?void 0:h.estrategias)||{}).map(p=>a.jsx("th",{className:"px-3 py-2 text-center",children:p},p)),a.jsx("th",{className:"px-3 py-2 text-center",children:"Resultado"})]})}),a.jsx("tbody",{children:f.slice(0,15).map((p,m)=>a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"px-3 py-2",children:l(p.data)}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsxs("div",{className:"flex items-center justify-center",children:[p.direcao==="COMPRA"?a.jsx(Fd,{className:"w-4 h-4 text-green-400"}):a.jsx(eS,{className:"w-4 h-4 text-red-400"}),a.jsx("span",{className:"ml-1 text-xs",children:p.direcao})]})}),Object.entries(p.estrategias).map(([y,v])=>a.jsx("td",{className:"px-3 py-2 text-center",children:v.operou?a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:`text-xs font-medium ${v.status==="ganhou"?"text-green-400":v.status==="perdeu"?"text-red-400":"text-gray-400"}`,children:o(v.resultado)}),a.jsxs("div",{className:"text-xs text-gray-500",children:[v.num_operacoes," ops"]})]}):a.jsx("span",{className:"text-gray-500 text-xs",children:"No operou"})},y)),a.jsx("td",{className:"px-3 py-2 text-center",children:p.analise.multiplas_estrategias?a.jsxs(a.Fragment,{children:[p.analise.todas_ganharam&&a.jsx("span",{className:"text-green-400 text-xs font-medium",children:"Todas +"}),p.analise.todas_perderam&&a.jsx("span",{className:"text-red-400 text-xs font-medium",children:"Todas -"}),p.analise.resultados_mistos&&a.jsx("span",{className:"text-yellow-400 text-xs font-medium",children:"Mistos"})]}):a.jsx("span",{className:"text-gray-500 text-xs",children:"1 estratgia"})})]},m))})]})})]})]})};return a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(xn,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsxs("h2",{className:"text-lg font-medium",children:["Correlao: Data + Direo + Resultado",i&&a.jsx("span",{className:"ml-2 text-sm text-green-400",children:" Disponvel"})]})]}),a.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]}),e&&a.jsx("div",{className:"p-4",children:i?a.jsxs("div",{children:[a.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-700 p-1 rounded-lg",children:[a.jsxs("button",{onClick:()=>s("resultado"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${n==="resultado"?"bg-gray-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:[a.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Por Resultado"]}),a.jsxs("button",{onClick:()=>s("direcao"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${n==="direcao"?"bg-gray-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:[a.jsx(Fd,{className:"w-4 h-4 mr-2"}),"Por Direo"]})]}),n==="resultado"&&c(),n==="direcao"&&u()]}):a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg text-center",children:[a.jsx(iS,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Anlise de Correlao por Data e Direo"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Faa upload de 2 ou mais arquivos CSV para anlise detalhada"}),a.jsxs("div",{className:"text-sm text-gray-300 space-y-2",children:[a.jsx("p",{children:a.jsx("strong",{children:"O que ser analisado:"})}),a.jsxs("ul",{className:"text-left inline-block space-y-1",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Mesma data + direo:"})," Operaes simultneas de compra/venda"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Correlao de resultado:"})," Quando uma perde, a outra tambm perde?"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Benefcio de diversificao:"})," Quanto as estratgias se complementam"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Padres temporais:"})," Dias com ganhos/perdas simultneos"]})]})]})]})})]})}function nJ({showSaveModal:e,setShowSaveModal:t,saveName:r,setSaveName:n,confirmSaveAnalysis:s}){return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Salvar Anlise"}),a.jsx("input",{type:"text",placeholder:"Nome da anlise...",value:r,onChange:i=>n(i.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4",autoFocus:!0}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{t(!1),n("")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Cancelar"}),a.jsx("button",{onClick:s,disabled:!r.trim(),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar"})]})]})}):null}function sJ({showLoadModal:e,setShowLoadModal:t,savedAnalyses:r,handleRenameAnalysis:n,handleLoadAnalysis:s,handleDeleteAnalysis:i}){const[o,l]=g.useState("");if(!e)return null;const c=r.filter(u=>u.name.toLowerCase().includes(o.toLowerCase()));return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Carregar Anlise"}),a.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white",children:a.jsx(Ie,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(uu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar anlises...",value:o,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),c.length===0?a.jsx("div",{className:"text-center py-8 text-gray-400",children:o?"Nenhuma anlise encontrada para esta busca":"Nenhuma anlise salva encontrada"}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(u=>a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h4",{className:"font-medium",children:u.name}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>n(u.id,u.name),className:"p-1.5 hover:bg-gray-600 rounded",title:"Renomear",children:a.jsx(n6,{className:"w-4 h-4 text-blue-400"})}),a.jsx("button",{onClick:()=>i(u.id),className:"p-1.5 hover:bg-gray-600 rounded",title:"Excluir",children:a.jsx(cc,{className:"w-4 h-4 text-red-400"})})]})]}),a.jsxs("div",{className:"text-sm text-gray-400 mb-3",children:[a.jsxs("div",{children:["Criado: ",new Date(u.createdAt).toLocaleDateString()]}),a.jsxs("div",{children:["Trades: ",u.totalTrades||"N/A"]})]}),a.jsx("button",{onClick:()=>s(u),className:"mt-auto w-full py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-sm",children:"Carregar"})]},u.id))})]})})}function aJ({showRenameModal:e,setShowRenameModal:t,renameName:r,setRenameName:n,confirmRenameAnalysis:s,setRenameAnalysisId:i}){return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Renomear Anlise"}),a.jsx("input",{type:"text",placeholder:"Novo nome...",value:r,onChange:o=>n(o.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4",autoFocus:!0}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{t(!1),i(null),n("")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Cancelar"}),a.jsx("button",{onClick:s,disabled:!r.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Renomear"})]})]})}):null}function iJ({showEmotionalProfile:e,setShowEmotionalProfile:t,emotionalMetrics:r={stopDisciplineIndex:85.7,dailyLossDisciplineIndex:72.3,leverageDisciplineIndex:91.2,furyProbability:8.5}}){var i,o,l,c,u,d,f,h,p,m,y,v,x,b,w,j;const s=(()=>{if(!(r!=null&&r.resumo_comparativo))return 0;const N=r.resumo_comparativo,_=[];if(N.disciplina_operacao!==void 0&&_.push(N.disciplina_operacao),N.disciplina_dia!==void 0&&_.push(N.disciplina_dia),N.disciplina_alavancagem!==void 0&&N.disciplina_alavancagem!==null&&_.push(N.disciplina_alavancagem),N.probabilidade_furia!==void 0){const k=100-N.probabilidade_furia;_.push(k)}return _.length>0?_.reduce((k,S)=>k+S,0)/_.length:0})();return a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(U1,{className:"w-5 h-5 text-purple-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Perfil Emocional"})]}),a.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]}),e&&a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"bg-blue-600 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Ic,{className:"w-5 h-5 text-red-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"ndice Emocional Total"})]}),a.jsxs("p",{className:`text-2xl font-bold ${s>=90?"text-green-400":s>=75?"text-yellow-400":s>=60?"text-orange-400":"text-red-400"}`,children:[s.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Risco de trading emocional: ",s>=90?"Muito Baixo":s>=75?"Baixo":s>=60?"Mdio":"Alto"]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(cS,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"ndice Disciplina Stop"})]}),a.jsxs("p",{className:`text-2xl font-bold ${(((i=r==null?void 0:r.disciplina_operacao)==null?void 0:i.indice_disciplina)||0)>=90?"text-green-400":(((o=r==null?void 0:r.disciplina_operacao)==null?void 0:o.indice_disciplina)||0)>=70?"text-yellow-400":"text-red-400"}`,children:[((c=(l=r==null?void 0:r.disciplina_operacao)==null?void 0:l.indice_disciplina)==null?void 0:c.toFixed(2))||"N/A","%"]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Disciplina no uso de stop loss"})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(xi,{className:"w-5 h-5 text-orange-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"ndice Disciplina Perda/Dia"})]}),a.jsxs("p",{className:`text-2xl font-bold ${(((u=r==null?void 0:r.disciplina_dia)==null?void 0:u.indice_disciplina_diaria)||0)>=90?"text-green-400":(((d=r==null?void 0:r.disciplina_dia)==null?void 0:d.indice_disciplina_diaria)||0)>=70?"text-yellow-400":"text-red-400"}`,children:[((h=(f=r==null?void 0:r.disciplina_dia)==null?void 0:f.indice_disciplina_diaria)==null?void 0:h.toFixed(2))||"N/A","%"]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Controle de perdas dirias"})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(jf,{className:"w-5 h-5 text-cyan-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"ndice Disciplina Alavancagem"})]}),a.jsxs("p",{className:`text-2xl font-bold ${(((p=r==null?void 0:r.disciplina_alavancagem)==null?void 0:p.indice_disciplina_alavancagem)||0)>=90?"text-green-400":(((m=r==null?void 0:r.disciplina_alavancagem)==null?void 0:m.indice_disciplina_alavancagem)||0)>=70?"text-yellow-400":"text-red-400"}`,children:[((v=(y=r==null?void 0:r.disciplina_alavancagem)==null?void 0:y.indice_disciplina_alavancagem)==null?void 0:v.toFixed(2))||"N/A","%"]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Controle de alavancagem"})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Ic,{className:"w-5 h-5 text-red-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"Probabilidade de Fria"})]}),a.jsxs("p",{className:`text-2xl font-bold ${(((x=r==null?void 0:r.resumo_comparativo)==null?void 0:x.percentual_dias_furia)||0)<=5?"text-green-400":(((b=r==null?void 0:r.resumo_comparativo)==null?void 0:b.percentual_dias_furia)||0)<=15?"text-yellow-400":"text-red-400"}`,children:[((j=(w=r==null?void 0:r.resumo_comparativo)==null?void 0:w.percentual_dias_furia)==null?void 0:j.toFixed(2))||"N/A","%"]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Risco de trading emocional"})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-purple-900 bg-opacity-20 border border-purple-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(U1,{className:"w-5 h-5 text-purple-400 mr-3 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-purple-300 mb-2",children:"Interpretao da Anlise Emocional"}),a.jsxs("ul",{className:"text-sm text-purple-200 space-y-1",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Disciplina Stop:"})," Mede o cumprimento das regras de stop loss"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Disciplina Perda/Dia:"})," Avalia o controle de perdas mximas dirias"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Disciplina Alavancagem:"})," Verifica o uso consistente de alavancagem"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Probabilidade de Fria:"})," Indica tendncia a trading emocional"]})]})]})]})})]})]})}function oJ({tradesData:e}){const[t,r]=g.useState(null),[n,s]=g.useState(!1),[i,o]=g.useState(null);g.useEffect(()=>{e&&l()},[e]);const l=async()=>{if(e){s(!0),o(null);try{const u=await fetch("http://localhost:5002/api/trades/metrics-from-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!u.ok){const f=await u.json();throw new Error(f.error||"Erro ao calcular mtricas")}const d=await u.json();r(d)}catch(u){o(u instanceof Error?u.message:"Erro desconhecido")}finally{s(!1)}}},c=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u);return n?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(u=>a.jsx("div",{className:"bg-gray-800 rounded-lg p-6 shadow-md",children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(Cg,{className:"w-6 h-6 animate-spin text-blue-400"})})},u))}):i?a.jsx("div",{className:"bg-red-900 bg-opacity-50 border border-red-700 rounded-lg p-4",children:a.jsxs("div",{className:"text-red-400",children:["Erro ao carregar mtricas: ",i]})}):t?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-900/20 to-blue-800/30 p-5 rounded-lg shadow-md border-l-4 border-blue-500",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-blue-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(Ro,{className:"w-8 h-8 text-blue-400"})}),a.jsx("h3",{className:"font-semibold text-lg text-white",children:"Mtricas Principais"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Sharpe Ratio"})]}),a.jsx("span",{className:"font-semibold text-green-400 text-lg",children:t.metricas_principais.sharpe_ratio.toFixed(2)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jf,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Fator de Recuperao"})]}),a.jsx("span",{className:"font-semibold text-green-400 text-lg",children:t.metricas_principais.fator_recuperacao.toFixed(2)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(xi,{className:"w-5 h-5 text-red-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Drawdown Mximo"})]}),a.jsx("span",{className:"font-semibold text-red-400 text-lg",children:t.metricas_principais.drawdown_maximo.toFixed(2)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(xn,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Dias Operados"})]}),a.jsx("span",{className:"font-semibold text-lg text-white",children:t.metricas_principais.dias_operados})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Lc,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Resultado Lquido"})]}),a.jsx("span",{className:`font-semibold text-lg ${t.metricas_principais.resultado_liquido>=0?"text-green-400":"text-red-400"}`,children:c(t.metricas_principais.resultado_liquido)})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-900/20 to-green-800/30 p-5 rounded-lg shadow-md border-l-4 border-green-500",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-green-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(gi,{className:"w-8 h-8 text-green-400"})}),a.jsx("h3",{className:"font-semibold text-lg text-white",children:"Ganhos e Perdas"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fd,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Ganho Mdio Dirio"})]}),a.jsx("span",{className:"font-semibold text-green-400 text-lg",children:c(t.ganhos_perdas.ganho_medio_diario)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(eS,{className:"w-5 h-5 text-red-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Perda Mdia Diria"})]}),a.jsx("span",{className:"font-semibold text-red-400 text-lg",children:c(t.ganhos_perdas.perda_media_diaria)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(cS,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Payoff Dirio"})]}),a.jsx("span",{className:"font-semibold text-green-400 text-lg",children:t.ganhos_perdas.payoff_diario.toFixed(2)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(QD,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Ganho Mximo Dirio"})]}),a.jsx("span",{className:"font-semibold text-green-400 text-lg",children:c(t.ganhos_perdas.ganho_maximo_diario)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(e6,{className:"w-5 h-5 text-red-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Perda Mxima Diria"})]}),a.jsx("span",{className:"font-semibold text-red-400 text-lg",children:c(t.ganhos_perdas.perda_maxima_diaria)})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/20 to-yellow-800/30 p-5 rounded-lg shadow-md border-l-4 border-yellow-500",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-yellow-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(it,{className:"w-8 h-8 text-yellow-400"})}),a.jsx("h3",{className:"font-semibold text-lg text-white",children:"Estatsticas de Operao"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jf,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Mdia Operaes/Dia"})]}),a.jsx("span",{className:"font-semibold text-lg text-white",children:t.estatisticas_operacao.media_operacoes_dia.toFixed(1)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(oS,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Taxa de Acerto Diria"})]}),a.jsxs("span",{className:"font-semibold text-green-400 text-lg",children:[t.estatisticas_operacao.taxa_acerto_diaria.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(xn,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Dias Vencedores/Perdedores"})]}),a.jsx("span",{className:"font-semibold text-lg text-white",children:t.estatisticas_operacao.dias_vencedores_perdedores})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(uS,{className:"w-5 h-5 text-red-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Dias Perdedores Consecutivos"})]}),a.jsx("span",{className:"font-semibold text-red-400 text-lg",children:t.estatisticas_operacao.dias_perdedores_consecutivos})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Dias Vencedores Consecutivos"})]}),a.jsx("span",{className:"font-semibold text-green-400 text-lg",children:t.estatisticas_operacao.dias_vencedores_consecutivos})]})]})]})]}):a.jsx("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:a.jsx("div",{className:"text-gray-400",children:"Nenhuma mtrica disponvel"})})}const lJ={trades:[{entry_date:"2024-01-15T09:30:00",pnl:500},{entry_date:"2024-01-15T10:15:00",pnl:-200},{entry_date:"2024-01-15T11:45:00",pnl:300},{entry_date:"2024-01-15T13:20:00",pnl:-150},{entry_date:"2024-01-15T14:30:00",pnl:400},{entry_date:"2024-01-15T15:45:00",pnl:250},{entry_date:"2024-01-15T16:30:00",pnl:-100},{entry_date:"2024-01-15T17:15:00",pnl:350}],statistics:{temporal:{hourly:{9:{count:1,sum:500},10:{count:1,sum:-200},11:{count:1,sum:300},13:{count:1,sum:-150},14:{count:1,sum:400},15:{count:1,sum:250},16:{count:1,sum:-100},17:{count:1,sum:350}}}}};function cJ({tradesData:e}){const[t,r]=g.useState(!0),[n,s]=g.useState([]),i=e||lJ,o=[{horario:[9,10],nome:"09:00 - 10:00 (Pr-Mercado)"},{horario:[10,12],nome:"10:00 - 12:00 (Manh)"},{horario:[12,14],nome:"12:00 - 14:00 (Almoo)"},{horario:[14,16],nome:"14:00 - 16:00 (Tarde)"},{horario:[16,19],nome:"16:00 - 18:30 (Fechamento)"}],l=m=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m),c=(m,y)=>{if(!m||m.length===0)return 0;const v=m.filter(b=>new Date(b.entry_date).getHours().toString()===y);return v.length===0?0:v.filter(b=>b.pnl>0).length/v.length*100},u=(m,y)=>{if(!m||m.length===0)return 0;const v=m.filter(w=>new Date(w.entry_date).getHours().toString()===y);if(v.length===0)return 0;const x=v.filter(w=>w.pnl>0).reduce((w,j)=>w+j.pnl,0),b=Math.abs(v.filter(w=>w.pnl<0).reduce((w,j)=>w+j.pnl,0));return b>0?x/b:x>0?2:0},d=()=>{var v,x;if(!((x=(v=i==null?void 0:i.statistics)==null?void 0:v.temporal)!=null&&x.hourly))return[];const m=i.statistics.temporal.hourly,y=i.trades||[];return Object.entries(m).map(([b,w])=>{const j=c(y,b),N=u(y,b);return{horario:`${b}h`,trades:w.count||0,winRate:j,profitFactor:N,resultado:w.sum||0}}).sort((b,w)=>parseInt(b.horario)-parseInt(w.horario))},h=(()=>{const m=d();return o.map(y=>{const v=m.filter(N=>{const _=parseInt(N.horario.replace("h",""));return _>=y.horario[0]&&_<y.horario[1]}),x=v.reduce((N,_)=>N+_.trades,0),b=v.reduce((N,_)=>N+_.resultado,0),w=x>0?v.reduce((N,_)=>N+_.winRate*_.trades,0)/x:0,j=x>0?v.reduce((N,_)=>N+_.profitFactor*_.trades,0)/x:0;return{nome:y.nome,horarios:v,totalTrades:x,totalResultado:b,avgWinRate:w,avgProfitFactor:j}}).filter(y=>y.totalTrades>0)})(),p=m=>{s(y=>y.includes(m)?y.filter(v=>v!==m):[...y,m])};return!i||h.length===0?a.jsxs("div",{className:"mb-8 mt-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-purple-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(hn,{className:"w-6 h-6 text-purple-400"})}),a.jsx("h3",{className:"font-semibold text-lg text-white",children:"Resultado por Horrio"})]}),a.jsx("div",{className:"bg-gray-700 rounded-lg p-4 text-center",children:a.jsx("p",{className:"text-gray-400",children:"Nenhum dado de horrio disponvel"})})]}):a.jsxs("div",{className:"mb-8 mt-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-purple-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(hn,{className:"w-6 h-6 text-purple-400"})}),a.jsx("h3",{className:"font-semibold text-lg text-white",children:"Resultado por Horrio"})]}),a.jsx("button",{onClick:()=>r(!t),className:"p-1.5 hover:bg-gray-700 rounded-md transition-colors",children:t?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]}),t&&a.jsx("div",{className:"overflow-x-auto bg-gray-700 rounded-lg p-4 shadow-md",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-800 rounded-lg",children:[a.jsx("th",{className:"px-4 py-3 text-left rounded-l-lg text-white",children:"Perodo"}),a.jsx("th",{className:"px-4 py-3 text-center text-white",children:"Trades"}),a.jsx("th",{className:"px-4 py-3 text-center text-white",children:"Taxa de Acerto"}),a.jsx("th",{className:"px-4 py-3 text-center text-white",children:"Fator de Lucro"}),a.jsx("th",{className:"px-4 py-3 text-right text-white",children:"Resultado"}),a.jsx("th",{className:"px-4 py-3 text-center rounded-r-lg text-white",children:"Detalhes"})]})}),a.jsx("tbody",{children:h.map((m,y)=>a.jsxs(Tt.Fragment,{children:[a.jsxs("tr",{className:"border-b border-gray-600 bg-gray-800 bg-opacity-50",children:[a.jsx("td",{className:"px-4 py-3 font-bold text-white",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(hn,{className:"w-4 h-4 mr-2 text-purple-400"}),m.nome]})}),a.jsx("td",{className:"px-4 py-3 text-center font-bold text-white",children:m.totalTrades}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${m.avgWinRate>=60?"bg-green-900 text-green-300":m.avgWinRate>=45?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:[m.avgWinRate.toFixed(1),"%"]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${m.avgProfitFactor>=1.5?"bg-green-900 text-green-300":m.avgProfitFactor>=1?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:m.avgProfitFactor.toFixed(2)})}),a.jsx("td",{className:`px-4 py-3 text-right font-bold ${m.totalResultado>0?"text-green-400":"text-red-400"}`,children:l(m.totalResultado)}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("button",{onClick:()=>p(m.nome),className:"p-1 hover:bg-gray-600 rounded transition-colors",children:a.jsx(lc,{className:`w-4 h-4 text-gray-400 transition-transform ${n.includes(m.nome)?"rotate-90":""}`})})})]}),n.includes(m.nome)&&m.horarios.map((v,x)=>a.jsxs("tr",{className:"border-b border-gray-600 bg-gray-700 bg-opacity-30 hover:bg-gray-600 hover:bg-opacity-30 transition-colors",children:[a.jsx("td",{className:"px-8 py-2 text-sm text-gray-300",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full mr-3"}),v.horario]})}),a.jsx("td",{className:"px-4 py-2 text-center text-sm text-gray-300",children:v.trades}),a.jsx("td",{className:"px-4 py-2 text-center",children:a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.winRate>=60?"bg-green-900 text-green-300":v.winRate>=45?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:[v.winRate.toFixed(1),"%"]})}),a.jsx("td",{className:"px-4 py-2 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.profitFactor>=1.5?"bg-green-900 text-green-300":v.profitFactor>=1?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:v.profitFactor.toFixed(2)})}),a.jsx("td",{className:`px-4 py-2 text-right text-sm ${v.resultado>0?"text-green-400":"text-red-400"}`,children:l(v.resultado)}),a.jsx("td",{className:"px-4 py-2"})]},`${y}-${x}`))]},y))})]})})]})}const qi={monday:"Segunda-feira",tuesday:"Tera-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"Sbado",sunday:"Domingo"},kd={january:"Janeiro",february:"Fevereiro",march:"Maro",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro"},XN=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],j0=["january","february","march","april","may","june","july","august","september","october","november","december"];function uJ({showDailyAnalysis:e,setShowDailyAnalysis:t,tradesData:r,backtestResult:n}){var S,C,P,E;if(!n)return null;const s=n["Day of Week Analysis"],i=s==null?void 0:s["Best Day"],o=s==null?void 0:s["Worst Day"],l=n["Monthly Analysis"],c=l==null?void 0:l["Best Month"],u=l==null?void 0:l["Worst Month"],[d,f]=Tt.useState(!1),[h,p]=Tt.useState(!1),[m,y]=Tt.useState(!0),[v,x]=Tt.useState(!0);Tt.useState(!0);const b=(M,O=!1,F=!1)=>{if(M==null||isNaN(Number(M)))return"N/A";const A=Number(M);return F?`R$ ${A.toFixed(2)}`:O?`${A.toFixed(2)}%`:A.toFixed(2)},w=()=>{const M={};return j0.forEach(O=>{const F=Math.random()*2+.5,A=Math.random()*40+40,q=Math.floor(Math.random()*50)+10;M[O]={Trades:q,"Win Rate (%)":A,"Profit Factor":F}}),M},j=(s==null?void 0:s.Stats)||{},N=(l==null?void 0:l.Stats)||w(),_=()=>a.jsx("div",{className:"grid grid-cols-7 gap-1 mt-4",children:XN.map(M=>{var D;let O=null;if(s!=null&&s.Stats){const V={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"}[M];O=s.Stats[V]}O||(O={Trades:0,"Win Rate (%)":0,"Profit Factor":0});const F=Number(O["Profit Factor"])||0,A=Number(O.Trades)||0,q=Number(O["Win Rate (%)"])||0,H=F>=1.5?"bg-green-900":F>=1?"bg-yellow-900":"bg-red-900",$=F>=1.5?"text-green-300":F>=1?"text-yellow-300":"text-red-300";return a.jsxs("div",{className:`p-3 rounded-lg ${H} ${A===0?"opacity-50":""}`,children:[a.jsx("p",{className:"text-sm font-medium mb-2 text-white",children:((D=qi[M])==null?void 0:D.substring(0,3))||M.substring(0,3)}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Fator"}),a.jsx("p",{className:`text-sm font-bold ${$}`,children:F.toFixed(2)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Acerto"}),a.jsxs("p",{className:`text-sm font-bold ${q>=60?"text-green-300":q>=45?"text-yellow-300":"text-red-300"}`,children:[q.toFixed(1),"%"]})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Trades"}),a.jsx("p",{className:"text-sm font-bold text-white",children:A})]})]})]},M)})}),k=()=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:j0.map(M=>{let O=null;if(l!=null&&l.Stats){const W={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"}[M];O=l.Stats[W]}O||(O={Trades:0,"Win Rate (%)":0,"Profit Factor":0});const F=Number(O["Profit Factor"])||0,A=Number(O.Trades)||0,q=Number(O["Win Rate (%)"])||0,H=F>=1.5?"bg-green-900":F>=1?"bg-yellow-900":"bg-red-900",$=F>=1.5?"text-green-300":F>=1?"text-yellow-300":"text-red-300";return a.jsxs("div",{className:`p-3 rounded-lg ${H} ${A===0?"opacity-50":""}`,children:[a.jsx("p",{className:"text-sm font-medium mb-2 text-white",children:kd[M]||M}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Fator"}),a.jsx("p",{className:`text-sm font-bold ${$}`,children:F.toFixed(2)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Acerto"}),a.jsxs("p",{className:`text-sm font-bold ${q>=60?"text-green-300":q>=45?"text-yellow-300":"text-red-300"}`,children:[q.toFixed(1),"%"]})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Trades"}),a.jsx("p",{className:"text-sm font-bold text-white",children:A})]})]})]},M)})});return a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6 shadow-lg",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ar,{className:"w-6 h-6 text-blue-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Anlise Diria"})]}),a.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]}),e&&a.jsxs("div",{className:"p-6",children:[a.jsx(oJ,{tradesData:r}),a.jsx(cJ,{tradesData:r}),a.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-lg p-5 mb-6 shadow-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-blue-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(xn,{className:"w-6 h-6 text-blue-400"})}),a.jsx("h3",{className:"font-semibold text-lg",children:"Anlise por Dia da Semana"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>y(!m),className:"px-3 py-1.5 bg-gray-600 hover:bg-gray-500 rounded text-xs font-medium text-gray-300 hover:text-white",children:m?"Visualizao em Tabela":"Visualizao em Calendrio"}),a.jsx("button",{onClick:()=>f(!d),className:"p-1.5 hover:bg-gray-600 rounded",children:d?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]})]}),d&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i&&a.jsxs("div",{className:"bg-green-900 bg-opacity-20 border border-green-800 p-4 rounded-lg shadow-md",children:[a.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-green-400",children:[a.jsx(Mn,{className:"w-5 h-5 mr-2"}),"Melhor Dia:"," ",qi[(S=i.Day)==null?void 0:S.toLowerCase()]||i.Day]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),a.jsx("p",{className:"text-lg font-medium",children:i.Trades||"0"})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:b(i["Win Rate (%)"],!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:b(i["Profit Factor"])})]})]})]}),o&&a.jsxs("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 p-4 rounded-lg shadow-md",children:[a.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-red-400",children:[a.jsx(it,{className:"w-5 h-5 mr-2"}),"Pior Dia:"," ",qi[(C=o.Day)==null?void 0:C.toLowerCase()]||o.Day]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),a.jsx("p",{className:"text-lg font-medium",children:o.Trades||"0"})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:b(o["Win Rate (%)"],!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:b(o["Profit Factor"])})]})]})]})]}),m?_():a.jsx("div",{className:"overflow-x-auto bg-gray-700 rounded-lg p-4 shadow-md",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-800",children:[a.jsx("th",{className:"px-4 py-3 text-left rounded-l-lg",children:"Dia"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Trades"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Taxa de Acerto"}),a.jsx("th",{className:"px-4 py-3 text-center rounded-r-lg",children:"Fator de Lucro"})]})}),a.jsx("tbody",{children:XN.map(M=>{let O=null;return Array.isArray(dayOfWeekData)&&(O=dayOfWeekData.find(F=>{var A,q,H;return((A=F.Day)==null?void 0:A.toLowerCase())===M.toLowerCase()||((q=F.Day)==null?void 0:q.toLowerCase())===((H=qi[M])==null?void 0:H.toLowerCase())})),!O&&j&&(O=j[M]||j[M.toLowerCase()]||j[M.charAt(0).toUpperCase()+M.slice(1)]||j[qi[M]]),!O&&typeof calculateDayStats=="function"&&(O=calculateDayStats(M)),O||(O={Trades:0,"Win Rate (%)":0,"Profit Factor":0}),a.jsxs("tr",{className:"border-b border-gray-600 last:border-b-0",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:qi[M]||M}),a.jsx("td",{className:"px-4 py-3 text-center",children:O.Trades||"0"}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Win Rate (%)"]||0)>=55?"bg-green-900 text-green-300":(O["Win Rate (%)"]||0)>=45?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:b(O["Win Rate (%)"],!0)})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Profit Factor"]||0)>=1.5?"bg-green-900 text-green-300":(O["Profit Factor"]||0)>=1?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:b(O["Profit Factor"])})})]},M)})})]})})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-lg p-5 mb-6 shadow-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-purple-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(Pg,{className:"w-6 h-6 text-purple-400"})}),a.jsx("h3",{className:"font-semibold text-lg",children:"Anlise Mensal"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>x(!v),className:"px-3 py-1.5 bg-gray-600 hover:bg-gray-500 rounded text-xs font-medium text-gray-300 hover:text-white",children:v?"Visualizao em Tabela":"Visualizao em Calendrio"}),a.jsx("button",{onClick:()=>p(!h),className:"p-1.5 hover:bg-gray-600 rounded",children:h?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]})]}),h&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c&&a.jsxs("div",{className:"bg-green-900 bg-opacity-20 border border-green-800 p-4 rounded-lg shadow-md",children:[a.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-green-400",children:[a.jsx(Mn,{className:"w-5 h-5 mr-2"}),"Melhor Ms:"," ",kd[(P=c.Month)==null?void 0:P.toLowerCase()]||c.Month]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),a.jsx("p",{className:"text-lg font-medium",children:c.Trades||"0"})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:b(c["Win Rate (%)"],!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:b(c["Profit Factor"])})]})]})]}),u&&a.jsxs("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 p-4 rounded-lg shadow-md",children:[a.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-red-400",children:[a.jsx(it,{className:"w-5 h-5 mr-2"}),"Pior Ms:"," ",kd[(E=u.Month)==null?void 0:E.toLowerCase()]||u.Month]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),a.jsx("p",{className:"text-lg font-medium",children:u.Trades||"0"})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:b(u["Win Rate (%)"],!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:b(u["Profit Factor"])})]})]})]})]}),v?k():a.jsx("div",{className:"overflow-x-auto bg-gray-700 rounded-lg p-4 shadow-md",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-800",children:[a.jsx("th",{className:"px-4 py-3 text-left rounded-l-lg",children:"Ms"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Trades"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Taxa de Acerto"}),a.jsx("th",{className:"px-4 py-3 text-center rounded-r-lg",children:"Fator de Lucro"})]})}),a.jsx("tbody",{children:j0.map(M=>{const O=N[M]||{Trades:0,"Win Rate (%)":0,"Profit Factor":0};return a.jsxs("tr",{className:"border-b border-gray-600 last:border-b-0",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:kd[M]||M}),a.jsx("td",{className:"px-4 py-3 text-center",children:O.Trades||"0"}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Win Rate (%)"]||0)>=55?"bg-green-900 text-green-300":(O["Win Rate (%)"]||0)>=45?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:b(O["Win Rate (%)"],!0)})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Profit Factor"]||0)>=1.5?"bg-green-900 text-green-300":(O["Profit Factor"]||0)>=1?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:b(O["Profit Factor"])})})]},M)})})]})})]})]})]})]})}function $l({children:e,title:t,description:r="Esta seo est disponvel apenas para usurios PRO",requiredPlan:n="Pro"}){const{profile:s}=Rt(),i=Nt(),o=Tt.useMemo(()=>{if(!(s!=null&&s.plan))return!1;const c=s.plan.toLowerCase();return n==="Pro"?c.includes("pro"):n==="Pro 2"?c.includes("pro 2")||c.includes("pro 3"):n==="Pro 3"?c.includes("pro 3"):n==="Starter"?c.includes("pro")||c.includes("pro 1")||c.includes("pro 2")||c.includes("pro 3"):!1},[s==null?void 0:s.plan,n]),l=()=>{i("/subscription")};return o?a.jsx(a.Fragment,{children:e}):a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-700",children:a.jsxs("h2",{className:"text-lg font-medium flex items-center",children:[a.jsx(Nf,{className:"w-5 h-5 text-gray-400 mr-2"}),t]})}),a.jsxs("div",{className:"p-8 flex flex-col items-center justify-center text-center",children:[a.jsx("div",{className:"bg-gray-700 p-4 rounded-full mb-4",children:a.jsx(Nf,{className:"w-12 h-12 text-gray-400"})}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Contedo Exclusivo PRO"}),a.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:r}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 p-4 rounded-lg mb-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Zn,{className:"w-5 h-5 text-yellow-400 mr-2"}),a.jsx("h4",{className:"font-medium text-white",children:"Benefcios do Plano PRO"})]}),a.jsxs("ul",{className:"text-sm text-blue-100 space-y-2",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx(Re,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Acesso a todas as anlises avanadas"})]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx(Re,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Anlise emocional e perfil de trader"})]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx(Re,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Correlao entre estratgias"})]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx(Re,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Anlise de eventos especiais"})]})]})]}),a.jsxs("button",{onClick:l,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[a.jsx(Zn,{className:"w-5 h-5 mr-2"}),"Fazer Upgrade para PRO"]})]})]})}function dJ({mode:e,description:t,fileCount:r,files:n,selectedFiles:s,backtestResult:i,onReset:o}){var d,f,h;const l=((d=i==null?void 0:i["Performance Metrics"])==null?void 0:d["Total Trades"])||0,c=((f=i==null?void 0:i["Performance Metrics"])==null?void 0:f["Net Profit"])||0,u=((h=i==null?void 0:i["Performance Metrics"])==null?void 0:h["Win Rate (%)"])||0;return a.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-6 border border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ws,{className:"w-5 h-5 text-blue-400"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium",children:["Modo: ",e]}),a.jsx("p",{className:"text-sm text-gray-400",children:t})]})]}),r>0&&a.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(MD,{className:"w-4 h-4 text-green-400"}),a.jsxs("span",{className:"text-gray-300",children:[l," trades"]})]}),a.jsxs("div",{className:"text-gray-300",children:["P&L: ",a.jsxs("span",{className:c>=0?"text-green-400":"text-red-400",children:["R$ ",c==null?void 0:c.toFixed(2)]})]}),a.jsxs("div",{className:"text-gray-300",children:["Taxa: ",a.jsxs("span",{className:"text-blue-400",children:[u==null?void 0:u.toFixed(1),"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[e==="Individual"&&s.length>0&&a.jsx("div",{className:"text-xs text-gray-500",children:s.map((p,m)=>a.jsx("span",{className:"inline-block bg-gray-700 px-2 py-1 rounded mr-1 mb-1",children:p.replace(".csv","")},m))}),a.jsxs("button",{onClick:o,className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded-md text-sm flex items-center space-x-1",title:"Resetar filtros",children:[a.jsx(lr,{className:"w-4 h-4"}),a.jsx("span",{children:"Reset"})]})]})]})})}function fJ(){var rw;const e=Nt(),{profile:t,updateTokenBalance:r}=Rt(),[n,s]=g.useState(null),[i,o]=g.useState([]),[l,c]=g.useState(!0);g.useState({});const[u,d]=g.useState(!1),[f,h]=g.useState([]),[p,m]=g.useState(!1),[y,v]=g.useState(null),[x,b]=g.useState(null),[w,j]=g.useState(!0);g.useState(!0),g.useState(!1);const[N,_]=g.useState(!0),[k,S]=g.useState(!1),[C,P]=g.useState([]),[E,M]=g.useState(!0),[O,F]=g.useState(!1),[A,q]=g.useState(!1),[H,$]=g.useState(!1);g.useState(!0);const[D,W]=g.useState(!1),[V,L]=g.useState(null),[se,K]=g.useState(null),[B,ie]=g.useState(null),[ge,I]=g.useState(["Estratgia 1","Estratgia 2","Estratgia 3"]),[R,te]=g.useState(["WINFUT","WDOFUT","PETR4","VALE3"]),ue=g.useRef(null),[T,fe]=g.useState(!1),[me,Se]=g.useState(null),[Te,kt]=g.useState(null),[Or,z]=g.useState(null),[ve,ee]=g.useState([]),[ne,we]=g.useState(""),[lt,Ge]=g.useState(null),[Ra,Is]=g.useState(!1),[Eu,Bn]=g.useState(!1),[tp,hl]=g.useState(!1),[Ai,Au]=g.useState(""),[is,$a]=g.useState([]),[Y,ae]=g.useState(null),[Ye,rn]=g.useState(null),[nr,xr]=g.useState(""),[Ls,os]=g.useState(!1),[Da,Ti]=g.useState(null);function Oi(Q){const J=new FormData;return J.append("file",Q),J}Tt.useMemo(()=>t!=null&&t.plan?t.plan.toLowerCase().includes("pro"):!1,[t==null?void 0:t.plan]),Tt.useMemo(()=>{if(!(t!=null&&t.plan))return!1;const Q=t.plan.toLowerCase();return Q.includes("starter")||Q.includes("pro")},[t==null?void 0:t.plan]),g.useEffect(()=>{(async()=>{try{const{data:{user:J}}=await Z.auth.getUser();if(!J)return;const{data:re,error:je}=await Z.from("strategy_analyses").select("*").eq("user_id",J.id).order("created_at",{ascending:!1});if(je)throw je;if(re&&re.length>0){const gt=re.map(Ne=>{var Je,$e;return{id:Ne.id,name:Ne.analysis_data.name||`Anlise ${Ne.id.slice(0,8)}`,createdAt:Ne.created_at,updatedAt:Ne.created_at,backtestResult:Ne.analysis_data.metrics||{},selectedStrategy:null,selectedAsset:null,csvContent:null,availableStrategies:[],availableAssets:[],totalTrades:(($e=(Je=Ne.analysis_data.metrics)==null?void 0:Je.trades)==null?void 0:$e.length)||0}});$a(gt)}}catch(J){console.error("Error loading saved analyses:",J)}})()},[]),g.useEffect(()=>{if(x!=null&&x.trades){let Q=[...x.trades];if(V&&V!==""&&f.filter(re=>re.name.replace(".csv","")===V).length>0,se&&se!==""&&(Q=Q.filter(J=>J.symbol===se||!J.symbol)),ne){const J=ne.toLowerCase();Q=Q.filter(re=>re.symbol&&re.symbol.toLowerCase().includes(J)||re.entry_date.toLowerCase().includes(J)||re.exit_date.toLowerCase().includes(J)||re.pnl.toString().includes(J))}ee(Q)}else ee([])},[x==null?void 0:x.trades,V,se,ne]);const ml=Q=>{if(Q.target.files&&Q.target.files.length>0){const J=Array.from(Q.target.files);h(re=>[...re,...J]),s(J[0]),v(null)}},Mr=Q=>{Q.preventDefault(),Q.stopPropagation()},rp=Q=>{if(Q.preventDefault(),Q.stopPropagation(),Q.dataTransfer.files&&Q.dataTransfer.files.length>0){const J=Array.from(Q.dataTransfer.files);h(re=>[...re,...J]),s(J[0]),v(null)}},pl=Q=>{h(J=>J.filter((re,je)=>je!==Q))},Zb=async()=>{if(f.length===0){v("Por favor, selecione pelo menos um arquivo CSV para anlise");return}const Q=f.filter(J=>{var je;return((je=J.name.split(".").pop())==null?void 0:je.toLowerCase())!=="csv"});if(Q.length>0){v(`Os seguintes arquivos no so CSVs vlidos: ${Q.map(J=>J.name).join(", ")}`);return}m(!0),v(null);try{let J,re,je=null;if(f.length===1){const Ne=await Tu(f[0]);ie(Ne);const Je=new FormData;Je.append("file",f[0]),J=await fetch("http://localhost:5002/api/tabela",{method:"POST",body:Je});try{const $e=await fetch("http://localhost:5002/api/disciplina-completa",{method:"POST",body:Je}),Mu=await(await fetch("http://localhost:5002/api/trades",{method:"POST",body:Je})).json();if($e.ok){const Kt=await $e.json();Ge(Kt)}else console.warn("Failed to fetch emotional data:",$e.status,$e.statusText),Ge(null);P(Mu)}catch($e){console.error("Error fetching emotional data:",$e),Ge(null)}if(!J.ok)throw new Error(`Erro na API: ${J.status} ${J.statusText}`);re=await J.json(),Se(re),console.log(JSON.stringify(re.EquityCurveData))}else if(f.length>=2)try{let Ne=null,Je=null;if(f.length===2){const[Kt,nw]=await Promise.all([fetch("http://localhost:5002/api/tabela",{method:"POST",body:Oi(f[0])}),fetch("http://localhost:5002/api/tabela",{method:"POST",body:Oi(f[1])})]),[sp,ap]=await Promise.all([Kt.json(),nw.json()]),sw=await fetch("http://localhost:5002/api/correlacao",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({arquivo1:sp,arquivo2:ap})});sw.ok&&(Ne=await sw.json())}const $e=new FormData;f.forEach(Kt=>{$e.append("files",Kt)});const np=await fetch("http://localhost:5002/api/correlacao",{method:"POST",body:$e});np.ok&&(Je=await np.json());const Mu=await fetch("http://localhost:5002/api/tabela-multipla",{method:"POST",body:$e});try{const Kt=await fetch("http://localhost:5002/api/disciplina-completa",{method:"POST",body:$e}),sp=await(await fetch("http://localhost:5002/api/trades",{method:"POST",body:$e})).json();if(Kt.ok){const ap=await Kt.json();Ge(ap)}else console.warn("Failed to fetch emotional data:",Kt.status,Kt.statusText),Ge(null);P(sp)}catch(Kt){console.error("Error fetching emotional data:",Kt),Ge(null)}if(!Mu.ok)throw new Error("Erro na anlise consolidada");re=await Mu.json(),Se(re),Ne&&f.length===2?(re.correlationAnalysis=Ne.correlation_analysis,re.correlationMetadata=Ne.metadata,re.individualResults={file1:{name:f[0].name,data:data1},file2:{name:f[1].name,data:data2}},console.log(" Correlao tradicional adicionada (2 arquivos)")):f.length>2&&(re.multipleFilesCount=f.length,re.fileNames=f.map(Kt=>Kt.name),console.log(" Anlise para ${files.length} arquivos preparada")),Je&&(re.dateDirectionCorrelation=Je,console.log(` Correlao data/direo adicionada (${f.length} arquivos)`)),ie(`Anlise de \${files.length} estratgias: ${f.map(Kt=>Kt.name).join(", ")}`)}catch(Ne){console.error("Erro no processamento:",Ne)}else{const Ne=new FormData;f.forEach($e=>{Ne.append("files",$e)}),J=await fetch("http://localhost:5002/api/tabela-multipla",{method:"POST",body:Ne});const Je=await fetch("http://localhost:5002/api/disciplina-completa",{method:"POST",body:Ne});if(!J.ok)throw new Error(`Erro na API: ${J.status} ${J.statusText}`);re=await J.json(),Se(re),ie(`Anlise consolidada de ${f.length} arquivos: ${f.map($e=>$e.name).join(", ")}`)}if(re.emotionalAnalysis||(re.emotionalAnalysis={stopDisciplineIndex:85.7,dailyLossDisciplineIndex:72.3,leverageDisciplineIndex:91.2,furyProbability:8.5}),b(re),j(!1),W(!0),ae(null),re.trades&&re.trades.length>0){const Ne=Array.from(new Set(re.trades.map(Je=>Je.asset||Je.symbol||"Unknown")));Ne.length>0&&Ne[0]!=="Unknown"&&te(Ne)}re.trades&&ee(re.trades),I(f.map(Ne=>Ne.name.replace(".csv","")));const gt=f.length===1?-1e3:f.length===2?-2500:-1500*f.length;await r(gt),je&&je.correlation_analysis}catch(J){console.error("Error uploading file:",J),v(J instanceof Error?J.message:"Erro ao processar o arquivo")}finally{m(!1)}},Tu=Q=>new Promise((J,re)=>{const je=new FileReader;je.onload=gt=>{var Ne;(Ne=gt.target)!=null&&Ne.result?J(gt.target.result):re(new Error("Failed to read file"))},je.onerror=()=>re(je.error),je.readAsText(Q)}),Ou=()=>{s(null),h([]),b(null),j(!0),v(null),W(!1),ee([]),ae(null),ue.current&&(ue.current.value="")},yr=Q=>{if(!Q)return{};const J=Q["Performance Metrics"];if(!J)return{profitFactor:0,winRate:0,payoff:0,maxDrawdown:0,maxDrawdownAmount:0,netProfit:0,grossProfit:0,grossLoss:0,totalTrades:0,profitableTrades:0,lossTrades:0,averageWin:0,averageLoss:0,sharpeRatio:0,averageTrade:0,averageTradeDuration:"0",dayOfWeekAnalysis:{},monthlyAnalysis:{},bestDay:null,worstDay:null,bestMonth:null,worstMonth:null,maxConsecutiveLosses:0,maxConsecutiveWins:0,maiorGanho:0,maiorPerda:0,recoveryFactor:0};const re=Q["Day of Week Analysis"],je=Q["Monthly Analysis"],gt={};re!=null&&re.Stats&&Object.entries(re.Stats).forEach(([Je,$e])=>{gt[Je.toLowerCase()]={trades:$e.Trades??0,winRate:$e["Win Rate (%)"]??0,profitFactor:$e["Profit Factor"]??0}});const Ne={};return je!=null&&je.Stats&&Object.entries(je.Stats).forEach(([Je,$e])=>{Ne[Je.toLowerCase()]={trades:$e.Trades??0,winRate:$e["Win Rate (%)"]??0,profitFactor:$e["Profit Factor"]??0}}),{profitFactor:J["Profit Factor"]??0,winRate:J["Win Rate (%)"]??0,payoff:J.Payoff??0,maxDrawdown:15,maxDrawdownAmount:J["Max Drawdown ($)"]??0,netProfit:J["Net Profit"]??0,grossProfit:J["Gross Profit"]??0,grossLoss:J["Gross Loss"]??0,totalTrades:J["Total Trades"]??0,profitableTrades:Math.round((J["Total Trades"]??0)*(J["Win Rate (%)"]??0)/100),lossTrades:Math.round((J["Total Trades"]??0)*(1-(J["Win Rate (%)"]??0)/100)),averageWin:J["Average Win"]??0,averageLoss:J["Average Loss"]??0,sharpeRatio:J["Sharpe Ratio"]??0,averageTrade:(J["Net Profit"]??0)/(J["Total Trades"]??1),averageTradeDuration:J["Time in Market"]??"0",dayOfWeekAnalysis:gt,monthlyAnalysis:Ne,bestDay:(re==null?void 0:re["Best Day"])||null,worstDay:(re==null?void 0:re["Worst Day"])||null,bestMonth:(je==null?void 0:je["Best Month"])||null,worstMonth:(je==null?void 0:je["Worst Month"])||null,maxConsecutiveLosses:4,maxConsecutiveWins:7,maiorGanho:1850.75,maiorPerda:-980.25,recoveryFactor:2.5}},sr=Q=>{console.log("Metrics received from chat:",Q),kt(Q)},gl=async()=>{var Q;if(!(!x||!Ai.trim()))try{const{data:{user:J}}=await Z.auth.getUser();if(!J)throw new Error("User not authenticated");const{data:re,error:je}=await Z.from("strategy_analyses").insert({user_id:J.id,analysis_data:{name:Ai.trim(),metrics:x,file_name:n==null?void 0:n.name,created_at:new Date().toISOString()}}).select().single();if(je)throw je;const gt={id:re.id,name:Ai.trim(),createdAt:re.created_at,updatedAt:re.created_at,backtestResult:x,selectedStrategy:V,selectedAsset:se,csvContent:B,availableStrategies:ge,availableAssets:R,totalTrades:((Q=x.trades)==null?void 0:Q.length)||0};$a(Ne=>[...Ne,gt]),ae(gt.id),Is(!1),Au("")}catch(J){console.error("Error saving analysis:",J),v("Erro ao salvar anlise")}},ar=async Q=>{try{if(!Q.backtestResult||Object.keys(Q.backtestResult).length===0){const{data:J,error:re}=await Z.from("strategy_analyses").select("*").eq("id",Q.id).single();if(re)throw re;J&&J.analysis_data&&J.analysis_data.metrics&&(Q.backtestResult=J.analysis_data.metrics)}if(b(Q.backtestResult),L(Q.selectedStrategy),K(Q.selectedAsset),ie(Q.csvContent),I(Q.availableStrategies||[]),te(Q.availableAssets||[]),Q.csvContent)try{const J=new Blob([Q.csvContent],{type:"text/csv"}),re=new File([J],`${Q.name}.csv`,{type:"text/csv"});h([re]),s(re)}catch(J){console.error("Error creating file from saved content:",J)}ae(Q.id),j(!1),W(!0),Bn(!1),Q.backtestResult.trades&&ee(Q.backtestResult.trades)}catch(J){console.error("Error loading analysis:",J),v("Erro ao carregar anlise")}},m5=async Q=>{try{const{error:J}=await Z.from("strategy_analyses").delete().eq("id",Q);if(J)throw J;$a(re=>re.filter(je=>je.id!==Q)),Y===Q&&ae(null),Ti("Anlise excluda com sucesso"),setTimeout(()=>Ti(null),3e3)}catch(J){console.error("Error deleting analysis:",J),v("Erro ao excluir anlise")}},p5=async()=>{try{os(!0),v(null);const{data:{user:Q}}=await Z.auth.getUser();if(!Q)throw new Error("User not authenticated");const{error:J}=await Z.from("strategy_analyses").delete().eq("user_id",Q.id);if(J)throw J;$a([]),ae(null),Ti("Todas as anlises foram excludas com sucesso"),setTimeout(()=>Ti(null),3e3)}catch(Q){console.error("Error deleting all analyses:",Q),v("Erro ao excluir todas as anlises")}finally{os(!1)}},g5=(Q,J)=>{rn(Q),xr(J),hl(!0)},x5=async()=>{if(!(!Ye||!nr.trim()))try{if(!is.find(Ne=>Ne.id===Ye))return;const{data:J,error:re}=await Z.from("strategy_analyses").select("*").eq("id",Ye).single();if(re)throw re;const je={...J.analysis_data,name:nr.trim()},{error:gt}=await Z.from("strategy_analyses").update({analysis_data:je}).eq("id",Ye);if(gt)throw gt;$a(Ne=>Ne.map(Je=>Je.id===Ye?{...Je,name:nr.trim(),updatedAt:new Date().toISOString()}:Je)),hl(!1),rn(null),xr("")}catch(Q){console.error("Error renaming analysis:",Q),v("Erro ao renomear anlise")}};g.useEffect(()=>{f.length>0&&o(f.map(Q=>Q.name))},[f]),g.useEffect(()=>{x&&f.length>1},[i,l,x,f]);const y5=()=>x?(l||f.length<=1,x):null,v5=()=>l?{mode:"Consolidado",description:`Anlise consolidada de ${f.length} arquivo(s)`,fileCount:f.length}:{mode:"Individual",description:`${i.length} arquivo(s) selecionado(s)`,fileCount:i.length},ew=()=>{o(f.map(Q=>Q.name)),c(!0),d(!1),L(null),K(null),we(""),setTimeout(()=>{tw()},100)},tw=async()=>{if(f.length!==0)try{m(!0),v(null);let Q,J;if(l||f.length===1)if(f.length===1){const re=new FormData;re.append("file",f[0]),Q=await fetch("http://localhost:5002/api/tabela",{method:"POST",body:re})}else{const re=new FormData;f.forEach(je=>{re.append("files",je)}),Q=await fetch("http://localhost:5002/api/tabela-multipla",{method:"POST",body:re})}else{const re=f.filter(gt=>i.includes(gt.name));if(re.length===0){b(null),ee([]);return}const je=new FormData;re.forEach(gt=>{je.append("files",gt)}),Q=await fetch("http://localhost:5002/api/tabela-multipla",{method:"POST",body:je})}if(!Q.ok)throw new Error(`Erro na API: ${Q.status} ${Q.statusText}`);J=await Q.json(),J.emotionalAnalysis||(J.emotionalAnalysis={stopDisciplineIndex:85.7,dailyLossDisciplineIndex:72.3,leverageDisciplineIndex:91.2,furyProbability:8.5}),b(J)}catch(Q){console.error("Error reloading filtered data:",Q),v(Q instanceof Error?Q.message:"Erro ao filtrar dados")}finally{m(!1)}};return g.useEffect(()=>{if(!w&&f.length>0){const Q=setTimeout(()=>{tw()},300);return()=>clearTimeout(Q)}},[l,i,f.length]),a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(ss,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Voltar para robs",children:a.jsx(Os,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Anlise de Backtest"}),Y&&a.jsx("span",{className:"px-2 py-1 bg-green-600 text-green-100 text-xs rounded-full",children:"Salvo"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[!w&&x&&a.jsx("div",{className:"bg-gray-800 rounded-lg p-3 mb-4 border-l-4 border-blue-500",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"text-gray-300",children:[l?` Mostrando anlise consolidada de ${f.length} arquivo(s)`:` Mostrando anlise de ${i.length} arquivo(s) selecionado(s)`,V&&` | Estratgia: ${V}`,se&&` | Ativo: ${se}`]}),a.jsxs("div",{className:"text-blue-400",children:[((rw=x["Performance Metrics"])==null?void 0:rw["Total Trades"])||0," trades"]})]})}),a.jsxs("button",{onClick:()=>Bn(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[a.jsx(UD,{className:"w-4 h-4 mr-2"}),"Carregar Anlise",is.length>0&&a.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-800 text-blue-100 text-xs rounded-full",children:is.length})]}),!w&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>Is(!0),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-md flex items-center",children:[a.jsx(ki,{className:"w-4 h-4 mr-2"}),"Baixar Relatrio"]}),a.jsx("button",{onClick:Ou,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Analisar Outro Arquivo"})]})]})]}),is.length>0&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 rounded-lg p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-red-400 font-medium",children:["Voc tem ",is.length," anlises salvas"]}),a.jsx("p",{className:"text-red-300 text-sm",children:"Deseja excluir todas as anlises para liberar espao?"})]})]}),a.jsx("button",{onClick:p5,disabled:Ls,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md flex items-center",children:Ls?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Excluindo..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"w-4 h-4 mr-2"}),"Excluir Todas"]})})]})}),Da&&a.jsxs("div",{className:"mb-6 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center",children:[a.jsx(at,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),a.jsx("p",{className:"text-green-500",children:Da})]}),y&&a.jsxs("div",{className:"mb-6 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),a.jsx("p",{className:"text-red-500",children:y})]}),D&&a.jsx($l,{title:"Chat com IA",description:"Consulte a IA para obter insights detalhados sobre seu backtest. Disponvel apenas para usurios PRO.",requiredPlan:"Pro",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:[a.jsx("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:a.jsx("div",{className:"flex items-center",children:a.jsx("h2",{className:"text-lg font-medium",children:"Chat com IA"})})}),a.jsx("div",{className:"p-4 h-[600px]",children:a.jsx(OC,{isAnalyzing:T,setIsAnalyzing:fe,onCancelAnalysis:()=>{},error:Or,setError:z,analysisResult:Te,onMetricsReceived:sr,backtestData:x})})]})}),!w&&a.jsx(KL,{selectedStrategy:V,setSelectedStrategy:L,selectedAsset:se,setSelectedAsset:K,availableStrategies:ge,availableAssets:R,setShowUploadForm:j,files:f,selectedFiles:i,setSelectedFiles:o,showConsolidated:l,setShowConsolidated:c,onResetFilters:ew}),w?a.jsx(HL,{files:f,setFiles:h,error:y,isLoading:p,handleFileChange:ml,handleDragOver:Mr,handleDrop:rp,handleRemoveFile:pl,handleUpload:Zb,fileInputRef:ue}):a.jsxs(a.Fragment,{children:[x&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(ZY,{showEquityCurve:E,setShowEquityCurve:M,data:me}),a.jsx(GL,{sampleTrades:C,setShowTrades:S,filteredTrades:ve,tradeSearch:ne,setTradeSearch:we,selectedAsset:se,setSelectedAsset:K,selectedStrategy:V,setSelectedStrategy:L,availableAssets:R,availableStrategies:ge}),a.jsx($l,{title:"Anlise Dir",description:"Acesse anlises detalhadas por dia da semana, ms e horrio. Disponvel apenas para usurios PRO.",requiredPlan:"Pro",children:a.jsx(uJ,{showDailyAnalysis:N,setShowDailyAnalysis:_,backtestResult:x,tradesData:C})}),a.jsx("div",{children:a.jsx(WL,{metrics:yr(x),tradeObject:C})}),a.jsx($l,{title:"Perfil Emocional",description:"Analise seu perfil emocional de trading com mtricas de disciplina e controle. Disponvel apenas para usurios PRO.",requiredPlan:"Pro",children:a.jsx(iJ,{emotionalMetrics:lt,showEmotionalProfile:H,setShowEmotionalProfile:$})}),a.jsx($l,{title:"Eventos Especiais",description:"Analise o impacto de eventos econmicos em seus resultados. Disponvel apenas para usurios PRO.",requiredPlan:"Pro",children:a.jsx(tJ,{showSpecialEvents:O,setShowSpecialEvents:F,tadesData:C})}),a.jsx($l,{title:"Anlise de Correlao",description:"Compare a correlao entre diferentes estratgias para otimizar seu portflio. Disponvel apenas para usurios PRO.",requiredPlan:"Pro",children:a.jsx(rJ,{showCorrelation:A,setShowCorrelation:q,backtestResult:x})})]}),f.length>0&&a.jsx(dJ,{...v5(),files:f,selectedFiles:i,backtestResult:y5(),onReset:ew})]})]}),a.jsx(nJ,{showSaveModal:Ra,setShowSaveModal:Is,saveName:Ai,setSaveName:Au,confirmSaveAnalysis:gl}),a.jsx(sJ,{showLoadModal:Eu,setShowLoadModal:Bn,savedAnalyses:is,handleRenameAnalysis:g5,handleLoadAnalysis:ar,handleDeleteAnalysis:m5}),a.jsx(aJ,{showRenameModal:tp,setShowRenameModal:hl,renameName:nr,setRenameName:xr,confirmRenameAnalysis:x5,setRenameAnalysisId:rn})]})}const h5=e=>new Promise(t=>setTimeout(t,e));async function hJ(e,t=3,r=1e3){var s,i;let n=0;for(;;)try{return await e()}catch(o){if(n++,n>=t)throw o;const l=o instanceof Error&&"response"in o&&((i=(s=o.response)==null?void 0:s.headers)==null?void 0:i["retry-after"]),c=l?parseInt(l)*1e3:r*Math.pow(2,n-1);console.log(`Retrying after ${c}ms...`),await h5(c)}}function QN(e){console.log("Extracting structured data from text:",e);const t={summary:"",marketConditions:{bestFor:[],worstFor:[]},riskAnalysis:{riskLevel:"Mdio",keyRisks:[],mitigationStrategies:[]},optimizationSuggestions:[],tradingPlan:{entryRules:[],exitRules:[],positionSizing:"",timeManagement:""}},r=e.match(/resumo:?\s*([\s\S]*?)(?=condies|mercado|$)/i);if(r&&r[1])t.summary=r[1].trim();else{const p=e.split(`

`)[0];p&&(t.summary=p.trim())}const n=e.match(/melhores\s*condies|condies\s*ideais|mercados?\s*ideais?:?\s*([\s\S]*?)(?=piores|condies\s*ruins|$)/i);if(n&&n[1]){const p=n[1].match(/[-*]\s*([^\n]+)/g);if(p)t.marketConditions.bestFor=p.map(m=>m.replace(/[-*]\s*/,"").trim()).filter(m=>m.length>0);else{const m=n[1].split(`
`).filter(y=>y.trim().length>0);m.length>0&&(t.marketConditions.bestFor=m.map(y=>y.trim()))}}const s=e.match(/piores\s*condies|condies\s*ruins|mercados?\s*ruins?:?\s*([\s\S]*?)(?=anlise|risco|$)/i);if(s&&s[1]){const p=s[1].match(/[-*]\s*([^\n]+)/g);if(p)t.marketConditions.worstFor=p.map(m=>m.replace(/[-*]\s*/,"").trim()).filter(m=>m.length>0);else{const m=s[1].split(`
`).filter(y=>y.trim().length>0);m.length>0&&(t.marketConditions.worstFor=m.map(y=>y.trim()))}}const i=e.match(/nvel\s*de\s*risco:?\s*([^\n,\.]+)/i);i&&i[1]&&(t.riskAnalysis.riskLevel=i[1].trim());const o=e.match(/riscos?\s*principais?|principais\s*riscos?:?\s*([\s\S]*?)(?=estratgias?|mitigao|$)/i);if(o&&o[1]){const p=o[1].match(/[-*]\s*([^\n]+)/g);if(p)t.riskAnalysis.keyRisks=p.map(m=>m.replace(/[-*]\s*/,"").trim()).filter(m=>m.length>0);else{const m=o[1].split(`
`).filter(y=>y.trim().length>0);m.length>0&&(t.riskAnalysis.keyRisks=m.map(y=>y.trim()))}}const l=e.match(/estratgias?\s*de\s*mitigao|mitigao\s*de\s*riscos?:?\s*([\s\S]*?)(?=sugestes|otimizao|$)/i);if(l&&l[1]){const p=l[1].match(/[-*]\s*([^\n]+)/g);if(p)t.riskAnalysis.mitigationStrategies=p.map(m=>m.replace(/[-*]\s*/,"").trim()).filter(m=>m.length>0);else{const m=l[1].split(`
`).filter(y=>y.trim().length>0);m.length>0&&(t.riskAnalysis.mitigationStrategies=m.map(y=>y.trim()))}}const c=e.match(/sugestes\s*de\s*otimizao|otimizao|melhorias:?\s*([\s\S]*?)(?=plano|trading|$)/i);if(c&&c[1]){const p=c[1].match(/[-*]\s*([^\n]+)/g);if(p)t.optimizationSuggestions=p.map(m=>m.replace(/[-*]\s*/,"").trim()).filter(m=>m.length>0);else{const m=c[1].split(`
`).filter(y=>y.trim().length>0);m.length>0&&(t.optimizationSuggestions=m.map(y=>y.trim()))}}const u=e.match(/regras?\s*de\s*entrada:?\s*([\s\S]*?)(?=regras?\s*de\s*sada|$)/i);if(u&&u[1]){const p=u[1].match(/[-*]\s*([^\n]+)/g);if(p)t.tradingPlan.entryRules=p.map(m=>m.replace(/[-*]\s*/,"").trim()).filter(m=>m.length>0);else{const m=u[1].split(`
`).filter(y=>y.trim().length>0);m.length>0&&(t.tradingPlan.entryRules=m.map(y=>y.trim()))}}const d=e.match(/regras?\s*de\s*sada:?\s*([\s\S]*?)(?=dimensionamento|posio|$)/i);if(d&&d[1]){const p=d[1].match(/[-*]\s*([^\n]+)/g);if(p)t.tradingPlan.exitRules=p.map(m=>m.replace(/[-*]\s*/,"").trim()).filter(m=>m.length>0);else{const m=d[1].split(`
`).filter(y=>y.trim().length>0);m.length>0&&(t.tradingPlan.exitRules=m.map(y=>y.trim()))}}const f=e.match(/dimensionamento\s*de\s*posio|tamanho\s*de\s*posio:?\s*([^\n]+)/i);f&&f[1]&&(t.tradingPlan.positionSizing=f[1].trim());const h=e.match(/gerenciamento\s*de\s*tempo|horrios:?\s*([^\n]+)/i);return h&&h[1]&&(t.tradingPlan.timeManagement=h[1].trim()),t.summary||(t.summary="Estratgia com potencial para ser otimizada"),t.marketConditions.bestFor.length===0&&(t.marketConditions.bestFor=["Mercados em tendncia","Volatilidade moderada"]),t.marketConditions.worstFor.length===0&&(t.marketConditions.worstFor=["Mercados lateralizados","Volatilidade extrema"]),t.riskAnalysis.keyRisks.length===0&&(t.riskAnalysis.keyRisks=["Drawdown em perodos de alta volatilidade","Falsos sinais em mercados lateralizados"]),t.riskAnalysis.mitigationStrategies.length===0&&(t.riskAnalysis.mitigationStrategies=["Implementar stop loss adequado","Filtrar sinais com indicadores adicionais"]),t.optimizationSuggestions.length===0&&(t.optimizationSuggestions=["Otimizar parmetros dos indicadores","Adicionar filtros para reduzir falsos sinais"]),t.tradingPlan.entryRules.length===0&&(t.tradingPlan.entryRules=["Entrar quando houver confirmao de tendncia","Verificar volume antes de entrar"]),t.tradingPlan.exitRules.length===0&&(t.tradingPlan.exitRules=["Sair quando o preo atingir o alvo de lucro","Sair quando o stop loss for atingido"]),t.tradingPlan.positionSizing||(t.tradingPlan.positionSizing="Utilizar 1-2% do capital por operao"),t.tradingPlan.timeManagement||(t.tradingPlan.timeManagement="Operar nos horrios de maior liquidez do mercado"),t}function mJ(){const e=Nt(),{profile:t,updateTokenBalance:r}=Rt(),[n,s]=g.useState(""),[i,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(null),[f,h]=g.useState(!0),[p,m]=g.useState(!0),[y,v]=g.useState(!0),[x,b]=g.useState(!0),[w,j]=g.useState(0),[N,_]=g.useState([]),[k,S]=g.useState(!1),[C,P]=g.useState(!0),[E,M]=g.useState(!1),[O,F]=g.useState(null),[A,q]=g.useState(null),[H,$]=g.useState(0);g.useEffect(()=>{D()},[]),g.useEffect(()=>{let I=null;return i&&A?I=setInterval(()=>{const R=Math.floor((Date.now()-A)/1e3);$(R)},1e3):i||($(0),q(null)),()=>{I&&clearInterval(I)}},[i,A]);const D=async()=>{try{S(!0);const{data:I,error:R}=await Z.from("strategy_analyses").select("*").order("created_at",{ascending:!1}).limit(5);if(R)throw R;_(I||[])}catch(I){console.error("Error loading saved analyses:",I)}finally{S(!1)}},W=async()=>{var R;if(!n.trim()){c("Por favor, descreva sua estratgia antes de analisar.");return}o(!0),c(null),M(!0),q(Date.now());const I=setTimeout(()=>{i&&(c("A anlise demorou muito tempo e foi cancelada. A API OpenAI pode estar sobrecarregada. Por favor, tente novamente mais tarde."),o(!1))},12e4);F(I);try{if(((t==null?void 0:t.token_balance)||0)<1e3){c("Saldo de tokens insuficiente. Esta anlise requer 1000 tokens. Clique no contador de tokens para comprar mais."),o(!1),clearTimeout(I),F(null);return}const ue=void 0;if(!ue)throw new Error("Assistant ID no configurado.");const T=await Vr.beta.threads.create();await Vr.beta.threads.messages.create(T.id,{role:"user",content:`Analise a seguinte estratgia de trading e fornea uma anlise detalhada, incluindo condies de mercado ideais, anlise de risco, sugestes de otimizao e um plano de trading estruturado.

Estratgia:
${n}

Por favor, fornea uma anlise estruturada com sees claras para:
1. Resumo da estratgia
2. Condies de mercado ideais e ruins
3. Anlise de risco (nvel, riscos principais, estratgias de mitigao)
4. Sugestes de otimizao
5. Plano de trading (regras de entrada, regras de sada, dimensionamento de posio, gerenciamento de tempo)

NO retorne um objeto JSON. Apenas fornea uma anlise de texto clara e bem estruturada com sees.`});const fe=await Vr.beta.threads.runs.create(T.id,{assistant_id:ue});let me;do if(await h5(1e3),me=await Vr.beta.threads.runs.retrieve(T.id,fe.id),console.log(`Run status: ${me.status}`),me.status==="failed")throw new Error("Analysis run failed: "+(((R=me.last_error)==null?void 0:R.message)||"Unknown error"));while(me.status!=="completed");const Te=(await Vr.beta.threads.messages.list(T.id)).data.find(z=>z.role==="assistant");if(!Te)throw new Error("No response from assistant");const kt=Te.content[0];if(kt.type!=="text")throw new Error("Unexpected response format");const Or=kt.text.value;console.log("Received text content:",Or);try{const z=QN(Or);d(z),await K(z),await r(-1e3)}catch(z){throw console.error("Error parsing response:",z),new Error(`Erro ao processar a resposta da anlise: ${z.message}`)}}catch(te){console.error("Error analyzing strategy:",te);const ue=te instanceof Error?te.message:"Erro ao analisar a estratgia.";c(ue),ue.includes("Rate limit")&&j(T=>T+1)}finally{o(!1),O&&(clearTimeout(O),F(null))}},V=async()=>{if(!n.trim()){c("Por favor, descreva sua estratgia antes de analisar.");return}o(!0),c(null),M(!0),q(Date.now());const I=setTimeout(()=>{i&&(c("A anlise demorou muito tempo e foi cancelada. A API OpenAI pode estar sobrecarregada. Por favor, tente novamente mais tarde."),o(!1))},12e4);F(I);try{if(((t==null?void 0:t.token_balance)||0)<1e3){c("Saldo de tokens insuficiente. Esta anlise requer 1000 tokens. Clique no contador de tokens para comprar mais."),o(!1),clearTimeout(I),F(null);return}const te=`
Analise a seguinte estratgia de trading e fornea uma anlise detalhada, incluindo condies de mercado ideais, anlise de risco, sugestes de otimizao e um plano de trading estruturado.

Estratgia:
${n}

Por favor, fornea uma anlise estruturada com sees claras para:
1. Resumo da estratgia
2. Condies de mercado ideais e ruins
3. Anlise de risco (nvel, riscos principais, estratgias de mitigao)
4. Sugestes de otimizao
5. Plano de trading (regras de entrada, regras de sada, dimensionamento de posio, gerenciamento de tempo)

NO retorne um objeto JSON. Apenas fornea uma anlise de texto clara e bem estruturada com sees.`,T=(await hJ(async()=>{var fe,me;try{const Se=await Vr.chat.completions.create({model:"gpt-4",messages:[{role:"assistant",content:"Voc  um especialista em anlise de estratgias de trading. Fornea anlises detalhadas e estruturadas."},{role:"user",content:te}],temperature:.2});return j(0),Se}catch(Se){if(console.error("OpenAI API error:",Se),Se.status===429){const Te=((me=(fe=Se.response)==null?void 0:fe.headers)==null?void 0:me["retry-after"])||8;throw new Error(`Rate limit atingido. Tentando novamente em ${Te} segundos...`)}throw Se}},3,2e3)).choices[0].message.content;if(!T)throw new Error("Resposta vazia da API.");console.log("OpenAI response content:",T);try{const fe=QN(T);d(fe),await K(fe),await r(-1e3)}catch(fe){throw console.error("Error parsing response:",fe),new Error(`Erro ao processar a resposta da anlise: ${fe.message}`)}}catch(R){console.error("Error analyzing strategy:",R);const te=R instanceof Error?R.message:"Erro ao analisar a estratgia.";c(te),te.includes("Rate limit")&&j(ue=>ue+1)}finally{o(!1),O&&(clearTimeout(O),F(null))}},L=async()=>{C?await W():await V()},se=()=>{O&&(clearTimeout(O),F(null)),o(!1),c("Anlise cancelada pelo usurio.")},K=async I=>{try{const{data:{user:R}}=await Z.auth.getUser();if(!R)return;const{error:te}=await Z.from("strategy_analyses").insert({user_id:R.id,analysis_data:I});if(te)throw te;await D()}catch(R){console.error("Error saving analysis to database:",R)}},B=()=>{if(!u)return;const I=`
# Anlise de Estratgia de Trading

## Resumo
${u.summary}

## Condies de Mercado
### Melhores Condies
${u.marketConditions.bestFor.map(T=>`- ${T}`).join(`
`)}

### Piores Condies
${u.marketConditions.worstFor.map(T=>`- ${T}`).join(`
`)}

## Anlise de Risco
Nvel de Risco: ${u.riskAnalysis.riskLevel}

### Riscos Principais
${u.riskAnalysis.keyRisks.map(T=>`- ${T}`).join(`
`)}

### Estratgias de Mitigao
${u.riskAnalysis.mitigationStrategies.map(T=>`- ${T}`).join(`
`)}

## Sugestes de Otimizao
${u.optimizationSuggestions.map(T=>`- ${T}`).join(`
`)}

## Plano de Trading
### Regras de Entrada
${u.tradingPlan.entryRules.map(T=>`- ${T}`).join(`
`)}

### Regras de Sada
${u.tradingPlan.exitRules.map(T=>`- ${T}`).join(`
`)}

### Dimensionamento de Posio
${u.tradingPlan.positionSizing}

### Gerenciamento de Tempo
${u.tradingPlan.timeManagement}

Relatrio gerado em: ${new Date().toLocaleString()}
`,R=new Blob([I],{type:"text/plain"}),te=URL.createObjectURL(R),ue=document.createElement("a");ue.href=te,ue.download="analise-estrategia.txt",document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),URL.revokeObjectURL(te)},ie=I=>{const R=I.toLowerCase();return R.includes("alto")||R.includes("elevado")?a.jsx("span",{className:"text-red-400",children:"Alto - Recomendado para traders experientes"}):R.includes("mdio")||R.includes("moderado")?a.jsx("span",{className:"text-yellow-400",children:"Mdio - Adequado para traders intermedirios"}):R.includes("baixo")?a.jsx("span",{className:"text-green-400",children:"Baixo - Adequado para iniciantes"}):a.jsx("span",{children:I})},ge=I=>{d(I),M(!0)};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(ss,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Voltar para robs",children:a.jsx(Os,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Anlise de Estratgia"})]}),i&&a.jsxs("div",{className:"flex items-center bg-blue-900 bg-opacity-20 px-4 py-2 rounded-md",children:[a.jsx(lr,{className:"w-4 h-4 mr-2 animate-spin text-blue-400"}),a.jsxs("span",{className:"text-blue-300",children:["Analisando... ",H,"s"]})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Usar Assistente:"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:C,onChange:()=>P(!C),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[a.jsx(ws,{className:"w-5 h-5 text-blue-400 mr-2"}),"Descreva sua Estratgia"]}),a.jsx("textarea",{value:n,onChange:I=>s(I.target.value),placeholder:"Descreva sua estratgia de trading em detalhes. Inclua informaes sobre indicadores utilizados, regras de entrada e sada, gerenciamento de risco, timeframes, etc.",className:"w-full h-64 bg-gray-700 border border-gray-600 rounded-lg p-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),l&&!E&&a.jsxs("div",{className:"mt-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center text-red-500",children:[a.jsx(it,{className:"w-5 h-5 mr-2 flex-shrink-0"}),a.jsx("p",{children:l}),l.includes("Rate limit")&&a.jsxs("p",{className:"text-sm mt-1",children:["Tentativa ",w,"/3. Aguarde alguns segundos e tente novamente."]})]}),a.jsx("button",{onClick:L,disabled:!n.trim()||i,className:`w-full mt-4 py-2 rounded-md flex items-center justify-center ${!n.trim()||i?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:i?a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-5 h-5 mr-2 animate-spin"}),"Analisando..."]}):a.jsxs(a.Fragment,{children:[a.jsx($o,{className:"w-5 h-5 mr-2"}),"Analisar Estratgia"]})}),a.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Esta anlise consumir 1000 tokens"})]}),N.length>0&&a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[a.jsx(Fc,{className:"w-5 h-5 text-blue-400 mr-2"}),"Anlises Recentes"]}),a.jsx("div",{className:"space-y-3",children:N.map((I,R)=>a.jsxs("button",{onClick:()=>ge(I.analysis_data),className:"w-full p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left flex items-center",children:[a.jsx(ws,{className:"w-5 h-5 text-blue-400 mr-3 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"font-medium truncate",children:["Anlise ",R+1]}),a.jsx("p",{className:"text-xs text-gray-400",children:new Date(I.created_at).toLocaleString()})]})]},R))})]}),E&&a.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden h-[500px] mb-6",children:a.jsx(OC,{isAnalyzing:i,setIsAnalyzing:o,onCancelAnalysis:se,error:l,setError:c,analysisResult:u})}),!E&&a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[a.jsx(GD,{className:"w-5 h-5 text-yellow-400 mr-2"}),"Dicas para Descrio"]}),a.jsxs("div",{className:"space-y-4 text-gray-300",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"Inclua os Indicadores"}),a.jsx("p",{className:"text-sm",children:"Descreva quais indicadores tcnicos sua estratgia utiliza (ex: mdias mveis, RSI, Bollinger Bands)."})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"Regras de Entrada e Sada"}),a.jsx("p",{className:"text-sm",children:"Explique claramente o que dispara suas entradas e sadas no mercado."})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"Gerenciamento de Risco"}),a.jsx("p",{className:"text-sm",children:"Detalhe como voc define stop loss, take profit e tamanho das posies."})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"Timeframes e Mercados"}),a.jsx("p",{className:"text-sm",children:"Mencione em quais timeframes e mercados voc aplica esta estratgia."})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"Filtros e Condies"}),a.jsx("p",{className:"text-sm",children:"Descreva quaisquer filtros ou condies especiais que voc usa para melhorar a qualidade dos sinais."})]})]})]})]}),a.jsx("div",{className:"lg:col-span-2",children:u?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[a.jsx(ws,{className:"w-5 h-5 text-blue-400 mr-2"}),"Resumo da Estratgia"]}),a.jsx("p",{className:"text-gray-300",children:u.summary})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[a.jsx(Mt,{className:"w-5 h-5 text-blue-400 mr-2"}),"Condies de Mercado"]}),a.jsx("button",{onClick:()=>h(!f),className:"p-1.5 hover:bg-gray-700 rounded-md",children:f?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]}),f&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-medium mb-2 text-green-400",children:"Melhores Condies"}),a.jsx("ul",{className:"space-y-1.5",children:u.marketConditions.bestFor.map((I,R)=>a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx(at,{className:"w-4 h-4 text-green-500 mr-1.5 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:I})]},R))})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-medium mb-2 text-red-400",children:"Piores Condies"}),a.jsx("ul",{className:"space-y-1.5",children:u.marketConditions.worstFor.map((I,R)=>a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx(it,{className:"w-4 h-4 text-red-500 mr-1.5 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:I})]},R))})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-yellow-500 mr-2"}),"Anlise de Risco"]}),a.jsx("button",{onClick:()=>m(!p),className:"p-1.5 hover:bg-gray-700 rounded-md",children:p?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]}),p&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Nvel de Risco"}),a.jsx("div",{className:`inline-block px-2 py-1 rounded-full text-sm font-medium ${u.riskAnalysis.riskLevel.toLowerCase().includes("alto")?"bg-red-500 bg-opacity-20 text-red-400":u.riskAnalysis.riskLevel.toLowerCase().includes("mdio")?"bg-yellow-500 bg-opacity-20 text-yellow-400":"bg-green-500 bg-opacity-20 text-green-400"}`,children:ie(u.riskAnalysis.riskLevel)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Riscos Principais"}),a.jsx("ul",{className:"space-y-2",children:u.riskAnalysis.keyRisks.map((I,R)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(it,{className:"w-5 h-5 text-yellow-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:I})]},R))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Estratgias de Mitigao"}),a.jsx("ul",{className:"space-y-2",children:u.riskAnalysis.mitigationStrategies.map((I,R)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(at,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:I})]},R))})]})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[a.jsx(Re,{className:"w-5 h-5 text-purple-400 mr-2"}),"Sugestes de Otimizao"]}),a.jsx("button",{onClick:()=>v(!y),className:"p-1.5 hover:bg-gray-700 rounded-md",children:y?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]}),y&&a.jsx("div",{className:"space-y-3",children:u.optimizationSuggestions.map((I,R)=>a.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"bg-purple-600 rounded-full w-6 h-6 flex items-center justify-center text-white font-medium mr-3 flex-shrink-0",children:R+1}),a.jsx("p",{children:I})]})},R))})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[a.jsx(Fc,{className:"w-5 h-5 text-blue-400 mr-2"}),"Plano de Trading"]}),a.jsx("button",{onClick:()=>b(!x),className:"p-1.5 hover:bg-gray-700 rounded-md",children:x?a.jsx(ut,{className:"w-5 h-5 text-gray-400"}):a.jsx(Ze,{className:"w-5 h-5 text-gray-400"})})]}),x&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Regras de Entrada"}),a.jsx("ul",{className:"space-y-2",children:u.tradingPlan.entryRules.map((I,R)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"bg-green-600 rounded-full w-6 h-6 flex items-center justify-center text-white font-medium mr-2 flex-shrink-0",children:R+1}),a.jsx("span",{children:I})]},R))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Regras de Sada"}),a.jsx("ul",{className:"space-y-2",children:u.tradingPlan.exitRules.map((I,R)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"bg-red-600 rounded-full w-6 h-6 flex items-center justify-center text-white font-medium mr-2 flex-shrink-0",children:R+1}),a.jsx("span",{children:I})]},R))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Dimensionamento de Posio"}),a.jsx("p",{children:u.tradingPlan.positionSizing})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Gerenciamento de Tempo"}),a.jsx("p",{children:u.tradingPlan.timeManagement})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[a.jsxs("button",{onClick:B,className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center justify-center",children:[a.jsx(ki,{className:"w-5 h-5 mr-2"}),"Baixar Relatrio"]}),a.jsxs("button",{onClick:()=>{e("/robots")},className:"flex-1 py-2 px-4 bg-green-600 hover:bg-green-700 rounded-md flex items-center justify-center",children:[a.jsx(Do,{className:"w-5 h-5 mr-2"}),"Consultar IA para Melhorias"]})]})]}):a.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 flex flex-col items-center justify-center text-center h-full",children:[a.jsx($o,{className:"w-16 h-16 text-gray-600 mb-4"}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Nenhuma anlise disponvel"}),a.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:"Descreva sua estratgia de trading para receber uma anlise detalhada e recomendaes personalizadas."})]})})]})]})]})}function pJ(){const e=Nt(),t=[{id:"free",name:"Free",price:"R$ 0,00",description:"Ideal para iniciantes explorarem a plataforma",features:["At 5 robs de trading","100 tokens iniciais","Acesso  comunidade","Documentao completa","Suporte bsico"],popular:!1,cta:"Comear Grtis"},{id:"pro1",name:"PRO 1",price:"R$ 259,80/ms",description:"Para traders que esto comeando a automatizar",features:["At 25 robs de trading","5.000 tokens mensais","Anlise de backtest bsica","Acesso  comunidade","Suporte por email"],popular:!1,cta:"Escolher Plano"},{id:"pro2",name:"PRO 2",price:"R$ 499,80/ms",description:"Para traders srios que buscam resultados",features:["At 100 robs de trading","12.500 tokens mensais","Anlise de backtest avanada","Suporte prioritrio","Acesso a indicadores exclusivos","API para integrao"],popular:!0,cta:"Escolher Plano"},{id:"pro3",name:"PRO 3",price:"R$ 999,80/ms",description:"Para traders profissionais e equipes",features:["Robs ilimitados","30.000 tokens mensais","Anlise de backtest avanada","Suporte dedicado","Acesso a todos os recursos","API para integrao","Opes de white-label"],popular:!1,cta:"Escolher Plano"}],r=[{tokens:"2.500",price:"R$ 99,80",popular:!1},{tokens:"7.500",price:"R$ 259,80",popular:!0},{tokens:"25.000",price:"R$ 799,80",popular:!1}],n=()=>{e("/?signup=true")},s=()=>{const o=encodeURIComponent("Ol vim do DevHub Trader e quero mais informaes sobre os planos");window.open(`https://wa.me/5511975333355?text=${o}`,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx("nav",{className:"border-b border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>e("/"),children:[a.jsx(jt,{className:"w-8 h-8 text-blue-500"}),a.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"DevHub Trader"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/?login=true"),className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Entrar"}),a.jsxs("button",{onClick:()=>e("/?signup=true"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center",children:["Cadastrar ",a.jsx(Ld,{className:"w-4 h-4 ml-2"})]})]})]})})}),a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Planos para Todos os Perfis de Trader"}),a.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Escolha o plano ideal para suas necessidades de trading automatizado e comece a criar robs com assistncia de IA hoje mesmo."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx("button",{onClick:n,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md font-medium text-lg",children:"Comear Gratuitamente"}),a.jsx("button",{onClick:s,className:"px-6 py-3 bg-white text-blue-900 hover:bg-gray-100 rounded-md font-medium text-lg",children:"Falar com Especialista"})]})]})}),a.jsx("div",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Nossos Planos"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Escolha o plano que melhor se adapta s suas necessidades de trading"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(i=>a.jsxs("div",{className:`bg-gray-800 rounded-lg overflow-hidden ${i.popular?"ring-2 ring-blue-500 transform scale-105 z-10":""}`,children:[i.popular&&a.jsx("div",{className:"bg-blue-600 text-center py-2",children:a.jsx("p",{className:"text-sm font-medium",children:"Mais Popular"})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold",children:i.name}),i.id==="pro2"&&a.jsx(Zn,{className:"w-5 h-5 text-yellow-500"}),i.id==="pro3"&&a.jsx(gi,{className:"w-5 h-5 text-purple-500"}),i.id==="free"&&a.jsx(Fn,{className:"w-5 h-5 text-green-500"}),i.id==="pro1"&&a.jsx(Re,{className:"w-5 h-5 text-blue-500"})]}),a.jsx("p",{className:"text-2xl font-bold mb-2",children:i.price}),a.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:i.description}),a.jsx("ul",{className:"space-y-3 mb-6",children:i.features.map((o,l)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(at,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:o})]},l))}),a.jsx("button",{onClick:i.id==="free"?n:s,className:`w-full py-2 rounded-md ${i.popular?"bg-blue-600 hover:bg-blue-700":"bg-gray-700 hover:bg-gray-600"}`,children:i.cta})]})]},i.id))})]})}),a.jsx("div",{className:"py-16 bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pacotes de Tokens"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Recarregue seus tokens para continuar utilizando os recursos de IA"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:r.map((i,o)=>a.jsxs("div",{className:`bg-gray-800 rounded-lg overflow-hidden ${i.popular?"ring-2 ring-yellow-500":""}`,children:[i.popular&&a.jsx("div",{className:"bg-yellow-600 text-center py-2",children:a.jsx("p",{className:"text-sm font-medium",children:"Melhor Custo-Benefcio"})}),a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Re,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:i.tokens}),a.jsx("p",{className:"text-gray-400 mb-2",children:"tokens"}),a.jsx("p",{className:"text-xl font-bold mb-6",children:i.price}),a.jsx("button",{onClick:s,className:`w-full py-2 rounded-md ${i.popular?"bg-yellow-600 hover:bg-yellow-700":"bg-gray-700 hover:bg-gray-600"}`,children:"Comprar Tokens"})]})]},o))})]})}),a.jsx("div",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"O Que Voc Pode Fazer"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Conhea os recursos disponveis em nossa plataforma"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-3 mr-4",children:a.jsx(jt,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Criao com IA"})]}),a.jsx("p",{className:"text-gray-300",children:"Crie robs de trading com assistncia de IA. Descreva sua estratgia e deixe a IA fazer o cdigo."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-green-600 rounded-full p-3 mr-4",children:a.jsx(Ar,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Anlise de Backtest"})]}),a.jsx("p",{className:"text-gray-300",children:"Analise seus resultados de backtest com mtricas avanadas e insights de IA para melhorar performance."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-purple-600 rounded-full p-3 mr-4",children:a.jsx(Sf,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Otimizao com IA"})]}),a.jsx("p",{className:"text-gray-300",children:"Otimize suas estratgias existentes com sugestes de IA para melhor gerenciamento de risco e retornos."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-yellow-600 rounded-full p-3 mr-4",children:a.jsx(Fn,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Colaborao em Tempo Real"})]}),a.jsx("p",{className:"text-gray-300",children:"Colabore com sua equipe em tempo real no desenvolvimento de robs, com controle de verso integrado."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-red-600 rounded-full p-3 mr-4",children:a.jsx(Do,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Suporte Especializado"})]}),a.jsx("p",{className:"text-gray-300",children:"Receba suporte de especialistas em trading e desenvolvimento para tirar suas dvidas e resolver problemas."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-indigo-600 rounded-full p-3 mr-4",children:a.jsx(Zn,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Recursos Premium"})]}),a.jsx("p",{className:"text-gray-300",children:"Acesse recursos exclusivos como indicadores personalizados, anlise de mercado e estratgias avanadas."})]})]})]})}),a.jsx("div",{className:"py-16 bg-gray-900",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Perguntas Frequentes"}),a.jsx("p",{className:"text-xl text-gray-400",children:"Tire suas dvidas sobre nossos planos e servios"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-medium mb-3",children:"O que so tokens e como funcionam?"}),a.jsx("p",{className:"text-gray-300",children:"Tokens so a moeda utilizada para acessar recursos de IA na plataforma. Cada interao com a IA (criao de rob, anlise de backtest, otimizao) consome uma quantidade especfica de tokens. Cada plano inclui uma alocao mensal de tokens, e voc pode comprar pacotes adicionais conforme necessrio."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-medium mb-3",children:"Posso mudar de plano a qualquer momento?"}),a.jsx("p",{className:"text-gray-300",children:"Sim, voc pode fazer upgrade ou downgrade do seu plano a qualquer momento. Ao fazer upgrade, voc ter acesso imediato aos novos recursos e tokens. Ao fazer downgrade, as mudanas sero aplicadas no prximo ciclo de faturamento."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-medium mb-3",children:"Os tokens expiram?"}),a.jsx("p",{className:"text-gray-300",children:"Tokens includos em sua assinatura mensal so renovados a cada ciclo de faturamento. Tokens no utilizados no so acumulados para o prximo ms. Tokens adquiridos separadamente no expiram e permanecem em sua conta at serem utilizados."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-medium mb-3",children:"Posso cancelar minha assinatura?"}),a.jsx("p",{className:"text-gray-300",children:"Sim, voc pode cancelar sua assinatura a qualquer momento. Aps o cancelamento, voc manter o acesso ao plano atual at o final do perodo de faturamento. Depois disso, sua conta ser convertida para o plano gratuito, mantendo seus robs existentes dentro do limite do plano gratuito."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-medium mb-3",children:"Como funciona o suporte?"}),a.jsx("p",{className:"text-gray-300",children:"O nvel de suporte varia de acordo com seu plano. O plano Free oferece suporte bsico via comunidade, o PRO 1 inclui suporte por email, o PRO 2 oferece suporte prioritrio, e o PRO 3 inclui suporte dedicado com tempos de resposta mais rpidos e assistncia personalizada."})]})]})]})}),a.jsx("div",{className:"py-16 bg-gradient-to-r from-blue-900 to-indigo-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pronto para Transformar seu Trading?"}),a.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Junte-se a milhares de traders que j esto usando o DevHub Trader para criar, analisar e otimizar suas estratgias de trading."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx("button",{onClick:n,className:"px-8 py-4 bg-white text-blue-900 rounded-md font-bold text-lg hover:bg-gray-100 transition-colors",children:"Comece Agora"}),a.jsx("button",{onClick:s,className:"px-8 py-4 bg-blue-700 hover:bg-blue-800 text-white rounded-md font-bold text-lg transition-colors",children:"Falar com Especialista"})]})]})}),a.jsx("footer",{className:"bg-gray-900 border-t border-gray-800 py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[a.jsx(jt,{className:"w-8 h-8 text-blue-500"}),a.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"DevHub Trader"})]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Termos de Servio"}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Poltica de Privacidade"}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Contato"})]})]}),a.jsxs("div",{className:"mt-8 text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," DevHub Trader. Todos os direitos reservados."]})]})})]})}function gJ(){const[e,t]=g.useState(!1),{session:r,loadProfile:n}=Rt();return g.useEffect(()=>{n()},[n]),g.useEffect(()=>{t(!!r)},[r]),e?a.jsxs(a.Fragment,{children:[a.jsx(w1,{children:a.jsxs(v1,{children:[a.jsx(St,{path:"/",element:a.jsx(W1,{})}),a.jsx(St,{path:"/editor/:robotId",element:a.jsx(RL,{})}),a.jsx(St,{path:"/robots",element:a.jsx(DL,{})}),a.jsx(St,{path:"/community",element:a.jsx(FL,{})}),a.jsx(St,{path:"/profile",element:a.jsx(LL,{})}),a.jsx(St,{path:"/subscription",element:a.jsx(jj,{})}),a.jsx(St,{path:"/plans",element:a.jsx(jj,{})}),a.jsx(St,{path:"/admin",element:a.jsx(BL,{})}),a.jsx(St,{path:"/experts",element:a.jsx(zL,{})}),a.jsx(St,{path:"/developer-signup",element:a.jsx(UL,{})}),a.jsx(St,{path:"/proprietary",element:a.jsx(VL,{})}),a.jsx(St,{path:"/profit-estrategista",element:a.jsx(qL,{})}),a.jsx(St,{path:"/backtest-analysis",element:a.jsx(fJ,{})}),a.jsx(St,{path:"/strategy-analysis",element:a.jsx(mJ,{})}),a.jsx(St,{path:"*",element:a.jsx(IM,{to:"/",replace:!0})})]})}),a.jsx(Nj,{})]}):a.jsxs(a.Fragment,{children:[a.jsx(w1,{children:a.jsxs(v1,{children:[a.jsx(St,{path:"/plans",element:a.jsx(pJ,{})}),a.jsx(St,{path:"*",element:a.jsx(W1,{})})]})}),a.jsx(Nj,{})]})}AD().then(e=>{if(!e){console.error("Failed to initialize Supabase"),pg(document.getElementById("root")).render(a.jsx(g.StrictMode,{children:a.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Connection Error"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Unable to connect to the server. Please check your internet connection and try again."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Retry"})]})})}));return}pg(document.getElementById("root")).render(a.jsx(g.StrictMode,{children:a.jsx(gJ,{})}))});export{ns as g};
