var zP=Object.defineProperty;var BP=(e,t,r)=>t in e?zP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Wh=(e,t,r)=>BP(e,typeof t!="symbol"?t+"":t,r);function UP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var dn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var vj={exports:{}},hm={},yj={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=Symbol.for("react.element"),VP=Symbol.for("react.portal"),WP=Symbol.for("react.fragment"),HP=Symbol.for("react.strict_mode"),KP=Symbol.for("react.profiler"),GP=Symbol.for("react.provider"),YP=Symbol.for("react.context"),JP=Symbol.for("react.forward_ref"),XP=Symbol.for("react.suspense"),QP=Symbol.for("react.memo"),ZP=Symbol.for("react.lazy"),Wv=Symbol.iterator;function e3(e){return e===null||typeof e!="object"?null:(e=Wv&&e[Wv]||e["@@iterator"],typeof e=="function"?e:null)}var bj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wj=Object.assign,jj={};function wo(e,t,r){this.props=e,this.context=t,this.refs=jj,this.updater=r||bj}wo.prototype.isReactComponent={};wo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nj(){}Nj.prototype=wo.prototype;function eg(e,t,r){this.props=e,this.context=t,this.refs=jj,this.updater=r||bj}var tg=eg.prototype=new Nj;tg.constructor=eg;wj(tg,wo.prototype);tg.isPureReactComponent=!0;var Hv=Array.isArray,kj=Object.prototype.hasOwnProperty,rg={current:null},Sj={key:!0,ref:!0,__self:!0,__source:!0};function _j(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)kj.call(t,n)&&!Sj.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:xc,type:e,key:i,ref:o,props:s,_owner:rg.current}}function t3(e,t){return{$$typeof:xc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ng(e){return typeof e=="object"&&e!==null&&e.$$typeof===xc}function r3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Kv=/\/+/g;function Hh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?r3(""+e.key):t.toString(36)}function Dd(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xc:case VP:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Hh(o,0):n,Hv(s)?(r="",e!=null&&(r=e.replace(Kv,"$&/")+"/"),Dd(s,t,r,"",function(d){return d})):s!=null&&(ng(s)&&(s=t3(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Kv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Hv(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Hh(i,l);o+=Dd(i,t,r,c,s)}else if(c=e3(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Hh(i,l++),o+=Dd(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gc(e,t,r){if(e==null)return e;var n=[],s=0;return Dd(e,n,"","",function(i){return t.call(r,i,s++)}),n}function n3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gr={current:null},Md={transition:null},a3={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:Md,ReactCurrentOwner:rg};function Cj(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Gc,forEach:function(e,t,r){Gc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gc(e,function(){t++}),t},toArray:function(e){return Gc(e,function(t){return t})||[]},only:function(e){if(!ng(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=wo;Ce.Fragment=WP;Ce.Profiler=KP;Ce.PureComponent=eg;Ce.StrictMode=HP;Ce.Suspense=XP;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a3;Ce.act=Cj;Ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=wj({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=rg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)kj.call(t,c)&&!Sj.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:xc,type:e.type,key:s,ref:i,props:n,_owner:o}};Ce.createContext=function(e){return e={$$typeof:YP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GP,_context:e},e.Consumer=e};Ce.createElement=_j;Ce.createFactory=function(e){var t=_j.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:JP,render:e}};Ce.isValidElement=ng;Ce.lazy=function(e){return{$$typeof:ZP,_payload:{_status:-1,_result:e},_init:n3}};Ce.memo=function(e,t){return{$$typeof:QP,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=Md.transition;Md.transition={};try{e()}finally{Md.transition=t}};Ce.unstable_act=Cj;Ce.useCallback=function(e,t){return gr.current.useCallback(e,t)};Ce.useContext=function(e){return gr.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return gr.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return gr.current.useEffect(e,t)};Ce.useId=function(){return gr.current.useId()};Ce.useImperativeHandle=function(e,t,r){return gr.current.useImperativeHandle(e,t,r)};Ce.useInsertionEffect=function(e,t){return gr.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return gr.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return gr.current.useMemo(e,t)};Ce.useReducer=function(e,t,r){return gr.current.useReducer(e,t,r)};Ce.useRef=function(e){return gr.current.useRef(e)};Ce.useState=function(e){return gr.current.useState(e)};Ce.useSyncExternalStore=function(e,t,r){return gr.current.useSyncExternalStore(e,t,r)};Ce.useTransition=function(){return gr.current.useTransition()};Ce.version="18.3.1";yj.exports=Ce;var g=yj.exports;const It=Jn(g),s3=UP({__proto__:null,default:It},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i3=g,o3=Symbol.for("react.element"),l3=Symbol.for("react.fragment"),c3=Object.prototype.hasOwnProperty,d3=i3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u3={key:!0,ref:!0,__self:!0,__source:!0};function Pj(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)c3.call(t,n)&&!u3.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:o3,type:e,key:i,ref:o,props:s,_owner:d3.current}}hm.Fragment=l3;hm.jsx=Pj;hm.jsxs=Pj;vj.exports=hm;var a=vj.exports,Ej={exports:{}},Gr={},Aj={exports:{}},Tj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,O){var V=A.length;A.push(O);e:for(;0<V;){var W=V-1>>>1,U=A[W];if(0<s(U,O))A[W]=O,A[V]=U,V=W;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var O=A[0],V=A.pop();if(V!==O){A[0]=V;e:for(var W=0,U=A.length,J=U>>>1;W<J;){var G=2*(W+1)-1,z=A[G],Z=G+1,se=A[Z];if(0>s(z,V))Z<U&&0>s(se,z)?(A[W]=se,A[Z]=V,W=Z):(A[W]=z,A[G]=V,W=G);else if(Z<U&&0>s(se,V))A[W]=se,A[Z]=V,W=Z;else break e}}return O}function s(A,O){var V=A.sortIndex-O.sortIndex;return V!==0?V:A.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,f=!1,p=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(A){for(var O=r(d);O!==null;){if(O.callback===null)n(d);else if(O.startTime<=A)n(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(d)}}function N(A){if(v=!1,j(A),!p)if(r(c)!==null)p=!0,F(w);else{var O=r(d);O!==null&&L(N,O.startTime-A)}}function w(A,O){p=!1,v&&(v=!1,x(E),E=-1),f=!0;var V=h;try{for(j(O),m=r(c);m!==null&&(!(m.expirationTime>O)||A&&!C());){var W=m.callback;if(typeof W=="function"){m.callback=null,h=m.priorityLevel;var U=W(m.expirationTime<=O);O=e.unstable_now(),typeof U=="function"?m.callback=U:m===r(c)&&n(c),j(O)}else n(c);m=r(c)}if(m!==null)var J=!0;else{var G=r(d);G!==null&&L(N,G.startTime-O),J=!1}return J}finally{m=null,h=V,f=!1}}var k=!1,S=null,E=-1,R=5,_=-1;function C(){return!(e.unstable_now()-_<R)}function B(){if(S!==null){var A=e.unstable_now();_=A;var O=!0;try{O=S(!0,A)}finally{O?D():(k=!1,S=null)}}else k=!1}var D;if(typeof b=="function")D=function(){b(B)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,$=T.port2;T.port1.onmessage=B,D=function(){$.postMessage(null)}}else D=function(){y(B,0)};function F(A){S=A,k||(k=!0,D())}function L(A,O){E=y(function(){A(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,F(w))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var V=h;h=O;try{return A()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var V=h;h=A;try{return O()}finally{h=V}},e.unstable_scheduleCallback=function(A,O,V){var W=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?W+V:W):V=W,A){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=V+U,A={id:u++,callback:O,priorityLevel:A,startTime:V,expirationTime:U,sortIndex:-1},V>W?(A.sortIndex=V,t(d,A),r(c)===null&&A===r(d)&&(v?(x(E),E=-1):v=!0,L(N,V-W))):(A.sortIndex=U,t(c,A),p||f||(p=!0,F(w))),A},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(A){var O=h;return function(){var V=h;h=O;try{return A.apply(this,arguments)}finally{h=V}}}})(Tj);Aj.exports=Tj;var m3=Aj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h3=g,qr=m3;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Oj=new Set,Ml={};function si(e,t){Qi(e,t),Qi(e+"Capture",t)}function Qi(e,t){for(Ml[e]=t,e=0;e<t.length;e++)Oj.add(t[e])}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qf=Object.prototype.hasOwnProperty,f3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gv={},Yv={};function p3(e){return Qf.call(Yv,e)?!0:Qf.call(Gv,e)?!1:f3.test(e)?Yv[e]=!0:(Gv[e]=!0,!1)}function g3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x3(e,t,r,n){if(t===null||typeof t>"u"||g3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yt[e]=new xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yt[e]=new xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yt[e]=new xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var ag=/[\-:]([a-z])/g;function sg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ag,sg);Yt[t]=new xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ag,sg);Yt[t]=new xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ag,sg);Yt[t]=new xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new xr(e,1,!1,e.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yt[e]=new xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ig(e,t,r,n){var s=Yt.hasOwnProperty(t)?Yt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(x3(t,r,s,n)&&(r=null),n||s===null?p3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var va=h3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),Ci=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),og=Symbol.for("react.strict_mode"),Zf=Symbol.for("react.profiler"),Dj=Symbol.for("react.provider"),Mj=Symbol.for("react.context"),lg=Symbol.for("react.forward_ref"),e0=Symbol.for("react.suspense"),t0=Symbol.for("react.suspense_list"),cg=Symbol.for("react.memo"),Oa=Symbol.for("react.lazy"),Rj=Symbol.for("react.offscreen"),Jv=Symbol.iterator;function Uo(e){return e===null||typeof e!="object"?null:(e=Jv&&e[Jv]||e["@@iterator"],typeof e=="function"?e:null)}var dt=Object.assign,Kh;function ol(e){if(Kh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Kh=t&&t[1]||""}return`
`+Kh+e}var Gh=!1;function Yh(e,t){if(!e||Gh)return"";Gh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Gh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ol(e):""}function v3(e){switch(e.tag){case 5:return ol(e.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return e=Yh(e.type,!1),e;case 11:return e=Yh(e.type.render,!1),e;case 1:return e=Yh(e.type,!0),e;default:return""}}function r0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pi:return"Fragment";case Ci:return"Portal";case Zf:return"Profiler";case og:return"StrictMode";case e0:return"Suspense";case t0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mj:return(e.displayName||"Context")+".Consumer";case Dj:return(e._context.displayName||"Context")+".Provider";case lg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cg:return t=e.displayName||null,t!==null?t:r0(e.type)||"Memo";case Oa:t=e._payload,e=e._init;try{return r0(e(t))}catch{}}return null}function y3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return r0(t);case 8:return t===og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ns(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $j(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function b3(e){var t=$j(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jc(e){e._valueTracker||(e._valueTracker=b3(e))}function Ij(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$j(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Yd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function n0(e,t){var r=t.checked;return dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ns(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lj(e,t){t=t.checked,t!=null&&ig(e,"checked",t,!1)}function a0(e,t){Lj(e,t);var r=ns(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?s0(e,t.type,r):t.hasOwnProperty("defaultValue")&&s0(e,t.type,ns(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function s0(e,t,r){(t!=="number"||Yd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ll=Array.isArray;function qi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ns(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function i0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ce(92));if(ll(r)){if(1<r.length)throw Error(ce(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ns(r)}}function Fj(e,t){var r=ns(t.value),n=ns(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ey(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xc,Bj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xc=Xc||document.createElement("div"),Xc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w3=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(e){w3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pl[t]=pl[e]})});function Uj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||pl.hasOwnProperty(e)&&pl[e]?(""+t).trim():t+"px"}function qj(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Uj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var j3=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l0(e,t){if(t){if(j3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function c0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d0=null;function dg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var u0=null,Vi=null,Wi=null;function ty(e){if(e=bc(e)){if(typeof u0!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=vm(t),u0(e.stateNode,e.type,t))}}function Vj(e){Vi?Wi?Wi.push(e):Wi=[e]:Vi=e}function Wj(){if(Vi){var e=Vi,t=Wi;if(Wi=Vi=null,ty(e),t)for(e=0;e<t.length;e++)ty(t[e])}}function Hj(e,t){return e(t)}function Kj(){}var Jh=!1;function Gj(e,t,r){if(Jh)return e(t,r);Jh=!0;try{return Hj(e,t,r)}finally{Jh=!1,(Vi!==null||Wi!==null)&&(Kj(),Wj())}}function $l(e,t){var r=e.stateNode;if(r===null)return null;var n=vm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ce(231,t,typeof r));return r}var m0=!1;if(da)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){m0=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{m0=!1}function N3(e,t,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var gl=!1,Jd=null,Xd=!1,h0=null,k3={onError:function(e){gl=!0,Jd=e}};function S3(e,t,r,n,s,i,o,l,c){gl=!1,Jd=null,N3.apply(k3,arguments)}function _3(e,t,r,n,s,i,o,l,c){if(S3.apply(this,arguments),gl){if(gl){var d=Jd;gl=!1,Jd=null}else throw Error(ce(198));Xd||(Xd=!0,h0=d)}}function ii(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Yj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ry(e){if(ii(e)!==e)throw Error(ce(188))}function C3(e){var t=e.alternate;if(!t){if(t=ii(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ry(s),e;if(i===n)return ry(s),t;i=i.sibling}throw Error(ce(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?e:t}function Jj(e){return e=C3(e),e!==null?Xj(e):null}function Xj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xj(e);if(t!==null)return t;e=e.sibling}return null}var Qj=qr.unstable_scheduleCallback,ny=qr.unstable_cancelCallback,P3=qr.unstable_shouldYield,E3=qr.unstable_requestPaint,pt=qr.unstable_now,A3=qr.unstable_getCurrentPriorityLevel,ug=qr.unstable_ImmediatePriority,Zj=qr.unstable_UserBlockingPriority,Qd=qr.unstable_NormalPriority,T3=qr.unstable_LowPriority,eN=qr.unstable_IdlePriority,fm=null,Un=null;function O3(e){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(fm,e,void 0,(e.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:R3,D3=Math.log,M3=Math.LN2;function R3(e){return e>>>=0,e===0?32:31-(D3(e)/M3|0)|0}var Qc=64,Zc=4194304;function cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=cl(l):(i&=o,i!==0&&(n=cl(i)))}else o=r&~s,o!==0?n=cl(o):i!==0&&(n=cl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-En(t),s=1<<r,n|=e[r],t&=~s;return n}function $3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I3(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-En(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=$3(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function f0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tN(){var e=Qc;return Qc<<=1,!(Qc&4194240)&&(Qc=64),e}function Xh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-En(t),e[t]=r}function L3(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-En(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function mg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-En(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ie=0;function rN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nN,hg,aN,sN,iN,p0=!1,ed=[],Va=null,Wa=null,Ha=null,Il=new Map,Ll=new Map,$a=[],F3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ay(e,t){switch(e){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(t.pointerId)}}function Vo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=bc(t),t!==null&&hg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function z3(e,t,r,n,s){switch(t){case"focusin":return Va=Vo(Va,e,t,r,n,s),!0;case"dragenter":return Wa=Vo(Wa,e,t,r,n,s),!0;case"mouseover":return Ha=Vo(Ha,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Il.set(i,Vo(Il.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ll.set(i,Vo(Ll.get(i)||null,e,t,r,n,s)),!0}return!1}function oN(e){var t=Os(e.target);if(t!==null){var r=ii(t);if(r!==null){if(t=r.tag,t===13){if(t=Yj(r),t!==null){e.blockedOn=t,iN(e.priority,function(){aN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=g0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);d0=n,r.target.dispatchEvent(n),d0=null}else return t=bc(r),t!==null&&hg(t),e.blockedOn=r,!1;t.shift()}return!0}function sy(e,t,r){Rd(e)&&r.delete(t)}function B3(){p0=!1,Va!==null&&Rd(Va)&&(Va=null),Wa!==null&&Rd(Wa)&&(Wa=null),Ha!==null&&Rd(Ha)&&(Ha=null),Il.forEach(sy),Ll.forEach(sy)}function Wo(e,t){e.blockedOn===t&&(e.blockedOn=null,p0||(p0=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,B3)))}function Fl(e){function t(s){return Wo(s,e)}if(0<ed.length){Wo(ed[0],e);for(var r=1;r<ed.length;r++){var n=ed[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Va!==null&&Wo(Va,e),Wa!==null&&Wo(Wa,e),Ha!==null&&Wo(Ha,e),Il.forEach(t),Ll.forEach(t),r=0;r<$a.length;r++)n=$a[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$a.length&&(r=$a[0],r.blockedOn===null);)oN(r),r.blockedOn===null&&$a.shift()}var Hi=va.ReactCurrentBatchConfig,eu=!0;function U3(e,t,r,n){var s=Ie,i=Hi.transition;Hi.transition=null;try{Ie=1,fg(e,t,r,n)}finally{Ie=s,Hi.transition=i}}function q3(e,t,r,n){var s=Ie,i=Hi.transition;Hi.transition=null;try{Ie=4,fg(e,t,r,n)}finally{Ie=s,Hi.transition=i}}function fg(e,t,r,n){if(eu){var s=g0(e,t,r,n);if(s===null)lf(e,t,n,tu,r),ay(e,n);else if(z3(s,e,t,r,n))n.stopPropagation();else if(ay(e,n),t&4&&-1<F3.indexOf(e)){for(;s!==null;){var i=bc(s);if(i!==null&&nN(i),i=g0(e,t,r,n),i===null&&lf(e,t,n,tu,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else lf(e,t,n,null,r)}}var tu=null;function g0(e,t,r,n){if(tu=null,e=dg(n),e=Os(e),e!==null)if(t=ii(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Yj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tu=e,null}function lN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A3()){case ug:return 1;case Zj:return 4;case Qd:case T3:return 16;case eN:return 536870912;default:return 16}default:return 16}}var za=null,pg=null,$d=null;function cN(){if($d)return $d;var e,t=pg,r=t.length,n,s="value"in za?za.value:za.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return $d=s.slice(e,1<n?1-n:void 0)}function Id(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function td(){return!0}function iy(){return!1}function Yr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?td:iy,this.isPropagationStopped=iy,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=td)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=td)},persist:function(){},isPersistent:td}),t}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gg=Yr(jo),yc=dt({},jo,{view:0,detail:0}),V3=Yr(yc),Qh,Zh,Ho,pm=dt({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ho&&(Ho&&e.type==="mousemove"?(Qh=e.screenX-Ho.screenX,Zh=e.screenY-Ho.screenY):Zh=Qh=0,Ho=e),Qh)},movementY:function(e){return"movementY"in e?e.movementY:Zh}}),oy=Yr(pm),W3=dt({},pm,{dataTransfer:0}),H3=Yr(W3),K3=dt({},yc,{relatedTarget:0}),ef=Yr(K3),G3=dt({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),Y3=Yr(G3),J3=dt({},jo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X3=Yr(J3),Q3=dt({},jo,{data:0}),ly=Yr(Q3),Z3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tE[e])?!!t[e]:!1}function xg(){return rE}var nE=dt({},yc,{key:function(e){if(e.key){var t=Z3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Id(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xg,charCode:function(e){return e.type==="keypress"?Id(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Id(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aE=Yr(nE),sE=dt({},pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cy=Yr(sE),iE=dt({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xg}),oE=Yr(iE),lE=dt({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),cE=Yr(lE),dE=dt({},pm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uE=Yr(dE),mE=[9,13,27,32],vg=da&&"CompositionEvent"in window,xl=null;da&&"documentMode"in document&&(xl=document.documentMode);var hE=da&&"TextEvent"in window&&!xl,dN=da&&(!vg||xl&&8<xl&&11>=xl),dy=" ",uy=!1;function uN(e,t){switch(e){case"keyup":return mE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function fE(e,t){switch(e){case"compositionend":return mN(t);case"keypress":return t.which!==32?null:(uy=!0,dy);case"textInput":return e=t.data,e===dy&&uy?null:e;default:return null}}function pE(e,t){if(Ei)return e==="compositionend"||!vg&&uN(e,t)?(e=cN(),$d=pg=za=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dN&&t.locale!=="ko"?null:t.data;default:return null}}var gE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gE[e.type]:t==="textarea"}function hN(e,t,r,n){Vj(n),t=ru(t,"onChange"),0<t.length&&(r=new gg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vl=null,zl=null;function xE(e){kN(e,0)}function gm(e){var t=Oi(e);if(Ij(t))return e}function vE(e,t){if(e==="change")return t}var fN=!1;if(da){var tf;if(da){var rf="oninput"in document;if(!rf){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),rf=typeof hy.oninput=="function"}tf=rf}else tf=!1;fN=tf&&(!document.documentMode||9<document.documentMode)}function fy(){vl&&(vl.detachEvent("onpropertychange",pN),zl=vl=null)}function pN(e){if(e.propertyName==="value"&&gm(zl)){var t=[];hN(t,zl,e,dg(e)),Gj(xE,t)}}function yE(e,t,r){e==="focusin"?(fy(),vl=t,zl=r,vl.attachEvent("onpropertychange",pN)):e==="focusout"&&fy()}function bE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gm(zl)}function wE(e,t){if(e==="click")return gm(t)}function jE(e,t){if(e==="input"||e==="change")return gm(t)}function NE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:NE;function Bl(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Qf.call(t,s)||!Dn(e[s],t[s]))return!1}return!0}function py(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gy(e,t){var r=py(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=py(r)}}function gN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xN(){for(var e=window,t=Yd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Yd(e.document)}return t}function yg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kE(e){var t=xN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gN(r.ownerDocument.documentElement,r)){if(n!==null&&yg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=gy(r,i);var o=gy(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var SE=da&&"documentMode"in document&&11>=document.documentMode,Ai=null,x0=null,yl=null,v0=!1;function xy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;v0||Ai==null||Ai!==Yd(n)||(n=Ai,"selectionStart"in n&&yg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yl&&Bl(yl,n)||(yl=n,n=ru(x0,"onSelect"),0<n.length&&(t=new gg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ai)))}function rd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ti={animationend:rd("Animation","AnimationEnd"),animationiteration:rd("Animation","AnimationIteration"),animationstart:rd("Animation","AnimationStart"),transitionend:rd("Transition","TransitionEnd")},nf={},vN={};da&&(vN=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function xm(e){if(nf[e])return nf[e];if(!Ti[e])return e;var t=Ti[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in vN)return nf[e]=t[r];return e}var yN=xm("animationend"),bN=xm("animationiteration"),wN=xm("animationstart"),jN=xm("transitionend"),NN=new Map,vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(e,t){NN.set(e,t),si(t,[e])}for(var af=0;af<vy.length;af++){var sf=vy[af],_E=sf.toLowerCase(),CE=sf[0].toUpperCase()+sf.slice(1);is(_E,"on"+CE)}is(yN,"onAnimationEnd");is(bN,"onAnimationIteration");is(wN,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(jN,"onTransitionEnd");Qi("onMouseEnter",["mouseout","mouseover"]);Qi("onMouseLeave",["mouseout","mouseover"]);Qi("onPointerEnter",["pointerout","pointerover"]);Qi("onPointerLeave",["pointerout","pointerover"]);si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));si("onBeforeInput",["compositionend","keypress","textInput","paste"]);si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PE=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function yy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_3(n,t,void 0,e),e.currentTarget=null}function kN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;yy(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;yy(s,l,d),i=c}}}if(Xd)throw e=h0,Xd=!1,h0=null,e}function Qe(e,t){var r=t[N0];r===void 0&&(r=t[N0]=new Set);var n=e+"__bubble";r.has(n)||(SN(t,e,2,!1),r.add(n))}function of(e,t,r){var n=0;t&&(n|=4),SN(r,e,n,t)}var nd="_reactListening"+Math.random().toString(36).slice(2);function Ul(e){if(!e[nd]){e[nd]=!0,Oj.forEach(function(r){r!=="selectionchange"&&(PE.has(r)||of(r,!1,e),of(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nd]||(t[nd]=!0,of("selectionchange",!1,t))}}function SN(e,t,r,n){switch(lN(t)){case 1:var s=U3;break;case 4:s=q3;break;default:s=fg}r=s.bind(null,t,r,e),s=void 0,!m0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function lf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Os(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Gj(function(){var d=i,u=dg(r),m=[];e:{var h=NN.get(e);if(h!==void 0){var f=gg,p=e;switch(e){case"keypress":if(Id(r)===0)break e;case"keydown":case"keyup":f=aE;break;case"focusin":p="focus",f=ef;break;case"focusout":p="blur",f=ef;break;case"beforeblur":case"afterblur":f=ef;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=H3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=oE;break;case yN:case bN:case wN:f=Y3;break;case jN:f=cE;break;case"scroll":f=V3;break;case"wheel":f=uE;break;case"copy":case"cut":case"paste":f=X3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=cy}var v=(t&4)!==0,y=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var b=d,j;b!==null;){j=b;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,x!==null&&(N=$l(b,x),N!=null&&v.push(ql(b,N,j)))),y)break;b=b.return}0<v.length&&(h=new f(h,p,null,r,u),m.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&r!==d0&&(p=r.relatedTarget||r.fromElement)&&(Os(p)||p[ua]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=d,p=p?Os(p):null,p!==null&&(y=ii(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=d),f!==p)){if(v=oy,N="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=cy,N="onPointerLeave",x="onPointerEnter",b="pointer"),y=f==null?h:Oi(f),j=p==null?h:Oi(p),h=new v(N,b+"leave",f,r,u),h.target=y,h.relatedTarget=j,N=null,Os(u)===d&&(v=new v(x,b+"enter",p,r,u),v.target=j,v.relatedTarget=y,N=v),y=N,f&&p)t:{for(v=f,x=p,b=0,j=v;j;j=vi(j))b++;for(j=0,N=x;N;N=vi(N))j++;for(;0<b-j;)v=vi(v),b--;for(;0<j-b;)x=vi(x),j--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=vi(v),x=vi(x)}v=null}else v=null;f!==null&&by(m,h,f,v,!1),p!==null&&y!==null&&by(m,y,p,v,!0)}}e:{if(h=d?Oi(d):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var w=vE;else if(my(h))if(fN)w=jE;else{w=bE;var k=yE}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=wE);if(w&&(w=w(e,d))){hN(m,w,r,u);break e}k&&k(e,h,d),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&s0(h,"number",h.value)}switch(k=d?Oi(d):window,e){case"focusin":(my(k)||k.contentEditable==="true")&&(Ai=k,x0=d,yl=null);break;case"focusout":yl=x0=Ai=null;break;case"mousedown":v0=!0;break;case"contextmenu":case"mouseup":case"dragend":v0=!1,xy(m,r,u);break;case"selectionchange":if(SE)break;case"keydown":case"keyup":xy(m,r,u)}var S;if(vg)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ei?uN(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(dN&&r.locale!=="ko"&&(Ei||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ei&&(S=cN()):(za=u,pg="value"in za?za.value:za.textContent,Ei=!0)),k=ru(d,E),0<k.length&&(E=new ly(E,e,null,r,u),m.push({event:E,listeners:k}),S?E.data=S:(S=mN(r),S!==null&&(E.data=S)))),(S=hE?fE(e,r):pE(e,r))&&(d=ru(d,"onBeforeInput"),0<d.length&&(u=new ly("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=S))}kN(m,t)})}function ql(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ru(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$l(e,r),i!=null&&n.unshift(ql(e,i,s)),i=$l(e,t),i!=null&&n.push(ql(e,i,s))),e=e.return}return n}function vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function by(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=$l(r,i),c!=null&&o.unshift(ql(r,c,l))):s||(c=$l(r,i),c!=null&&o.push(ql(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var EE=/\r\n?/g,AE=/\u0000|\uFFFD/g;function wy(e){return(typeof e=="string"?e:""+e).replace(EE,`
`).replace(AE,"")}function ad(e,t,r){if(t=wy(t),wy(e)!==t&&r)throw Error(ce(425))}function nu(){}var y0=null,b0=null;function w0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var j0=typeof setTimeout=="function"?setTimeout:void 0,TE=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(e){return jy.resolve(null).then(e).catch(DE)}:j0;function DE(e){setTimeout(function(){throw e})}function cf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Fl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Fl(t)}function Ka(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ny(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var No=Math.random().toString(36).slice(2),zn="__reactFiber$"+No,Vl="__reactProps$"+No,ua="__reactContainer$"+No,N0="__reactEvents$"+No,ME="__reactListeners$"+No,RE="__reactHandles$"+No;function Os(e){var t=e[zn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ua]||r[zn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ny(e);e!==null;){if(r=e[zn])return r;e=Ny(e)}return t}e=r,r=e.parentNode}return null}function bc(e){return e=e[zn]||e[ua],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Oi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function vm(e){return e[Vl]||null}var k0=[],Di=-1;function os(e){return{current:e}}function et(e){0>Di||(e.current=k0[Di],k0[Di]=null,Di--)}function Ye(e,t){Di++,k0[Di]=e.current,e.current=t}var as={},ar=os(as),Pr=os(!1),Gs=as;function Zi(e,t){var r=e.type.contextTypes;if(!r)return as;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Er(e){return e=e.childContextTypes,e!=null}function au(){et(Pr),et(ar)}function ky(e,t,r){if(ar.current!==as)throw Error(ce(168));Ye(ar,t),Ye(Pr,r)}function _N(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ce(108,y3(e)||"Unknown",s));return dt({},r,n)}function su(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||as,Gs=ar.current,Ye(ar,e),Ye(Pr,Pr.current),!0}function Sy(e,t,r){var n=e.stateNode;if(!n)throw Error(ce(169));r?(e=_N(e,t,Gs),n.__reactInternalMemoizedMergedChildContext=e,et(Pr),et(ar),Ye(ar,e)):et(Pr),Ye(Pr,r)}var ea=null,ym=!1,df=!1;function CN(e){ea===null?ea=[e]:ea.push(e)}function $E(e){ym=!0,CN(e)}function ls(){if(!df&&ea!==null){df=!0;var e=0,t=Ie;try{var r=ea;for(Ie=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ea=null,ym=!1}catch(s){throw ea!==null&&(ea=ea.slice(e+1)),Qj(ug,ls),s}finally{Ie=t,df=!1}}return null}var Mi=[],Ri=0,iu=null,ou=0,tn=[],rn=0,Ys=null,aa=1,sa="";function Ss(e,t){Mi[Ri++]=ou,Mi[Ri++]=iu,iu=e,ou=t}function PN(e,t,r){tn[rn++]=aa,tn[rn++]=sa,tn[rn++]=Ys,Ys=e;var n=aa;e=sa;var s=32-En(n)-1;n&=~(1<<s),r+=1;var i=32-En(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,aa=1<<32-En(t)+s|r<<s|n,sa=i+e}else aa=1<<i|r<<s|n,sa=e}function bg(e){e.return!==null&&(Ss(e,1),PN(e,1,0))}function wg(e){for(;e===iu;)iu=Mi[--Ri],Mi[Ri]=null,ou=Mi[--Ri],Mi[Ri]=null;for(;e===Ys;)Ys=tn[--rn],tn[rn]=null,sa=tn[--rn],tn[rn]=null,aa=tn[--rn],tn[rn]=null}var Br=null,zr=null,nt=!1,Sn=null;function EN(e,t){var r=an(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _y(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Br=e,zr=Ka(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Br=e,zr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ys!==null?{id:aa,overflow:sa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=an(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Br=e,zr=null,!0):!1;default:return!1}}function S0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _0(e){if(nt){var t=zr;if(t){var r=t;if(!_y(e,t)){if(S0(e))throw Error(ce(418));t=Ka(r.nextSibling);var n=Br;t&&_y(e,t)?EN(n,r):(e.flags=e.flags&-4097|2,nt=!1,Br=e)}}else{if(S0(e))throw Error(ce(418));e.flags=e.flags&-4097|2,nt=!1,Br=e}}}function Cy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Br=e}function sd(e){if(e!==Br)return!1;if(!nt)return Cy(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!w0(e.type,e.memoizedProps)),t&&(t=zr)){if(S0(e))throw AN(),Error(ce(418));for(;t;)EN(e,t),t=Ka(t.nextSibling)}if(Cy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){zr=Ka(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}zr=null}}else zr=Br?Ka(e.stateNode.nextSibling):null;return!0}function AN(){for(var e=zr;e;)e=Ka(e.nextSibling)}function eo(){zr=Br=null,nt=!1}function jg(e){Sn===null?Sn=[e]:Sn.push(e)}var IE=va.ReactCurrentBatchConfig;function Ko(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,e))}return e}function id(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Py(e){var t=e._init;return t(e._payload)}function TN(e){function t(x,b){if(e){var j=x.deletions;j===null?(x.deletions=[b],x.flags|=16):j.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=Xa(x,b),x.index=0,x.sibling=null,x}function i(x,b,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<b?(x.flags|=2,b):j):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,j,N){return b===null||b.tag!==6?(b=xf(j,x.mode,N),b.return=x,b):(b=s(b,j),b.return=x,b)}function c(x,b,j,N){var w=j.type;return w===Pi?u(x,b,j.props.children,N,j.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Oa&&Py(w)===b.type)?(N=s(b,j.props),N.ref=Ko(x,b,j),N.return=x,N):(N=Vd(j.type,j.key,j.props,null,x.mode,N),N.ref=Ko(x,b,j),N.return=x,N)}function d(x,b,j,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=vf(j,x.mode,N),b.return=x,b):(b=s(b,j.children||[]),b.return=x,b)}function u(x,b,j,N,w){return b===null||b.tag!==7?(b=Us(j,x.mode,N,w),b.return=x,b):(b=s(b,j),b.return=x,b)}function m(x,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=xf(""+b,x.mode,j),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yc:return j=Vd(b.type,b.key,b.props,null,x.mode,j),j.ref=Ko(x,null,b),j.return=x,j;case Ci:return b=vf(b,x.mode,j),b.return=x,b;case Oa:var N=b._init;return m(x,N(b._payload),j)}if(ll(b)||Uo(b))return b=Us(b,x.mode,j,null),b.return=x,b;id(x,b)}return null}function h(x,b,j,N){var w=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return w!==null?null:l(x,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Yc:return j.key===w?c(x,b,j,N):null;case Ci:return j.key===w?d(x,b,j,N):null;case Oa:return w=j._init,h(x,b,w(j._payload),N)}if(ll(j)||Uo(j))return w!==null?null:u(x,b,j,N,null);id(x,j)}return null}function f(x,b,j,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(j)||null,l(b,x,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Yc:return x=x.get(N.key===null?j:N.key)||null,c(b,x,N,w);case Ci:return x=x.get(N.key===null?j:N.key)||null,d(b,x,N,w);case Oa:var k=N._init;return f(x,b,j,k(N._payload),w)}if(ll(N)||Uo(N))return x=x.get(j)||null,u(b,x,N,w,null);id(b,N)}return null}function p(x,b,j,N){for(var w=null,k=null,S=b,E=b=0,R=null;S!==null&&E<j.length;E++){S.index>E?(R=S,S=null):R=S.sibling;var _=h(x,S,j[E],N);if(_===null){S===null&&(S=R);break}e&&S&&_.alternate===null&&t(x,S),b=i(_,b,E),k===null?w=_:k.sibling=_,k=_,S=R}if(E===j.length)return r(x,S),nt&&Ss(x,E),w;if(S===null){for(;E<j.length;E++)S=m(x,j[E],N),S!==null&&(b=i(S,b,E),k===null?w=S:k.sibling=S,k=S);return nt&&Ss(x,E),w}for(S=n(x,S);E<j.length;E++)R=f(S,x,E,j[E],N),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?E:R.key),b=i(R,b,E),k===null?w=R:k.sibling=R,k=R);return e&&S.forEach(function(C){return t(x,C)}),nt&&Ss(x,E),w}function v(x,b,j,N){var w=Uo(j);if(typeof w!="function")throw Error(ce(150));if(j=w.call(j),j==null)throw Error(ce(151));for(var k=w=null,S=b,E=b=0,R=null,_=j.next();S!==null&&!_.done;E++,_=j.next()){S.index>E?(R=S,S=null):R=S.sibling;var C=h(x,S,_.value,N);if(C===null){S===null&&(S=R);break}e&&S&&C.alternate===null&&t(x,S),b=i(C,b,E),k===null?w=C:k.sibling=C,k=C,S=R}if(_.done)return r(x,S),nt&&Ss(x,E),w;if(S===null){for(;!_.done;E++,_=j.next())_=m(x,_.value,N),_!==null&&(b=i(_,b,E),k===null?w=_:k.sibling=_,k=_);return nt&&Ss(x,E),w}for(S=n(x,S);!_.done;E++,_=j.next())_=f(S,x,E,_.value,N),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?E:_.key),b=i(_,b,E),k===null?w=_:k.sibling=_,k=_);return e&&S.forEach(function(B){return t(x,B)}),nt&&Ss(x,E),w}function y(x,b,j,N){if(typeof j=="object"&&j!==null&&j.type===Pi&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Yc:e:{for(var w=j.key,k=b;k!==null;){if(k.key===w){if(w=j.type,w===Pi){if(k.tag===7){r(x,k.sibling),b=s(k,j.props.children),b.return=x,x=b;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Oa&&Py(w)===k.type){r(x,k.sibling),b=s(k,j.props),b.ref=Ko(x,k,j),b.return=x,x=b;break e}r(x,k);break}else t(x,k);k=k.sibling}j.type===Pi?(b=Us(j.props.children,x.mode,N,j.key),b.return=x,x=b):(N=Vd(j.type,j.key,j.props,null,x.mode,N),N.ref=Ko(x,b,j),N.return=x,x=N)}return o(x);case Ci:e:{for(k=j.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(x,b.sibling),b=s(b,j.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=vf(j,x.mode,N),b.return=x,x=b}return o(x);case Oa:return k=j._init,y(x,b,k(j._payload),N)}if(ll(j))return p(x,b,j,N);if(Uo(j))return v(x,b,j,N);id(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(x,b.sibling),b=s(b,j),b.return=x,x=b):(r(x,b),b=xf(j,x.mode,N),b.return=x,x=b),o(x)):r(x,b)}return y}var to=TN(!0),ON=TN(!1),lu=os(null),cu=null,$i=null,Ng=null;function kg(){Ng=$i=cu=null}function Sg(e){var t=lu.current;et(lu),e._currentValue=t}function C0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ki(e,t){cu=e,Ng=$i=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_r=!0),e.firstContext=null)}function un(e){var t=e._currentValue;if(Ng!==e)if(e={context:e,memoizedValue:t,next:null},$i===null){if(cu===null)throw Error(ce(308));$i=e,cu.dependencies={lanes:0,firstContext:e}}else $i=$i.next=e;return t}var Ds=null;function _g(e){Ds===null?Ds=[e]:Ds.push(e)}function DN(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,_g(t)):(r.next=s.next,s.next=r),t.interleaved=r,ma(e,n)}function ma(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Da=!1;function Cg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ga(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Te&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ma(e,r)}return s=n.interleaved,s===null?(t.next=t,_g(n)):(t.next=s.next,s.next=t),n.interleaved=t,ma(e,r)}function Ld(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mg(e,r)}}function Ey(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function du(e,t,r,n){var s=e.updateQueue;Da=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,f=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,v=l;switch(h=t,f=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){m=p.call(f,m,h);break e}m=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(f,m,h):p,h==null)break e;m=dt({},m,h);break e;case 2:Da=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=m):u=u.next=f,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Xs|=o,e.lanes=o,e.memoizedState=m}}function Ay(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ce(191,s));s.call(n)}}}var wc={},qn=os(wc),Wl=os(wc),Hl=os(wc);function Ms(e){if(e===wc)throw Error(ce(174));return e}function Pg(e,t){switch(Ye(Hl,t),Ye(Wl,e),Ye(qn,wc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:o0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=o0(t,e)}et(qn),Ye(qn,t)}function ro(){et(qn),et(Wl),et(Hl)}function RN(e){Ms(Hl.current);var t=Ms(qn.current),r=o0(t,e.type);t!==r&&(Ye(Wl,e),Ye(qn,r))}function Eg(e){Wl.current===e&&(et(qn),et(Wl))}var st=os(0);function uu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uf=[];function Ag(){for(var e=0;e<uf.length;e++)uf[e]._workInProgressVersionPrimary=null;uf.length=0}var Fd=va.ReactCurrentDispatcher,mf=va.ReactCurrentBatchConfig,Js=0,lt=null,_t=null,$t=null,mu=!1,bl=!1,Kl=0,LE=0;function Zt(){throw Error(ce(321))}function Tg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Dn(e[r],t[r]))return!1;return!0}function Og(e,t,r,n,s,i){if(Js=i,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fd.current=e===null||e.memoizedState===null?UE:qE,e=r(n,s),bl){i=0;do{if(bl=!1,Kl=0,25<=i)throw Error(ce(301));i+=1,$t=_t=null,t.updateQueue=null,Fd.current=VE,e=r(n,s)}while(bl)}if(Fd.current=hu,t=_t!==null&&_t.next!==null,Js=0,$t=_t=lt=null,mu=!1,t)throw Error(ce(300));return e}function Dg(){var e=Kl!==0;return Kl=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?lt.memoizedState=$t=e:$t=$t.next=e,$t}function mn(){if(_t===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=$t===null?lt.memoizedState:$t.next;if(t!==null)$t=t,_t=e;else{if(e===null)throw Error(ce(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},$t===null?lt.memoizedState=$t=e:$t=$t.next=e}return $t}function Gl(e,t){return typeof t=="function"?t(e):t}function hf(e){var t=mn(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=_t,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Js&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,lt.lanes|=u,Xs|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Dn(n,t.memoizedState)||(_r=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,lt.lanes|=i,Xs|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ff(e){var t=mn(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Dn(i,t.memoizedState)||(_r=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function $N(){}function IN(e,t){var r=lt,n=mn(),s=t(),i=!Dn(n.memoizedState,s);if(i&&(n.memoizedState=s,_r=!0),n=n.queue,Mg(zN.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||$t!==null&&$t.memoizedState.tag&1){if(r.flags|=2048,Yl(9,FN.bind(null,r,n,s,t),void 0,null),Lt===null)throw Error(ce(349));Js&30||LN(r,t,s)}return s}function LN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function FN(e,t,r,n){t.value=r,t.getSnapshot=n,BN(t)&&UN(e)}function zN(e,t,r){return r(function(){BN(t)&&UN(e)})}function BN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dn(e,r)}catch{return!0}}function UN(e){var t=ma(e,1);t!==null&&An(t,e,1,-1)}function Ty(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:e},t.queue=e,e=e.dispatch=BE.bind(null,lt,e),[t.memoizedState,e]}function Yl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qN(){return mn().memoizedState}function zd(e,t,r,n){var s=Fn();lt.flags|=e,s.memoizedState=Yl(1|t,r,void 0,n===void 0?null:n)}function bm(e,t,r,n){var s=mn();n=n===void 0?null:n;var i=void 0;if(_t!==null){var o=_t.memoizedState;if(i=o.destroy,n!==null&&Tg(n,o.deps)){s.memoizedState=Yl(t,r,i,n);return}}lt.flags|=e,s.memoizedState=Yl(1|t,r,i,n)}function Oy(e,t){return zd(8390656,8,e,t)}function Mg(e,t){return bm(2048,8,e,t)}function VN(e,t){return bm(4,2,e,t)}function WN(e,t){return bm(4,4,e,t)}function HN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KN(e,t,r){return r=r!=null?r.concat([e]):null,bm(4,4,HN.bind(null,t,e),r)}function Rg(){}function GN(e,t){var r=mn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function YN(e,t){var r=mn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function JN(e,t,r){return Js&21?(Dn(r,t)||(r=tN(),lt.lanes|=r,Xs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_r=!0),e.memoizedState=r)}function FE(e,t){var r=Ie;Ie=r!==0&&4>r?r:4,e(!0);var n=mf.transition;mf.transition={};try{e(!1),t()}finally{Ie=r,mf.transition=n}}function XN(){return mn().memoizedState}function zE(e,t,r){var n=Ja(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},QN(e))ZN(t,r);else if(r=DN(e,t,r,n),r!==null){var s=hr();An(r,e,n,s),e2(r,t,n)}}function BE(e,t,r){var n=Ja(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(QN(e))ZN(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Dn(l,o)){var c=t.interleaved;c===null?(s.next=s,_g(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=DN(e,t,s,n),r!==null&&(s=hr(),An(r,e,n,s),e2(r,t,n))}}function QN(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function ZN(e,t){bl=mu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function e2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mg(e,r)}}var hu={readContext:un,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},UE={readContext:un,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:un,useEffect:Oy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zd(4194308,4,HN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zd(4194308,4,e,t)},useInsertionEffect:function(e,t){return zd(4,2,e,t)},useMemo:function(e,t){var r=Fn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=zE.bind(null,lt,e),[n.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:Ty,useDebugValue:Rg,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=Ty(!1),t=e[0];return e=FE.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=lt,s=Fn();if(nt){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=t(),Lt===null)throw Error(ce(349));Js&30||LN(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Oy(zN.bind(null,n,i,e),[e]),n.flags|=2048,Yl(9,FN.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Fn(),t=Lt.identifierPrefix;if(nt){var r=sa,n=aa;r=(n&~(1<<32-En(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Kl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=LE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qE={readContext:un,useCallback:GN,useContext:un,useEffect:Mg,useImperativeHandle:KN,useInsertionEffect:VN,useLayoutEffect:WN,useMemo:YN,useReducer:hf,useRef:qN,useState:function(){return hf(Gl)},useDebugValue:Rg,useDeferredValue:function(e){var t=mn();return JN(t,_t.memoizedState,e)},useTransition:function(){var e=hf(Gl)[0],t=mn().memoizedState;return[e,t]},useMutableSource:$N,useSyncExternalStore:IN,useId:XN,unstable_isNewReconciler:!1},VE={readContext:un,useCallback:GN,useContext:un,useEffect:Mg,useImperativeHandle:KN,useInsertionEffect:VN,useLayoutEffect:WN,useMemo:YN,useReducer:ff,useRef:qN,useState:function(){return ff(Gl)},useDebugValue:Rg,useDeferredValue:function(e){var t=mn();return _t===null?t.memoizedState=e:JN(t,_t.memoizedState,e)},useTransition:function(){var e=ff(Gl)[0],t=mn().memoizedState;return[e,t]},useMutableSource:$N,useSyncExternalStore:IN,useId:XN,unstable_isNewReconciler:!1};function jn(e,t){if(e&&e.defaultProps){t=dt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function P0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:dt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wm={isMounted:function(e){return(e=e._reactInternals)?ii(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),s=Ja(e),i=la(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ga(e,i,s),t!==null&&(An(t,e,s,n),Ld(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),s=Ja(e),i=la(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ga(e,i,s),t!==null&&(An(t,e,s,n),Ld(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=Ja(e),s=la(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ga(e,s,n),t!==null&&(An(t,e,n,r),Ld(t,e,n))}};function Dy(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Bl(r,n)||!Bl(s,i):!0}function t2(e,t,r){var n=!1,s=as,i=t.contextType;return typeof i=="object"&&i!==null?i=un(i):(s=Er(t)?Gs:ar.current,n=t.contextTypes,i=(n=n!=null)?Zi(e,s):as),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function My(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wm.enqueueReplaceState(t,t.state,null)}function E0(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Cg(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=un(i):(i=Er(t)?Gs:ar.current,s.context=Zi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(P0(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wm.enqueueReplaceState(s,s.state,null),du(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function no(e,t){try{var r="",n=t;do r+=v3(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function pf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function A0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var WE=typeof WeakMap=="function"?WeakMap:Map;function r2(e,t,r){r=la(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pu||(pu=!0,z0=n),A0(e,t)},r}function n2(e,t,r){r=la(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){A0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){A0(e,t),typeof n!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ry(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new WE;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=sA.bind(null,e,t,r),t.then(e,e))}function $y(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Iy(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=la(-1,1),t.tag=2,Ga(r,t,1))),r.lanes|=1),e)}var HE=va.ReactCurrentOwner,_r=!1;function dr(e,t,r,n){t.child=e===null?ON(t,null,r,n):to(t,e.child,r,n)}function Ly(e,t,r,n,s){r=r.render;var i=t.ref;return Ki(t,s),n=Og(e,t,r,n,i,s),r=Dg(),e!==null&&!_r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ha(e,t,s)):(nt&&r&&bg(t),t.flags|=1,dr(e,t,n,s),t.child)}function Fy(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!qg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,a2(e,t,i,n,s)):(e=Vd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Bl,r(o,n)&&e.ref===t.ref)return ha(e,t,s)}return t.flags|=1,e=Xa(i,n),e.ref=t.ref,e.return=t,t.child=e}function a2(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Bl(i,n)&&e.ref===t.ref)if(_r=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(_r=!0);else return t.lanes=e.lanes,ha(e,t,s)}return T0(e,t,r,n,s)}function s2(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Li,Rr),Rr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ye(Li,Rr),Rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ye(Li,Rr),Rr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ye(Li,Rr),Rr|=n;return dr(e,t,s,r),t.child}function i2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function T0(e,t,r,n,s){var i=Er(r)?Gs:ar.current;return i=Zi(t,i),Ki(t,s),r=Og(e,t,r,n,i,s),n=Dg(),e!==null&&!_r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ha(e,t,s)):(nt&&n&&bg(t),t.flags|=1,dr(e,t,r,s),t.child)}function zy(e,t,r,n,s){if(Er(r)){var i=!0;su(t)}else i=!1;if(Ki(t,s),t.stateNode===null)Bd(e,t),t2(t,r,n),E0(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=un(d):(d=Er(r)?Gs:ar.current,d=Zi(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&My(t,o,n,d),Da=!1;var h=t.memoizedState;o.state=h,du(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Pr.current||Da?(typeof u=="function"&&(P0(t,r,u,n),c=t.memoizedState),(l=Da||Dy(t,r,l,n,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,MN(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:jn(t.type,l),o.props=d,m=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=un(c):(c=Er(r)?Gs:ar.current,c=Zi(t,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&My(t,o,n,c),Da=!1,h=t.memoizedState,o.state=h,du(t,n,o,s);var p=t.memoizedState;l!==m||h!==p||Pr.current||Da?(typeof f=="function"&&(P0(t,r,f,n),p=t.memoizedState),(d=Da||Dy(t,r,d,n,h,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return O0(e,t,r,n,i,s)}function O0(e,t,r,n,s,i){i2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Sy(t,r,!1),ha(e,t,i);n=t.stateNode,HE.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=to(t,e.child,null,i),t.child=to(t,null,l,i)):dr(e,t,l,i),t.memoizedState=n.state,s&&Sy(t,r,!0),t.child}function o2(e){var t=e.stateNode;t.pendingContext?ky(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ky(e,t.context,!1),Pg(e,t.containerInfo)}function By(e,t,r,n,s){return eo(),jg(s),t.flags|=256,dr(e,t,r,n),t.child}var D0={dehydrated:null,treeContext:null,retryLane:0};function M0(e){return{baseLanes:e,cachePool:null,transitions:null}}function l2(e,t,r){var n=t.pendingProps,s=st.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ye(st,s&1),e===null)return _0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=km(o,n,0,null),e=Us(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=M0(r),t.memoizedState=D0,e):$g(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return KE(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Xa(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Xa(l,i):(i=Us(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?M0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=D0,n}return i=e.child,e=i.sibling,n=Xa(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $g(e,t){return t=km({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function od(e,t,r,n){return n!==null&&jg(n),to(t,e.child,null,r),e=$g(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function KE(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=pf(Error(ce(422))),od(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=km({mode:"visible",children:n.children},s,0,null),i=Us(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&to(t,e.child,null,o),t.child.memoizedState=M0(o),t.memoizedState=D0,i);if(!(t.mode&1))return od(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ce(419)),n=pf(i,n,void 0),od(e,t,o,n)}if(l=(o&e.childLanes)!==0,_r||l){if(n=Lt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ma(e,s),An(n,e,s,-1))}return Ug(),n=pf(Error(ce(421))),od(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=iA.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,zr=Ka(s.nextSibling),Br=t,nt=!0,Sn=null,e!==null&&(tn[rn++]=aa,tn[rn++]=sa,tn[rn++]=Ys,aa=e.id,sa=e.overflow,Ys=t),t=$g(t,n.children),t.flags|=4096,t)}function Uy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),C0(e.return,t,r)}function gf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function c2(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(dr(e,t,n.children,r),n=st.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uy(e,r,t);else if(e.tag===19)Uy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ye(st,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&uu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),gf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&uu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}gf(t,!0,r,null,i);break;case"together":gf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ha(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,r=Xa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function GE(e,t,r){switch(t.tag){case 3:o2(t),eo();break;case 5:RN(t);break;case 1:Er(t.type)&&su(t);break;case 4:Pg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ye(lu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ye(st,st.current&1),t.flags|=128,null):r&t.child.childLanes?l2(e,t,r):(Ye(st,st.current&1),e=ha(e,t,r),e!==null?e.sibling:null);Ye(st,st.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return c2(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ye(st,st.current),n)break;return null;case 22:case 23:return t.lanes=0,s2(e,t,r)}return ha(e,t,r)}var d2,R0,u2,m2;d2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};R0=function(){};u2=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ms(qn.current);var i=null;switch(r){case"input":s=n0(e,s),n=n0(e,n),i=[];break;case"select":s=dt({},s,{value:void 0}),n=dt({},n,{value:void 0}),i=[];break;case"textarea":s=i0(e,s),n=i0(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nu)}l0(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ml.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ml.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Qe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};m2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Go(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function er(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function YE(e,t,r){var n=t.pendingProps;switch(wg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(t),null;case 1:return Er(t.type)&&au(),er(t),null;case 3:return n=t.stateNode,ro(),et(Pr),et(ar),Ag(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sn!==null&&(q0(Sn),Sn=null))),R0(e,t),er(t),null;case 5:Eg(t);var s=Ms(Hl.current);if(r=t.type,e!==null&&t.stateNode!=null)u2(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ce(166));return er(t),null}if(e=Ms(qn.current),sd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[zn]=t,n[Vl]=i,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(s=0;s<dl.length;s++)Qe(dl[s],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":Xv(n,i),Qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",n);break;case"textarea":Zv(n,i),Qe("invalid",n)}l0(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ad(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ad(n.textContent,l,e),s=["children",""+l]):Ml.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qe("scroll",n)}switch(r){case"input":Jc(n),Qv(n,i,!0);break;case"textarea":Jc(n),ey(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=nu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[zn]=t,e[Vl]=n,d2(e,t,!1,!1),t.stateNode=e;e:{switch(o=c0(r,n),r){case"dialog":Qe("cancel",e),Qe("close",e),s=n;break;case"iframe":case"object":case"embed":Qe("load",e),s=n;break;case"video":case"audio":for(s=0;s<dl.length;s++)Qe(dl[s],e);s=n;break;case"source":Qe("error",e),s=n;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),s=n;break;case"details":Qe("toggle",e),s=n;break;case"input":Xv(e,n),s=n0(e,n),Qe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=dt({},n,{value:void 0}),Qe("invalid",e);break;case"textarea":Zv(e,n),s=i0(e,n),Qe("invalid",e);break;default:s=n}l0(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?qj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bj(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Rl(e,c):typeof c=="number"&&Rl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ml.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qe("scroll",e):c!=null&&ig(e,i,c,o))}switch(r){case"input":Jc(e),Qv(e,n,!1);break;case"textarea":Jc(e),ey(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ns(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?qi(e,!!n.multiple,i,!1):n.defaultValue!=null&&qi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=nu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return er(t),null;case 6:if(e&&t.stateNode!=null)m2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ce(166));if(r=Ms(Hl.current),Ms(qn.current),sd(t)){if(n=t.stateNode,r=t.memoizedProps,n[zn]=t,(i=n.nodeValue!==r)&&(e=Br,e!==null))switch(e.tag){case 3:ad(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ad(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zn]=t,t.stateNode=n}return er(t),null;case 13:if(et(st),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&zr!==null&&t.mode&1&&!(t.flags&128))AN(),eo(),t.flags|=98560,i=!1;else if(i=sd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ce(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[zn]=t}else eo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;er(t),i=!1}else Sn!==null&&(q0(Sn),Sn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?Ct===0&&(Ct=3):Ug())),t.updateQueue!==null&&(t.flags|=4),er(t),null);case 4:return ro(),R0(e,t),e===null&&Ul(t.stateNode.containerInfo),er(t),null;case 10:return Sg(t.type._context),er(t),null;case 17:return Er(t.type)&&au(),er(t),null;case 19:if(et(st),i=t.memoizedState,i===null)return er(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Go(i,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=uu(e),o!==null){for(t.flags|=128,Go(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ye(st,st.current&1|2),t.child}e=e.sibling}i.tail!==null&&pt()>ao&&(t.flags|=128,n=!0,Go(i,!1),t.lanes=4194304)}else{if(!n)if(e=uu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Go(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!nt)return er(t),null}else 2*pt()-i.renderingStartTime>ao&&r!==1073741824&&(t.flags|=128,n=!0,Go(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pt(),t.sibling=null,r=st.current,Ye(st,n?r&1|2:r&1),t):(er(t),null);case 22:case 23:return Bg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Rr&1073741824&&(er(t),t.subtreeFlags&6&&(t.flags|=8192)):er(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function JE(e,t){switch(wg(t),t.tag){case 1:return Er(t.type)&&au(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ro(),et(Pr),et(ar),Ag(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eg(t),null;case 13:if(et(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));eo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return et(st),null;case 4:return ro(),null;case 10:return Sg(t.type._context),null;case 22:case 23:return Bg(),null;case 24:return null;default:return null}}var ld=!1,rr=!1,XE=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Ii(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mt(e,t,n)}else r.current=null}function $0(e,t,r){try{r()}catch(n){mt(e,t,n)}}var qy=!1;function QE(e,t){if(y0=eu,e=xN(),yg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var f;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(f=m.firstChild)!==null;)h=m,m=f;for(;;){if(m===e)break t;if(h===r&&++d===s&&(l=o),h===i&&++u===n&&(c=o),(f=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(b0={focusedElem:e,selectionRange:r},eu=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,y=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:jn(t.type,v),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(N){mt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return p=qy,qy=!1,p}function wl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&$0(t,r,i)}s=s.next}while(s!==n)}}function jm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function I0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function h2(e){var t=e.alternate;t!==null&&(e.alternate=null,h2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zn],delete t[Vl],delete t[N0],delete t[ME],delete t[RE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function f2(e){return e.tag===5||e.tag===3||e.tag===4}function Vy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||f2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function L0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nu));else if(n!==4&&(e=e.child,e!==null))for(L0(e,t,r),e=e.sibling;e!==null;)L0(e,t,r),e=e.sibling}function F0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(F0(e,t,r),e=e.sibling;e!==null;)F0(e,t,r),e=e.sibling}var Wt=null,Nn=!1;function Ca(e,t,r){for(r=r.child;r!==null;)p2(e,t,r),r=r.sibling}function p2(e,t,r){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(fm,r)}catch{}switch(r.tag){case 5:rr||Ii(r,t);case 6:var n=Wt,s=Nn;Wt=null,Ca(e,t,r),Wt=n,Nn=s,Wt!==null&&(Nn?(e=Wt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Wt.removeChild(r.stateNode));break;case 18:Wt!==null&&(Nn?(e=Wt,r=r.stateNode,e.nodeType===8?cf(e.parentNode,r):e.nodeType===1&&cf(e,r),Fl(e)):cf(Wt,r.stateNode));break;case 4:n=Wt,s=Nn,Wt=r.stateNode.containerInfo,Nn=!0,Ca(e,t,r),Wt=n,Nn=s;break;case 0:case 11:case 14:case 15:if(!rr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$0(r,t,o),s=s.next}while(s!==n)}Ca(e,t,r);break;case 1:if(!rr&&(Ii(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){mt(r,t,l)}Ca(e,t,r);break;case 21:Ca(e,t,r);break;case 22:r.mode&1?(rr=(n=rr)||r.memoizedState!==null,Ca(e,t,r),rr=n):Ca(e,t,r);break;default:Ca(e,t,r)}}function Wy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new XE),t.forEach(function(n){var s=oA.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function wn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Wt=l.stateNode,Nn=!1;break e;case 3:Wt=l.stateNode.containerInfo,Nn=!0;break e;case 4:Wt=l.stateNode.containerInfo,Nn=!0;break e}l=l.return}if(Wt===null)throw Error(ce(160));p2(i,o,s),Wt=null,Nn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){mt(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)g2(t,e),t=t.sibling}function g2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wn(t,e),In(e),n&4){try{wl(3,e,e.return),jm(3,e)}catch(v){mt(e,e.return,v)}try{wl(5,e,e.return)}catch(v){mt(e,e.return,v)}}break;case 1:wn(t,e),In(e),n&512&&r!==null&&Ii(r,r.return);break;case 5:if(wn(t,e),In(e),n&512&&r!==null&&Ii(r,r.return),e.flags&32){var s=e.stateNode;try{Rl(s,"")}catch(v){mt(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Lj(s,i),c0(l,o);var d=c0(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?qj(s,m):u==="dangerouslySetInnerHTML"?Bj(s,m):u==="children"?Rl(s,m):ig(s,u,m,d)}switch(l){case"input":a0(s,i);break;case"textarea":Fj(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?qi(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?qi(s,!!i.multiple,i.defaultValue,!0):qi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Vl]=i}catch(v){mt(e,e.return,v)}}break;case 6:if(wn(t,e),In(e),n&4){if(e.stateNode===null)throw Error(ce(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){mt(e,e.return,v)}}break;case 3:if(wn(t,e),In(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fl(t.containerInfo)}catch(v){mt(e,e.return,v)}break;case 4:wn(t,e),In(e);break;case 13:wn(t,e),In(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fg=pt())),n&4&&Wy(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(rr=(d=rr)||u,wn(t,e),rr=d):wn(t,e),In(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(xe=e,u=e.child;u!==null;){for(m=xe=u;xe!==null;){switch(h=xe,f=h.child,h.tag){case 0:case 11:case 14:case 15:wl(4,h,h.return);break;case 1:Ii(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){mt(n,r,v)}}break;case 5:Ii(h,h.return);break;case 22:if(h.memoizedState!==null){Ky(m);continue}}f!==null?(f.return=h,xe=f):Ky(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Uj("display",o))}catch(v){mt(e,e.return,v)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(v){mt(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:wn(t,e),In(e),n&4&&Wy(e);break;case 21:break;default:wn(t,e),In(e)}}function In(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(f2(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Rl(s,""),n.flags&=-33);var i=Vy(e);F0(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Vy(e);L0(e,l,o);break;default:throw Error(ce(161))}}catch(c){mt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZE(e,t,r){xe=e,x2(e)}function x2(e,t,r){for(var n=(e.mode&1)!==0;xe!==null;){var s=xe,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ld;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||rr;l=ld;var d=rr;if(ld=o,(rr=c)&&!d)for(xe=s;xe!==null;)o=xe,c=o.child,o.tag===22&&o.memoizedState!==null?Gy(s):c!==null?(c.return=o,xe=c):Gy(s);for(;i!==null;)xe=i,x2(i),i=i.sibling;xe=s,ld=l,rr=d}Hy(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,xe=i):Hy(e)}}function Hy(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rr||jm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:jn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ay(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ay(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Fl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}rr||t.flags&512&&I0(t)}catch(h){mt(t,t.return,h)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function Ky(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function Gy(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{jm(4,t)}catch(c){mt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){mt(t,s,c)}}var i=t.return;try{I0(t)}catch(c){mt(t,i,c)}break;case 5:var o=t.return;try{I0(t)}catch(c){mt(t,o,c)}}}catch(c){mt(t,t.return,c)}if(t===e){xe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,xe=l;break}xe=t.return}}var eA=Math.ceil,fu=va.ReactCurrentDispatcher,Ig=va.ReactCurrentOwner,cn=va.ReactCurrentBatchConfig,Te=0,Lt=null,vt=null,Gt=0,Rr=0,Li=os(0),Ct=0,Jl=null,Xs=0,Nm=0,Lg=0,jl=null,Nr=null,Fg=0,ao=1/0,Qn=null,pu=!1,z0=null,Ya=null,cd=!1,Ba=null,gu=0,Nl=0,B0=null,Ud=-1,qd=0;function hr(){return Te&6?pt():Ud!==-1?Ud:Ud=pt()}function Ja(e){return e.mode&1?Te&2&&Gt!==0?Gt&-Gt:IE.transition!==null?(qd===0&&(qd=tN()),qd):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:lN(e.type)),e):1}function An(e,t,r,n){if(50<Nl)throw Nl=0,B0=null,Error(ce(185));vc(e,r,n),(!(Te&2)||e!==Lt)&&(e===Lt&&(!(Te&2)&&(Nm|=r),Ct===4&&Ia(e,Gt)),Ar(e,n),r===1&&Te===0&&!(t.mode&1)&&(ao=pt()+500,ym&&ls()))}function Ar(e,t){var r=e.callbackNode;I3(e,t);var n=Zd(e,e===Lt?Gt:0);if(n===0)r!==null&&ny(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ny(r),t===1)e.tag===0?$E(Yy.bind(null,e)):CN(Yy.bind(null,e)),OE(function(){!(Te&6)&&ls()}),r=null;else{switch(rN(n)){case 1:r=ug;break;case 4:r=Zj;break;case 16:r=Qd;break;case 536870912:r=eN;break;default:r=Qd}r=S2(r,v2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function v2(e,t){if(Ud=-1,qd=0,Te&6)throw Error(ce(327));var r=e.callbackNode;if(Gi()&&e.callbackNode!==r)return null;var n=Zd(e,e===Lt?Gt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=xu(e,n);else{t=n;var s=Te;Te|=2;var i=b2();(Lt!==e||Gt!==t)&&(Qn=null,ao=pt()+500,Bs(e,t));do try{nA();break}catch(l){y2(e,l)}while(!0);kg(),fu.current=i,Te=s,vt!==null?t=0:(Lt=null,Gt=0,t=Ct)}if(t!==0){if(t===2&&(s=f0(e),s!==0&&(n=s,t=U0(e,s))),t===1)throw r=Jl,Bs(e,0),Ia(e,n),Ar(e,pt()),r;if(t===6)Ia(e,n);else{if(s=e.current.alternate,!(n&30)&&!tA(s)&&(t=xu(e,n),t===2&&(i=f0(e),i!==0&&(n=i,t=U0(e,i))),t===1))throw r=Jl,Bs(e,0),Ia(e,n),Ar(e,pt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ce(345));case 2:_s(e,Nr,Qn);break;case 3:if(Ia(e,n),(n&130023424)===n&&(t=Fg+500-pt(),10<t)){if(Zd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){hr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=j0(_s.bind(null,e,Nr,Qn),t);break}_s(e,Nr,Qn);break;case 4:if(Ia(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-En(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eA(n/1960))-n,10<n){e.timeoutHandle=j0(_s.bind(null,e,Nr,Qn),n);break}_s(e,Nr,Qn);break;case 5:_s(e,Nr,Qn);break;default:throw Error(ce(329))}}}return Ar(e,pt()),e.callbackNode===r?v2.bind(null,e):null}function U0(e,t){var r=jl;return e.current.memoizedState.isDehydrated&&(Bs(e,t).flags|=256),e=xu(e,t),e!==2&&(t=Nr,Nr=r,t!==null&&q0(t)),e}function q0(e){Nr===null?Nr=e:Nr.push.apply(Nr,e)}function tA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Dn(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ia(e,t){for(t&=~Lg,t&=~Nm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-En(t),n=1<<r;e[r]=-1,t&=~n}}function Yy(e){if(Te&6)throw Error(ce(327));Gi();var t=Zd(e,0);if(!(t&1))return Ar(e,pt()),null;var r=xu(e,t);if(e.tag!==0&&r===2){var n=f0(e);n!==0&&(t=n,r=U0(e,n))}if(r===1)throw r=Jl,Bs(e,0),Ia(e,t),Ar(e,pt()),r;if(r===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_s(e,Nr,Qn),Ar(e,pt()),null}function zg(e,t){var r=Te;Te|=1;try{return e(t)}finally{Te=r,Te===0&&(ao=pt()+500,ym&&ls())}}function Qs(e){Ba!==null&&Ba.tag===0&&!(Te&6)&&Gi();var t=Te;Te|=1;var r=cn.transition,n=Ie;try{if(cn.transition=null,Ie=1,e)return e()}finally{Ie=n,cn.transition=r,Te=t,!(Te&6)&&ls()}}function Bg(){Rr=Li.current,et(Li)}function Bs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,TE(r)),vt!==null)for(r=vt.return;r!==null;){var n=r;switch(wg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&au();break;case 3:ro(),et(Pr),et(ar),Ag();break;case 5:Eg(n);break;case 4:ro();break;case 13:et(st);break;case 19:et(st);break;case 10:Sg(n.type._context);break;case 22:case 23:Bg()}r=r.return}if(Lt=e,vt=e=Xa(e.current,null),Gt=Rr=t,Ct=0,Jl=null,Lg=Nm=Xs=0,Nr=jl=null,Ds!==null){for(t=0;t<Ds.length;t++)if(r=Ds[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ds=null}return e}function y2(e,t){do{var r=vt;try{if(kg(),Fd.current=hu,mu){for(var n=lt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}mu=!1}if(Js=0,$t=_t=lt=null,bl=!1,Kl=0,Ig.current=null,r===null||r.return===null){Ct=1,Jl=t,vt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Gt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=$y(o);if(f!==null){f.flags&=-257,Iy(f,o,l,i,t),f.mode&1&&Ry(i,d,t),t=f,c=d;var p=t.updateQueue;if(p===null){var v=new Set;v.add(c),t.updateQueue=v}else p.add(c);break e}else{if(!(t&1)){Ry(i,d,t),Ug();break e}c=Error(ce(426))}}else if(nt&&l.mode&1){var y=$y(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Iy(y,o,l,i,t),jg(no(c,l));break e}}i=c=no(c,l),Ct!==4&&(Ct=2),jl===null?jl=[i]:jl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=r2(i,c,t);Ey(i,x);break e;case 1:l=c;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ya===null||!Ya.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=n2(i,l,t);Ey(i,N);break e}}i=i.return}while(i!==null)}j2(r)}catch(w){t=w,vt===r&&r!==null&&(vt=r=r.return);continue}break}while(!0)}function b2(){var e=fu.current;return fu.current=hu,e===null?hu:e}function Ug(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Lt===null||!(Xs&268435455)&&!(Nm&268435455)||Ia(Lt,Gt)}function xu(e,t){var r=Te;Te|=2;var n=b2();(Lt!==e||Gt!==t)&&(Qn=null,Bs(e,t));do try{rA();break}catch(s){y2(e,s)}while(!0);if(kg(),Te=r,fu.current=n,vt!==null)throw Error(ce(261));return Lt=null,Gt=0,Ct}function rA(){for(;vt!==null;)w2(vt)}function nA(){for(;vt!==null&&!P3();)w2(vt)}function w2(e){var t=k2(e.alternate,e,Rr);e.memoizedProps=e.pendingProps,t===null?j2(e):vt=t,Ig.current=null}function j2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=JE(r,t),r!==null){r.flags&=32767,vt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,vt=null;return}}else if(r=YE(r,t,Rr),r!==null){vt=r;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);Ct===0&&(Ct=5)}function _s(e,t,r){var n=Ie,s=cn.transition;try{cn.transition=null,Ie=1,aA(e,t,r,n)}finally{cn.transition=s,Ie=n}return null}function aA(e,t,r,n){do Gi();while(Ba!==null);if(Te&6)throw Error(ce(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(L3(e,i),e===Lt&&(vt=Lt=null,Gt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||cd||(cd=!0,S2(Qd,function(){return Gi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=cn.transition,cn.transition=null;var o=Ie;Ie=1;var l=Te;Te|=4,Ig.current=null,QE(e,r),g2(r,e),kE(b0),eu=!!y0,b0=y0=null,e.current=r,ZE(r),E3(),Te=l,Ie=o,cn.transition=i}else e.current=r;if(cd&&(cd=!1,Ba=e,gu=s),i=e.pendingLanes,i===0&&(Ya=null),O3(r.stateNode),Ar(e,pt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(pu)throw pu=!1,e=z0,z0=null,e;return gu&1&&e.tag!==0&&Gi(),i=e.pendingLanes,i&1?e===B0?Nl++:(Nl=0,B0=e):Nl=0,ls(),null}function Gi(){if(Ba!==null){var e=rN(gu),t=cn.transition,r=Ie;try{if(cn.transition=null,Ie=16>e?16:e,Ba===null)var n=!1;else{if(e=Ba,Ba=null,gu=0,Te&6)throw Error(ce(331));var s=Te;for(Te|=4,xe=e.current;xe!==null;){var i=xe,o=i.child;if(xe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(xe=d;xe!==null;){var u=xe;switch(u.tag){case 0:case 11:case 15:wl(8,u,i)}var m=u.child;if(m!==null)m.return=u,xe=m;else for(;xe!==null;){u=xe;var h=u.sibling,f=u.return;if(h2(u),u===d){xe=null;break}if(h!==null){h.return=f,xe=h;break}xe=f}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}xe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,xe=o;else e:for(;xe!==null;){if(i=xe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,xe=x;break e}xe=i.return}}var b=e.current;for(xe=b;xe!==null;){o=xe;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,xe=j;else e:for(o=b;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jm(9,l)}}catch(w){mt(l,l.return,w)}if(l===o){xe=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,xe=N;break e}xe=l.return}}if(Te=s,ls(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(fm,e)}catch{}n=!0}return n}finally{Ie=r,cn.transition=t}}return!1}function Jy(e,t,r){t=no(r,t),t=r2(e,t,1),e=Ga(e,t,1),t=hr(),e!==null&&(vc(e,1,t),Ar(e,t))}function mt(e,t,r){if(e.tag===3)Jy(e,e,r);else for(;t!==null;){if(t.tag===3){Jy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ya===null||!Ya.has(n))){e=no(r,e),e=n2(t,e,1),t=Ga(t,e,1),e=hr(),t!==null&&(vc(t,1,e),Ar(t,e));break}}t=t.return}}function sA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=hr(),e.pingedLanes|=e.suspendedLanes&r,Lt===e&&(Gt&r)===r&&(Ct===4||Ct===3&&(Gt&130023424)===Gt&&500>pt()-Fg?Bs(e,0):Lg|=r),Ar(e,t)}function N2(e,t){t===0&&(e.mode&1?(t=Zc,Zc<<=1,!(Zc&130023424)&&(Zc=4194304)):t=1);var r=hr();e=ma(e,t),e!==null&&(vc(e,t,r),Ar(e,r))}function iA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),N2(e,r)}function oA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(t),N2(e,r)}var k2;k2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pr.current)_r=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return _r=!1,GE(e,t,r);_r=!!(e.flags&131072)}else _r=!1,nt&&t.flags&1048576&&PN(t,ou,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Bd(e,t),e=t.pendingProps;var s=Zi(t,ar.current);Ki(t,r),s=Og(null,t,n,e,s,r);var i=Dg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Er(n)?(i=!0,su(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cg(t),s.updater=wm,t.stateNode=s,s._reactInternals=t,E0(t,n,e,r),t=O0(null,t,n,!0,i,r)):(t.tag=0,nt&&i&&bg(t),dr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Bd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=cA(n),e=jn(n,e),s){case 0:t=T0(null,t,n,e,r);break e;case 1:t=zy(null,t,n,e,r);break e;case 11:t=Ly(null,t,n,e,r);break e;case 14:t=Fy(null,t,n,jn(n.type,e),r);break e}throw Error(ce(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),T0(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),zy(e,t,n,s,r);case 3:e:{if(o2(t),e===null)throw Error(ce(387));n=t.pendingProps,i=t.memoizedState,s=i.element,MN(e,t),du(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=no(Error(ce(423)),t),t=By(e,t,n,r,s);break e}else if(n!==s){s=no(Error(ce(424)),t),t=By(e,t,n,r,s);break e}else for(zr=Ka(t.stateNode.containerInfo.firstChild),Br=t,nt=!0,Sn=null,r=ON(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(eo(),n===s){t=ha(e,t,r);break e}dr(e,t,n,r)}t=t.child}return t;case 5:return RN(t),e===null&&_0(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,w0(n,s)?o=null:i!==null&&w0(n,i)&&(t.flags|=32),i2(e,t),dr(e,t,o,r),t.child;case 6:return e===null&&_0(t),null;case 13:return l2(e,t,r);case 4:return Pg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=to(t,null,n,r):dr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),Ly(e,t,n,s,r);case 7:return dr(e,t,t.pendingProps,r),t.child;case 8:return dr(e,t,t.pendingProps.children,r),t.child;case 12:return dr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ye(lu,n._currentValue),n._currentValue=o,i!==null)if(Dn(i.value,o)){if(i.children===s.children&&!Pr.current){t=ha(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=la(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),C0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ce(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),C0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}dr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ki(t,r),s=un(s),n=n(s),t.flags|=1,dr(e,t,n,r),t.child;case 14:return n=t.type,s=jn(n,t.pendingProps),s=jn(n.type,s),Fy(e,t,n,s,r);case 15:return a2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),Bd(e,t),t.tag=1,Er(n)?(e=!0,su(t)):e=!1,Ki(t,r),t2(t,n,s),E0(t,n,s,r),O0(null,t,n,!0,e,r);case 19:return c2(e,t,r);case 22:return s2(e,t,r)}throw Error(ce(156,t.tag))};function S2(e,t){return Qj(e,t)}function lA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,r,n){return new lA(e,t,r,n)}function qg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cA(e){if(typeof e=="function")return qg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lg)return 11;if(e===cg)return 14}return 2}function Xa(e,t){var r=e.alternate;return r===null?(r=an(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vd(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")qg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pi:return Us(r.children,s,i,t);case og:o=8,s|=8;break;case Zf:return e=an(12,r,t,s|2),e.elementType=Zf,e.lanes=i,e;case e0:return e=an(13,r,t,s),e.elementType=e0,e.lanes=i,e;case t0:return e=an(19,r,t,s),e.elementType=t0,e.lanes=i,e;case Rj:return km(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dj:o=10;break e;case Mj:o=9;break e;case lg:o=11;break e;case cg:o=14;break e;case Oa:o=16,n=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=an(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Us(e,t,r,n){return e=an(7,e,n,t),e.lanes=r,e}function km(e,t,r,n){return e=an(22,e,n,t),e.elementType=Rj,e.lanes=r,e.stateNode={isHidden:!1},e}function xf(e,t,r){return e=an(6,e,null,t),e.lanes=r,e}function vf(e,t,r){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dA(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xh(0),this.expirationTimes=Xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xh(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vg(e,t,r,n,s,i,o,l,c){return e=new dA(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=an(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cg(i),e}function uA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ci,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _2(e){if(!e)return as;e=e._reactInternals;e:{if(ii(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var r=e.type;if(Er(r))return _N(e,r,t)}return t}function C2(e,t,r,n,s,i,o,l,c){return e=Vg(r,n,!0,e,s,i,o,l,c),e.context=_2(null),r=e.current,n=hr(),s=Ja(r),i=la(n,s),i.callback=t??null,Ga(r,i,s),e.current.lanes=s,vc(e,s,n),Ar(e,n),e}function Sm(e,t,r,n){var s=t.current,i=hr(),o=Ja(s);return r=_2(r),t.context===null?t.context=r:t.pendingContext=r,t=la(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ga(s,t,o),e!==null&&(An(e,s,o,i),Ld(e,s,o)),o}function vu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wg(e,t){Xy(e,t),(e=e.alternate)&&Xy(e,t)}function mA(){return null}var P2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hg(e){this._internalRoot=e}_m.prototype.render=Hg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Sm(e,t,null,null)};_m.prototype.unmount=Hg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qs(function(){Sm(null,e,null,null)}),t[ua]=null}};function _m(e){this._internalRoot=e}_m.prototype.unstable_scheduleHydration=function(e){if(e){var t=sN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$a.length&&t!==0&&t<$a[r].priority;r++);$a.splice(r,0,e),r===0&&oN(e)}};function Kg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qy(){}function hA(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=vu(o);i.call(d)}}var o=C2(t,n,e,0,null,!1,!1,"",Qy);return e._reactRootContainer=o,e[ua]=o.current,Ul(e.nodeType===8?e.parentNode:e),Qs(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=vu(c);l.call(d)}}var c=Vg(e,0,!1,null,null,!1,!1,"",Qy);return e._reactRootContainer=c,e[ua]=c.current,Ul(e.nodeType===8?e.parentNode:e),Qs(function(){Sm(t,c,r,n)}),c}function Pm(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=vu(o);l.call(c)}}Sm(t,o,e,s)}else o=hA(r,t,e,s,n);return vu(o)}nN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=cl(t.pendingLanes);r!==0&&(mg(t,r|1),Ar(t,pt()),!(Te&6)&&(ao=pt()+500,ls()))}break;case 13:Qs(function(){var n=ma(e,1);if(n!==null){var s=hr();An(n,e,1,s)}}),Wg(e,1)}};hg=function(e){if(e.tag===13){var t=ma(e,134217728);if(t!==null){var r=hr();An(t,e,134217728,r)}Wg(e,134217728)}};aN=function(e){if(e.tag===13){var t=Ja(e),r=ma(e,t);if(r!==null){var n=hr();An(r,e,t,n)}Wg(e,t)}};sN=function(){return Ie};iN=function(e,t){var r=Ie;try{return Ie=e,t()}finally{Ie=r}};u0=function(e,t,r){switch(t){case"input":if(a0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=vm(n);if(!s)throw Error(ce(90));Ij(n),a0(n,s)}}}break;case"textarea":Fj(e,r);break;case"select":t=r.value,t!=null&&qi(e,!!r.multiple,t,!1)}};Hj=zg;Kj=Qs;var fA={usingClientEntryPoint:!1,Events:[bc,Oi,vm,Vj,Wj,zg]},Yo={findFiberByHostInstance:Os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pA={bundleType:Yo.bundleType,version:Yo.version,rendererPackageName:Yo.rendererPackageName,rendererConfig:Yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:va.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jj(e),e===null?null:e.stateNode},findFiberByHostInstance:Yo.findFiberByHostInstance||mA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{fm=dd.inject(pA),Un=dd}catch{}}Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fA;Gr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kg(t))throw Error(ce(200));return uA(e,t,null,r)};Gr.createRoot=function(e,t){if(!Kg(e))throw Error(ce(299));var r=!1,n="",s=P2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vg(e,1,!1,null,null,r,!1,n,s),e[ua]=t.current,Ul(e.nodeType===8?e.parentNode:e),new Hg(t)};Gr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=Jj(t),e=e===null?null:e.stateNode,e};Gr.flushSync=function(e){return Qs(e)};Gr.hydrate=function(e,t,r){if(!Cm(t))throw Error(ce(200));return Pm(null,e,t,!0,r)};Gr.hydrateRoot=function(e,t,r){if(!Kg(e))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=P2;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=C2(t,null,e,1,r??null,s,!1,i,o),e[ua]=t.current,Ul(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new _m(t)};Gr.render=function(e,t,r){if(!Cm(t))throw Error(ce(200));return Pm(null,e,t,!1,r)};Gr.unmountComponentAtNode=function(e){if(!Cm(e))throw Error(ce(40));return e._reactRootContainer?(Qs(function(){Pm(null,null,e,!1,function(){e._reactRootContainer=null,e[ua]=null})}),!0):!1};Gr.unstable_batchedUpdates=zg;Gr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Cm(r))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return Pm(e,t,r,!1,n)};Gr.version="18.3.1-next-f1338f8080-20240426";function E2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E2)}catch(e){console.error(e)}}E2(),Ej.exports=Gr;var A2=Ej.exports,V0,Zy=A2;V0=Zy.createRoot,Zy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(this,arguments)}var Ua;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ua||(Ua={}));const eb="popstate";function gA(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return W0("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:O2(s)}return vA(t,r,null,e)}function yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function T2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xA(){return Math.random().toString(36).substr(2,8)}function tb(e,t){return{usr:e.state,key:e.key,idx:t}}function W0(e,t,r,n){return r===void 0&&(r=null),Xl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ko(t):t,{state:r,key:t&&t.key||n||xA()})}function O2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ko(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function vA(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Ua.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Xl({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=Ua.Pop;let y=u(),x=y==null?null:y-d;d=y,c&&c({action:l,location:v.location,delta:x})}function h(y,x){l=Ua.Push;let b=W0(v.location,y,x);d=u()+1;let j=tb(b,d),N=v.createHref(b);try{o.pushState(j,"",N)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(N)}i&&c&&c({action:l,location:v.location,delta:1})}function f(y,x){l=Ua.Replace;let b=W0(v.location,y,x);d=u();let j=tb(b,d),N=v.createHref(b);o.replaceState(j,"",N),i&&c&&c({action:l,location:v.location,delta:0})}function p(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof y=="string"?y:O2(y);return b=b.replace(/ $/,"%20"),yt(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let v={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(eb,m),c=y,()=>{s.removeEventListener(eb,m),c=null}},createHref(y){return t(s,y)},createURL:p,encodeLocation(y){let x=p(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:f,go(y){return o.go(y)}};return v}var rb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rb||(rb={}));function yA(e,t,r){return r===void 0&&(r="/"),bA(e,t,r,!1)}function bA(e,t,r,n){let s=typeof t=="string"?ko(t):t,i=R2(s.pathname||"/",r);if(i==null)return null;let o=D2(e);wA(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=OA(i);l=AA(o[c],d,n)}return l}function D2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(yt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=qs([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(yt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),D2(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:PA(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of M2(i.path))s(i,o,c)}),t}function M2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=M2(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function wA(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:EA(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const jA=/^:[\w-]+$/,NA=3,kA=2,SA=1,_A=10,CA=-2,nb=e=>e==="*";function PA(e,t){let r=e.split("/"),n=r.length;return r.some(nb)&&(n+=CA),t&&(n+=kA),r.filter(s=>!nb(s)).reduce((s,i)=>s+(jA.test(i)?NA:i===""?SA:_A),n)}function EA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function AA(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=ab({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=ab({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:qs([i,m.pathname]),pathnameBase:$A(qs([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=qs([i,m.pathnameBase]))}return o}function ab(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=TA(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,u,m)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let v=l[m]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const p=l[m];return f&&!p?d[h]=void 0:d[h]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function TA(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),T2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function OA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return T2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function R2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function DA(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ko(e):e;return{pathname:r?r.startsWith("/")?r:MA(r,t):t,search:IA(n),hash:LA(s)}}function MA(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function yf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RA(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $2(e,t){let r=RA(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function I2(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ko(e):(s=Xl({},e),yt(!s.pathname||!s.pathname.includes("?"),yf("?","pathname","search",s)),yt(!s.pathname||!s.pathname.includes("#"),yf("#","pathname","hash",s)),yt(!s.search||!s.search.includes("#"),yf("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;s.pathname=h.join("/")}l=m>=0?t[m]:"/"}let c=DA(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const qs=e=>e.join("/").replace(/\/\/+/g,"/"),$A=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),IA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,LA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const L2=["post","put","patch","delete"];new Set(L2);const zA=["get",...L2];new Set(zA);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}const Gg=g.createContext(null),BA=g.createContext(null),jc=g.createContext(null),Em=g.createContext(null),cs=g.createContext({outlet:null,matches:[],isDataRoute:!1}),F2=g.createContext(null);function Nc(){return g.useContext(Em)!=null}function Am(){return Nc()||yt(!1),g.useContext(Em).location}function z2(e){g.useContext(jc).static||g.useLayoutEffect(e)}function jt(){let{isDataRoute:e}=g.useContext(cs);return e?t5():UA()}function UA(){Nc()||yt(!1);let e=g.useContext(Gg),{basename:t,future:r,navigator:n}=g.useContext(jc),{matches:s}=g.useContext(cs),{pathname:i}=Am(),o=JSON.stringify($2(s,r.v7_relativeSplatPath)),l=g.useRef(!1);return z2(()=>{l.current=!0}),g.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=I2(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:qs([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,o,i,e])}function qA(){let{matches:e}=g.useContext(cs),t=e[e.length-1];return t?t.params:{}}function VA(e,t){return WA(e,t)}function WA(e,t,r,n){Nc()||yt(!1);let{navigator:s,static:i}=g.useContext(jc),{matches:o}=g.useContext(cs),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let u=Am(),m;if(t){var h;let x=typeof t=="string"?ko(t):t;d==="/"||(h=x.pathname)!=null&&h.startsWith(d)||yt(!1),m=x}else m=u;let f=m.pathname||"/",p=f;if(d!=="/"){let x=d.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=!i&&r&&r.matches&&r.matches.length>0?r.matches:yA(e,{pathname:p}),y=JA(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:qs([d,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:qs([d,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,r,n);return t&&y?g.createElement(Em.Provider,{value:{location:Ql({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Ua.Pop}},y):y}function HA(){let e=e5(),t=FA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:s},r):null,null)}const KA=g.createElement(HA,null);class GA extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(cs.Provider,{value:this.props.routeContext},g.createElement(F2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YA(e){let{routeContext:t,match:r,children:n}=e,s=g.useContext(Gg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(cs.Provider,{value:t},n)}function JA(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||yt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:h,errors:f}=r,p=m.route.loader&&h[m.route.id]===void 0&&(!f||f[m.route.id]===void 0);if(m.route.lazy||p){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,m,h)=>{let f,p=!1,v=null,y=null;r&&(f=l&&m.route.id?l[m.route.id]:void 0,v=m.route.errorElement||KA,c&&(d<0&&h===0?(p=!0,y=null):d===h&&(p=!0,y=m.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),b=()=>{let j;return f?j=v:p?j=y:m.route.Component?j=g.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,g.createElement(YA,{match:m,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?g.createElement(GA,{location:r.location,revalidation:r.revalidation,component:v,error:f,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var B2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(B2||{}),yu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yu||{});function XA(e){let t=g.useContext(Gg);return t||yt(!1),t}function QA(e){let t=g.useContext(BA);return t||yt(!1),t}function ZA(e){let t=g.useContext(cs);return t||yt(!1),t}function U2(e){let t=ZA(),r=t.matches[t.matches.length-1];return r.route.id||yt(!1),r.route.id}function e5(){var e;let t=g.useContext(F2),r=QA(yu.UseRouteError),n=U2(yu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function t5(){let{router:e}=XA(B2.UseNavigateStable),t=U2(yu.UseNavigateStable),r=g.useRef(!1);return z2(()=>{r.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ql({fromRouteId:t},i)))},[e,t])}function r5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function n5(e){let{to:t,replace:r,state:n,relative:s}=e;Nc()||yt(!1);let{future:i,static:o}=g.useContext(jc),{matches:l}=g.useContext(cs),{pathname:c}=Am(),d=jt(),u=I2(t,$2(l,i.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(u);return g.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:s}),[d,m,s,r,n]),null}function St(e){yt(!1)}function a5(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ua.Pop,navigator:i,static:o=!1,future:l}=e;Nc()&&yt(!1);let c=t.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:i,static:o,future:Ql({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=ko(n));let{pathname:u="/",search:m="",hash:h="",state:f=null,key:p="default"}=n,v=g.useMemo(()=>{let y=R2(u,c);return y==null?null:{location:{pathname:y,search:m,hash:h,state:f,key:p},navigationType:s}},[c,u,m,h,f,p,s]);return v==null?null:g.createElement(jc.Provider,{value:d},g.createElement(Em.Provider,{children:r,value:v}))}function sb(e){let{children:t,location:r}=e;return VA(H0(t),r)}new Promise(()=>{});function H0(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,s)=>{if(!g.isValidElement(n))return;let i=[...t,s];if(n.type===g.Fragment){r.push.apply(r,H0(n.props.children,i));return}n.type!==St&&yt(!1),!n.props.index||!n.props.children||yt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=H0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const s5="6";try{window.__reactRouterVersion=s5}catch{}const i5="startTransition",ib=s3[i5];function ob(e){let{basename:t,children:r,future:n,window:s}=e,i=g.useRef();i.current==null&&(i.current=gA({window:s,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=g.useCallback(m=>{d&&ib?ib(()=>c(m)):c(m)},[c,d]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.useEffect(()=>r5(n),[n]),g.createElement(a5,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var lb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lb||(lb={}));var cb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cb||(cb={}));const o5={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtqcHJnanZxY2VlZGliY2Vra2VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM5NDU3MjQsImV4cCI6MjA1OTUyMTcyNH0.m14FspwRVLAilKSIipWuyP9Xrh5mjXEDki--__QAQ7I",VITE_SUPABASE_URL:"https://kjprgjvqceedibcekkep.supabase.co"},db=e=>{let t;const r=new Set,n=(u,m)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const f=t;t=m??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(p=>p(t,f))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>d,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(o5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(n,s,c);return c},l5=e=>e?db(e):db;var q2={exports:{}},V2={},W2={exports:{}},H2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=g;function c5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var d5=typeof Object.is=="function"?Object.is:c5,u5=so.useState,m5=so.useEffect,h5=so.useLayoutEffect,f5=so.useDebugValue;function p5(e,t){var r=t(),n=u5({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return h5(function(){s.value=r,s.getSnapshot=t,bf(s)&&i({inst:s})},[e,r,t]),m5(function(){return bf(s)&&i({inst:s}),e(function(){bf(s)&&i({inst:s})})},[e]),f5(r),r}function bf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!d5(e,r)}catch{return!0}}function g5(e,t){return t()}var x5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g5:p5;H2.useSyncExternalStore=so.useSyncExternalStore!==void 0?so.useSyncExternalStore:x5;W2.exports=H2;var v5=W2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=g,y5=v5;function b5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var w5=typeof Object.is=="function"?Object.is:b5,j5=y5.useSyncExternalStore,N5=Tm.useRef,k5=Tm.useEffect,S5=Tm.useMemo,_5=Tm.useDebugValue;V2.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=N5(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=S5(function(){function c(f){if(!d){if(d=!0,u=f,f=n(f),s!==void 0&&o.hasValue){var p=o.value;if(s(p,f))return m=p}return m=f}if(p=m,w5(u,f))return p;var v=n(f);return s!==void 0&&s(p,v)?(u=f,p):(u=f,m=v)}var d=!1,u,m,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=j5(e,i[0],i[1]);return k5(function(){o.hasValue=!0,o.value=l},[l]),_5(l),l};q2.exports=V2;var K2=q2.exports;const C5=Jn(K2),G2={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtqcHJnanZxY2VlZGliY2Vra2VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM5NDU3MjQsImV4cCI6MjA1OTUyMTcyNH0.m14FspwRVLAilKSIipWuyP9Xrh5mjXEDki--__QAQ7I",VITE_SUPABASE_URL:"https://kjprgjvqceedibcekkep.supabase.co"},{useDebugValue:P5}=It,{useSyncExternalStoreWithSelector:E5}=C5;let ub=!1;const A5=e=>e;function T5(e,t=A5,r){(G2?"production":void 0)!=="production"&&r&&!ub&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ub=!0);const n=E5(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return P5(n),n}const mb=e=>{(G2?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?l5(e):e,r=(n,s)=>T5(t,n,s);return Object.assign(r,t),r},kc=e=>e?mb(e):mb,O5="modulepreload",D5=function(e){return"/"+e},hb={},io=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=D5(c),c in hb)return;hb[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":O5,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((h,f)=>{m.addEventListener("load",h),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},M5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>io(async()=>{const{default:n}=await Promise.resolve().then(()=>So);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Yg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class R5 extends Yg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $5 extends Yg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class I5 extends Yg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var K0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(K0||(K0={}));var L5=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(m){o(m)}}function c(u){try{d(n.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class F5{constructor(t,{headers:r={},customFetch:n,region:s=K0.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=M5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return L5(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(p=>{throw new R5(p)}),m=u.headers.get("x-relay-error");if(m&&m==="true")throw new $5(u);if(!u.ok)throw new I5(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var kr={},Jg={},Om={},Sc={},Dm={},Mm={},z5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},oo=z5();const B5=oo.fetch,Y2=oo.fetch.bind(oo),J2=oo.Headers,U5=oo.Request,q5=oo.Response,So=Object.freeze(Object.defineProperty({__proto__:null,Headers:J2,Request:U5,Response:q5,default:Y2,fetch:B5},Symbol.toStringTag,{value:"Module"})),V5=qP(So);var Rm={};Object.defineProperty(Rm,"__esModule",{value:!0});let W5=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Rm.default=W5;var X2=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mm,"__esModule",{value:!0});const H5=X2(V5),K5=X2(Rm);let G5=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=H5.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,m=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&y&&y.length>1&&(m=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,m=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,h=200,f="OK")}catch{i.status===404&&v===""?(h=204,f="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,h=200,f="OK"),d&&this.shouldThrowOnError)throw new K5.default(d)}return{error:d,data:u,count:m,status:h,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Mm.default=G5;var Y5=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dm,"__esModule",{value:!0});const J5=Y5(Mm);let X5=class extends J5.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Dm.default=X5;var Q5=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sc,"__esModule",{value:!0});const Z5=Q5(Dm);let eT=class extends Z5.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Sc.default=eT;var tT=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Om,"__esModule",{value:!0});const Jo=tT(Sc);let rT=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Jo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Jo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Jo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Jo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Jo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Om.default=rT;var $m={},Im={};Object.defineProperty(Im,"__esModule",{value:!0});Im.version=void 0;Im.version="0.0.0-automated";Object.defineProperty($m,"__esModule",{value:!0});$m.DEFAULT_HEADERS=void 0;const nT=Im;$m.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${nT.version}`};var Q2=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jg,"__esModule",{value:!0});const aT=Q2(Om),sT=Q2(Sc),iT=$m;let oT=class Z2{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},iT.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new aT.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Z2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,m])=>m!==void 0).map(([u,m])=>[u,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([u,m])=>{l.searchParams.append(u,m)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new sT.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Jg.default=oT;var _o=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kr,"__esModule",{value:!0});kr.PostgrestError=kr.PostgrestBuilder=kr.PostgrestTransformBuilder=kr.PostgrestFilterBuilder=kr.PostgrestQueryBuilder=kr.PostgrestClient=void 0;const e4=_o(Jg);kr.PostgrestClient=e4.default;const t4=_o(Om);kr.PostgrestQueryBuilder=t4.default;const r4=_o(Sc);kr.PostgrestFilterBuilder=r4.default;const n4=_o(Dm);kr.PostgrestTransformBuilder=n4.default;const a4=_o(Mm);kr.PostgrestBuilder=a4.default;const s4=_o(Rm);kr.PostgrestError=s4.default;var lT=kr.default={PostgrestClient:e4.default,PostgrestQueryBuilder:t4.default,PostgrestFilterBuilder:r4.default,PostgrestTransformBuilder:n4.default,PostgrestBuilder:a4.default,PostgrestError:s4.default};const{PostgrestClient:cT,PostgrestQueryBuilder:BW,PostgrestFilterBuilder:UW,PostgrestTransformBuilder:qW,PostgrestBuilder:VW,PostgrestError:WW}=lT,dT="2.11.2",uT={"X-Client-Info":`realtime-js/${dT}`},mT="1.0.0",i4=1e4,hT=1e3;var Yi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Yi||(Yi={}));var Or;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Or||(Or={}));var kn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kn||(kn={}));var G0;(function(e){e.websocket="websocket"})(G0||(G0={}));var Ts;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ts||(Ts={}));class fT{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class o4{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ge||(Ge={}));const fb=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=pT(o,e,t,s),i),{})},pT=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?l4(i,o):Y0(o)},l4=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return yT(t,r)}switch(e){case Ge.bool:return gT(t);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return xT(t);case Ge.json:case Ge.jsonb:return vT(t);case Ge.timestamp:return bT(t);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return Y0(t);default:return Y0(t)}},Y0=e=>e,gT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},vT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},yT=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>l4(t,l))}return e},bT=e=>typeof e=="string"?e.replace(" ","T"):e,c4=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class wf{constructor(t,r,n={},s=i4){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pb||(pb={}));class kl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=kl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=kl.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const m=i[d];if(m){const h=u.map(y=>y.presence_ref),f=m.map(y=>y.presence_ref),p=u.filter(y=>f.indexOf(y.presence_ref)<0),v=m.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(l[d]=p),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const m=t[l].map(f=>f.presence_ref),h=u.filter(f=>m.indexOf(f.presence_ref)<0);t[l].unshift(...h)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gb||(gb={}));var xb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(xb||(xb={}));var Zn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zn||(Zn={}));class Xg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wf(this,kn.join,this.params,this.timeout),this.rejoinTimer=new o4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Or.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new kl(this),this.broadcastEndpointURL=c4(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(Zn.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Zn.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var m;if(this.socket.setAuth(),u===void 0){t==null||t(Zn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(m=h==null?void 0:h.length)!==null&&m!==void 0?m:0,p=[];for(let v=0;v<f;v++){const y=h[v],{filter:{event:x,schema:b,table:j,filter:N}}=y,w=u&&u[v];if(w&&w.event===x&&w.schema===b&&w.table===j&&w.filter===N)p.push(Object.assign(Object.assign({},y),{id:w.id}));else{this.unsubscribe(),t==null||t(Zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Zn.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(Zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Or.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new wf(this,kn.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wf(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=kn;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var p,v,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(v=f.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,v,y,x,b,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const N=f.id,w=(p=f.filter)===null||p===void 0?void 0:p.event;return N&&((v=r.ids)===null||v===void 0?void 0:v.includes(N))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const N=(b=(x=f==null?void 0:f.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return N==="*"||N===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:v,table:y,commit_timestamp:x,type:b,errors:j}=p;h=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:x,eventType:b,new:{},old:{},errors:j}),this._getPayloadRecords(p))}f.callback(h,n)})}_isClosed(){return this.state===Or.closed}_isJoined(){return this.state===Or.joined}_isJoining(){return this.state===Or.joining}_isLeaving(){return this.state===Or.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Xg.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kn.close,{},t)}_onError(t){this._on(kn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Or.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=fb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=fb(t.columns,t.old_record)),r}}const wT=()=>{},jT=typeof WebSocket<"u",NT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kT{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=uT,this.params={},this.timeout=i4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=wT,this.conn=null,this.sendBuffer=[],this.serializer=new fT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>io(async()=>{const{default:c}=await Promise.resolve().then(()=>So);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${G0.websocket}`,this.httpEndpoint=c4(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new o4(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(jT){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ST(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),io(async()=>{const{default:t}=await import("./browser-C39GEOER.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mT}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Yi.connecting:return Ts.Connecting;case Yi.open:return Ts.Open;case Yi.closing:return Ts.Closing;default:return Ts.Closed}}isConnected(){return this.connectionState()===Ts.Open}channel(t,r={config:{}}){const n=new Xg(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(kn.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(hT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(kn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([NT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ST{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Yi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Qg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _T extends Qg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class J0 extends Qg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var CT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(m){o(m)}}function c(u){try{d(n.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const d4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>io(async()=>{const{default:n}=await Promise.resolve().then(()=>So);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},PT=()=>CT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield io(()=>Promise.resolve().then(()=>So),void 0)).Response:Response}),X0=e=>{if(Array.isArray(e))return e.map(r=>X0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=X0(n)}),t};var oi=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(m){o(m)}}function c(u){try{d(n.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const jf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ET=(e,t,r)=>oi(void 0,void 0,void 0,function*(){const n=yield PT();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new _T(jf(s),e.status||500))}).catch(s=>{t(new J0(jf(s),s))}):t(new J0(jf(e),e))}),AT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function _c(e,t,r,n,s,i){return oi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,AT(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>ET(c,l,n))})})}function bu(e,t,r,n){return oi(this,void 0,void 0,function*(){return _c(e,"GET",t,r,n)})}function Ma(e,t,r,n,s){return oi(this,void 0,void 0,function*(){return _c(e,"POST",t,n,s,r)})}function TT(e,t,r,n,s){return oi(this,void 0,void 0,function*(){return _c(e,"PUT",t,n,s,r)})}function OT(e,t,r,n){return oi(this,void 0,void 0,function*(){return _c(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function u4(e,t,r,n,s){return oi(this,void 0,void 0,function*(){return _c(e,"DELETE",t,n,s,r)})}var br=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(m){o(m)}}function c(u){try{d(n.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const DT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MT{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=d4(s)}uploadOrUpdate(t,r,n,s){return br(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},vb),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),m=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield m.json();return m.ok?{data:{path:d,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Mt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return br(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return br(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:vb.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),h=yield m.json();return m.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Mt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return br(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ma(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Qg("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}update(t,r,n){return br(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return br(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return br(this,void 0,void 0,function*(){try{return{data:{path:(yield Ma(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return br(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ma(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return br(this,void 0,void 0,function*(){try{const s=yield Ma(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}download(t,r){return br(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield bu(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Mt(l))return{data:null,error:l};throw l}})}info(t){return br(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield bu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:X0(n),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}exists(t){return br(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield OT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Mt(n)&&n instanceof J0){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return br(this,void 0,void 0,function*(){try{return{data:yield u4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}list(t,r,n){return br(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},DT),r),{prefix:t||""});return{data:yield Ma(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const RT="2.7.1",$T={"X-Client-Info":`storage-js/${RT}`};var yi=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(m){o(m)}}function c(u){try{d(n.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class IT{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},$T),r),this.fetch=d4(n)}listBuckets(){return yi(this,void 0,void 0,function*(){try{return{data:yield bu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Mt(t))return{data:null,error:t};throw t}})}getBucket(t){return yi(this,void 0,void 0,function*(){try{return{data:yield bu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return yi(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return yi(this,void 0,void 0,function*(){try{return{data:yield TT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return yi(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return yi(this,void 0,void 0,function*(){try{return{data:yield u4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}}class LT extends IT{constructor(t,r={},n){super(t,r,n)}from(t){return new MT(this.url,this.headers,t,this.fetch)}}const FT="2.49.4";let ul="";typeof Deno<"u"?ul="deno":typeof document<"u"?ul="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ul="react-native":ul="node";const zT={"X-Client-Info":`supabase-js-${ul}/${FT}`},BT={headers:zT},UT={schema:"public"},qT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VT={};var WT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(m){o(m)}}function c(u){try{d(n.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const HT=e=>{let t;return e?t=e:typeof fetch>"u"?t=Y2:t=fetch,(...r)=>t(...r)},KT=()=>typeof Headers>"u"?J2:Headers,GT=(e,t,r)=>{const n=HT(r),s=KT();return(i,o)=>WT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var YT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(m){o(m)}}function c(u){try{d(n.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function JT(e){return e.replace(/\/$/,"")}function XT(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:d}=t,u={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},d),i),accessToken:()=>YT(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const m4="2.69.1",Si=30*1e3,Q0=3,Nf=Q0*Si,QT="http://localhost:9999",ZT="supabase.auth.token",eO={"X-Client-Info":`gotrue-js/${m4}`},Z0="X-Supabase-Api-Version",h4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rO=6e5;class Zg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class nO extends Zg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aO(e){return ke(e)&&e.name==="AuthApiError"}class f4 extends Zg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ds extends Zg{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Aa extends ds{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sO(e){return ke(e)&&e.name==="AuthSessionMissingError"}class kf extends ds{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ud extends ds{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class md extends ds{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iO(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class yb extends ds{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ep extends ds{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Sf(e){return ke(e)&&e.name==="AuthRetryableFetchError"}class bb extends ds{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Sl extends ds{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jb=` 	
\r=`.split(""),oO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jb.length;t+=1)e[jb[t].charCodeAt(0)]=-2;for(let t=0;t<wb.length;t+=1)e[wb[t].charCodeAt(0)]=t;return e})();function p4(e,t,r){const n=oO[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Nb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{dO(o,n,r)};for(let o=0;o<e.length;o+=1)p4(e.charCodeAt(o),s,i);return t.join("")}function lO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function cO(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}lO(n,t)}}function dO(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function uO(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)p4(e.charCodeAt(s),r,n);return new Uint8Array(t)}function mO(e){const t=[];return cO(e,r=>t.push(r)),new Uint8Array(t)}function hO(e){return Math.round(Date.now()/1e3)+e}function fO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ln=()=>typeof window<"u"&&typeof document<"u",ks={tested:!1,writable:!1},_l=()=>{if(!Ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ks.tested)return ks.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ks.tested=!0,ks.writable=!0}catch{ks.tested=!0,ks.writable=!1}return ks.writable};function pO(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const g4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>io(async()=>{const{default:n}=await Promise.resolve().then(()=>So);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},gO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",x4=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},hd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},fd=async(e,t)=>{await e.removeItem(t)};class Lm{constructor(){this.promise=new Lm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Lm.promiseConstructor=Promise;function _f(e){const t=e.split(".");if(t.length!==3)throw new Sl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!tO.test(t[n]))throw new Sl("JWT not in base64url format");return{header:JSON.parse(Nb(t[0])),payload:JSON.parse(Nb(t[1])),signature:uO(t[2]),raw:{header:t[0],payload:t[1]}}}async function xO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vO(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function yO(e){return("0"+e.toString(16)).substr(-2)}function bO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,yO).join("")}async function wO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function jO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await wO(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bi(e,t,r=!1){const n=bO();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await x4(e,`${t}-code-verifier`,s);const i=await jO(n);return[i,n===i?"plain":"s256"]}const NO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kO(e){const t=e.headers.get(Z0);if(!t||!t.match(NO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function SO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _O(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var CO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Cs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),PO=[502,503,504];async function kb(e){var t;if(!gO(e))throw new ep(Cs(e),0);if(PO.includes(e.status))throw new ep(Cs(e),e.status);let r;try{r=await e.json()}catch(i){throw new f4(Cs(i),i)}let n;const s=kO(e);if(s&&s.getTime()>=h4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bb(Cs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Aa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new bb(Cs(r),e.status,r.weak_password.reasons);throw new nO(Cs(r),e.status||500,n)}const EO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ee(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Z0]||(i[Z0]=h4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await AO(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function AO(e,t,r,n,s,i){const o=EO(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new ep(Cs(c),0)}if(l.ok||await kb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await kb(c)}}function Ta(e){var t;let r=null;MO(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=hO(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Sb(e){const t=Ta(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function La(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function TO(e){return{data:e,error:null}}function OO(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=CO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function DO(e){return e}function MO(e){return e.access_token&&e.refresh_token&&e.expires_in}var RO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class $O{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=g4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:La})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=RO(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:OO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:La})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:DO});if(u.error)throw u.error;const m=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);d[`${y}Page`]=v}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ke(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:La})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:La})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:La})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}}const IO={getItem:e=>_l()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{_l()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{_l()&&globalThis.localStorage.removeItem(e)}};function _b(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function LO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wi={debug:!!(globalThis&&_l()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class v4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class FO extends v4{}async function zO(e,t,r){wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),wi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new FO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}LO();const BO={url:QT,storageKey:ZT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cb(e,t,r){return await r()}class Zl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zl.nextInstanceID,Zl.nextInstanceID+=1,this.instanceID>0&&Ln()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},BO),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $O({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=g4(s.fetch),this.lock=s.lock||Cb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ln()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=zO:this.lock=Cb,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:_l()?this.storage=IO:(this.memoryStorage={},this.storage=_b(this.memoryStorage)):(this.memoryStorage={},this.storage=_b(this.memoryStorage)),Ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${m4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=pO(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ln()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),iO(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?{error:r}:{error:new f4("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ta}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:m,options:h}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await bi(this.storage,this.storageKey)),i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:m,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:Ta})}else if("phone"in t){const{phone:u,password:m,options:h}=t;i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ta})}else throw new ud("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sb})}else throw new ud("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new kf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await hd(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ta});if(await fd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new kf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ke(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ta}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new kf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await bi(this.storage,this.storageKey));const{error:m}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new ud("You must provide either an email or phone number.")}catch(l){if(ke(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ta});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(ke(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await bi(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:TO})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Aa;const{error:s}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ud("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await hd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Nf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:La}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Aa}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:La})})}catch(r){if(ke(r))return sO(r)&&(await this._removeSession(),await fd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Aa;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await bi(this.storage,this.storageKey));const{data:d,error:u}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:La});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Aa;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=_f(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ke(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Aa;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ln())throw new md("No browser detected.");if(t.error||t.error_description||t.error_code)throw new md(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new md("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yb("No code detected.");const{data:b,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new md("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(l);let h=u+m;c&&(h=parseInt(c));const f=h-u;f*1e3<=Si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${m}s`);const p=h-m;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:v,error:y}=await this._getUser(i);if(y)throw y;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:m,expires_at:h,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(ke(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await hd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(aO(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await fd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=fO(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await bi(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,d,u;const{data:m,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Ln()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ke(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vO(async s=>(s>0&&await xO(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ta})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Sf(i)&&Date.now()+o-n<Si})}catch(n){if(this._debug(r,"error",n),ke(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ln()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await hd(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Nf;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Nf}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Sf(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Lm;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Aa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ke(i)){const o={session:null,error:i};return Sf(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await x4(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await fd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Si);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Si}ms, refresh threshold is ${Q0} ticks`),s<=Q0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof v4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await bi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=_f(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+rO>Date.now()))return n;const{data:s,error:i}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Sl("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Sl("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};n=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=_f(n);if(SO(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const d=_O(s.alg),u=await this.fetchJwk(s.kid,r),m=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,o,mO(`${l}.${c}`)))throw new Sl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}}Zl.nextInstanceID=0;const UO=Zl;class qO extends UO{constructor(t){super(t)}}var VO=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(m){o(m)}}function c(u){try{d(n.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class WO{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=JT(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:UT,realtime:VT,auth:Object.assign(Object.assign({},qT),{storageKey:c}),global:BT},u=XT(n??{},d);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(m,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=GT(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new cT(`${l}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new F5(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new LT(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return VO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},d,u){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qO({url:this.authUrl,headers:Object.assign(Object.assign({},m),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new kT(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const HO=(e,t,r)=>new WO(e,t,r),KO="https://kjprgjvqceedibcekkep.supabase.co",GO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtqcHJnanZxY2VlZGliY2Vra2VwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM5NDU3MjQsImV4cCI6MjA1OTUyMTcyNH0.m14FspwRVLAilKSIipWuyP9Xrh5mjXEDki--__QAQ7I",ue=HO(KO,GO,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"x-application-name":"devhub-trader","X-Client-Info":"supabase-js/2.39.7"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}});async function YO(e=3,t=1e3){for(let r=0;r<e;r++)try{const{error:n}=await ue.auth.getSession();if(!n)return!0;if(r<e-1){const s=t*Math.pow(2,r);await new Promise(i=>setTimeout(i,s))}}catch{if(r<e-1){const s=t*Math.pow(2,r);await new Promise(i=>setTimeout(i,s))}}return!1}async function JO(){try{if(!await YO())return!1;const{data:{session:t},error:r}=await ue.auth.getSession();if(r)return!1;const{data:{subscription:n}}=ue.auth.onAuthStateChange((s,i)=>{try{}catch{}});return!0}catch{return!1}}const Pt=kc((e,t)=>({isLoading:!0,session:null,profile:null,signInWithEmail:async(r,n)=>{try{const{error:s}=await ue.auth.signInWithPassword({email:r,password:n});if(s)throw s.message.includes("Invalid login credentials")?new Error("Email ou senha incorretos"):s;await t().loadProfile()}catch(s){throw s}},signUpWithEmail:async(r,n,s)=>{var i,o;try{const{data:{user:l},error:c}=await ue.auth.signUp({email:r,password:n,options:{emailRedirectTo:window.location.origin,data:{name:r.split("@")[0],phone:s||null}}});if(c)throw(i=c.message)!=null&&i.includes("User already registered")||(o=c.message)!=null&&o.includes("already been taken")?new Error("Este email já está cadastrado. Por favor, faça login."):c;if(!l)throw new Error("Erro ao criar usuário. Tente novamente.");const{error:d}=await ue.auth.signInWithPassword({email:r,password:n});if(d)throw d;return await ue.from("profiles").update({token_balance:100,plan:"Free",plan_status:"active",phone:s||null}).eq("id",l.id),await t().loadProfile(),{user:l}}catch(l){throw l}},signOut:async()=>{const{error:r}=await ue.auth.signOut();if(r)throw r;e({session:null,profile:null})},loadProfile:async()=>{try{const{data:{session:r}}=await ue.auth.getSession();if(e({session:r}),r!=null&&r.user){const{data:n,error:s}=await ue.from("profiles").select("*").eq("id",r.user.id).single();if(s)throw s;e({profile:n})}e({isLoading:!1})}catch{e({isLoading:!1})}},updateProfile:async r=>{try{const{data:{session:n}}=await ue.auth.getSession();if(!(n!=null&&n.user))throw new Error("No authenticated session");const{error:s}=await ue.from("profiles").update(r).eq("id",n.user.id);if(s)throw s;await t().loadProfile()}catch(n){throw n}},updateTokenBalance:async r=>{try{const{data:{session:n}}=await ue.auth.getSession();if(!(n!=null&&n.user))throw new Error("No authenticated session");const{profile:s}=t();if(!s)throw new Error("Profile not loaded");const o=(s.token_balance||0)+r,{error:l}=await ue.from("profiles").update({token_balance:o}).eq("id",n.user.id);if(l)throw l;e({profile:{...s,token_balance:o}})}catch(n){throw n}}}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>g.createElement("svg",{ref:u,...XO,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${QO(e)}`,l].join(" "),...d},[...t.map(([m,h])=>g.createElement(m,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=ie("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=ie("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=ie("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=ie("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=ie("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=ie("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=ie("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=ie("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ie("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=ie("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=ie("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=ie("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=ie("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ie("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ie("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ie("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=ie("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=ie("FileCode2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=ie("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=ie("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=ie("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=ie("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=ie("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=ie("GitFork",[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=ie("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=ie("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=ie("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=ie("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=ie("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=ie("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=ie("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ie("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=ie("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=ie("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=ie("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=ie("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=ie("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=ie("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=ie("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=ie("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=ie("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=ie("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=ie("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ie("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=ie("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=ie("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ie("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ED={en:{"nav.robots":"My Robots","nav.community":"Community","nav.profile":"Profile","nav.subscription":"Subscription","nav.experts":"Experts","nav.signOut":"Sign Out","button.createRobot":"Create Robot","button.newVersion":"New Version","button.save":"Save","button.share":"Share","button.export":"Export","button.cancel":"Cancel","button.back":"Back","robot.edit":"Edit","robot.delete":"Delete","robot.view":"View","robot.rename":"Rename","share.title":"Share Robot","share.permission":"Permission Level","share.viewOnly":"View Only","share.canEdit":"Can Edit","share.generateLink":"Generate Link","share.inviteByEmail":"Invite by Email","share.shareLink":"Share Link","ai.title":"AI Assistant","ai.placeholder":"Ask me anything...","ai.createRobot":"Create Robot with AI","ai.configAssistant":"Configuration Assistant","ai.clearChat":"Clear Chat","ai.buyTokens":"Buy Tokens","ai.notEnoughTokens":"Not enough tokens. Please buy more.","ai.tokenCost":"Each AI analysis costs 100 tokens","tokens.balance":"tokens","tokens.buy":"Buy Tokens","profile.title":"Profile Settings","profile.photo":"Profile Photo","profile.email":"Email Address","profile.name":"Display Name","profile.save":"Save Changes","subscription.title":"Subscription & Tokens","subscription.current":"Current Plan","subscription.status":"Status","subscription.renewal":"Next Renewal","subscription.manage":"Manage Subscription",loading:"Loading...",error:"An error occurred",success:"Success!"},pt:{"nav.robots":"Meus Robôs","nav.community":"Comunidade","nav.profile":"Perfil","nav.subscription":"Assinatura","nav.experts":"Especialistas","nav.signOut":"Sair","button.createRobot":"Criar Robô","button.newVersion":"Nova Versão","button.save":"Salvar","button.share":"Compartilhar","button.export":"Exportar","button.cancel":"Cancelar","button.back":"Voltar","robot.edit":"Editar","robot.delete":"Excluir","robot.view":"Visualizar","robot.rename":"Renomear","share.title":"Compartilhar Robô","share.permission":"Nível de Permissão","share.viewOnly":"Apenas Visualização","share.canEdit":"Pode Editar","share.generateLink":"Gerar Link","share.inviteByEmail":"Convidar por Email","share.shareLink":"Link de Compartilhamento","ai.title":"Assistente de IA","ai.placeholder":"Pergunte-me qualquer coisa...","ai.createRobot":"Criar Robô com IA","ai.configAssistant":"Assistente de Configuração","ai.clearChat":"Limpar Chat","ai.buyTokens":"Comprar Tokens","ai.notEnoughTokens":"Tokens insuficientes. Por favor, compre mais.","ai.tokenCost":"Cada análise de IA custa 100 tokens","tokens.balance":"tokens","tokens.buy":"Comprar Tokens","profile.title":"Configurações de Perfil","profile.photo":"Foto de Perfil","profile.email":"Endereço de Email","profile.name":"Nome de Exibição","profile.save":"Salvar Alterações","subscription.title":"Assinatura e Tokens","subscription.current":"Plano Atual","subscription.status":"Status","subscription.renewal":"Próxima Renovação","subscription.manage":"Gerenciar Assinatura",loading:"Carregando...",error:"Ocorreu um erro",success:"Sucesso!"}},ba=kc((e,t)=>({language:"pt",setLanguage:r=>{e({language:r}),localStorage.setItem("preferredLanguage",r)},t:r=>{const{language:n}=t();return ED[n][r]||r}}));if(typeof window<"u"){const e=localStorage.getItem("preferredLanguage");e&&(e==="en"||e==="pt")&&ba.getState().setLanguage(e)}function ip({className:e=""}){const{language:t,setLanguage:r}=ba(),n=()=>{r(t==="en"?"pt":"en")};return a.jsxs("button",{onClick:n,className:`flex items-center space-x-1 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-md text-sm text-gray-300 ${e}`,title:t==="en"?"Switch to Portuguese":"Mudar para Inglês",children:[a.jsx(cD,{className:"w-4 h-4"}),a.jsx("span",{children:t==="en"?"PT":"EN"})]})}function Ob(){const e=jt(),[t,r]=g.useState(!1),[n,s]=g.useState(!1),[i,o]=g.useState(""),[l,c]=g.useState(""),[d,u]=g.useState(""),[m,h]=g.useState(!1),[f,p]=g.useState(null),[v,y]=g.useState(null),{signInWithEmail:x,signUpWithEmail:b,isLoading:j}=Pt(),{language:N,t:w}=ba(),k=async _=>{if(_.preventDefault(),p(null),y(null),i&&l)try{n?await b(i,l,d):(await x(i,l),window.location.href="/backtest-analysis")}catch(C){console.error("Error with authentication:",C),p(C instanceof Error?C.message:n?"Erro ao cadastrar. Tente novamente.":"Erro ao fazer login. Verifique suas credenciais.")}},S=()=>{o(""),c(""),u(""),h(!1),p(null),y(null)},E=()=>N==="en"?"Develop trading robots directly in your browser":"Desenvolva robôs de trading direto no seu navegador",R=()=>N==="en"?"Create, edit and share robots for Profit, MetaTrader and NTSL. Collaborate in real-time with your team and keep everything organized in one place.":"Crie, edite e compartilhe robôs para Profit, MetaTrader e NTSL. Colabore em tempo real com sua equipe e mantenha tudo organizado em um só lugar.";return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E]",children:[a.jsx("nav",{className:"border-b border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ot,{className:"w-8 h-8 text-blue-500"}),a.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"DevHub Trader"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ip,{}),a.jsx("button",{onClick:()=>e("/plans"),className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:N==="en"?"Plans":"Planos"}),a.jsx("button",{onClick:()=>{s(!1),r(!0),S()},className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:N==="en"?"Login":"Entrar"}),a.jsxs("button",{onClick:()=>{s(!0),r(!0),S()},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center",children:[N==="en"?"Sign Up":"Cadastrar"," ",a.jsx(Wd,{className:"w-4 h-4 ml-2"})]})]})]})})}),a.jsx("div",{className:"relative overflow-hidden",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"text-4xl tracking-tight font-extrabold text-white sm:text-5xl md:text-6xl",children:[a.jsx("span",{className:"block",children:E()}),a.jsx("span",{className:"block text-blue-500",children:N==="en"?"with AI assistance":"com assistência de IA"})]}),a.jsx("p",{className:"mt-3 max-w-md mx-auto text-base text-gray-400 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl",children:R()}),a.jsx("div",{className:"mt-5 max-w-md mx-auto sm:flex sm:justify-center md:mt-8",children:a.jsx("div",{className:"rounded-md shadow",children:a.jsx("button",{onClick:()=>{s(!0),r(!0),S()},className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 md:py-4 md:text-lg md:px-10",children:N==="en"?"Start for Free":"Comece Gratuitamente"})})})]})})}),a.jsx("div",{className:"py-16 bg-[#252526]",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:N==="en"?"Complete Trading Platform":"Plataforma Completa de Trading"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:N==="en"?"Everything you need to create, analyze, and optimize your trading strategies in one place":"Tudo o que você precisa para criar, analisar e otimizar suas estratégias de trading em um só lugar"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:[a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-md bg-blue-500 text-white mb-4",children:a.jsx(qa,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:N==="en"?"AI-Powered Creation":"Criação com IA"}),a.jsx("p",{className:"text-gray-400",children:N==="en"?"Create trading robots with AI assistance. Just describe your strategy and let AI do the coding.":"Crie robôs de trading com assistência de IA. Apenas descreva sua estratégia e deixe a IA fazer o código."})]}),a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-md bg-green-500 text-white mb-4",children:a.jsx(Jt,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:N==="en"?"Strategy Analysis":"Análise de Estratégias"}),a.jsx("p",{className:"text-gray-400",children:N==="en"?"Analyze your trading strategies with advanced metrics and AI insights to improve performance.":"Analise suas estratégias de trading com métricas avançadas e insights de IA para melhorar o desempenho."})]}),a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-md bg-purple-500 text-white mb-4",children:a.jsx(_u,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:N==="en"?"AI Optimization":"Otimização com IA"}),a.jsx("p",{className:"text-gray-400",children:N==="en"?"Optimize your existing strategies with AI suggestions for better risk management and returns.":"Otimize suas estratégias existentes com sugestões de IA para melhor gerenciamento de risco e retornos."})]}),a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-md bg-orange-500 text-white mb-4",children:a.jsx(mD,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:N==="en"?"Portfolio Management":"Gestão de Portfólio"}),a.jsx("p",{className:"text-gray-400",children:N==="en"?"Create and manage diversified portfolios of trading strategies for optimal performance.":"Crie e gerencie portfólios diversificados de estratégias de trading para performance ideal."})]})]})]})}),a.jsx("div",{className:"py-16 bg-[#252526]",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"lg:flex lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"lg:w-1/2 mb-8 lg:mb-0 lg:pr-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:N==="en"?"Advanced Backtest Analysis":"Análise Avançada de Backtest"}),a.jsx("p",{className:"text-xl text-gray-400 mb-6",children:N==="en"?"Upload your backtest results and get detailed AI-powered analysis to improve your strategies":"Faça upload dos resultados do seu backtest e obtenha análises detalhadas com IA para melhorar suas estratégias"}),a.jsxs("ul",{className:"space-y-3 text-gray-300",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(bt,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:N==="en"?"Comprehensive performance metrics and visualizations":"Métricas de desempenho abrangentes e visualizações"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(bt,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:N==="en"?"AI-powered strategy strengths and weaknesses analysis":"Análise de pontos fortes e fracos da estratégia com IA"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(bt,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:N==="en"?"Optimization suggestions tailored to your trading style":"Sugestões de otimização adaptadas ao seu estilo de trading"})]})]}),a.jsxs("button",{onClick:()=>{s(!0),r(!0),S()},className:"mt-6 px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium inline-flex items-center",children:[N==="en"?"Try Backtest Analysis":"Experimente a Análise de Backtest",a.jsx(Wd,{className:"w-4 h-4 ml-2"})]})]}),a.jsx("div",{className:"lg:w-1/2 bg-gray-800 rounded-lg p-6",children:a.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-900 rounded-lg flex items-center justify-center",children:a.jsx(Jt,{className:"w-24 h-24 text-blue-500 opacity-50"})})})]})})}),a.jsx("div",{className:"py-16",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"lg:flex lg:items-center lg:justify-between lg:flex-row-reverse",children:[a.jsxs("div",{className:"lg:w-1/2 mb-8 lg:mb-0 lg:pl-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:N==="en"?"Create Trading Robots with AI":"Crie Robôs de Trading com IA"}),a.jsx("p",{className:"text-xl text-gray-400 mb-6",children:N==="en"?"Let AI do the heavy lifting. Describe your trading strategy and get a fully functional robot in seconds.":"Deixe a IA fazer o trabalho pesado. Descreva sua estratégia de trading e obtenha um robô totalmente funcional em segundos."}),a.jsxs("ul",{className:"space-y-3 text-gray-300",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(qa,{className:"w-5 h-5 text-blue-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:N==="en"?"No coding experience required":"Nenhuma experiência em programação necessária"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(qa,{className:"w-5 h-5 text-blue-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:N==="en"?"Support for multiple trading platforms and indicators":"Suporte para múltiplas plataformas de trading e indicadores"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(qa,{className:"w-5 h-5 text-blue-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:N==="en"?"Customizable risk management and position sizing":"Gerenciamento de risco e dimensionamento de posição personalizáveis"})]})]}),a.jsxs("button",{onClick:()=>{s(!0),r(!0),S()},className:"mt-6 px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium inline-flex items-center",children:[N==="en"?"Create Your First Robot":"Crie Seu Primeiro Robô",a.jsx(Wd,{className:"w-4 h-4 ml-2"})]})]}),a.jsx("div",{className:"lg:w-1/2 bg-gray-800 rounded-lg p-6",children:a.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-900 rounded-lg flex items-center justify-center",children:a.jsx(ot,{className:"w-24 h-24 text-blue-500 opacity-50"})})})]})})}),a.jsx("div",{className:"py-16 bg-gradient-to-r from-blue-900 to-indigo-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:N==="en"?"Ready to Transform Your Trading?":"Pronto para Transformar seu Trading?"}),a.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:N==="en"?"Join thousands of traders who are already using DevHub Trader to create, analyze, and optimize their trading strategies.":"Junte-se a milhares de traders que já estão usando o DevHub Trader para criar, analisar e otimizar suas estratégias de trading."}),a.jsx("button",{onClick:()=>{s(!0),r(!0),S()},className:"px-8 py-4 bg-white text-blue-900 rounded-md font-bold text-lg hover:bg-gray-100 transition-colors",children:N==="en"?"Get Started Now":"Comece Agora"})]})}),t&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-8 relative",children:[a.jsx("button",{onClick:()=>{r(!1),S()},className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:"✕"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(ot,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h2",{className:"text-3xl font-bold text-gray-100",children:n?N==="en"?"Create Account":"Criar Conta":N==="en"?"Welcome to DevHub":"Bem-vindo ao DevHub"}),a.jsx("p",{className:"mt-2 text-gray-400",children:n?N==="en"?"Start your development journey":"Comece sua jornada de desenvolvimento":N==="en"?"Sign in to continue":"Entre para continuar"})]}),a.jsxs("form",{onSubmit:k,className:"mt-8 space-y-4",children:[f&&a.jsx("div",{className:"p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md text-red-500 text-sm",children:f}),v&&a.jsx("div",{className:"p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md text-green-500 text-sm",children:v}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email"}),a.jsx("input",{id:"email",type:"email",value:i,onChange:_=>o(_.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:N==="en"?"your@email.com":"seu@email.com"})]}),n&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300",children:N==="en"?"Phone":"Telefone"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(_4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{id:"phone",type:"tel",value:d,onChange:_=>u(_.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+55 (11) 98765-4321"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:N==="en"?"Password":"Senha"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{id:"password",type:m?"text":"password",value:l,onChange:_=>c(_.target.value),required:!0,className:"block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10",placeholder:"••••••••",minLength:6}),a.jsx("button",{type:"button",onClick:()=>h(!m),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-white",children:m?a.jsx(w4,{className:"w-4 h-4"}):a.jsx(tx,{className:"w-4 h-4"})})]})]}),a.jsxs("button",{type:"submit",disabled:j||!i||!l,className:"w-full flex items-center justify-center px-4 py-3 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Fm,{className:"w-5 h-5 mr-2"}),n?N==="en"?"Register with Email":"Cadastrar com Email":N==="en"?"Sign in with Email":"Entrar com Email"]})]}),a.jsxs("div",{className:"mt-6 text-center",children:[a.jsxs("p",{className:"text-sm text-gray-400",children:[n?N==="en"?"Already have an account?":"Já tem uma conta?":N==="en"?"Don't have an account yet?":"Ainda não tem conta?"," ",a.jsx("button",{type:"button",onClick:()=>{s(!n),S()},className:"text-blue-500 hover:text-blue-400",children:n?N==="en"?"Sign in":"Faça login":N==="en"?"Sign up":"Cadastre-se"})]}),a.jsxs("p",{className:"text-sm text-gray-400 mt-4",children:[N==="en"?"By continuing, you agree to our":"Ao continuar, você concorda com nossos"," ",a.jsx("a",{href:"#",className:"text-blue-500 hover:text-blue-400",children:N==="en"?"Terms of Service":"Termos de Serviço"})," ",N==="en"?"and":"e"," ",a.jsx("a",{href:"#",className:"text-blue-500 hover:text-blue-400",children:N==="en"?"Privacy Policy":"Política de Privacidade"})]})]})]})})]})}const mm=class mm{static logError(t,r){const n={timestamp:new Date,message:t instanceof Error?t.message:String(t),stack:t instanceof Error?t.stack:void 0,context:r};this.errors.unshift(n),this.errors.length>this.maxErrors&&this.errors.pop()}static getRecentErrors(t=10){return this.errors.slice(0,t)}static clearErrors(){this.errors=[]}static formatErrorMessage(t){return t instanceof Error?t.message:typeof t=="string"?t:"Ocorreu um erro desconhecido"}};mm.errors=[],mm.maxErrors=100;let cr=mm;const Co=kc((e,t)=>({robots:[],sharedRobots:[],currentRobot:null,versions:[],currentVersion:null,isLoading:!1,error:null,robotLimit:5,loadRobots:async()=>{e({isLoading:!0,error:null});try{const{data:{session:r}}=await ue.auth.getSession();if(!(r!=null&&r.user))throw new Error("No authenticated session");const{data:n,error:s}=await ue.from("robots").select("*").eq("owner_id",r.user.id).order("created_at",{ascending:!1});if(s)throw s;e({robots:n||[]}),await t().getRobotLimit()}catch(r){const n=r instanceof Error?r.message:"Failed to load robots";e({error:n}),cr.logError(r,"loadRobots")}finally{e({isLoading:!1})}},loadSharedRobots:async()=>{e({isLoading:!0,error:null});try{const{data:{session:r}}=await ue.auth.getSession();if(!(r!=null&&r.user))throw new Error("No authenticated session");const{data:n,error:s}=await ue.from("shared_robots").select(`
          robots:robot_name (
            id,
            name,
            owner_id,
            created_at,
            updated_at,
            current_version_id
          )
        `).eq("user_id",r.user.id);if(s)throw s;e({sharedRobots:(n==null?void 0:n.map(i=>i.robots))||[]})}catch(r){const n=r instanceof Error?r.message:"Failed to load shared robots";e({error:n}),cr.logError(r,"loadSharedRobots")}finally{e({isLoading:!1})}},loadVersions:async r=>{e({isLoading:!0,error:null});try{const{data:n,error:s}=await ue.from("robot_versions").select("*").eq("robot_id",r).eq("is_deleted",!1).order("created_at",{ascending:!1});if(s)throw s;return e({versions:n||[]}),n||[]}catch(n){const s=n instanceof Error?n.message:"Failed to load versions";return e({error:s}),cr.logError(n,"loadVersions"),[]}finally{e({isLoading:!1})}},getVersionCount:async r=>{try{const{count:n,error:s}=await ue.from("robot_versions").select("*",{count:"exact",head:!0}).eq("robot_id",r).eq("is_deleted",!1);if(s)throw s;return n||0}catch(n){return cr.logError(n,"getVersionCount"),0}},getRobotLimit:async()=>{try{const{data:{session:r}}=await ue.auth.getSession();if(!(r!=null&&r.user))throw new Error("No authenticated session");const{data:n,error:s}=await ue.from("profiles").select("plan").eq("id",r.user.id).single();if(s)throw s;let i=5;if(n!=null&&n.plan)switch(n.plan){case"Free":i=5;break;case"PRO 1":i=25;break;case"PRO 2":i=100;break;case"PRO 3":i=999;break;default:i=5}return e({robotLimit:i}),i}catch{return t().robotLimit}},createRobot:async r=>{e({isLoading:!0,error:null});try{const{data:{session:n}}=await ue.auth.getSession();if(!(n!=null&&n.user))throw new Error("No authenticated session");const{robots:s,robotLimit:i}=t();if(s.length>=i)throw new Error(`You have reached your limit of ${i} robots. Please upgrade your plan to create more robots.`);const{data:o,error:l}=await ue.from("robots").insert({name:r,owner_id:n.user.id}).select().single();if(l)throw l;if(!o)throw new Error("Failed to create robot");const{data:c,error:d}=await ue.from("robot_versions").insert({robot_id:o.id,version_name:"Versão 1",code:`// ${o.name}
// Versão 1

var
  precoEntrada, precoSaida: float;
begin
  // Lógica principal do robô
  // Clique para começar a editar
end;`,description:"Versão inicial",tags:["tendencia"],created_by:n.user.id}).select().single();if(d)throw d;const{error:u}=await ue.from("robots").update({current_version_id:c.id}).eq("id",o.id);if(u)throw u;return e(m=>({robots:[o,...m.robots],currentRobot:o,versions:[c],currentVersion:c})),o}catch(n){const s=n instanceof Error?n.message:"Failed to create robot";return e({error:s}),cr.logError(n,"createRobot"),null}finally{e({isLoading:!1})}},renameRobot:async(r,n)=>{e({isLoading:!0,error:null});try{const{data:s,error:i}=await ue.from("robots").update({name:n}).eq("id",r).select().single();if(i)throw i;e(o=>{var l;return{robots:o.robots.map(c=>c.id===r?{...c,name:n}:c),currentRobot:((l=o.currentRobot)==null?void 0:l.id)===r?{...o.currentRobot,name:n}:o.currentRobot}})}catch(s){const i=s instanceof Error?s.message:"Failed to rename robot";throw e({error:i}),cr.logError(s,"renameRobot"),s}finally{e({isLoading:!1})}},createVersion:async(r,n,s,i,o)=>{e({isLoading:!0,error:null});try{const{data:l,error:c}=await ue.from("robot_versions").select("version_name").eq("robot_id",r).eq("version_name",n).eq("is_deleted",!1);if(c)throw c;if(l&&l.length>0)throw new Error("Version name already exists for this robot");const{data:d,error:u}=await ue.from("robot_versions").insert({robot_id:r,version_name:n,code:s,description:i,tags:o}).select().single();if(u)throw u;if(!d)throw new Error("Failed to create version");return await ue.from("robots").update({current_version_id:d.id}).eq("id",r),e(m=>({versions:[d,...m.versions],currentVersion:d})),d}catch(l){const c=l instanceof Error?l.message:"Failed to create version";throw e({error:c}),cr.logError(l,"createVersion"),l}finally{e({isLoading:!1})}},updateVersion:async(r,n)=>{e({isLoading:!0,error:null});try{const{error:s}=await ue.from("robot_versions").update(n).eq("id",r);if(s)throw s;e(i=>{var o;return{versions:i.versions.map(l=>l.id===r?{...l,...n}:l),currentVersion:((o=i.currentVersion)==null?void 0:o.id)===r?{...i.currentVersion,...n}:i.currentVersion}})}catch(s){const i=s instanceof Error?s.message:"Failed to update version";throw e({error:i}),cr.logError(s,"updateVersion"),s}finally{e({isLoading:!1})}},deleteVersion:async r=>{e({isLoading:!0,error:null});try{const{error:n}=await ue.from("robot_versions").update({is_deleted:!0}).eq("id",r);if(n)throw n;e(s=>{var i;return{versions:s.versions.filter(o=>o.id!==r),currentVersion:((i=s.currentVersion)==null?void 0:i.id)===r?null:s.currentVersion}})}catch(n){const s=n instanceof Error?n.message:"Failed to delete version";throw e({error:s}),cr.logError(n,"deleteVersion"),n}finally{e({isLoading:!1})}},renameVersion:async(r,n)=>{e({isLoading:!0,error:null});try{const{error:s}=await ue.from("robot_versions").update({version_name:n}).eq("id",r);if(s)throw s;e(i=>{var o;return{versions:i.versions.map(l=>l.id===r?{...l,version_name:n}:l),currentVersion:((o=i.currentVersion)==null?void 0:o.id)===r?{...i.currentVersion,version_name:n}:i.currentVersion}})}catch(s){const i=s instanceof Error?s.message:"Failed to rename version";throw e({error:i}),cr.logError(s,"renameVersion"),s}finally{e({isLoading:!1})}},deleteRobot:async r=>{e({isLoading:!0,error:null});try{const{error:n}=await ue.from("robots").delete().eq("id",r);if(n)throw n;e(s=>{var i,o;return{robots:s.robots.filter(l=>l.id!==r),currentRobot:((i=s.currentRobot)==null?void 0:i.id)===r?null:s.currentRobot,versions:s.versions.filter(l=>l.robot_id!==r),currentVersion:((o=s.currentVersion)==null?void 0:o.robot_id)===r?null:s.currentVersion}})}catch(n){const s=n instanceof Error?n.message:"Failed to delete robot";throw e({error:s}),cr.logError(n,"deleteRobot"),n}finally{e({isLoading:!1})}},updateRobotVersion:async(r,n)=>{e({isLoading:!0,error:null});try{const{error:s}=await ue.from("robots").update({current_version_id:n}).eq("id",r);if(s)throw s;e(i=>{var o;return{robots:i.robots.map(l=>l.id===r?{...l,current_version_id:n}:l),currentRobot:((o=i.currentRobot)==null?void 0:o.id)===r?{...i.currentRobot,current_version_id:n}:i.currentRobot}})}catch(s){const i=s instanceof Error?s.message:"Failed to update robot version";throw e({error:i}),cr.logError(s,"updateRobotVersion"),s}finally{e({isLoading:!1})}},shareRobot:async(r,n,s)=>{e({isLoading:!0,error:null});try{const{data:{session:i}}=await ue.auth.getSession();if(!(i!=null&&i.user))throw new Error("No authenticated session");const{data:o,error:l}=await ue.from("robots").select("name").eq("id",r).single();if(l)throw l;if(!o)throw new Error("Robot not found");const c=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),d=new Date;d.setDate(d.getDate()+7);const{data:u,error:m}=await ue.from("shared_links").insert({robot_name:o.name,permission:n==="read"?"view":"edit",created_by:i.user.id,expires_at:d.toISOString(),token:c,is_active:!0}).select().single();if(m)throw m;return c}catch(i){const o=i instanceof Error?i.message:"Failed to share robot";throw e({error:o}),cr.logError(i,"shareRobot"),i}finally{e({isLoading:!1})}}}));function AD(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){AD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TD(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function OD(e,t){if(e==null)return{};var r=TD(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DD(e,t){return MD(e)||RD(e,t)||$D(e,t)||ID()}function MD(e){if(Array.isArray(e))return e}function RD(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function $D(e,t){if(e){if(typeof e=="string")return Rb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rb(e,t)}}function Rb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ID(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LD(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ib(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$b(Object(r),!0).forEach(function(n){LD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FD(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(s,i){return i(s)},n)}}function ml(e){return function t(){for(var r=this,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return s.length>=e.length?e.apply(this,s):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(r,[].concat(s,l))}}}function Cu(e){return{}.toString.call(e).includes("Object")}function zD(e){return!Object.keys(e).length}function ac(e){return typeof e=="function"}function BD(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function UD(e,t){return Cu(t)||Qa("changeType"),Object.keys(t).some(function(r){return!BD(e,r)})&&Qa("changeField"),t}function qD(e){ac(e)||Qa("selectorType")}function VD(e){ac(e)||Cu(e)||Qa("handlerType"),Cu(e)&&Object.values(e).some(function(t){return!ac(t)})&&Qa("handlersType")}function WD(e){e||Qa("initialIsRequired"),Cu(e)||Qa("initialType"),zD(e)&&Qa("initialContent")}function HD(e,t){throw new Error(e[t]||e.default)}var KD={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Qa=ml(HD)(KD),pd={changes:UD,selector:qD,handler:VD,initial:WD};function GD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pd.initial(e),pd.handler(t);var r={current:e},n=ml(XD)(r,t),s=ml(JD)(r),i=ml(pd.changes)(e),o=ml(YD)(r);function l(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return pd.selector(d),d(r.current)}function c(d){FD(n,s,i,o)(d)}return[l,c]}function YD(e,t){return ac(t)?t(e.current):t}function JD(e,t){return e.current=Ib(Ib({},e.current),t),t}function XD(e,t,r){return ac(t)?t(e.current):Object.keys(r).forEach(function(n){var s;return(s=t[n])===null||s===void 0?void 0:s.call(t,e.current[n])}),r}var QD={create:GD},ZD={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function eM(e){return function t(){for(var r=this,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return s.length>=e.length?e.apply(this,s):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(r,[].concat(s,l))}}}function tM(e){return{}.toString.call(e).includes("Object")}function rM(e){return e||Lb("configIsRequired"),tM(e)||Lb("configType"),e.urls?(nM(),{paths:{vs:e.urls.monacoBase}}):e}function nM(){console.warn(E4.deprecation)}function aM(e,t){throw new Error(e[t]||e.default)}var E4={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Lb=eM(aM)(E4),sM={config:rM},iM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(s){return r.reduceRight(function(i,o){return o(i)},s)}};function A4(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],A4(e[r],t[r]))}),Mb(Mb({},e),t)}var oM={type:"cancelation",msg:"operation is manually canceled"};function Cf(e){var t=!1,r=new Promise(function(n,s){e.then(function(i){return t?s(oM):n(i)}),e.catch(s)});return r.cancel=function(){return t=!0},r}var lM=QD.create({config:ZD,isInitialized:!1,resolve:null,reject:null,monaco:null}),T4=DD(lM,2),Pc=T4[0],zm=T4[1];function cM(e){var t=sM.config(e),r=t.monaco,n=OD(t,["monaco"]);zm(function(s){return{config:A4(s.config,n),monaco:r}})}function dM(){var e=Pc(function(t){var r=t.monaco,n=t.isInitialized,s=t.resolve;return{monaco:r,isInitialized:n,resolve:s}});if(!e.isInitialized){if(zm({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Cf(Pf);if(window.monaco&&window.monaco.editor)return O4(window.monaco),e.resolve(window.monaco),Cf(Pf);iM(uM,hM)(fM)}return Cf(Pf)}function uM(e){return document.body.appendChild(e)}function mM(e){var t=document.createElement("script");return e&&(t.src=e),t}function hM(e){var t=Pc(function(n){var s=n.config,i=n.reject;return{config:s,reject:i}}),r=mM("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function fM(){var e=Pc(function(r){var n=r.config,s=r.resolve,i=r.reject;return{config:n,resolve:s,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){O4(r),e.resolve(r)},function(r){e.reject(r)})}function O4(e){Pc().monaco||zm({monaco:e})}function pM(){return Pc(function(e){var t=e.monaco;return t})}var Pf=new Promise(function(e,t){return zm({resolve:e,reject:t})}),D4={config:cM,init:dM,__getMonacoInstance:pM},gM={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Ef=gM,xM={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},vM=xM;function yM({children:e}){return It.createElement("div",{style:vM.container},e)}var bM=yM,wM=bM;function jM({width:e,height:t,isEditorReady:r,loading:n,_ref:s,className:i,wrapperProps:o}){return It.createElement("section",{style:{...Ef.wrapper,width:e,height:t},...o},!r&&It.createElement(wM,null,n),It.createElement("div",{ref:s,style:{...Ef.fullWidth,...!r&&Ef.hide},className:i}))}var NM=jM,M4=g.memo(NM);function kM(e){g.useEffect(e,[])}var R4=kM;function SM(e,t,r=!0){let n=g.useRef(!0);g.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var $r=SM;function El(){}function Fi(e,t,r,n){return _M(e,n)||CM(e,t,r,n)}function _M(e,t){return e.editor.getModel($4(e,t))}function CM(e,t,r,n){return e.editor.createModel(t,r,n?$4(e,n):void 0)}function $4(e,t){return e.Uri.parse(t)}function PM({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:s,originalModelPath:i,modifiedModelPath:o,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:d="light",loading:u="Loading...",options:m={},height:h="100%",width:f="100%",className:p,wrapperProps:v={},beforeMount:y=El,onMount:x=El}){let[b,j]=g.useState(!1),[N,w]=g.useState(!0),k=g.useRef(null),S=g.useRef(null),E=g.useRef(null),R=g.useRef(x),_=g.useRef(y),C=g.useRef(!1);R4(()=>{let $=D4.init();return $.then(F=>(S.current=F)&&w(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>k.current?T():$.cancel()}),$r(()=>{if(k.current&&S.current){let $=k.current.getOriginalEditor(),F=Fi(S.current,e||"",n||r||"text",i||"");F!==$.getModel()&&$.setModel(F)}},[i],b),$r(()=>{if(k.current&&S.current){let $=k.current.getModifiedEditor(),F=Fi(S.current,t||"",s||r||"text",o||"");F!==$.getModel()&&$.setModel(F)}},[o],b),$r(()=>{let $=k.current.getModifiedEditor();$.getOption(S.current.editor.EditorOption.readOnly)?$.setValue(t||""):t!==$.getValue()&&($.executeEdits("",[{range:$.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),$.pushUndoStop())},[t],b),$r(()=>{var $,F;(F=($=k.current)==null?void 0:$.getModel())==null||F.original.setValue(e||"")},[e],b),$r(()=>{let{original:$,modified:F}=k.current.getModel();S.current.editor.setModelLanguage($,n||r||"text"),S.current.editor.setModelLanguage(F,s||r||"text")},[r,n,s],b),$r(()=>{var $;($=S.current)==null||$.editor.setTheme(d)},[d],b),$r(()=>{var $;($=k.current)==null||$.updateOptions(m)},[m],b);let B=g.useCallback(()=>{var L;if(!S.current)return;_.current(S.current);let $=Fi(S.current,e||"",n||r||"text",i||""),F=Fi(S.current,t||"",s||r||"text",o||"");(L=k.current)==null||L.setModel({original:$,modified:F})},[r,t,s,e,n,i,o]),D=g.useCallback(()=>{var $;!C.current&&E.current&&(k.current=S.current.editor.createDiffEditor(E.current,{automaticLayout:!0,...m}),B(),($=S.current)==null||$.editor.setTheme(d),j(!0),C.current=!0)},[m,d,B]);g.useEffect(()=>{b&&R.current(k.current,S.current)},[b]),g.useEffect(()=>{!N&&!b&&D()},[N,b,D]);function T(){var F,L,A,O;let $=(F=k.current)==null?void 0:F.getModel();l||((L=$==null?void 0:$.original)==null||L.dispose()),c||((A=$==null?void 0:$.modified)==null||A.dispose()),(O=k.current)==null||O.dispose()}return It.createElement(M4,{width:f,height:h,isEditorReady:b,loading:u,_ref:E,className:p,wrapperProps:v})}var EM=PM;g.memo(EM);function AM(e){let t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}var TM=AM,gd=new Map;function OM({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:s,path:i,theme:o="light",line:l,loading:c="Loading...",options:d={},overrideServices:u={},saveViewState:m=!0,keepCurrentModel:h=!1,width:f="100%",height:p="100%",className:v,wrapperProps:y={},beforeMount:x=El,onMount:b=El,onChange:j,onValidate:N=El}){let[w,k]=g.useState(!1),[S,E]=g.useState(!0),R=g.useRef(null),_=g.useRef(null),C=g.useRef(null),B=g.useRef(b),D=g.useRef(x),T=g.useRef(),$=g.useRef(n),F=TM(i),L=g.useRef(!1),A=g.useRef(!1);R4(()=>{let W=D4.init();return W.then(U=>(R.current=U)&&E(!1)).catch(U=>(U==null?void 0:U.type)!=="cancelation"&&console.error("Monaco initialization: error:",U)),()=>_.current?V():W.cancel()}),$r(()=>{var U,J,G,z;let W=Fi(R.current,e||n||"",t||s||"",i||r||"");W!==((U=_.current)==null?void 0:U.getModel())&&(m&&gd.set(F,(J=_.current)==null?void 0:J.saveViewState()),(G=_.current)==null||G.setModel(W),m&&((z=_.current)==null||z.restoreViewState(gd.get(i))))},[i],w),$r(()=>{var W;(W=_.current)==null||W.updateOptions(d)},[d],w),$r(()=>{!_.current||n===void 0||(_.current.getOption(R.current.editor.EditorOption.readOnly)?_.current.setValue(n):n!==_.current.getValue()&&(A.current=!0,_.current.executeEdits("",[{range:_.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),_.current.pushUndoStop(),A.current=!1))},[n],w),$r(()=>{var U,J;let W=(U=_.current)==null?void 0:U.getModel();W&&s&&((J=R.current)==null||J.editor.setModelLanguage(W,s))},[s],w),$r(()=>{var W;l!==void 0&&((W=_.current)==null||W.revealLine(l))},[l],w),$r(()=>{var W;(W=R.current)==null||W.editor.setTheme(o)},[o],w);let O=g.useCallback(()=>{var W;if(!(!C.current||!R.current)&&!L.current){D.current(R.current);let U=i||r,J=Fi(R.current,n||e||"",t||s||"",U||"");_.current=(W=R.current)==null?void 0:W.editor.create(C.current,{model:J,automaticLayout:!0,...d},u),m&&_.current.restoreViewState(gd.get(U)),R.current.editor.setTheme(o),l!==void 0&&_.current.revealLine(l),k(!0),L.current=!0}},[e,t,r,n,s,i,d,u,m,o,l]);g.useEffect(()=>{w&&B.current(_.current,R.current)},[w]),g.useEffect(()=>{!S&&!w&&O()},[S,w,O]),$.current=n,g.useEffect(()=>{var W,U;w&&j&&((W=T.current)==null||W.dispose(),T.current=(U=_.current)==null?void 0:U.onDidChangeModelContent(J=>{A.current||j(_.current.getValue(),J)}))},[w,j]),g.useEffect(()=>{if(w){let W=R.current.editor.onDidChangeMarkers(U=>{var G;let J=(G=_.current.getModel())==null?void 0:G.uri;if(J&&U.find(z=>z.path===J.path)){let z=R.current.editor.getModelMarkers({resource:J});N==null||N(z)}});return()=>{W==null||W.dispose()}}return()=>{}},[w,N]);function V(){var W,U;(W=T.current)==null||W.dispose(),h?m&&gd.set(i,_.current.saveViewState()):(U=_.current.getModel())==null||U.dispose(),_.current.dispose()}return It.createElement(M4,{width:f,height:p,isEditorReady:w,loading:c,_ref:C,className:v,wrapperProps:y})}var DM=OM,MM=g.memo(DM),RM=MM;const Fb={basicStructure:`// Estrutura básica do robô
input
  stopLoss: float = 100;
  takeProfit: float = 200;
var
  entryPrice: float;
begin
  // Lógica principal aqui
end;`,mediaMovel:`// Cruzamento de médias móveis
var
  fastMA, slowMA: float;
begin
  fastMA := sma(9);
  slowMA := sma(21);
  
  if fastMA > slowMA and fastMA[1] <= slowMA[1] then
    buy(1, close);
  
  if fastMA < slowMA and fastMA[1] >= slowMA[1] then
    sell(1, close);
end;`,stopLoss:`// Stop Loss e Take Profit
if position = 0 and condition then begin
  buy(1, close);
  entryPrice := close;
  set_stop_loss(entryPrice - stopLoss);
  set_take_profit(entryPrice + takeProfit);
end;`,trailing:`// Trailing Stop
var
  stopDistance: float = 100;
  lastStopPrice: float = 0;
begin
  if position > 0 then begin
    if lastStopPrice = 0 then
      lastStopPrice := entryPrice - stopDistance;
    
    if close - stopDistance > lastStopPrice then begin
      lastStopPrice := close - stopDistance;
      set_stop_loss(lastStopPrice);
    end;
  end;
end;`,rompimento:`// Rompimento de máxima/mínima
var
  periodHigh, periodLow: float;
begin
  periodHigh := highest(high, 20);
  periodLow := lowest(low, 20);
  
  if close > periodHigh[1] then
    buy(1, close)
  else if close < periodLow[1] then
    sell(1, close);
end;`,rsi:`// Estratégia com RSI
var
  rsiValue: float;
  oversold: float = 30;
  overbought: float = 70;
begin
  rsiValue := rsi(14);
  
  if position = 0 and rsiValue < oversold then
    buy(1, close);
    
  if position > 0 and rsiValue > overbought then
    sell(1, close);
end;`,bollinger:`// Estratégia com Bandas de Bollinger
var
  upperBand, lowerBand, middleBand: float;
  period: integer = 20;
  deviations: float = 2;
begin
  bollinger(period, deviations, upperBand, middleBand, lowerBand);
  
  if position = 0 and close < lowerBand then
    buy(1, close);
    
  if position > 0 and close > upperBand then
    sell(1, close);
end;`,macd:`// Estratégia com MACD
var
  macdLine, signalLine, histogram: float;
begin
  macd(12, 26, 9, macdLine, signalLine, histogram);
  
  if macdLine > signalLine and macdLine[1] <= signalLine[1] then
    buy(1, close);
    
  if macdLine < signalLine and macdLine[1] >= signalLine[1] then
    sell(1, close);
end;`,hftScalping:`// Estratégia HFT para Scalping
input
  rsiPeriod: integer = 7;
  rsiOverbought: float = 70;
  rsiOversold: float = 30;
  stopLoss: float = 50;
  takeProfit: float = 100;
var
  rsiValue: float;
  entryPrice: float;
begin
  rsiValue := rsi(rsiPeriod);
  
  // Compra rápida quando RSI está sobrevendido
  if position = 0 and rsiValue < rsiOversold and rsiValue[1] < rsiValue then begin
    buy(1, close);
    entryPrice := close;
    set_stop_loss(entryPrice - stopLoss);
    set_take_profit(entryPrice + takeProfit);
  end;
  
  // Venda rápida quando RSI está sobrecomprado
  if position > 0 and rsiValue > rsiOverbought then
    sell(1, close);
    
  // Saída rápida se o movimento não continuar
  if position > 0 and close < close[1] and close[1] < close[2] then
    sell(1, close);
end;`,correlacao:`// Estratégia de Correlação entre Ativos
input
  symbol1: string = "PETR4";
  symbol2: string = "VALE3";
  correlationPeriod: integer = 20;
  deviationThreshold: float = 1.5;
var
  price1, price2: float;
  ratio, avgRatio, stdRatio: float;
  zScore: float;
begin
  price1 := external_close(symbol1);
  price2 := external_close(symbol2);
  
  // Calcula a razão entre os preços
  ratio := price1 / price2;
  
  // Média e desvio padrão da razão
  avgRatio := sma_custom(ratio, correlationPeriod);
  stdRatio := stdev_custom(ratio, correlationPeriod);
  
  // Z-score (quantos desvios padrão a razão está da média)
  zScore := (ratio - avgRatio) / stdRatio;
  
  // Operações quando a correlação está fora do padrão
  if position = 0 and zScore < -deviationThreshold then
    buy(1, close); // Compra quando o ativo está subvalorizado em relação ao par
    
  if position > 0 and zScore > 0 then
    sell(1, close); // Vende quando a correlação normaliza
end;`,volumeProfile:`// Estratégia baseada em Perfil de Volume
input
  volumeThreshold: float = 1.5; // Multiplicador do volume médio
  lookbackPeriod: integer = 20;
var
  avgVolume, currentVolume: float;
  valueArea: float;
begin
  avgVolume := sma_custom(volume, lookbackPeriod);
  currentVolume := volume;
  valueArea := vwap(lookbackPeriod);
  
  // Compra em suporte de volume com volume acima da média
  if position = 0 and close < valueArea and currentVolume > avgVolume * volumeThreshold then
    buy(1, close);
    
  // Venda em resistência de volume com volume acima da média
  if position > 0 and close > valueArea and currentVolume > avgVolume * volumeThreshold then
    sell(1, close);
end;`,volatilityBreakout:`// Estratégia de Rompimento de Volatilidade (ATR)
input
  atrPeriod: integer = 14;
  atrMultiplier: float = 2.0;
  stopMultiplier: float = 1.5;
var
  atrValue: float;
  upperBand, lowerBand: float;
  entryPrice: float;
begin
  atrValue := atr(atrPeriod);
  upperBand := high[1] + atrValue * atrMultiplier;
  lowerBand := low[1] - atrValue * atrMultiplier;
  
  // Compra no rompimento superior
  if position = 0 and high > upperBand then begin
    buy(1, close);
    entryPrice := close;
    set_stop_loss(entryPrice - atrValue * stopMultiplier);
  end;
  
  // Venda no rompimento inferior
  if position = 0 and low < lowerBand then begin
    sell(1, close);
    entryPrice := close;
    set_stop_loss(entryPrice + atrValue * stopMultiplier);
  end;
end;`};function $M({fileId:e,content:t,language:r,onContentChange:n,versions:s,selectedVersion:i,onVersionSelect:o,showCreateVersionModal:l,setShowCreateVersionModal:c}){const d=g.useRef(null),u=g.useRef(null),[m,h]=g.useState(""),[f,p]=g.useState([]),[v,y]=g.useState(!1);g.useEffect(()=>{e&&(async()=>{var R;const{data:E}=await ue.from("robots").select("*, robot_versions!robot_versions_robot_id_fkey(*)").eq("id",e).single();if(((R=E==null?void 0:E.robot_versions)==null?void 0:R.length)>0){const _=E.robot_versions.find(C=>C.version_name==="Versão 1");_&&n(_.code)}})()},[e]);const x=S=>{d.current=S,y(!0),S.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KeyF,()=>{S.trigger("","actions.find")}),monaco.languages.registerCompletionItemProvider("javascript",{provideCompletionItems:()=>({suggestions:Object.entries(Fb).map(([R,_])=>({label:R,kind:monaco.languages.CompletionItemKind.Snippet,insertText:_,documentation:`Snippet: ${R}`,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet}))})});const E=new ResizeObserver(()=>{d.current&&d.current.layout()});return u.current&&E.observe(u.current),()=>{E.disconnect()}},b=S=>{if(!S)return{};const E={},R=S.split(`
`);let _="",C=0;return R.forEach((B,D)=>{const T=B.match(/\/\/#([^#\n]+)/);if(T){const $=T[1].trim();_&&(E[_]||(E[_]={name:_,ranges:[]}),E[_].ranges.push({start:C,end:D-1})),_=$,C=D+1}}),_&&(E[_]||(E[_]={name:_,ranges:[]}),E[_].ranges.push({start:C,end:R.length-1})),E},j=(S,E)=>{d.current&&(d.current.revealLineInCenter(E.start),d.current.setSelection({startLineNumber:E.start,startColumn:1,endLineNumber:E.end,endColumn:1}))},N=S=>{if(d.current){const E=d.current.getPosition();d.current.executeEdits("",[{range:{startLineNumber:E.lineNumber,startColumn:E.column,endLineNumber:E.lineNumber,endColumn:E.column},text:S}])}},w=()=>{if(d.current){const E=d.current.getPosition().lineNumber;d.current.executeEdits("",[{range:{startLineNumber:E,startColumn:1,endLineNumber:E,endColumn:1},text:`//#Topic Name
`}]),d.current.setPosition({lineNumber:E,column:4})}},k=t?b(t):{};return a.jsxs("div",{ref:u,className:"h-full w-full flex overflow-hidden",children:[a.jsxs("div",{className:"w-64 border-r border-gray-800 p-4 flex flex-col overflow-y-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Cc,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search in code...",value:m,onChange:S=>{h(S.target.value),d.current&&d.current.trigger("","actions.find",{searchString:S.target.value})},className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Version History"}),a.jsxs("button",{onClick:()=>c(!0),className:"text-xs text-blue-400 hover:text-blue-300 flex items-center",title:"Create new version",children:[a.jsx(On,{className:"w-3 h-3 mr-1"}),"New Version"]})]}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:s.map(S=>a.jsx("div",{className:`p-2 rounded cursor-pointer ${i===S.version_name?"bg-blue-600":"hover:bg-gray-800"}`,onClick:()=>o(S.version_name),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:S.version_name}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(S.created_at).toLocaleDateString()})]})},S.id))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Topics"}),a.jsxs("button",{onClick:w,className:"text-xs text-blue-400 hover:text-blue-300 flex items-center",title:"Add new topic",children:[a.jsx(On,{className:"w-3 h-3 mr-1"}),"Add Topic"]})]}),a.jsx("div",{className:"space-y-1",children:Object.entries(k).length===0?a.jsx("p",{className:"text-sm text-gray-500 italic",children:"No topics found. Add topics by writing //#topic in your code"}):Object.entries(k).map(([S,E])=>a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{f.includes(S)?p(f.filter(R=>R!==S)):p([...f,S])},className:"flex items-center w-full p-2 hover:bg-gray-800 rounded-md text-left",children:[f.includes(S)?a.jsx(ze,{className:"w-4 h-4 mr-2"}):a.jsx(Cl,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:S})]}),f.includes(S)&&a.jsx("div",{className:"ml-6 space-y-1",children:E.ranges.map((R,_)=>a.jsxs("button",{onClick:()=>j(S,R),className:"w-full p-2 hover:bg-gray-800 rounded-md text-left text-sm text-gray-400",children:["Lines ",R.start,"-",R.end]},_))})]},S))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium mb-2",children:"Fragments"}),a.jsx("div",{className:"space-y-1",children:Object.entries(Fb).map(([S,E])=>a.jsxs("button",{onClick:()=>N(E),className:"flex items-center w-full p-2 hover:bg-gray-800 rounded-md text-left",children:[a.jsx(nD,{className:"w-4 h-4 text-blue-400 mr-2"}),a.jsx("span",{children:S})]},S))})]})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(RM,{height:"100%",language:r,theme:"vs-dark",value:t,onChange:n,onMount:x,options:{minimap:{enabled:!1},fontSize:14,wordWrap:"on",lineNumbers:"on",folding:!0,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,insertSpaces:!0,autoClosingQuotes:"always",autoClosingBrackets:"always",suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",fontFamily:'"Fira Code", Menlo, Monaco, "Courier New", monospace',fontLigatures:!0}})})]})}const IM=kc((e,t)=>({invites:[],sharedRobots:[],isLoading:!1,error:null,loadSharedRobots:async()=>{e({isLoading:!0,error:null});try{const{data:{user:r}}=await ue.auth.getUser();if(!r)throw new Error("No authenticated user");const{data:n,error:s}=await ue.from("shared_robots").select("*").eq("user_id",r.id);if(s)throw s;e({sharedRobots:n||[]})}catch(r){e({error:r.message})}finally{e({isLoading:!1})}},checkExistingInvite:async(r,n)=>{if(!(r!=null&&r.trim())||!(n!=null&&n.trim()))return null;const{data:s,error:i}=await ue.from("sharing_invites").select("*").eq("robot_name",r.trim()).eq("email",n.trim()).eq("is_active",!0).limit(1).maybeSingle();return i?null:s},createInvite:async({robotName:r,email:n,permission:s})=>{e({isLoading:!0,error:null});try{const i=r==null?void 0:r.trim(),o=n==null?void 0:n.trim();if(!i)throw new Error("Robot name cannot be empty");if(!o)throw new Error("Email cannot be empty");const{data:{user:l}}=await ue.auth.getUser();if(!l)throw new Error("User not authenticated");const c=await t().checkExistingInvite(i,o);c&&await t().revokeInvite(c.id);const{data:d,error:u}=await ue.from("sharing_invites").insert({robot_name:i,email:o,permission:s,created_by:l.id,expires_at:new Date(Date.now()+7*24*60*60*1e3).toISOString()}).select().single();if(u)throw u;const{invites:m}=t();e({invites:[...m,d]});const{data:h}=await ue.auth.admin.getUserByEmail(o);h!=null&&h.user&&await ue.from("shared_robots").upsert({robot_name:i,user_id:h.user.id,permission:s,created_by:l.id})}catch(i){throw e({error:i.message}),i}finally{e({isLoading:!1})}},loadInvites:async r=>{e({isLoading:!0,error:null});try{const n=r==null?void 0:r.trim();if(!n){e({invites:[]});return}const{data:s,error:i}=await ue.from("sharing_invites").select("*").eq("robot_name",n).eq("is_active",!0).order("created_at",{ascending:!1});if(i)throw i;e({invites:s||[]})}catch(n){e({error:n.message})}finally{e({isLoading:!1})}},revokeInvite:async r=>{e({isLoading:!0,error:null});try{const{data:n}=await ue.from("sharing_invites").select("robot_name, email").eq("id",r).single();if(n){const{data:o}=await ue.auth.admin.getUserByEmail(n.email);o!=null&&o.user&&await ue.from("shared_robots").delete().match({robot_name:n.robot_name,user_id:o.user.id})}const{error:s}=await ue.from("sharing_invites").update({is_active:!1}).eq("id",r);if(s)throw s;const{invites:i}=t();e({invites:i.filter(o=>o.id!==r)})}catch(n){throw e({error:n.message}),n}finally{e({isLoading:!1})}}}));function LM({isOpen:e,onClose:t,robotName:r}){const[n,s]=g.useState(""),[i,o]=g.useState("view"),[l,c]=g.useState(!1),[d,u]=g.useState(null),[m,h]=g.useState(!1),[f,p]=g.useState(null),[v,y]=g.useState(!1),[x,b]=g.useState(!1),{invites:j,createInvite:N,loadInvites:w,isLoading:k,checkExistingInvite:S}=IM(),{profile:E}=Pt();g.useEffect(()=>{if(!r){t();return}w(r)},[r,w,t]),g.useEffect(()=>{(async()=>{if(n&&r){const T=await S(r,n);h(!!T)}else h(!1)})()},[n,r,S]);const R=async()=>{if(u(null),!(r!=null&&r.trim())){u("Robot name cannot be empty");return}if(!(n!=null&&n.trim())){u("Email cannot be empty");return}try{const D=async(A=3)=>{try{const{data:O,error:V}=await ue.functions.invoke("check-user-exists",{body:{email:n},headers:{"Content-Type":"application/json"}});if(V)throw V;return(O==null?void 0:O.exists)??!1}catch(O){if(A>0)return await new Promise(V=>setTimeout(V,1e3)),D(A-1);throw O}};if(!await D()){u("Este email não está registrado. Por favor, convide um usuário registrado.");return}await N({robotName:r,email:n,permission:i});const F=`https://devhubtrader.com.br/robots/${r}`,L=async(A=3)=>{try{const{error:O}=await ue.functions.invoke("send-invite-email",{body:{robotName:r,email:n,inviterName:(E==null?void 0:E.name)||(E==null?void 0:E.email)||"A user",permission:i,inviteLink:F},headers:{"Content-Type":"application/json"}});if(O)throw O}catch(O){if(A>0)return await new Promise(V=>setTimeout(V,1e3)),L(A-1);throw O}};await L(),s(""),c(!0),setTimeout(()=>c(!1),3e3)}catch(D){console.error("Error sending invite:",D);const T=D.message||"Failed to send invite. Please try again.";u(T.includes("Server configuration error")?"The server is currently unavailable. Please try again later or contact support.":T)}},_=async D=>{try{const{error:T}=await ue.functions.invoke("revoke-invite",{body:{inviteId:D},headers:{"Content-Type":"application/json"}});if(T)throw T;await w(r)}catch(T){console.error("Error revoking invite:",T),u(T.message||"Failed to revoke access. Please try again.")}},C=async()=>{try{u(null);const{data:D,error:T}=await ue.functions.invoke("create-share-link",{body:{robotName:r,permission:i}});if(T)throw T;const F=`https://devhubtrader.com.br/shared/${D.data.token}`;p(F),b(!0)}catch(D){console.error("Error creating share link:",D),u(D instanceof Error?D.message:"Failed to create share link")}},B=async()=>{if(f)try{await navigator.clipboard.writeText(f),y(!0),setTimeout(()=>y(!1),2e3)}catch(D){console.error("Failed to copy:",D),u("Failed to copy to clipboard")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:a.jsx(Ue,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(nc,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Compartilhar Robô"}),a.jsxs("p",{className:"mt-2 text-gray-400",children:['Compartilhe "',r,'" com outros usuários']})]}),d&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center text-red-500",children:[a.jsx(it,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:d})]}),l&&a.jsxs("div",{className:"mb-4 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center text-green-500",children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:"Convite enviado com sucesso!"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Permissão de acesso"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"view",checked:i==="view",onChange:()=>o("view"),className:"sr-only"}),a.jsx("div",{className:`px-3 py-1.5 rounded ${i==="view"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400"}`,children:"Visualizar"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"edit",checked:i==="edit",onChange:()=>o("edit"),className:"sr-only"}),a.jsx("div",{className:`px-3 py-1.5 rounded ${i==="edit"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400"}`,children:"Editar"})]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:C,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center justify-center",children:[a.jsx(fD,{className:"w-4 h-4 mr-2"}),"Gerar Link"]}),a.jsxs("button",{onClick:()=>b(!1),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center justify-center",children:[a.jsx(Fm,{className:"w-4 h-4 mr-2"}),"Convidar por Email"]})]}),x?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Link de compartilhamento"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"text",value:f||"",readOnly:!0,className:"flex-1 bg-gray-800 border border-gray-700 rounded-l-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{onClick:B,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-r-md flex items-center",children:v?a.jsx(ht,{className:"w-5 h-5"}):a.jsx(b4,{className:"w-5 h-5"})})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Este link permite ",i==="view"?"visualizar":"editar"," o robô"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email do colaborador"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"email",value:n,onChange:D=>s(D.target.value),placeholder:"colaborador@email.com",className:"w-full pl-3 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),m&&a.jsx("p",{className:"mt-2 text-yellow-500 text-sm",children:"Um convite ativo já existe para este email. Enviar um novo convite substituirá o anterior."})]}),a.jsx("button",{onClick:R,disabled:k,className:`w-full py-2 rounded-md transition-colors ${k?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:k?"Enviando...":"Enviar Convite"})]})]}),j.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-3",children:"Convites Ativos"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:j.map(D=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-md",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-white truncate",children:D.email}),a.jsx("p",{className:"text-xs text-gray-400",children:D.permission==="edit"?"Editor":"Viewer"})]}),a.jsx("button",{onClick:()=>_(D.id),className:"ml-2 p-1 text-gray-400 hover:text-white",disabled:k,children:a.jsx(Ue,{className:"w-4 h-4"})})]},D.id))})]}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-800 rounded-md flex items-start space-x-3",children:[a.jsx(it,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-gray-300",children:[a.jsx("p",{className:"font-medium mb-1",children:"Sobre Compartilhamento"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:"• Os convites são gerenciados dentro da plataforma"}),a.jsx("li",{children:"• Os colaboradores serão notificados quando fizerem login"}),a.jsx("li",{children:"• Você pode revogar o acesso a qualquer momento"}),a.jsx("li",{children:"• Os convites expiram após 7 dias se não forem aceitos"}),a.jsx("li",{children:"• Links de compartilhamento funcionam para qualquer pessoa"})]})]})]})]})}):null}function FM(e){return e?/^v\d+\.\d+\.\d+$/.test(e):!1}async function zM(e,t,r=100){if(!e)return"Versão 1";let n=0;t.forEach(i=>{var l;const o=(l=i.version_name)==null?void 0:l.match(/^Versão (\d+)$/);if(o){const c=parseInt(o[1],10);!isNaN(c)&&c>n&&(n=c)}});for(let i=1;i<=r;i++){let o;if(e.startsWith("v")){const l=e.match(/^v(\d+)\.(\d+)\.(\d+)$/);if(l){const[,c,d,u]=l;o=`v${c}.${d}.${parseInt(u)+i}`}else o=`${e}_${i}`}else e.startsWith("Versão")?o=`Versão ${n+i}`:o=`${e}_${i}`;if(!t.some(l=>l.version_name===o))return o}const s=new Date().getTime();return`${e}_${s}`}function BM({isOpen:e,onClose:t,onSave:r,existingVersions:n=[],suggestedName:s="",suggestedDescription:i=""}){const[o,l]=g.useState(s),[c,d]=g.useState(i),[u,m]=g.useState(null),[h,f]=g.useState(!1),[p,v]=g.useState(!1),[y,x]=g.useState([]),[b,j]=g.useState(""),[N,w]=g.useState(!1),[k,S]=g.useState(!1),[E,R]=g.useState(!1),[_,C]=g.useState(""),[B,D]=g.useState(""),T=["trailing","sem-trailing","tendencia","reversao","medias-moveis","rompimento","volatilidade-alta","volatilidade-baixa","correlacao","alvo-longo","alvo-curto"],$=["M1","M5","M15","M30","H1","H4","D1","W1"],F=["WINFUT","WDOFUT","PETR4","VALE3","ITUB4","BBDC4","ABEV3","MGLU3","BOVA11"];g.useEffect(()=>{e&&(l(s),d(i),m(null),x([]),j(""),v(!1),w(!1),S(!1),R(!1),C(""),D(""))},[e,s,i]);const L=()=>{if(!o||typeof o!="string"||!o.trim())return m("O nome da versão não pode estar vazio"),!1;const M=o.trim();if(M.startsWith("v"))try{if(!FM(M))return m("O formato de versão deve ser vX.X.X (ex: v1.0.0)"),!1}catch{return m("Formato de versão inválido"),!1}return n.includes(M)?(m("Já existe uma versão com este nome"),!1):c!=null&&c.trim()?!0:(m("A descrição da versão é obrigatória"),!1)},A=async M=>{if(M.preventDefault(),!!L()){f(!0),m(null);try{if(!o)throw new Error("Nome da versão é obrigatório");const I=await zM(o.trim(),n),H=[...y];b.trim()&&!H.includes(b.trim())&&H.push(b.trim()),await r(I,c.trim(),H.length>0?H:void 0),v(!0),setTimeout(()=>{t()},1500)}catch(I){console.error("Error saving version:",I),m(I instanceof Error?I.message:"Erro ao salvar versão")}finally{f(!1)}}},O=M=>{y.includes(M)?x(y.filter(I=>I!==M)):x([...y,M])},V=()=>{b.trim()&&!y.includes(b.trim())&&(x([...y,b.trim()]),j(""))},W=M=>{const I=`tf-${M.toLowerCase()}`;y.includes(I)?x(y.filter(H=>H!==I)):x([...y,I])},U=M=>{const I=`ativo-${M.toLowerCase()}`;y.includes(I)?x(y.filter(H=>H!==I)):x([...y,I])},J=()=>{if(_.trim()){const M=`tf-${_.trim().toLowerCase()}`;y.includes(M)||(x([...y,M]),C(""))}},G=()=>{if(B.trim()){const M=`ativo-${B.trim().toLowerCase()}`;y.includes(M)||(x([...y,M]),D(""))}},z=()=>y.filter(M=>M.startsWith("tf-")).map(M=>M.replace("tf-","").toUpperCase()),Z=()=>y.filter(M=>M.startsWith("ativo-")).map(M=>M.replace("ativo-","").toUpperCase()),se=()=>y.filter(M=>!M.startsWith("tf-")&&!M.startsWith("ativo-"));return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:h||p,children:a.jsx(Ue,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(rc,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Salvar Nova Versão"}),a.jsx("p",{className:"mt-2 text-gray-400",children:"Dê um nome à sua versão para facilitar a identificação futura"})]}),u&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center text-red-500",children:[a.jsx(it,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:u})]}),p&&a.jsxs("div",{className:"mb-4 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center text-green-500",children:[a.jsx(ht,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:"Versão salva com sucesso!"})]}),a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"version-name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome da versão*"}),a.jsx("input",{id:"version-name",type:"text",value:o,onChange:M=>l(M.target.value),placeholder:"Ex: v1.0.0, Implementação Stop Loss",className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,disabled:h||p})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"version-description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Descrição*"}),a.jsx("textarea",{id:"version-description",value:c,onChange:M=>d(M.target.value),placeholder:"Descreva as alterações desta versão",rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h||p})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Timeframes"}),a.jsxs("span",{className:"text-xs text-gray-500",children:[z().length," selecionados"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:$.map(M=>a.jsxs("button",{type:"button",onClick:()=>W(M),className:`px-2 py-1 rounded-md text-xs flex items-center ${z().includes(M)?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,disabled:h||p,children:[a.jsx(Sr,{className:"w-3 h-3 mr-1"}),M]},M))}),k?a.jsxs("div",{className:"flex gap-2 items-center mb-3",children:[a.jsx("input",{type:"text",value:_,onChange:M=>C(M.target.value),placeholder:"Timeframe personalizado",className:"flex-1 bg-gray-800 border border-gray-700 rounded-md px-3 py-1.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:h||p}),a.jsx("button",{type:"button",onClick:J,disabled:!_.trim()||h||p,className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1.5 rounded-md text-sm disabled:opacity-50",children:"Adicionar"}),a.jsx("button",{type:"button",onClick:()=>S(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-1.5 rounded-md text-sm",disabled:h||p,children:"Cancelar"})]}):a.jsxs("button",{type:"button",onClick:()=>S(!0),className:"text-purple-400 hover:text-purple-300 text-xs flex items-center mb-3",disabled:h||p,children:[a.jsx(On,{className:"w-3 h-3 mr-1"}),"Adicionar Timeframe Personalizado"]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Ativos"}),a.jsxs("span",{className:"text-xs text-gray-500",children:[Z().length," selecionados"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:F.map(M=>a.jsxs("button",{type:"button",onClick:()=>U(M),className:`px-2 py-1 rounded-md text-xs flex items-center ${Z().includes(M)?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,disabled:h||p,children:[a.jsx(hn,{className:"w-3 h-3 mr-1"}),M]},M))}),E?a.jsxs("div",{className:"flex gap-2 items-center mb-3",children:[a.jsx("input",{type:"text",value:B,onChange:M=>D(M.target.value),placeholder:"Ativo personalizado",className:"flex-1 bg-gray-800 border border-gray-700 rounded-md px-3 py-1.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:h||p}),a.jsx("button",{type:"button",onClick:G,disabled:!B.trim()||h||p,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-md text-sm disabled:opacity-50",children:"Adicionar"}),a.jsx("button",{type:"button",onClick:()=>R(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-1.5 rounded-md text-sm",disabled:h||p,children:"Cancelar"})]}):a.jsxs("button",{type:"button",onClick:()=>R(!0),className:"text-green-400 hover:text-green-300 text-xs flex items-center mb-3",disabled:h||p,children:[a.jsx(On,{className:"w-3 h-3 mr-1"}),"Adicionar Ativo Personalizado"]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Tags"}),a.jsxs("span",{className:"text-xs text-gray-500",children:[se().length," selecionadas"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:T.map(M=>a.jsx("button",{type:"button",onClick:()=>O(M),className:`px-2 py-1 rounded-md text-xs ${y.includes(M)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,disabled:h||p,children:M},M))}),N?a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{type:"text",value:b,onChange:M=>j(M.target.value),placeholder:"Tag personalizada",className:"flex-1 bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:h||p}),a.jsx("button",{type:"button",onClick:V,disabled:!b.trim()||h||p,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md text-sm",children:"Adicionar"}),a.jsx("button",{type:"button",onClick:()=>w(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm",disabled:h||p,children:"Cancelar"})]}):a.jsxs("button",{type:"button",onClick:()=>w(!0),className:"text-blue-400 hover:text-blue-300 text-sm flex items-center",disabled:h||p,children:[a.jsx(SD,{className:"w-4 h-4 mr-1"}),"Adicionar Tag Personalizada"]})]}),y.length>0&&a.jsx("div",{className:"p-3 bg-gray-800 rounded-md",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[z().length>0&&a.jsxs("div",{className:"flex items-center mr-1",children:[a.jsx(Sr,{className:"w-3 h-3 text-purple-400 mr-1"}),z().map(M=>a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-purple-900 text-purple-300 mr-1",children:[M,a.jsx("button",{type:"button",onClick:()=>W(M),className:"ml-1 text-purple-300 hover:text-purple-100",disabled:h||p,children:"×"})]},`tf-${M}`))]}),Z().length>0&&a.jsxs("div",{className:"flex items-center mr-1",children:[a.jsx(hn,{className:"w-3 h-3 text-green-400 mr-1"}),Z().map(M=>a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-green-900 text-green-300 mr-1",children:[M,a.jsx("button",{type:"button",onClick:()=>U(M),className:"ml-1 text-green-300 hover:text-green-100",disabled:h||p,children:"×"})]},`asset-${M}`))]}),se().map(M=>a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-900 text-blue-300",children:[M,a.jsx("button",{type:"button",onClick:()=>O(M),className:"ml-1 text-blue-300 hover:text-blue-100",disabled:h||p,children:"×"})]},M))]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:h||p,children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:!(o!=null&&o.trim())||!(c!=null&&c.trim())||h||p,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:h?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(rc,{className:"w-4 h-4 mr-2"}),"Salvar Versão"]})})]})]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-800",children:a.jsxs("div",{className:"text-xs text-gray-400",children:[a.jsxs("p",{className:"mb-2",children:[a.jsx("strong",{children:"Dica:"})," Use nomes descritivos para identificar facilmente cada versão."]}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsxs("li",{children:["Para alterações importantes: ",a.jsx("span",{className:"text-blue-400",children:"v1.0.0"})]}),a.jsxs("li",{children:["Para novas funcionalidades: ",a.jsx("span",{className:"text-blue-400",children:"v0.2.0"})]}),a.jsxs("li",{children:["Para correções: ",a.jsx("span",{className:"text-blue-400",children:"v0.1.1"})]})]})]})})]})}):null}function Al({showLabel:e=!0,className:t=""}){const{profile:r,loadProfile:n}=Pt(),{t:s}=ba(),i=(r==null?void 0:r.token_balance)||0;g.useEffect(()=>{const l=async()=>{try{const{data:{session:d}}=await ue.auth.getSession();if(!(d!=null&&d.user)){console.warn("No active session found");return}const u=3;for(let m=0;m<u;m++)try{const{data:h,error:f}=await ue.from("profiles").select("token_balance").eq("id",d.user.id).single();if(f)throw f;h&&(r==null?void 0:r.token_balance)!==h.token_balance&&n();break}catch(h){if(console.error(`Error refreshing token balance (attempt ${m+1}):`,h),m===u-1)throw h;await new Promise(f=>setTimeout(f,1e3*(m+1)))}}catch(d){console.error("Failed to refresh token balance after retries:",d)}},c=setInterval(l,3e4);return l(),()=>clearInterval(c)},[n,r==null?void 0:r.token_balance]);const o=()=>{const c=encodeURIComponent("Olá vim do DevHub Trader e quero mais informações e ajuda para comprar tokens");window.open(`https://wa.me/5511975333355?text=${c}`,"_blank")};return a.jsxs("div",{className:`flex items-center ${t} cursor-pointer hover:text-blue-300`,onClick:o,title:i<1e3?"Você precisa de pelo menos 1000 tokens para análises":"Buy more tokens",children:[a.jsx(Fe,{className:"w-4 h-4 text-yellow-500 mr-1"}),e?a.jsxs("span",{className:"text-sm",children:[a.jsx("span",{className:`font-medium ${i<1e3?"text-red-400":""}`,children:i.toLocaleString()})," ",s("tokens.balance")]}):a.jsx("span",{className:`font-medium ${i<1e3?"text-red-400":""}`,children:i.toLocaleString()})]})}function UM({onGenerateCode:e,robotId:t,robotName:r,selectedVersion:n}){jt();const[s,i]=g.useState([]),[o,l]=g.useState(""),[c,d]=g.useState(!1);g.useState(!1);const[u,m]=g.useState(""),h=g.useRef(null),f=g.useRef(null),{profile:p,updateTokenBalance:v}=Pt(),{t:y,language:x}=ba(),{createVersion:b,versions:j,loadVersions:N}=Co();g.useState(null),g.useState(500);const[w,k]=g.useState("create"),[S,E]=g.useState(""),[R,_]=g.useState(null),[C,B]=g.useState(""),[D,T]=g.useState([]),[$,F]=g.useState("");g.useState([]);const[L,A]=g.useState(!1),[O,V]=g.useState(""),[W,U]=g.useState(""),[J,G]=g.useState(!1),[z,Z]=g.useState({strategy:"",timeframes:[],assets:[],riskLevel:"",additionalDetails:""}),[se,M]=g.useState(!1),[I,H]=g.useState("idle"),[q,P]=g.useState(null),[X,re]=g.useState(!1),[de,fe]=g.useState(!1),he=[{id:"trend-following",name:"Seguidor de Tendência",icon:a.jsx(bt,{className:"w-5 h-5"}),description:"Estratégia que segue a direção da tendência do mercado"},{id:"mean-reversion",name:"Reversão à Média",icon:a.jsx(ND,{className:"w-5 h-5"}),description:"Estratégia que opera quando o preço se afasta da média"},{id:"breakout",name:"Rompimento",icon:a.jsx(Jt,{className:"w-5 h-5"}),description:"Estratégia que opera em rompimentos de suportes e resistências"},{id:"scalping",name:"Scalping",icon:a.jsx(Fe,{className:"w-5 h-5"}),description:"Estratégia de operações rápidas com pequenos ganhos"}],we=[{id:"quick-optimization",name:"Otimização Rápida",icon:a.jsx(Fe,{className:"w-5 h-5"}),description:"Melhoria geral de performance e código"},{id:"add-trailing",name:"Incluir Trailing Stop",icon:a.jsx(bt,{className:"w-5 h-5"}),description:"Adicionar trailing stop para proteger lucros"},{id:"add-breakeven",name:"Incluir Breakeven",icon:a.jsx(Jt,{className:"w-5 h-5"}),description:"Adicionar ponto de breakeven para reduzir risco"},{id:"financial-stop",name:"Stop Financeiro",icon:a.jsx(Hd,{className:"w-5 h-5"}),description:"Implementar stop loss baseado em valor financeiro"}],Y=[{id:"M1",name:"1 minuto"},{id:"M5",name:"5 minutos"},{id:"M15",name:"15 minutos"},{id:"M30",name:"30 minutos"},{id:"H1",name:"1 hora"},{id:"H4",name:"4 horas"},{id:"D1",name:"1 dia"},{id:"W1",name:"1 semana"}],me=["WINFUT","WDOFUT","PETR4","VALE3","ITUB4","BBDC4","ABEV3","MGLU3","BOVA11"],ne=["Tendência","Reversão à Média","Rompimento","Scalping","HFT","Correlação","Volatilidade","Média Móvel"],ae=["Conservador","Moderado","Agressivo"],je=()=>{h.current&&h.current.scrollIntoView({behavior:"smooth"})};g.useEffect(()=>{je()},[s]),g.useEffect(()=>{n&&_(n)},[n]),g.useEffect(()=>{t?N(t).then(oe=>{if(oe.length>0){let ge;R&&(ge=oe.find(rt=>rt.version_name===R),console.log("Versão selecionada encontrada:",!!ge)),ge||(ge=oe[0],console.log("Usando primeira versão:",ge.version_name),R||_(ge.version_name)),ge&&(console.log("Atualizando código atual com versão:",ge.version_name),E(ge.code),B(ge.description||""),T(ge.tags||[]))}else console.log("Nenhuma versão encontrada, limpando dados atuais"),E(""),B(""),T([]),_("")}).catch(oe=>{console.error("Erro ao carregar versões:",oe)}):(console.log("Sem robotId, limpando dados"),E(""),B(""),T([]),_(""))},[t,N]),g.useEffect(()=>{t&&R&&(console.log("selectedVersionName mudou para:",R),N(t).then(oe=>{const ge=oe.find(rt=>rt.version_name===R);ge?(console.log("Carregando versão selecionada:",R),E(ge.code),B(ge.description||""),T(ge.tags||[])):console.warn("Versão selecionada não encontrada:",R)}).catch(oe=>{console.error("Erro ao carregar versão selecionada:",oe)}))},[R,t,N]);const _e=()=>{if(((p==null?void 0:p.token_balance)||0)<500){const ge=document.createElement("div");ge.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md z-50 flex items-center",ge.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
        </svg>
        Tokens insuficientes. A criação de robô com IA custa 500 tokens.
      `,document.body.appendChild(ge),setTimeout(()=>{document.body.removeChild(ge)},3e3);return}k("create"),G(!0)},We=async()=>{if(((p==null?void 0:p.token_balance)||0)<500){const ge=document.createElement("div");ge.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md z-50 flex items-center",ge.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
        </svg>
        Tokens insuficientes. A otimização custa 500 tokens.
      `,document.body.appendChild(ge),setTimeout(()=>{document.body.removeChild(ge)},3e3);return}k("optimize"),G(!0)},Jr=()=>{if(((p==null?void 0:p.token_balance)||0)<500){const ge=document.createElement("div");ge.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md z-50 flex items-center",ge.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
        </svg>
        Tokens insuficientes. A correção de código custa 500 tokens.
      `,document.body.appendChild(ge),setTimeout(()=>{document.body.removeChild(ge)},3e3);return}fe(!0)},Rn=()=>{if(!z.strategy&&z.timeframes.length===0&&z.assets.length===0&&!z.additionalDetails){alert("Por favor, forneça pelo menos uma estratégia, timeframe, ativo ou detalhes adicionais para continuar.");return}let oe="";if(w==="create"){if(oe="Criar nova versão ",z.strategy&&(oe+=`utilizando a estratégia de ${z.strategy}`),z.timeframes.length>0){const ge=z.timeframes.map(rt=>{const Xt=Y.find(At=>At.id===rt);return Xt?Xt.name:rt});oe+=` para operar em ${ge.join(", ")}`}z.assets.length>0&&(oe+=` nos ativos ${z.assets.join(", ")}`),z.riskLevel&&(oe+=` com perfil de risco ${z.riskLevel}`),z.additionalDetails&&(oe+=`. ${z.additionalDetails}`)}else{if(oe="Otimize o código atual do robô ",z.strategy&&(oe+=`para melhorar a estratégia de ${z.strategy}`),z.timeframes.length>0){const ge=z.timeframes.map(rt=>{const Xt=Y.find(At=>At.id===rt);return Xt?Xt.name:rt});oe+=` para operar em ${ge.join(", ")}`}z.assets.length>0&&(oe+=` nos ativos ${z.assets.join(", ")}`),z.riskLevel&&(oe+=` com perfil de risco ${z.riskLevel}`),z.additionalDetails&&(oe+=`. ${z.additionalDetails}`),oe+=`

Código atual:
\`\`\`
${S}
\`\`\`

`,C&&(oe+=`Descrição atual: ${C}

`),D&&D.length>0&&(oe+=`Tags atuais: ${D.join(", ")}

`)}l(oe),G(!1),V(oe),A(!0),Z({strategy:"",timeframes:[],assets:[],riskLevel:"",additionalDetails:""})},Nt=()=>{if(!S){alert("Não há código para corrigir.");return}const oe=`O código gerado não está funcionando corretamente. Por favor, corrija os erros e gere uma nova versão funcional. 
    
Código atual com problemas:
\`\`\`
${S}
\`\`\`

Descrição do problema: ${$||"O código não está funcionando como esperado."}

Por favor, forneça uma versão corrigida do código que seja funcional, mantendo a mesma estratégia e lógica, mas corrigindo quaisquer erros de sintaxe ou lógica.`;l(oe),fe(!1),V(oe),A(!0)},Xr=async oe=>{if(oe.preventDefault(),!(!o.trim()||c)){if(o.trim().length<15&&!O){G(!0),Z({...z,additionalDetails:o.trim()});return}V(o.trim()),A(!0)}},yn=async()=>{if(!O||c)return;if(((p==null?void 0:p.token_balance)||0)<500){i(or=>[...or,{role:"user",content:O},{role:"assistant",content:x==="en"?"You don't have enough tokens to use the AI assistant. Each message costs 500 tokens. Please purchase more tokens or upgrade your plan.":"Você não tem tokens suficientes para usar o assistente de IA. Cada mensagem custa 500 tokens. Por favor, compre mais tokens ou atualize seu plano."}]),l(""),A(!1),V("");return}const ge=O.toLowerCase().includes("create a robot")||O.toLowerCase().includes("criar um robô")||O.toLowerCase().includes("fazer um robô")||O.toLowerCase().includes("build a robot")||O.toLowerCase().includes("create a new version")||O.toLowerCase().includes("criar uma nova versão"),rt=O.toLowerCase().includes("optimize")||O.toLowerCase().includes("otimizar")||O.toLowerCase().includes("improve")||O.toLowerCase().includes("melhorar"),Xt=O.toLowerCase().includes("fix")||O.toLowerCase().includes("corrigir")||O.toLowerCase().includes("consertar")||O.toLowerCase().includes("arrumar")||O.toLowerCase().includes("não funciona")||O.toLowerCase().includes("not working");ge?k("create"):rt?k("optimize"):Xt&&re(!0);const At=O;U(At),l(""),i(or=>[...or,{role:"user",content:At}]),d(!0),A(!1),V(""),M(!1),H("idle"),P(null);try{const or=u||void 0,lr=void 0;if(!or||!lr)throw new Error("Missing API key or Assistant ID");let Tt="";rt&&S?Tt=`${At}

CURRENT CODE TO OPTIMIZE:
\`\`\`ntsl
${S}
\`\`\`

${C?`Current description: ${C}`:""}
${D&&D.length>0?`Current tags: ${D.join(", ")}`:""}

IMPORTANT: Please respond with ONLY the optimized NTSL code inside a code block. Do not include explanations, descriptions, or any other text. Format your response exactly like this:

\`\`\`ntsl
[YOUR OPTIMIZED CODE HERE]
\`\`\``:Xt&&S?Tt=`${At}

CODE TO FIX:
\`\`\`ntsl
${S}
\`\`\`

${C?`Current description: ${C}`:""}
${D&&D.length>0?`Current tags: ${D.join(", ")}`:""}

IMPORTANT: Please respond with ONLY the corrected NTSL code inside a code block. Do not include explanations, descriptions, or any other text. Format your response exactly like this:

\`\`\`ntsl
[YOUR FIXED CODE HERE]
\`\`\``:Tt=`${At}

IMPORTANT: Please respond with ONLY the NTSL code inside a code block. Do not include explanations, descriptions, or any other text. Format your response exactly like this:

\`\`\`ntsl
[YOUR CODE HERE]
\`\`\``;const fi=await openai.beta.threads.create();await openai.beta.threads.messages.create(fi.id,{role:"user",content:Tt});const zo=await openai.beta.threads.runs.create(fi.id,{assistant_id:lr});let Bo,ys=0;const zc=60;for(;ys<zc;){const Ot=await openai.beta.threads.runs.retrieve(fi.id,zo.id);if(Ot.status==="completed"){Bo=(await openai.beta.threads.messages.list(fi.id)).data[0].content[0];break}else if(Ot.status==="failed")throw new Error("Assistant failed to process the request");ys++,await new Promise(Ut=>setTimeout(Ut,1e3))}if(ys>=zc)throw new Error("Request timeout: Assistant took too long to respond");if(!Bo)throw new Error("No response from assistant");const bs=Bo.text.value;console.log("=== RESPOSTA COMPLETA DA IA ==="),console.log(bs),console.log("=== FIM DA RESPOSTA ===");let Qt="";const Bc=/```(?:ntsl)?\s*\n([\s\S]*?)```/,bn=bs.match(Bc);if(bn&&bn[1])Qt=bn[1].trim(),console.log("✅ Código extraído de bloco markdown");else{const Ut=bs.split(`
`).filter(_a=>{const qt=_a.trim();return qt?qt.includes("input:")||qt.includes("var:")||qt.includes("begin")||qt.includes("end;")||qt.includes("buyatmarket")||qt.includes("sellshortatmarket")||qt.includes("plot")||qt.includes("if ")||qt.includes("then")||qt.includes("else")||/^[a-zA-Z_][a-zA-Z0-9_]*\s*:/.test(qt)||/^[a-zA-Z_][a-zA-Z0-9_]*\s*=/.test(qt):!1});Ut.length>0&&(Qt=Ut.join(`
`).trim(),console.log("✅ Código extraído por filtro de linhas"))}if(console.log("=== CÓDIGO EXTRAÍDO ==="),console.log("Tamanho:",Qt.length),console.log("Primeiros 200 chars:",Qt.substring(0,200)),!(Qt.length>10&&(Qt.includes("input:")||Qt.includes("var:")||Qt.includes("begin")||Qt.includes("end;"))))throw new Error("Código NTSL válido não foi encontrado na resposta da IA");const Qr=`${w==="create"?"Nova versão criada":X?"Código corrigido":"Versão otimizada"} com IA - ${At.substring(0,100)}`,Sa=[w==="create"?"nova-versao":X?"correcao":"otimizacao","ia-gerada"];if(console.log("Aplicando código ao editor..."),e(Qt,Qr,Sa),t)try{H("creating"),console.log("=== CRIANDO NOVA VERSÃO ===");const Ot=new Date().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).replace(/[/:]/g,"-").replace(/,/g,""),Ut=`Versão ${j.length+1}-${Ot}`;console.log("Nome da versão:",Ut),await b(t,Ut,Qt,Qr,Sa),_(Ut),H("success"),i(_a=>[..._a,{role:"assistant",content:x==="en"?`✅ Code generated and applied successfully! Version "${Ut}" created.`:`✅ Código gerado e aplicado com sucesso! Versão "${Ut}" criada.`}]),console.log("✅ Versão criada com sucesso!")}catch(Ot){console.error("❌ Erro ao criar versão:",Ot),H("error"),P(Ot.message),i(Ut=>[...Ut,{role:"assistant",content:x==="en"?`⚠️ Code applied to editor, but failed to save version: ${Ot.message}`:`⚠️ Código aplicado ao editor, mas falhou ao salvar versão: ${Ot.message}`}])}else i(Ot=>[...Ot,{role:"assistant",content:x==="en"?"✅ Code generated and applied to editor successfully.":"✅ Código gerado e aplicado ao editor com sucesso."}]);M(!0),re(!1),await v(-500)}catch(or){console.error("=== ERRO NA FUNÇÃO PRINCIPAL ==="),console.error(or);const lr=or instanceof Error?or.message:String(or);i(Tt=>[...Tt,{role:"assistant",content:`❌ ${x==="en"?"Error":"Erro"}: ${lr}`}]),H("error"),P(lr)}finally{d(!1)}},Fo=()=>{A(!1),V("")},Fc=oe=>{z.timeframes.includes(oe)?Z({...z,timeframes:z.timeframes.filter(ge=>ge!==oe)}):Z({...z,timeframes:[...z.timeframes,oe]})},hi=oe=>{z.assets.includes(oe)?Z({...z,assets:z.assets.filter(ge=>ge!==oe)}):Z({...z,assets:[...z.assets,oe]})},vs=oe=>{let ge="";if(w==="create")switch(oe){case"trend-following":ge="Criar nova versão utilizando estratégia seguidor de tendência com médias móveis e indicadores de momentum para identificar a direção do mercado e entrar em operações na direção da tendência.";break;case"mean-reversion":ge="Criar nova versão utilizando estratégia de reversão à média que opere quando o preço se afasta muito da média, utilizando bandas de bollinger e RSI para identificar pontos de entrada e saída.";break;case"breakout":ge="Criar nova versão utilizando estratégia de rompimento que identifique suportes e resistências e opere quando o preço rompe esses níveis com volume significativo.";break;case"scalping":ge="Criar nova versão utilizando estratégia de scalping para operações rápidas com pequenos ganhos, utilizando indicadores de curto prazo e gerenciamento de risco rigoroso.";break;default:ge="Criar nova versão "}else switch(oe){case"quick-optimization":ge="Otimize o código atual para melhorar a performance e legibilidade, mantendo a mesma estratégia.";break;case"add-trailing":ge="Adicione um trailing stop ao código atual para proteger lucros quando o preço se mover a favor.";break;case"add-breakeven":ge="Implemente um mecanismo de breakeven que move o stop loss para o ponto de entrada após o preço atingir um determinado lucro.";break;case"financial-stop":ge="Modifique o código para usar stop loss baseado em valor financeiro ao invés de pontos/ticks.";break;default:ge="Otimize o código atual "}Z({...z,additionalDetails:ge})},ka=oe=>{if(s[oe].role!=="assistant"||oe!==s.length-1)return null;const ge=((p==null?void 0:p.token_balance)||0)>=500,rt=R||(j.length>0?j[0].version_name:"");return a.jsxs("div",{className:"mt-4 flex flex-col space-y-2",children:[se&&a.jsx("div",{className:"flex items-center justify-center mb-2 bg-green-600 bg-opacity-20 py-2 px-3 rounded-md",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-5 h-5 mr-2 rounded-md border-2 border-green-500 flex items-center justify-center bg-green-500",children:a.jsx(ht,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"text-green-400 text-sm font-medium",children:x==="en"?"Task completed":"Tarefa concluída"})]})}),I==="creating"&&a.jsx("div",{className:"flex items-center justify-center mb-2 bg-blue-600 bg-opacity-20 py-2 px-3 rounded-md",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-5 h-5 mr-2 rounded-md flex items-center justify-center",children:a.jsx(ap,{className:"w-4 h-4 text-blue-400 animate-spin"})}),a.jsx("span",{className:"text-blue-400 text-sm font-medium",children:x==="en"?"Creating version...":"Criando versão..."})]})}),I==="success"&&a.jsx("div",{className:"flex items-center justify-center mb-2 bg-green-600 bg-opacity-20 py-2 px-3 rounded-md",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-5 h-5 mr-2 rounded-md border-2 border-green-500 flex items-center justify-center bg-green-500",children:a.jsx(ht,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"text-green-400 text-sm font-medium",children:x==="en"?"Version created successfully":"Versão criada com sucesso"})]})}),I==="error"&&a.jsx("div",{className:"flex items-center justify-center mb-2 bg-red-600 bg-opacity-20 py-2 px-3 rounded-md",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-5 h-5 mr-2 rounded-md border-2 border-red-500 flex items-center justify-center bg-red-500",children:a.jsx(Ue,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"text-red-400 text-sm font-medium",children:x==="en"?`Error: ${q}`:`Erro: ${q}`})]})}),a.jsxs("button",{onClick:_e,disabled:!ge,className:`w-full py-2 px-4 rounded-md flex items-center justify-center space-x-2 ${ge?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(On,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:x==="en"?"Create New Version with AI":"Criar Nova Versão com IA"})]}),a.jsxs("button",{onClick:We,disabled:!ge||!t,className:`w-full py-2 px-4 rounded-md flex items-center justify-center space-x-2 ${ge&&t?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(_u,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:x==="en"?`Optimize ${r?`"${r}"`:"This Robot"} ${rt?`(${rt})`:""}`:`Otimizar ${r?`"${r}"`:"Este Robô"} ${rt?`(${rt})`:""}`})]}),S&&a.jsxs("button",{onClick:Jr,disabled:!ge,className:`w-full py-2 px-4 rounded-md flex items-center justify-center space-x-2 ${ge?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(ot,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:x==="en"?"Fix Non-Functional Code":"Corrigir Código Não Funcional"})]}),!ge&&a.jsxs("div",{className:"text-xs text-yellow-500 text-center mt-1 flex items-center justify-center",children:[a.jsx(Hd,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:x==="en"?"Not enough tokens (500 required)":"Tokens insuficientes (500 necessários)"})]})]})};return a.jsxs("div",{className:"flex flex-col h-full bg-gray-900",children:[a.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(uo,{className:"w-5 h-5 text-blue-500 mr-2"}),a.jsx("h3",{className:"font-medium",children:y("ai.title")})]}),a.jsx(Al,{})]}),a.jsxs("div",{ref:f,className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"calc(100vh - 280px)"},children:[s.length===0?a.jsxs("div",{className:"text-center text-gray-400 py-8",children:[a.jsx("p",{className:"mb-2",children:x==="en"?"Hi! I'm your AI trading assistant.":"Olá! Sou seu assistente de trading com IA."}),a.jsx("p",{className:"text-sm",children:x==="en"?"Try asking me to:":"Tente me pedir para:"}),a.jsxs("ul",{className:"mt-4 space-y-2 text-sm",children:[a.jsx("li",{children:x==="en"?"Create a trading bot that uses RSI for trend following":"Criar nova versão utilizando RSI para seguir tendências"}),a.jsx("li",{children:x==="en"?"Generate a mean reversion strategy with Bollinger Bands":"Criar nova versão com estratégia de reversão à média com Bandas de Bollinger"}),a.jsx("li",{children:x==="en"?"Build a breakout trading system with proper risk management":"Criar nova versão com sistema de trading de rompimento com gerenciamento de risco adequado"})]}),a.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 max-w-sm mx-auto",children:[a.jsxs("button",{onClick:_e,disabled:((p==null?void 0:p.token_balance)||0)<500,className:`w-full py-3 px-4 rounded-md flex items-center justify-center space-x-2 ${((p==null?void 0:p.token_balance)||0)>=500?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(On,{className:"w-5 h-5 mr-1"}),a.jsx("span",{className:"font-medium",children:x==="en"?"Create New Version with AI":"Criar Nova Versão com IA"})]}),t&&a.jsxs("button",{onClick:We,disabled:((p==null?void 0:p.token_balance)||0)<500,className:`w-full py-3 px-4 rounded-md flex items-center justify-center space-x-2 ${((p==null?void 0:p.token_balance)||0)>=500?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(_u,{className:"w-5 h-5 mr-1"}),a.jsx("span",{className:"font-medium",children:x==="en"?`Optimize ${r?`"${r}"`:"This Robot"} ${R?`(${R})`:""}`:`Otimizar ${r?`"${r}"`:"Este Robô"} ${R?`(${R})`:""}`})]}),S&&a.jsxs("button",{onClick:Jr,disabled:((p==null?void 0:p.token_balance)||0)<500,className:`w-full py-3 px-4 rounded-md flex items-center justify-center space-x-2 ${((p==null?void 0:p.token_balance)||0)>=500?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(ot,{className:"w-5 h-5 mr-1"}),a.jsx("span",{className:"font-medium",children:x==="en"?"Fix Non-Functional Code":"Corrigir Código Não Funcional"})]}),((p==null?void 0:p.token_balance)||0)<500&&a.jsxs("div",{className:"text-xs text-yellow-500 text-center mt-1 flex items-center justify-center",children:[a.jsx(Hd,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:x==="en"?"Not enough tokens (500 required)":"Tokens insuficientes (500 necessários)"})]})]})]}):s.map((oe,ge)=>a.jsx("div",{className:`flex ${oe.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${oe.role==="user"?"bg-blue-600 text-white":"bg-gray-800 text-gray-100"}`,children:[a.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:oe.content}),oe.role==="assistant"&&ka(ge)]})},ge)),a.jsx("div",{ref:h})]}),J&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full p-6 shadow-xl",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(bt,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:w==="create"?"Detalhes para Criação do Robô":"Detalhes para Otimização do Robô"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Estratégias Prontas"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:w==="create"?he.map(oe=>a.jsxs("button",{type:"button",onClick:()=>vs(oe.id),className:"flex items-center p-3 bg-gray-700 hover:bg-gray-600 rounded-md text-left",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-2 mr-3",children:oe.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:oe.name}),a.jsx("p",{className:"text-xs text-gray-400",children:oe.description})]})]},oe.id)):we.map(oe=>a.jsxs("button",{type:"button",onClick:()=>vs(oe.id),className:"flex items-center p-3 bg-gray-700 hover:bg-gray-600 rounded-md text-left",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-2 mr-3",children:oe.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:oe.name}),a.jsx("p",{className:"text-xs text-gray-400",children:oe.description})]})]},oe.id))})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Estratégia"}),a.jsxs("select",{value:z.strategy,onChange:oe=>Z({...z,strategy:oe.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Selecione uma estratégia"}),ne.map(oe=>a.jsx("option",{value:oe,children:oe},oe))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Períodos (Timeframes)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:Y.map(oe=>a.jsx("button",{type:"button",onClick:()=>Fc(oe.id),className:`px-3 py-1.5 rounded-md text-sm ${z.timeframes.includes(oe.id)?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:oe.name},oe.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ativos"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:me.map(oe=>a.jsx("button",{type:"button",onClick:()=>hi(oe),className:`px-3 py-1.5 rounded-md text-sm ${z.assets.includes(oe)?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:oe},oe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nível de Risco"}),a.jsx("div",{className:"flex gap-3",children:ae.map(oe=>a.jsx("button",{type:"button",onClick:()=>Z({...z,riskLevel:oe}),className:`px-3 py-1.5 rounded-md text-sm flex-1 ${z.riskLevel===oe?"bg-yellow-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:oe},oe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Detalhes Adicionais"}),a.jsx("textarea",{value:z.additionalDetails,onChange:oe=>Z({...z,additionalDetails:oe.target.value}),placeholder:"Descreva detalhes específicos para seu robô...",rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx("button",{onClick:()=>G(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-md",children:"Cancelar"}),a.jsx("button",{onClick:Rn,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md",children:"Gerar Robô"})]})]})}),de&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full p-6 shadow-xl",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(ot,{className:"w-12 h-12 text-yellow-500"})}),a.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:"Corrigir Código Não Funcional"}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Descrição do Problema"}),a.jsx("textarea",{value:$,onChange:oe=>F(oe.target.value),placeholder:"Descreva o problema com o código atual (erros, comportamento inesperado, etc.)",rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Código Atual"}),a.jsx("div",{className:"bg-gray-900 p-3 rounded-lg max-h-48 overflow-y-auto",children:a.jsx("pre",{className:"text-xs text-gray-300 whitespace-pre-wrap",children:S})})]})]}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx("button",{onClick:()=>fe(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-md",children:"Cancelar"}),a.jsxs("button",{onClick:Nt,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-md flex items-center",children:[a.jsx(ot,{className:"w-4 h-4 mr-2"}),"Corrigir Código"]})]})]})}),L&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 shadow-xl",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(uo,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:x==="en"?"Send Message to AI Assistant?":"Enviar Mensagem para o Assistente de IA?"}),a.jsx("p",{className:"mt-2 text-gray-400 text-center mb-4",children:x==="en"?"This will use 500 tokens from your balance.":"Isso usará 500 tokens do seu saldo."}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsxs("button",{onClick:yn,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md flex items-center",children:[a.jsx(sp,{className:"w-4 h-4 mr-2"}),x==="en"?"Send":"Enviar"]}),a.jsxs("button",{onClick:Fo,className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-2 rounded-md flex items-center",children:[a.jsx(Ue,{className:"w-4 h-4 mr-2"}),x==="en"?"Cancel":"Cancelar"]})]})]})}),a.jsx("div",{className:"p-4 border-t border-gray-800",children:a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("textarea",{name:"chatInput",value:o,onChange:oe=>l(oe.target.value),placeholder:x==="en"?"Type your message...":"Digite sua mensagem...",className:"w-full bg-gray-800 text-white rounded-md px-4 py-3 min-h-[80px] max-h-[150px] resize-y",disabled:c,rows:3}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-xs text-gray-400",children:x==="en"?"Each message costs 500 tokens":"Cada mensagem custa 500 tokens"}),a.jsx("button",{type:"submit",onClick:Xr,disabled:c||!o.trim(),className:`px-4 py-2 rounded-md flex items-center ${c||!o.trim()?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:c?a.jsx(ap,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(sp,{className:"w-5 h-5 mr-2"}),x==="en"?"Send":"Enviar"]})})]})]})})]})}function qM({onClose:e}){const[t,r]=g.useState(!0),[n,s]=g.useState(0),[i,o]=g.useState(!1);g.useEffect(()=>{localStorage.getItem("assistantDismissed")==="true"?(o(!0),r(!1)):r(!0)},[]);const l=()=>{r(!1),e&&e()},c=()=>{r(!1),o(!0),localStorage.setItem("assistantDismissed","true"),e&&e()},d=[{title:"Bem-vindo ao DevHub Trader!",content:"Crie e gerencie seus robôs de trading com facilidade. Vamos conhecer as principais funcionalidades da plataforma.",icon:a.jsx(qa,{className:"w-8 h-8 text-blue-500"})},{title:"Crie seu robô sozinho ou com amigos",content:"Desenvolva robôs de trading individualmente ou colabore em tempo real com outros usuários. Compartilhe seus projetos facilmente.",icon:a.jsx(Kn,{className:"w-8 h-8 text-green-500"})},{title:"Use a IA ou programe no editor",content:"Utilize nosso assistente de IA para criar estratégias automaticamente ou programe diretamente no editor avançado com suporte a NTSL.",icon:a.jsx(ot,{className:"w-8 h-8 text-purple-500"})},{title:"Faça reload de tokens e crie robôs no automático",content:"Recarregue tokens para utilizar recursos de IA e crie robôs automaticamente com base em suas necessidades de trading.",icon:a.jsx(Fe,{className:"w-8 h-8 text-yellow-500"})}];return i?a.jsx("button",{onClick:()=>{o(!1),r(!0),localStorage.removeItem("assistantDismissed")},className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg z-50 flex items-center justify-center","aria-label":"Open assistant",children:a.jsx(Kd,{className:"w-6 h-6"})}):t?a.jsx("div",{className:"fixed bottom-6 right-6 z-50 max-w-sm w-full",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl border border-gray-700 overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-900 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(uo,{className:"w-5 h-5 text-blue-500 mr-2"}),a.jsx("h3",{className:"font-medium text-white",children:"Assistente da Plataforma"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white","aria-label":"Dismiss assistant",title:"Não mostrar novamente",children:a.jsx(Ue,{className:"w-5 h-5"})}),a.jsx("button",{onClick:l,className:"text-gray-400 hover:text-white","aria-label":"Minimize assistant",title:"Minimizar",children:a.jsx(Kd,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:d[n].icon}),a.jsx("h4",{className:"text-lg font-semibold text-center mb-3",children:d[n].title}),a.jsx("p",{className:"text-gray-300 text-center mb-6",children:d[n].content}),a.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:d.map((u,m)=>a.jsx("button",{onClick:()=>s(m),className:`w-2 h-2 rounded-full ${n===m?"bg-blue-500":"bg-gray-600"}`,"aria-label":`Go to step ${m+1}`},m))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:()=>s(u=>Math.max(0,u-1)),disabled:n===0,className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),n<d.length-1?a.jsx("button",{onClick:()=>s(u=>Math.min(d.length-1,u+1)),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 rounded text-sm",children:"Próximo"}):a.jsx("button",{onClick:l,className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 rounded text-sm",children:"Entendi!"})]})]})]})}):a.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg z-50 flex items-center justify-center","aria-label":"Open assistant",children:a.jsx(Kd,{className:"w-6 h-6"})})}function Mn(){const e=jt(),t=Am(),[r,n]=g.useState(!1),[s,i]=g.useState(!1),{signOut:o,profile:l}=Pt(),{t:c}=ba(),d=["pedropardal04@gmail.com","profitestrategista@gmail.com"],u=(l==null?void 0:l.email)&&d.includes(l.email),m=p=>t.pathname===p,h=(p,v)=>{v.preventDefault(),window.open(p,"_blank")},f=[{path:"/dashboard",label:"Dashboard",icon:a.jsx(Jt,{className:"w-5 h-5"}),external:!1},{path:"/robots",label:c("nav.robots"),icon:a.jsx(ot,{className:"w-5 h-5"}),external:!1},{path:"/experts",label:c("nav.experts"),icon:a.jsx(ex,{className:"w-5 h-5"}),external:!1},{path:"/backtest-analysis",label:"Backtest Analysis",icon:a.jsx(sD,{className:"w-5 h-5"}),external:!1}];return a.jsxs("nav",{className:"bg-gray-900 border-b border-gray-800",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"flex-shrink-0 flex items-center cursor-pointer",onClick:()=>e("/"),children:[a.jsx(ot,{className:"h-8 w-8 text-blue-500"}),a.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"DevHub Trader"})]}),a.jsx("div",{className:"hidden md:block ml-10",children:a.jsx("div",{className:"flex items-center space-x-4",children:f.map(p=>a.jsxs("button",{onClick:v=>{p.external?h(p.path,v):(e(p.path),n(!1))},className:`px-3 py-2 rounded-md text-sm font-medium flex items-center space-x-2 ${m(p.path)&&!p.external?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[p.icon,a.jsx("span",{children:p.label}),p.external&&a.jsx(ta,{className:"w-3 h-3 ml-1"})]},p.path))})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"hidden md:flex",children:a.jsx(Al,{})}),a.jsx("div",{className:"hidden md:flex",children:a.jsx(ip,{})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>i(!s),className:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-700 text-white px-3 py-2 rounded-md",children:a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden",children:l!=null&&l.avatar_url?a.jsx("img",{src:l.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx(Hn,{className:"w-4 h-4 text-gray-400"})})}),s&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-50",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:(l==null?void 0:l.name)||"User"}),a.jsx("p",{className:"text-xs text-gray-400 truncate",children:l==null?void 0:l.email}),a.jsxs("div",{className:"mt-1 flex items-center",children:[a.jsx(Al,{showLabel:!1}),a.jsx("span",{className:"ml-1 text-xs text-gray-400",children:"tokens"})]})]}),a.jsxs("button",{onClick:()=>{e("/profile"),i(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[a.jsx(Hn,{className:"w-4 h-4 mr-2"}),c("nav.profile")]}),a.jsxs("button",{onClick:()=>{e("/subscription"),i(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[a.jsx(Wn,{className:"w-4 h-4 mr-2"}),c("nav.subscription")]}),u&&a.jsxs("button",{onClick:()=>{e("/admin"),i(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[a.jsx(rx,{className:"w-4 h-4 mr-2"}),"Admin Panel"]}),a.jsxs("button",{onClick:()=>o(),className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[a.jsx(pD,{className:"w-4 h-4 mr-2"}),c("nav.signOut")]})]})]}),a.jsx("div",{className:"md:hidden",children:a.jsx("button",{onClick:()=>n(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none",children:r?a.jsx(Ue,{className:"block h-6 w-6"}):a.jsx(xD,{className:"block h-6 w-6"})})})]})]})}),r&&a.jsx("div",{className:"md:hidden",children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[f.map(p=>a.jsxs("button",{onClick:v=>{p.external?h(p.path,v):(e(p.path),n(!1))},className:`w-full text-left px-3 py-2 rounded-md text-base font-medium flex items-center space-x-3 ${m(p.path)&&!p.external?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[p.icon,a.jsx("span",{children:p.label}),p.external&&a.jsx(ta,{className:"w-3 h-3 ml-1"})]},p.path)),a.jsxs("button",{onClick:p=>h("https://profitestrategista.com.br/robots",p),className:"w-full text-left px-3 py-2 rounded-md text-base font-medium flex items-center space-x-3 bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(bD,{className:"w-5 h-5"}),a.jsx("span",{children:"Opcionais"}),a.jsx(ta,{className:"w-3 h-3 ml-1"})]}),a.jsx("div",{className:"pt-4 pb-3 border-t border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between px-3",children:[a.jsx(Al,{}),a.jsx(ip,{})]})})]})})]})}function VM({robotId:e,versionId:t,versionName:r,description:n,tags:s,createdAt:i,createdBy:o,onUpdate:l}){const[c,d]=g.useState(!1),[u,m]=g.useState(n),[h,f]=g.useState(s),[p,v]=g.useState(!1),[y,x]=g.useState(!1),[b,j]=g.useState(!1),[N,w]=g.useState(""),[k,S]=g.useState(""),[E,R]=g.useState(""),[_,C]=g.useState(!1),[B,D]=g.useState(!1),[T,$]=g.useState(!1),F=["trailing","sem-trailing","tendencia","reversao","medias-moveis","rompimento","volatilidade-alta","volatilidade-baixa","correlacao","alvo-longo","alvo-curto","hft","scalping","intraday","swing"],L=[{id:"M1",name:"1 minuto"},{id:"M5",name:"5 minutos"},{id:"M15",name:"15 minutos"},{id:"M30",name:"30 minutos"},{id:"H1",name:"1 hora"},{id:"H4",name:"4 horas"},{id:"D1",name:"1 dia"},{id:"W1",name:"1 semana"}],A=["WINFUT","WDOFUT","PETR4","VALE3","ITUB4","BBDC4","ABEV3","MGLU3","BOVA11"];g.useEffect(()=>{m(n),f(s)},[n,s]);const O=P=>{if(!P)return"";const X=new Date(P);return new Intl.DateTimeFormat("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(X)},V=()=>h.filter(P=>P.startsWith("tf-")).map(P=>{const X=P.replace("tf-","").toUpperCase(),re=L.find(de=>de.id===X);return{id:X,name:re?re.name:X}}),W=()=>h.filter(P=>P.startsWith("ativo-")).map(P=>P.replace("ativo-","").toUpperCase()),U=()=>h.filter(P=>!P.startsWith("tf-")&&!P.startsWith("ativo-")),J=async()=>{x(!0);try{await l({description:u,tags:h}),d(!1)}catch(P){console.error("Error updating robot info:",P)}finally{x(!1)}},G=()=>{m(n),f(s),d(!1)},z=P=>{h.includes(P)?f(h.filter(X=>X!==P)):f([...h,P])},Z=P=>{const X=`tf-${P.toLowerCase()}`;h.includes(X)?f(h.filter(re=>re!==X)):f([...h,X])},se=P=>{const X=`ativo-${P.toLowerCase()}`;h.includes(X)?f(h.filter(re=>re!==X)):f([...h,X])},M=()=>{N.trim()&&!h.includes(N.trim())&&(f([...h,N.trim()]),w(""),C(!1))},I=()=>{if(k.trim()){const P=`tf-${k.trim().toLowerCase()}`;h.includes(P)||(f([...h,P]),S(""),D(!1))}},H=()=>{if(E.trim()){const P=`ativo-${E.trim().toLowerCase()}`;h.includes(P)||(f([...h,P]),R(""),$(!1))}},q=async()=>{try{const P=`Informações da Versão

Nome: ${r}
Criada em: ${O(i)}
Criada por: ${o?"Usuário":"IA"}
Descrição completa: ${n}
Tags: ${s.join(", ")}
`;await navigator.clipboard.writeText(P),j(!0),setTimeout(()=>{j(!1)},2e3);const X=document.createElement("div");X.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",X.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Informações da versão copiadas para a área de transferência!
      `,document.body.appendChild(X),setTimeout(()=>{document.body.removeChild(X)},3e3)}catch(P){console.error("Failed to copy version info:",P),alert("Falha ao copiar informações da versão")}};return a.jsxs("div",{className:"bg-gray-800 px-4 py-2 border-b border-gray-700 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(_i,{className:"w-4 h-4 text-blue-400 mr-2"}),a.jsx("h3",{className:"font-medium text-white",children:"Informações da Versão"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:c?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:G,className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Cancelar edição",children:a.jsx(Ue,{className:"w-4 h-4"})}),a.jsx("button",{onClick:J,className:"p-1 hover:bg-gray-700 rounded text-blue-400 hover:text-blue-300",title:"Salvar alterações",disabled:y,children:y?a.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}):a.jsx(rc,{className:"w-4 h-4"})})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>d(!0),className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Editar informações",children:a.jsx(ku,{className:"w-4 h-4"})}),a.jsx("button",{onClick:q,className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Copiar informações",children:b?a.jsx(ht,{className:"w-4 h-4 text-green-500"}):a.jsx(rD,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>v(!p),className:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:p?"Recolher painel":"Expandir painel",children:p?a.jsx(tt,{className:"w-4 h-4"}):a.jsx(ze,{className:"w-4 h-4"})})]})})]}),a.jsx("div",{className:"mt-2 p-3 bg-gray-700 rounded-md",children:c?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Descrição"}),a.jsx("textarea",{value:u,onChange:P=>m(P.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-md px-3 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva esta versão do robô..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Períodos (Timeframes)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:L.map(P=>a.jsxs("button",{type:"button",onClick:()=>Z(P.id),className:`px-2 py-1 rounded-md text-xs flex items-center ${h.includes(`tf-${P.id.toLowerCase()}`)?"bg-purple-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx(Sr,{className:"w-3 h-3 mr-1"}),P.name]},P.id))}),B?a.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[a.jsx("input",{type:"text",value:k,onChange:P=>S(P.target.value),placeholder:"Período personalizado",className:"flex-1 bg-gray-800 border border-gray-600 rounded-l-md px-3 py-1.5 text-white text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:I,disabled:!k.trim(),className:"bg-purple-600 hover:bg-purple-700 text-white px-2 py-1.5 rounded-r-md text-xs disabled:opacity-50",children:"Adicionar"}),a.jsx("button",{type:"button",onClick:()=>D(!1),className:"bg-gray-800 hover:bg-gray-600 text-white px-2 py-1.5 rounded-md text-xs",children:"Cancelar"})]}):a.jsxs("button",{type:"button",onClick:()=>D(!0),className:"text-purple-400 hover:text-purple-300 text-xs flex items-center mb-2",children:[a.jsx(On,{className:"w-3 h-3 mr-1"}),"Adicionar Período Personalizado"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Ativos"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:A.map(P=>a.jsxs("button",{type:"button",onClick:()=>se(P),className:`px-2 py-1 rounded-md text-xs flex items-center ${h.includes(`ativo-${P.toLowerCase()}`)?"bg-green-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx(hn,{className:"w-3 h-3 mr-1"}),P]},P))}),T?a.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[a.jsx("input",{type:"text",value:E,onChange:P=>R(P.target.value),placeholder:"Ativo personalizado",className:"flex-1 bg-gray-800 border border-gray-600 rounded-l-md px-3 py-1.5 text-white text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:H,disabled:!E.trim(),className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1.5 rounded-r-md text-xs disabled:opacity-50",children:"Adicionar"}),a.jsx("button",{type:"button",onClick:()=>$(!1),className:"bg-gray-800 hover:bg-gray-600 text-white px-2 py-1.5 rounded-md text-xs",children:"Cancelar"})]}):a.jsxs("button",{type:"button",onClick:()=>$(!0),className:"text-green-400 hover:text-green-300 text-xs flex items-center mb-2",children:[a.jsx(On,{className:"w-3 h-3 mr-1"}),"Adicionar Ativo Personalizado"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:F.map(P=>a.jsx("button",{type:"button",onClick:()=>z(P),className:`px-2 py-1 rounded-md text-xs ${h.includes(P)?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-600"}`,children:P},P))}),_?a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{type:"text",value:N,onChange:P=>w(P.target.value),placeholder:"Tag personalizada",className:"flex-1 bg-gray-800 border border-gray-600 rounded-l-md px-3 py-1.5 text-white text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:M,disabled:!N.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1.5 rounded-r-md text-xs disabled:opacity-50",children:"Adicionar"}),a.jsx("button",{type:"button",onClick:()=>C(!1),className:"bg-gray-800 hover:bg-gray-600 text-white px-2 py-1.5 rounded-md text-xs",children:"Cancelar"})]}):a.jsxs("button",{type:"button",onClick:()=>C(!0),className:"text-blue-400 hover:text-blue-300 text-xs flex items-center",children:[a.jsx(On,{className:"w-3 h-3 mr-1"}),"Adicionar Tag Personalizada"]})]})]}):a.jsxs("div",{className:`space-y-2 ${p?"":"max-h-32 overflow-hidden"}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Criada em:"}),a.jsx("p",{className:"text-sm",children:O(i)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Criada por:"}),a.jsx("p",{className:"text-sm",children:o?"Usuário":"IA"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Descrição:"}),a.jsx("p",{className:"text-sm whitespace-pre-line",children:n})]}),V().length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Períodos:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:V().map(P=>a.jsxs("span",{className:"px-2 py-0.5 text-xs bg-purple-900 text-purple-300 rounded flex items-center",children:[a.jsx(Sr,{className:"w-3 h-3 mr-1"}),P.name]},P.id))})]}),W().length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Ativos:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:W().map(P=>a.jsxs("span",{className:"px-2 py-0.5 text-xs bg-green-900 text-green-300 rounded flex items-center",children:[a.jsx(hn,{className:"w-3 h-3 mr-1"}),P]},P))})]}),U().length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Tags:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:U().map(P=>a.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-900 text-blue-300 rounded",children:P},P))})]})]})})]})}function WM({robotId:e,robotName:t}){g.useState(!1);const[r,n]=g.useState(null),[s,i]=g.useState(null),[o,l]=g.useState(!0),[c,d]=g.useState(!0),[u,m]=g.useState(!0);Pt();const{versions:h,loadVersions:f}=Co(),[p,v]=g.useState(!1);g.useEffect(()=>{e&&f(e)},[e,f]);const y=async()=>{v(!0),n(null);try{if(!h.length)throw new Error("Nenhuma versão encontrada para este robô");const k=h[0].code,S=`
Analise o seguinte código de robô de trading chamado "${t}" e forneça uma análise técnica detalhada com base na estratégia implementada.

Código do robô:
\`\`\`
${k}
\`\`\`

Forneça as seguintes métricas em formato de texto:
- Profit Factor (estimativa)
- Win Rate (estimativa em %)
- Payoff (estimativa)
- Max Drawdown (estimativa em %)
- Sharpe Ratio (estimativa)
- Total Trades (estimativa)
- Average Trade (estimativa)
- Expectancy (estimativa)
- Recovery Factor (estimativa)
- Max Consecutive Losses (estimativa)
- Time in Market (estimativa em %)
- Profitability (estimativa em %)
- Volatility (estimativa em %)
- Best Timeframe
- Best Assets (2-3 ativos)
- Best Market Conditions (2-4 condições)
- Worst Market Conditions (2-4 condições)
- Risk Level (Baixo, Médio ou Alto)

Baseie suas estimativas na análise do código, considerando os indicadores utilizados, regras de entrada e saída, gerenciamento de risco e outras características da estratégia.

Forneça uma análise estruturada com seções claras para cada métrica.
`,R=(await openai.chat.completions.create({model:"gpt-4",messages:[{role:"assistant",content:"Você é um especialista em análise de robôs de trading. Sua tarefa é analisar o código do robô e fornecer métricas técnicas estimadas com base na estratégia implementada."},{role:"user",content:S}],temperature:.7})).choices[0].message.content;if(!R)throw new Error("Resposta vazia da API");try{const _=x(R);i(_)}catch(_){throw console.error("Error parsing response:",_),new Error("Erro ao processar a resposta da análise")}}catch(w){console.error("Error generating technical info:",w),n(w instanceof Error?w.message:"Erro ao gerar informações técnicas")}finally{v(!1)}};function x(w){console.log("Extracting metrics from text:",w);const k={profitFactor:0,winRate:0,payoff:0,maxDrawdown:0,sharpeRatio:0,totalTrades:0,averageTrade:0,expectancy:0,recoveryFactor:0,maxConsecutiveLosses:0,timeInMarket:0,profitability:0,volatility:0,bestTimeframe:"",bestAssets:[],bestMarketConditions:[],worstMarketConditions:[],riskLevel:"Médio"},S=w.match(/profit\s*factor\s*:?\s*([\d\.\-]+)/i);S&&(k.profitFactor=parseFloat(S[1]));const E=w.match(/win\s*rate\s*:?\s*([\d\.\-]+)%?/i);E&&(k.winRate=parseFloat(E[1]));const R=w.match(/payoff\s*:?\s*([\d\.\-]+)/i);R&&(k.payoff=parseFloat(R[1]));const _=w.match(/max\s*drawdown\s*:?\s*([\d\.\-]+)%?/i);_&&(k.maxDrawdown=parseFloat(_[1]));const C=w.match(/sharpe\s*ratio\s*:?\s*([\d\.\-]+)/i);C&&(k.sharpeRatio=parseFloat(C[1]));const B=w.match(/total\s*trades\s*:?\s*(\d+)/i);B&&(k.totalTrades=parseInt(B[1]));const D=w.match(/average\s*trade\s*:?\s*([\d\.\-]+)/i);D&&(k.averageTrade=parseFloat(D[1]));const T=w.match(/expectancy\s*:?\s*([\d\.\-]+)/i);T&&(k.expectancy=parseFloat(T[1]));const $=w.match(/recovery\s*factor\s*:?\s*([\d\.\-]+)/i);$&&(k.recoveryFactor=parseFloat($[1]));const F=w.match(/max\s*consecutive\s*losses\s*:?\s*(\d+)/i);F&&(k.maxConsecutiveLosses=parseInt(F[1]));const L=w.match(/time\s*in\s*market\s*:?\s*([\d\.\-]+)%?/i);L&&(k.timeInMarket=parseFloat(L[1]));const A=w.match(/profitability\s*:?\s*([\d\.\-]+)%?/i);A&&(k.profitability=parseFloat(A[1]));const O=w.match(/volatility\s*:?\s*([\d\.\-]+)%?/i);O&&(k.volatility=parseFloat(O[1]));const V=w.match(/best\s*timeframe\s*:?\s*([^\n,\.]+)/i);V&&(k.bestTimeframe=V[1].trim());const W=w.match(/best\s*assets\s*:?\s*([\s\S]*?)(?=best\s*market|worst\s*market|risk\s*level|$)/i);if(W){const z=W[1].match(/[-•*]\s*([^\n]+)/g);if(z)k.bestAssets=z.map(Z=>Z.replace(/[-•*]\s*/,"").trim()).filter(Z=>Z.length>0);else{const Z=W[1].trim();Z&&(k.bestAssets=Z.split(/,\s*/).map(se=>se.trim()).filter(se=>se.length>0))}}const U=w.match(/best\s*market\s*conditions\s*:?\s*([\s\S]*?)(?=worst\s*market|risk\s*level|$)/i);if(U){const z=U[1].match(/[-•*]\s*([^\n]+)/g);if(z)k.bestMarketConditions=z.map(Z=>Z.replace(/[-•*]\s*/,"").trim()).filter(Z=>Z.length>0);else{const Z=U[1].trim();Z&&(k.bestMarketConditions=Z.split(/,\s*/).map(se=>se.trim()).filter(se=>se.length>0))}}const J=w.match(/worst\s*market\s*conditions\s*:?\s*([\s\S]*?)(?=risk\s*level|$)/i);if(J){const z=J[1].match(/[-•*]\s*([^\n]+)/g);if(z)k.worstMarketConditions=z.map(Z=>Z.replace(/[-•*]\s*/,"").trim()).filter(Z=>Z.length>0);else{const Z=J[1].trim();Z&&(k.worstMarketConditions=Z.split(/,\s*/).map(se=>se.trim()).filter(se=>se.length>0))}}const G=w.match(/risk\s*level\s*:?\s*([^\n,\.]+)/i);return G&&(k.riskLevel=G[1].trim()),k.bestAssets.length===0&&(k.bestAssets=["WINFUT","WDOFUT"]),k.bestMarketConditions.length===0&&(k.bestMarketConditions=["Mercados em tendência","Volatilidade moderada"]),k.worstMarketConditions.length===0&&(k.worstMarketConditions=["Mercados lateralizados","Volatilidade extrema"]),k.bestTimeframe||(k.bestTimeframe="M5"),k.profitFactor===0&&(k.profitFactor=1.5),k.winRate===0&&(k.winRate=50),k.payoff===0&&(k.payoff=1.2),k.maxDrawdown===0&&(k.maxDrawdown=15),k.totalTrades===0&&(k.totalTrades=100),k.averageTrade===0&&(k.averageTrade=10),k.expectancy===0&&(k.expectancy=.5),k.recoveryFactor===0&&(k.recoveryFactor=2),k.maxConsecutiveLosses===0&&(k.maxConsecutiveLosses=3),k.timeInMarket===0&&(k.timeInMarket=40),k.profitability===0&&(k.profitability=60),k.volatility===0&&(k.volatility=20),k}const b=()=>{if(!s)return;const w=`
# Ficha Técnica do Robô: ${t}

## Métricas de Performance
- Profit Factor: ${s.profitFactor.toFixed(2)}
- Payoff: ${s.payoff.toFixed(2)}
- Win Rate: ${s.winRate.toFixed(2)}%
- Total Trades: ${s.totalTrades}
- Average Win: ${s.averageWin.toFixed(2)}
- Average Loss: ${s.averageLoss.toFixed(2)}
- Max Drawdown: ${s.maxDrawdown.toFixed(2)}%
- Max Consecutive Losses: ${s.maxConsecutiveLosses}
- Sharpe Ratio: ${s.sharpeRatio.toFixed(2)}
- Recovery Factor: ${s.recoveryFactor.toFixed(2)}
- Expectancy: ${s.expectancy.toFixed(2)}
- Average Trade: ${s.averageTrade.toFixed(2)}
- Time in Market: ${s.timeInMarket.toFixed(2)}%

## Condições de Mercado
### Melhores Condições
${s.bestMarketConditions.map(R=>`- ${R}`).join(`
`)}

### Piores Condições
${s.worstMarketConditions.map(R=>`- ${R}`).join(`
`)}

## Informações Adicionais
- Timeframe Ideal: ${s.bestTimeframe}
- Ativos Recomendados: ${s.bestAssets.join(", ")}
- Nível de Risco: ${s.riskLevel}

Relatório gerado em: ${new Date().toLocaleString()}
`,k=new Blob([w],{type:"text/plain"}),S=URL.createObjectURL(k),E=document.createElement("a");E.href=S,E.download=`ficha-tecnica-${t.replace(/\s+/g,"-").toLowerCase()}.txt`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(S)},j=(w,k=!1,S=2)=>w==null?"N/A":k?w>=70?`Excelente (${w.toFixed(S)}%)`:w>=55?`Bom (${w.toFixed(S)}%)`:w>=45?`Regular (${w.toFixed(S)}%)`:`Baixo (${w.toFixed(S)}%)`:w<=0?`Negativo (${w.toFixed(S)})`:w>=2?`Excelente (${w.toFixed(S)})`:w>=1.5?`Bom (${w.toFixed(S)})`:w>=1?`Aceitável (${w.toFixed(S)})`:`Insuficiente (${w.toFixed(S)})`,N=(w,k)=>{switch(w){case"profitFactor":return k>=1.5?"text-green-500":k>=1?"text-yellow-500":"text-red-500";case"winRate":return k>=60?"text-green-500":k>=45?"text-yellow-500":"text-red-500";case"payoff":return k>=1.5?"text-green-500":k>=1?"text-yellow-500":"text-red-500";case"maxDrawdown":return k<=10?"text-green-500":k<=20?"text-yellow-500":"text-red-500";case"sharpeRatio":return k>=1?"text-green-500":k>=.5?"text-yellow-500":"text-red-500";case"recoveryFactor":return k>=3?"text-green-500":k>=1?"text-yellow-500":"text-red-500";case"expectancy":return k>=.5?"text-green-500":k>=0?"text-yellow-500":"text-red-500";case"profitability":return k>=60?"text-green-500":k>=40?"text-yellow-500":"text-red-500";default:return"text-gray-300"}};return a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jt,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"Ficha Técnica do Robô"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:s?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:b,className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Baixar ficha técnica",children:a.jsx(li,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>l(!o),className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:o?"Ocultar detalhes":"Mostrar detalhes",children:o?a.jsx(tt,{className:"w-4 h-4"}):a.jsx(ze,{className:"w-4 h-4"})})]}):a.jsx("button",{onClick:y,disabled:p,className:`px-3 py-1.5 rounded-md text-sm flex items-center ${p?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:p?a.jsxs(a.Fragment,{children:[a.jsx(ur,{className:"w-4 h-4 mr-1.5 animate-spin"}),"Gerando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fe,{className:"w-4 h-4 mr-1.5"}),"Gerar Ficha Técnica"]})})})]}),r&&a.jsxs("div",{className:"p-4 bg-red-500 bg-opacity-10 border-b border-red-500 flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-red-500",children:r})]}),s&&o&&a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium mb-3 flex items-center",children:[a.jsx(co,{className:"w-4 h-4 text-yellow-500 mr-2"}),"Métricas de Performance"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:`text-lg font-bold ${N("profitFactor",s.profitFactor)}`,children:j(s.profitFactor)})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:`text-lg font-bold ${N("winRate",s.winRate)}`,children:j(s.winRate,!0)})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Payoff"}),a.jsx("p",{className:`text-lg font-bold ${N("payoff",s.payoff)}`,children:j(s.payoff)})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Drawdown Máx."}),a.jsx("p",{className:`text-lg font-bold ${N("maxDrawdown",s.maxDrawdown)}`,children:j(s.maxDrawdown,!0)})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium mb-3 flex items-center",children:[a.jsx(lo,{className:"w-4 h-4 text-blue-500 mr-2"}),"Métricas Adicionais"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Total de Trades"}),a.jsx("p",{className:"text-lg font-bold",children:s.totalTrades>100?`Alto Volume (${s.totalTrades})`:`Baixo Volume (${s.totalTrades})`})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Sharpe Ratio"}),a.jsx("p",{className:`text-lg font-bold ${N("sharpeRatio",s.sharpeRatio)}`,children:s.sharpeRatio>=1?`Excelente (${s.sharpeRatio.toFixed(2)})`:s.sharpeRatio>=.5?`Bom (${s.sharpeRatio.toFixed(2)})`:`Baixo (${s.sharpeRatio.toFixed(2)})`})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Expectativa"}),a.jsx("p",{className:`text-lg font-bold ${N("expectancy",s.expectancy)}`,children:s.expectancy>=.5?`Excelente (${s.expectancy.toFixed(2)})`:s.expectancy>=0?`Positivo (${s.expectancy.toFixed(2)})`:`Negativo (${s.expectancy.toFixed(2)})`})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Rentabilidade"}),a.jsx("p",{className:`text-lg font-bold ${N("profitability",s.profitability)}`,children:s.profitability>=60?`Excelente (${s.profitability.toFixed(2)}%)`:s.profitability>=40?`Bom (${s.profitability.toFixed(2)}%)`:`Baixo (${s.profitability.toFixed(2)}%)`})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"text-lg font-medium flex items-center",children:[a.jsx(bt,{className:"w-4 h-4 text-green-500 mr-2"}),"Condições de Mercado"]}),a.jsx("button",{onClick:()=>d(!c),className:"p-1 hover:bg-gray-700 rounded",children:c?a.jsx(tt,{className:"w-4 h-4 text-gray-400"}):a.jsx(ze,{className:"w-4 h-4 text-gray-400"})})]}),c&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-medium mb-2 text-green-400",children:"Melhores Condições"}),a.jsx("ul",{className:"space-y-1.5",children:s.bestMarketConditions.map((w,k)=>a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx(ht,{className:"w-4 h-4 text-green-500 mr-1.5 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:w})]},k))})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-medium mb-2 text-red-400",children:"Piores Condições"}),a.jsx("ul",{className:"space-y-1.5",children:s.worstMarketConditions.map((w,k)=>a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx(Ue,{className:"w-4 h-4 text-red-500 mr-1.5 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:w})]},k))})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"text-lg font-medium flex items-center",children:[a.jsx(it,{className:"w-4 h-4 text-yellow-500 mr-2"}),"Análise de Risco"]}),a.jsx("button",{onClick:()=>m(!u),className:"p-1 hover:bg-gray-700 rounded",children:u?a.jsx(tt,{className:"w-4 h-4 text-gray-400"}):a.jsx(ze,{className:"w-4 h-4 text-gray-400"})})]}),u&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Nível de Risco"}),a.jsx("div",{className:`inline-block px-2 py-1 rounded-full text-sm font-medium ${s.riskLevel.toLowerCase().includes("alto")?"bg-red-500 bg-opacity-20 text-red-400":s.riskLevel.toLowerCase().includes("médio")?"bg-yellow-500 bg-opacity-20 text-yellow-400":"bg-green-500 bg-opacity-20 text-green-400"}`,children:s.riskLevel.toLowerCase()==="baixo"?"Baixo - Adequado para iniciantes":s.riskLevel.toLowerCase()==="médio"?"Médio - Para traders intermediários":"Alto - Para traders experientes"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Timeframe Ideal"}),a.jsx("p",{className:"text-lg font-bold",children:s.bestTimeframe})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Ativos Recomendados"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:s.bestAssets.map((w,k)=>a.jsx("span",{className:"px-2 py-0.5 bg-blue-900 bg-opacity-50 rounded text-blue-300 text-xs",children:w},k))})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Volatilidade"}),a.jsx("p",{className:"text-lg font-bold",children:s.volatility>30?`Alta (${s.volatility.toFixed(2)}%)`:s.volatility<10?`Baixa (${s.volatility.toFixed(2)}%)`:`Média (${s.volatility.toFixed(2)}%)`})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Recuperação"}),a.jsx("p",{className:"text-lg font-bold",children:s.recoveryFactor>=3?`Excelente (${s.recoveryFactor.toFixed(2)})`:s.recoveryFactor>=1?`Bom (${s.recoveryFactor.toFixed(2)})`:`Insuficiente (${s.recoveryFactor.toFixed(2)})`})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Máx. Perdas Consecutivas"}),a.jsx("p",{className:"text-lg font-bold",children:s.maxConsecutiveLosses>5?`Preocupante (${s.maxConsecutiveLosses})`:`Aceitável (${s.maxConsecutiveLosses})`})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Tempo no Mercado"}),a.jsx("p",{className:"text-lg font-bold",children:s.timeInMarket>80?`Muito Exposto (${s.timeInMarket.toFixed(2)}%)`:s.timeInMarket<20?`Pouco Exposto (${s.timeInMarket.toFixed(2)}%)`:`Equilibrado (${s.timeInMarket.toFixed(2)}%)`})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Volatilidade"}),a.jsx("p",{className:"text-lg font-bold",children:s.volatility>30?`Alta (${s.volatility.toFixed(2)}%)`:s.volatility<10?`Baixa (${s.volatility.toFixed(2)}%)`:`Média (${s.volatility.toFixed(2)}%)`})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-blue-900 bg-opacity-20 border border-blue-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Kd,{className:"w-5 h-5 text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-sm text-blue-300",children:[a.jsx("strong",{children:"Nota:"})," Estas métricas são estimativas baseadas na análise do código do robô e podem variar dependendo das condições de mercado, configurações e outros fatores. Recomendamos realizar backtests e testes em conta demo antes de utilizar o robô em operações reais."]})]})})]})]})}function HM(){var me;const{robotId:e}=qA(),t=jt();g.useState(null),g.useState("dark");const[r,n]=g.useState("ntsl");g.useState(1);const[s,i]=g.useState(null),[o,l]=g.useState(!1);g.useState(!0);const[c,d]=g.useState(!1),[u,m]=g.useState(!1),[h,f]=g.useState(""),[p,v]=g.useState(""),[y,x]=g.useState(!1),[b,j]=g.useState(null);g.useState(!1);const[N,w]=g.useState(!1),[k,S]=g.useState(!1),[E,R]=g.useState(!0),[_,C]=g.useState([]),[B,D]=g.useState("");g.useState(!1);const[T,$]=g.useState(""),[F,L]=g.useState("");g.useState(!1);const[A,O]=g.useState(!1);Pt();const{robots:V,versions:W,currentVersion:U,loadVersions:J,createVersion:G,updateVersion:z,loadRobots:Z,renameRobot:se}=Co(),{t:M}=ba();g.useEffect(()=>{Z()},[Z]),g.useEffect(()=>{if(e){const ne=V.find(ae=>ae.id===e);ne&&(f(ne.name),J(e).then(ae=>{if(ae.length>0){const je=ae[0];i(je.version_name),v(je.code),D(je.description||""),C(je.tags||[]),$(je.created_at),L(je.created_by||"")}}))}},[e,V]);const I=ne=>{v(ne)},H=async()=>{if(!e||!s){alert("Selecione um robô e uma versão para salvar");return}try{const ne=W.find(je=>je.version_name===s);if(!ne)throw new Error("Versão não encontrada");await z(ne.id,{code:p,updated_at:new Date().toISOString()});const ae=document.createElement("div");ae.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",ae.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Versão salva com sucesso!
      `,document.body.appendChild(ae),setTimeout(()=>{document.body.removeChild(ae)},3e3)}catch(ne){console.error("Erro ao salvar robô:",ne),alert(ne instanceof Error?ne.message:"Erro ao salvar versão. Tente novamente.")}},q=ne=>{if(!W.some(_e=>_e.version_name===ne))return ne;let ae=1,je=`${ne} (${ae})`;for(;W.some(_e=>_e.version_name===je);)ae++,je=`${ne} (${ae})`;return je},P=async(ne,ae,je)=>{if(!e){alert("Robô não encontrado. Por favor, selecione um robô válido");return}try{const _e=q(ne);if(!await G(e,_e,p,ae,je))throw new Error("Falha ao criar versão");d(!1),i(_e),await J(e),alert("Nova versão criada com sucesso!")}catch(_e){const We=_e instanceof Error?_e.message:"Erro ao criar versão";alert(We)}},X=async ne=>{if(i(ne),!e)return;const ae=W.find(je=>je.version_name===ne);ae&&(v(ae.code),D(ae.description||""),C(ae.tags||[]),$(ae.created_at),L(ae.created_by||""))},re=async()=>{if(!e||!h.trim()){j("O nome do robô não pode estar vazio");return}x(!0),j(null);try{await se(e,h.trim()),m(!1),await Z()}catch(ne){console.error("Error renaming robot:",ne),j(ne instanceof Error?ne.message:"Erro ao renomear robô")}finally{x(!1)}},de=async()=>{try{await navigator.clipboard.writeText(p),S(!0),setTimeout(()=>S(!1),2e3);const ne=document.createElement("div");ne.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",ne.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Code copied to clipboard!
      `,document.body.appendChild(ne),setTimeout(()=>{document.body.removeChild(ne)},3e3)}catch(ne){console.error("Failed to copy code:",ne),alert("Failed to copy code to clipboard")}},fe=()=>{const ne=new Blob([p],{type:"text/plain"}),ae=URL.createObjectURL(ne),je=document.createElement("a");je.href=ae,je.download=`${h}_${s||"latest"}.txt`,document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(ae)},he=async(ne,ae,je)=>{if(v(ne),e)try{let We=`Versão ${W.length+1}`;We=q(We);const Jr=ae||"Versão gerada por IA",Rn=je&&je.length>0?je:["tendencia"];if(await G(e,We,ne,Jr,Rn)){i(We),await J(e),D(Jr),C(Rn),$(new Date().toISOString()),L("");const Xr=document.createElement("div");Xr.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",Xr.innerHTML=`
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            Nova versão "${We}" criada automaticamente!
          `,document.body.appendChild(Xr),setTimeout(()=>{document.body.removeChild(Xr)},3e3)}}catch(_e){console.error("Error creating version:",_e);const We=document.createElement("div");We.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md z-50 flex items-center",We.innerHTML=`
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
          </svg>
          Erro ao salvar versão: ${_e instanceof Error?_e.message:"Erro desconhecido"}
        `,document.body.appendChild(We),setTimeout(()=>{document.body.removeChild(We)},5e3)}},we=async ne=>{if(!e||!s){alert("Selecione um robô e uma versão para atualizar");return}try{const ae=W.find(_e=>_e.version_name===s);if(!ae)throw new Error("Versão não encontrada");await z(ae.id,{description:ne.description,tags:ne.tags}),D(ne.description),C(ne.tags);const je=document.createElement("div");je.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md z-50 flex items-center",je.innerHTML=`
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Informações da versão atualizadas com sucesso!
      `,document.body.appendChild(je),setTimeout(()=>{document.body.removeChild(je)},3e3),await J(e)}catch(ae){console.error("Error updating version info:",ae),alert(ae instanceof Error?ae.message:"Erro ao atualizar informações da versão. Tente novamente.")}},Y=e?V.find(ne=>ne.id===e):null;return Y?a.jsxs("div",{className:"min-h-screen h-screen bg-[#1E1E1E] text-gray-100 flex flex-col overflow-hidden",children:[a.jsx(Mn,{}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsx("div",{className:"w-112 border-r border-gray-800 flex flex-col",children:a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(UM,{onGenerateCode:he,robotId:e,robotName:h,selectedVersion:s})})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"border-b border-gray-800 bg-gray-900 p-4 flex-shrink-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>t("/robots"),className:"p-2 hover:bg-gray-800 rounded-full",title:"Back to robots",children:a.jsx(ya,{className:"w-5 h-5"})}),a.jsxs("button",{onClick:()=>t("/robots"),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2 text-sm",title:"View all robots",children:[a.jsx(dD,{className:"w-4 h-4"}),a.jsx("span",{children:M("nav.robots")})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[u?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",value:h,onChange:ne=>f(ne.target.value),className:"px-2 py-1 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),a.jsx("button",{onClick:()=>{m(!1),f(Y.name)},className:"p-1 text-gray-400 hover:text-white",disabled:y,children:a.jsx(Ue,{className:"w-4 h-4"})}),a.jsx("button",{onClick:re,className:"p-1 text-blue-400 hover:text-blue-300",disabled:y,children:y?a.jsx(ur,{className:"w-4 h-4 animate-spin"}):a.jsx(ht,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h2",{className:"text-lg font-medium",children:h}),a.jsx("button",{onClick:()=>m(!0),className:"p-1 text-gray-400 hover:text-white",title:"Rename robot",children:a.jsx(ku,{className:"w-4 h-4"})})]}),s&&a.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["(",s,")"]}),b&&a.jsx("span",{className:"text-sm text-red-500 ml-2",children:b})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:H,className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 rounded-md flex items-center space-x-2",title:"Save current version",disabled:!s,children:[a.jsx(rc,{className:"w-4 h-4"}),a.jsx("span",{children:M("button.save")})]}),a.jsxs("button",{onClick:()=>d(!0),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center space-x-2",title:"Create new version",children:[a.jsx(tc,{className:"w-4 h-4"}),a.jsx("span",{children:M("button.newVersion")})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>w(!N),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2",title:"Export code",children:[a.jsx(aD,{className:"w-4 h-4"}),a.jsx("span",{children:M("button.export")}),a.jsx(ze,{className:"w-4 h-4 ml-1"})]}),N&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10",children:[a.jsxs("button",{onClick:()=>{de(),w(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:[a.jsx(b4,{className:"w-4 h-4 mr-2"}),"Copy to Clipboard"]}),a.jsxs("button",{onClick:()=>{fe(),w(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:[a.jsx(li,{className:"w-4 h-4 mr-2"}),"Download as File"]})]})]}),a.jsxs("button",{onClick:()=>l(!0),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2",title:"Share robot",children:[a.jsx(nc,{className:"w-4 h-4"}),a.jsx("span",{children:M("button.share")})]}),a.jsx("button",{className:"p-2 hover:bg-gray-800 rounded-full",title:"Settings",children:a.jsx(rx,{className:"w-5 h-5 text-gray-400"})})]})]})}),A&&e&&a.jsx(WM,{robotId:e,robotName:h}),s&&a.jsx(VM,{robotId:e,versionId:((me=W.find(ne=>ne.version_name===s))==null?void 0:me.id)||null,versionName:s,description:B,tags:_,createdAt:T,createdBy:F,onUpdate:we}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx("div",{className:"h-full",children:a.jsx($M,{fileId:e,content:p,language:r,onContentChange:I,versions:W,selectedVersion:s,onVersionSelect:X,showCreateVersionModal:c,setShowCreateVersionModal:d})})})]})]}),o&&a.jsx(LM,{isOpen:o,onClose:()=>l(!1),robotName:h}),c&&a.jsx(BM,{isOpen:c,onClose:()=>d(!1),onSave:P,existingVersions:W.map(ne=>ne.version_name),suggestedName:`v${W.length+1}.0.0`,suggestedDescription:B}),E&&a.jsx(qM,{onClose:()=>R(!1)})]}):a.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(it,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Robot Not Found"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Select a robot from your list to start editing"}),a.jsxs("button",{onClick:()=>t("/robots"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg flex items-center mx-auto",children:[a.jsx(N4,{className:"w-5 h-5 mr-2"}),"My Robots"]})]})})}function KM({className:e=""}){const{robots:t,robotLimit:r}=Co(),{profile:n}=Pt(),{t:s,language:i}=ba(),o=jt(),l=t.length,c=l>=r*.8,d=l>=r,u=()=>Math.min(100,l/r*100),m=()=>{o("/subscription")};return a.jsxs("div",{className:`bg-gray-800 rounded-lg p-4 ${e}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"flex items-center",children:a.jsx("h3",{className:"font-medium text-white",children:i==="en"?"Robot Quota":"Cota de Robôs"})}),(n==null?void 0:n.plan)&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wn,{className:"w-4 h-4 text-yellow-500 mr-1"}),a.jsx("span",{className:"text-sm text-gray-300",children:n.plan})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsxs("span",{className:"text-gray-400",children:[l," / ",r," ",i==="en"?"robots":"robôs"]}),a.jsxs("span",{className:`${c?"text-yellow-400":d?"text-red-400":"text-green-400"}`,children:[u().toFixed(0),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${d?"bg-red-500":c?"bg-yellow-500":"bg-green-500"}`,style:{width:`${u()}%`}})})]}),c&&a.jsxs("div",{className:"mt-3",children:[d?a.jsxs("div",{className:"flex items-start text-xs text-red-400 mb-2",children:[a.jsx(ec,{className:"w-4 h-4 mr-1 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:i==="en"?"You have reached your robot limit. Upgrade your plan to create more robots.":"Você atingiu seu limite de robôs. Atualize seu plano para criar mais robôs."})]}):a.jsxs("div",{className:"flex items-start text-xs text-yellow-400 mb-2",children:[a.jsx(ec,{className:"w-4 h-4 mr-1 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:i==="en"?"You are approaching your robot limit.":"Você está se aproximando do seu limite de robôs."})]}),a.jsx("button",{onClick:m,className:"w-full py-1.5 bg-blue-600 hover:bg-blue-700 rounded text-xs font-medium",children:i==="en"?"Upgrade Plan":"Atualizar Plano"})]})]})}function GM(){const e=jt(),[t,r]=g.useState(""),[n,s]=g.useState("updated"),[i,o]=g.useState(!1),[l,c]=g.useState(!1),[d,u]=g.useState(""),[m,h]=g.useState(null),[f,p]=g.useState(null),[v,y]=g.useState(null),[x,b]=g.useState(!1);g.useState(!1);const[j,N]=g.useState(!1),{robots:w,loadRobots:k,createRobot:S,deleteRobot:E,renameRobot:R,isLoading:_,robotLimit:C,getRobotLimit:B}=Co(),{signOut:D,profile:T}=Pt(),{t:$,language:F}=ba();g.useEffect(()=>{k(),B()},[k,B]);const L=async()=>{if(!d.trim()){p("Robot name cannot be empty");return}try{if(w.length>=C)throw new Error(`You have reached your limit of ${C} robots. Please upgrade your plan to create more robots.`);const G=await S(d);G&&(o(!1),u(""),y("Robot created successfully"),e(`/editor/${G.id}`))}catch(G){p(G instanceof Error?G.message:"Failed to create robot")}},A=async()=>{if(m){if(!d.trim()){p("Robot name cannot be empty");return}try{N(!0),await R(m.id,d),c(!1),h(null),u(""),y("Robot renamed successfully"),await k()}catch(G){p(G instanceof Error?G.message:"Failed to rename robot")}finally{N(!1)}}},O=async G=>{try{b(!0),await E(G),y("Robot deleted successfully")}catch(z){p(z instanceof Error?z.message:"Failed to delete robot")}finally{b(!1)}},V=(G,z,Z)=>{Z.stopPropagation(),e(`/editor/${G}?action=export`)},W=()=>{window.open("https://buy.stripe.com/fZe5nX2320AB4EgfZC","_blank")},U=[...w].filter(G=>G.name.toLowerCase().includes(t.toLowerCase())).sort((G,z)=>n==="name"?G.name.localeCompare(z.name):new Date(z.created_at||"").getTime()-new Date(G.created_at||"").getTime()),J=G=>{if(!G)return"";const z=new Date(G),se=Math.floor((new Date().getTime()-z.getTime())/(1e3*60*60*24));return se===0?"Today":se===1?"Yesterday":se<7?`${se} days ago`:z.toLocaleDateString()};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(Mn,{}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold",children:$("nav.robots")}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:W,className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md flex items-center",title:"Buy more tokens",children:[a.jsx(Hd,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:F==="en"?"Buy Tokens":"Comprar Tokens"})]}),a.jsx("button",{onClick:()=>k(),className:"p-2 hover:bg-gray-800 rounded",title:"Refresh robots",children:a.jsx(ur,{className:`w-5 h-5 text-gray-400 ${_?"animate-spin":""}`})}),a.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",disabled:w.length>=C,children:[a.jsx(On,{className:"w-4 h-4 mr-2"}),$("button.createRobot")]})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx(KM,{})}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"relative w-72",children:[a.jsx(Cc,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search robots...",value:t,onChange:G=>r(G.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Sort by:"}),a.jsxs("select",{value:n,onChange:G=>s(G.target.value),className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"updated",children:"Last Updated"}),a.jsx("option",{value:"name",children:"Name"})]})]})]}),f&&a.jsxs("div",{className:"mb-6 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-start text-red-500",children:[a.jsx(it,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("p",{children:f}),a.jsx("button",{onClick:()=>p(null),className:"ml-auto",title:"Dismiss error",children:a.jsx(Ue,{className:"w-4 h-4"})})]}),v&&a.jsxs("div",{className:"mb-6 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-start text-green-500",children:[a.jsx("div",{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5",children:"✓"}),a.jsx("p",{children:v}),a.jsx("button",{onClick:()=>y(null),className:"ml-auto",title:"Dismiss message",children:a.jsx(Ue,{className:"w-4 h-4"})})]}),_&&w.length===0?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):U.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(oD,{className:"w-16 h-16 text-gray-600 mb-4"}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No robots found"}),a.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:t?`No robots match your search "${t}"`:"Create your first robot to get started"}),t?a.jsx("button",{onClick:()=>r(""),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-md",children:"Clear Search"}):a.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",disabled:w.length>=C,children:[a.jsx(On,{className:"w-4 h-4 mr-2"}),$("button.createRobot")]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:U.map(G=>a.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg overflow-hidden hover:border-blue-500 transition-colors cursor-pointer group",onClick:()=>e(`/editor/${G.id}`),children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(N4,{className:"w-8 h-8 text-blue-500 mr-3"}),a.jsx("h3",{className:"text-lg font-semibold",children:G.name})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:z=>{z.stopPropagation(),h(G),u(G.name),c(!0)},className:"p-1 hover:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Rename robot",children:a.jsx(ku,{className:"w-5 h-5 text-gray-400 hover:text-blue-500"})}),a.jsx("button",{onClick:z=>{z.stopPropagation(),O(G.id)},disabled:x,className:`p-1 hover:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-opacity
                          ${x?"cursor-not-allowed opacity-50":""}`,title:"Delete robot",children:a.jsx(Pl,{className:`w-5 h-5 text-gray-400 ${!x&&"hover:text-red-500"}`})})]})]}),a.jsxs("div",{className:"mt-3 flex items-center text-sm text-gray-400",children:[a.jsx(Sr,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:["Updated ",J(G.updated_at)]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"w-4 h-4 text-gray-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:(T==null?void 0:T.name)||"You"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:z=>V(G.id,G.name,z),className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"Export robot",children:a.jsx(li,{className:"w-4 h-4 hover:text-blue-400"})}),a.jsx("button",{onClick:z=>{z.stopPropagation()},className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"Share robot",children:a.jsx(nc,{className:"w-4 h-4"})}),a.jsx("button",{onClick:z=>{z.stopPropagation()},className:"p-1.5 hover:bg-gray-700 rounded text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"Robot settings",children:a.jsx(rx,{className:"w-4 h-4"})})]})]})]})},G.id))})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-6 relative",onClick:G=>G.stopPropagation(),children:[a.jsx("button",{onClick:()=>{o(!1),u("")},className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:a.jsx(Ue,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(ot,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:$("button.createRobot")}),a.jsx("p",{className:"mt-2 text-gray-400",children:"Enter a name for your new robot"})]}),w.length>=C&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center",children:[a.jsx(ec,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-500",children:F==="en"?`You have reached your limit of ${C} robots.`:`Você atingiu seu limite de ${C} robôs.`}),a.jsxs("button",{onClick:()=>{o(!1),e("/subscription")},className:"text-blue-400 hover:text-blue-300 text-sm mt-1",children:[F==="en"?"Upgrade your plan":"Atualize seu plano"," →"]})]})]}),a.jsxs("form",{onSubmit:G=>{G.preventDefault(),L()},className:"space-y-4",children:[a.jsx("input",{type:"text",value:d,onChange:G=>u(G.target.value),placeholder:"Robot name",autoFocus:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:w.length>=C}),a.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium",disabled:w.length>=C,children:$("button.createRobot")})]})]})}),l&&m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-[#1E1E1E] rounded-lg max-w-md w-full p-6 relative",onClick:G=>G.stopPropagation(),children:[a.jsx("button",{onClick:()=>{c(!1),h(null),u("")},className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:j,children:a.jsx(Ue,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(ku,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:$("robot.rename")}),a.jsxs("p",{className:"mt-2 text-gray-400",children:['Enter a new name for "',m.name,'"']})]}),a.jsxs("form",{onSubmit:G=>{G.preventDefault(),A()},className:"space-y-4",children:[a.jsx("input",{type:"text",value:d,onChange:G=>u(G.target.value),placeholder:"New robot name",autoFocus:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-md px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:j}),a.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium flex items-center justify-center",disabled:j,children:j?a.jsxs(a.Fragment,{children:[a.jsx(ur,{className:"w-4 h-4 mr-2 animate-spin"}),"Renaming..."]}):$("robot.rename")})]})]})})]})}function YM(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(null);g.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:d}}=await ue.auth.getUser();if(!d)return;const{data:u,error:m}=await ue.from("sharing_invites").select(`
          id,
          robot_name,
          permission,
          created_at,
          created_by,
          expires_at
        `).eq("email",d.email).eq("is_active",!0).is("accepted_at",null).order("created_at",{ascending:!1});if(m)throw m;if(!u)return;const h=[...new Set(u.map(x=>x.created_by))],{data:f,error:p}=await ue.from("profiles").select("id, email").in("id",h);if(p)throw p;const v=new Map((f||[]).map(x=>[x.id,x.email])),y=u.map(x=>({...x,created_by_email:v.get(x.created_by)}));t(y)}catch(d){console.error("Error loading invites:",d),i(d instanceof Error?d.message:"Failed to load invites")}finally{n(!1)}},l=async d=>{try{const{data:{user:u}}=await ue.auth.getUser();if(!u)throw new Error("Not authenticated");const{error:m}=await ue.from("sharing_invites").update({accepted_at:new Date().toISOString(),is_active:!1}).eq("id",d.id);if(m)throw m;const{error:h}=await ue.from("shared_robots").insert({robot_name:d.robot_name,user_id:u.id,permission:d.permission,created_by:d.created_by});if(h)throw h;t(e.filter(f=>f.id!==d.id))}catch(u){console.error("Error accepting invite:",u),i(u instanceof Error?u.message:"Failed to accept invite")}},c=async d=>{try{const{error:u}=await ue.from("sharing_invites").update({is_active:!1,accepted_at:null}).eq("id",d);if(u)throw u;t(e.filter(m=>m.id!==d))}catch(u){console.error("Error declining invite:",u),i(u instanceof Error?u.message:"Failed to decline invite")}};return r?a.jsx("div",{className:"text-center py-4",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mx-auto"})}):s?a.jsxs("div",{className:"p-4 bg-red-500 bg-opacity-10 border border-red-500 rounded-md text-red-500 flex items-center",children:[a.jsx(it,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:s})]}):e.length===0?a.jsx("div",{className:"text-center py-4 text-gray-400",children:"No pending invites"}):a.jsx("div",{className:"space-y-3",children:e.map(d=>a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center",children:a.jsx(Hn,{className:"w-4 h-4 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:d.created_by_email}),a.jsx("p",{className:"text-sm text-gray-400",children:"invited you to collaborate"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>l(d),className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center",title:"Accept invite",children:[a.jsx(ht,{className:"w-4 h-4 mr-1"}),"Accept"]}),a.jsxs("button",{onClick:()=>c(d.id),className:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center",title:"Decline invite",children:[a.jsx(Ue,{className:"w-4 h-4 mr-1"}),"Decline"]})]})]}),a.jsx("div",{className:"bg-gray-900 rounded p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-400",children:d.robot_name}),a.jsx("p",{className:"text-sm text-gray-400",children:d.permission==="edit"?"Editor access":"Viewer access"})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Expires ",new Date(d.expires_at).toLocaleDateString()]})]})})]},d.id))})}function JM(){var b;const e=jt(),{profile:t,updateProfile:r}=Pt(),[n,s]=g.useState((t==null?void 0:t.name)||""),[i,o]=g.useState((t==null?void 0:t.phone)||""),[l,c]=g.useState((t==null?void 0:t.avatar_url)||""),[d,u]=g.useState(!1),[m,h]=g.useState(null),[f,p]=g.useState(null);g.useEffect(()=>{t&&(s(t.name||""),o(t.phone||""),c(t.avatar_url||""))},[t]);const v=async j=>{var N;try{u(!0),h(null);const w=(N=j.target.files)==null?void 0:N[0];if(!w)return;if(!w.type.startsWith("image/"))throw new Error("Please upload an image file");if(w.size>5*1024*1024)throw new Error("Image size should be less than 5MB");const k=w.name.split(".").pop(),E=`avatars/${`${Math.random()}.${k}`}`,{error:R,data:_}=await ue.storage.from("avatars").upload(E,w);if(R)throw R;const{data:{publicUrl:C}}=ue.storage.from("avatars").getPublicUrl(E);await r({avatar_url:C}),c(C),p("Profile photo updated successfully")}catch(w){console.error("Error uploading avatar:",w),h(w instanceof Error?w.message:"Error uploading image")}finally{u(!1)}},y=async j=>{j.preventDefault(),h(null),p(null);try{await r({name:n.trim(),phone:i.trim()||null}),p("Profile updated successfully")}catch(N){console.error("Error updating profile:",N),h(N instanceof Error?N.message:"Error updating profile")}},x=async()=>{try{h(null),await r({avatar_url:null}),c(""),p("Profile photo removed successfully")}catch(j){console.error("Error removing avatar:",j),h(j instanceof Error?j.message:"Error removing photo")}};return t?a.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-900 px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>e(-1),className:"mr-4 p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Back",children:a.jsx(ya,{className:"w-5 h-5"})}),a.jsxs("h1",{className:"text-xl font-semibold flex items-center",children:[a.jsx(Hn,{className:"w-5 h-5 mr-2"}),"Profile Settings"]})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("button",{onClick:()=>e("/subscription"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center space-x-2",children:[a.jsx(Wn,{className:"w-4 h-4"}),a.jsx("span",{children:"Subscription"})]})})]}),a.jsxs("div",{className:"p-6",children:[m&&a.jsx("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md text-red-500",children:m}),f&&a.jsx("div",{className:"mb-4 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md text-green-500",children:f}),a.jsxs("div",{className:"mb-8 bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wn,{className:"w-5 h-5 text-yellow-500"}),a.jsx("h2",{className:"text-lg font-medium",children:t.plan||"Free Forever"})]}),a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-500 bg-opacity-20 text-green-400",children:t.plan_status||"Active"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Next Billing"}),a.jsx("p",{className:"font-medium",children:t.plan_renewal_date?new Date(t.plan_renewal_date).toLocaleDateString():"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Token Balance"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fe,{className:"w-4 h-4 text-yellow-500 mr-1"}),a.jsxs("p",{className:"font-medium",children:[((b=t.token_balance)==null?void 0:b.toLocaleString())||0," tokens"]})]})]}),a.jsx("div",{children:a.jsx("button",{onClick:()=>e("/subscription"),className:"text-blue-400 hover:text-blue-300 text-sm",children:"View Details →"})})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(ZO,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Pending Invites"})]}),a.jsx(YM,{})]}),a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden",children:l?a.jsx("img",{src:l,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx(Hn,{className:"w-12 h-12 text-gray-400"})}),a.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 rounded-full p-2 cursor-pointer hover:bg-blue-700",children:[a.jsx(tD,{className:"w-4 h-4"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:v,disabled:d})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Profile Photo"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Upload a photo to make your profile more personal"}),a.jsxs("div",{className:"mt-3 flex space-x-3",children:[a.jsxs("label",{className:"px-4 py-2 bg-blue-600 text-white rounded-md cursor-pointer hover:bg-blue-700",children:["Upload New",a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:v,disabled:d})]}),l&&a.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600",children:"Remove"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Email Address"}),a.jsxs("div",{className:"mt-1 flex items-center space-x-2 px-3 py-2 bg-gray-900 rounded-md",children:[a.jsx(Fm,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-gray-300",children:t.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300",children:"Phone Number"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(_4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"tel",id:"phone",value:i,onChange:j=>o(j.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-900 border border-gray-700 rounded-md text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+55 (11) 98765-4321"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Display Name"}),a.jsx("input",{type:"text",id:"name",value:n,onChange:j=>s(j.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your name"})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>e(-1),className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})]})]})})}):null}function XM(){const e=jt(),t=()=>{window.open("https://profitestrategista.com.br/login","_blank")};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(Mn,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Back to robots",children:a.jsx(ya,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Comunidade de Trading"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:t,children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-indigo-700 flex items-center justify-center",children:a.jsx(Kn,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Comunidade de Traders"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Conecte-se com outros traders, compartilhe estratégias e aprenda com os melhores profissionais do mercado."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"w-4 h-4 text-blue-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"500+ membros"})]}),a.jsx(ta,{className:"w-5 h-5 text-blue-400"})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:t,children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-green-600 to-teal-700 flex items-center justify-center",children:a.jsx(ot,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Robôs Gratuitos"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Acesse uma biblioteca de robôs de trading gratuitos desenvolvidos pela comunidade e compartilhe os seus."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(lD,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"200+ robôs"})]}),a.jsx(ta,{className:"w-5 h-5 text-green-400"})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:t,children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-purple-600 to-pink-700 flex items-center justify-center",children:a.jsx(uo,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Fórum de Discussão"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Participe de discussões sobre estratégias, análise técnica e compartilhe suas operações com outros traders."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(_D,{className:"w-4 h-4 text-purple-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"1000+ tópicos"})]}),a.jsx(ta,{className:"w-5 h-5 text-purple-400"})]})]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8 mb-12",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Junte-se à nossa comunidade hoje"}),a.jsx("p",{className:"text-blue-100 max-w-xl mb-4",children:"Acesse nossa plataforma completa de comunidade, com fóruns, robôs gratuitos, análises compartilhadas e muito mais."}),a.jsxs("div",{className:"flex items-center text-sm text-blue-200",children:[a.jsx(Sr,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:"Acesso imediato após o login"})]})]}),a.jsxs("button",{onClick:t,className:"px-6 py-3 bg-white text-blue-900 font-medium rounded-md hover:bg-gray-100 flex items-center",children:["Acessar Comunidade",a.jsx(ta,{className:"w-4 h-4 ml-2"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-3 mr-4",children:a.jsx(sn,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Robôs Verificados"})]}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Todos os robôs gratuitos são testados e verificados pela nossa equipe para garantir qualidade e segurança."}),a.jsxs("button",{onClick:t,className:"text-blue-400 hover:text-blue-300 flex items-center text-sm",children:["Ver robôs verificados",a.jsx(ta,{className:"w-4 h-4 ml-1"})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-green-600 rounded-full p-3 mr-4",children:a.jsx(rp,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Biblioteca de Conhecimento"})]}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Acesse artigos, tutoriais e recursos educacionais compartilhados pela comunidade para aprimorar suas habilidades."}),a.jsxs("button",{onClick:t,className:"text-green-400 hover:text-green-300 flex items-center text-sm",children:["Explorar biblioteca",a.jsx(ta,{className:"w-4 h-4 ml-1"})]})]})]})]})]})}function zb(){const e=jt(),{profile:t}=Pt(),r={name:(t==null?void 0:t.plan)||"Free",status:(t==null?void 0:t.plan_status)||"active",renewalDate:(t==null?void 0:t.plan_renewal_date)||new Date().toISOString(),tokenBalance:(t==null?void 0:t.token_balance)||0},n=[{id:"free",name:"Free",price:"R$ 0,00",features:["Até 5 robôs de trading","Análise básica de backtest","Acesso à comunidade","100 tokens iniciais"]},{id:"pro1",name:"PRO 1",price:"R$ 259,80/mês",features:["Até 25 robôs de trading","Análise de backtest intermediária","Acesso à comunidade","5.000 tokens/mês","Suporte por email"]},{id:"pro2",name:"PRO 2",price:"R$ 499,80/mês",features:["Até 100 robôs de trading","Análise de backtest avançada","Suporte prioritário","12.500 tokens/mês","API para integração","Indicadores exclusivos"],isPopular:!0},{id:"pro3",name:"PRO 3",price:"R$ 999,80/mês",features:["Robôs ilimitados","Análise de backtest completa","Suporte dedicado","30.000 tokens/mês","API para integração","Indicadores exclusivos","Opções de white-label"]}],i=(()=>{switch(r.name){case"Free":return 100;case"PRO 1":return 5e3;case"PRO 2":return 12500;case"PRO 3":return 3e4;default:return 100}})(),o=()=>{window.open("https://buy.stripe.com/fZe5nX2320AB4EgfZC","_blank")},l=d=>{let u="Olá vim do DevHub Trader e quero mais informações e ajuda para criar robôs";switch(d){case"pro1":u="Olá vim do DevHub Trader e quero mais informações e ajuda para fazer upgrade para o plano PRO 1 (R$ 259,80/mês).";break;case"pro2":u="Olá vim do DevHub Trader e quero mais informações e ajuda para fazer upgrade para o plano PRO 2 (R$ 499,80/mês).";break;case"pro3":u="Olá vim do DevHub Trader e quero mais informações e ajuda para fazer upgrade para o plano PRO 3 (R$ 999,80/mês).";break;default:u=`Olá vim do DevHub Trader e quero mais informações e ajuda para fazer upgrade do meu plano atual (${r.name}).`}const m=encodeURIComponent(u);window.open(`https://wa.me/5511975333355?text=${m}`,"_blank")},c=()=>{const d=`Olá vim do DevHub Trader e quero mais informações e ajuda para fazer downgrade do meu plano atual (${r.name}).`,u=encodeURIComponent(d);window.open(`https://wa.me/5511975333355?text=${u}`,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(Mn,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full",title:"Back",children:a.jsx(ya,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Subscription & Tokens"})]})}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Wn,{className:"w-6 h-6 text-yellow-500"}),a.jsx("h2",{className:"text-xl font-semibold",children:"Current Plan"})]}),a.jsx("span",{className:"px-3 py-1 bg-green-600 bg-opacity-20 text-green-400 rounded-full text-sm",children:r.status==="active"?"Active":"Inactive"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Plan"}),a.jsx("p",{className:"text-lg font-medium",children:r.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Status"}),a.jsx("p",{className:"text-lg font-medium",children:r.status})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Next Renewal"}),a.jsx("p",{className:"text-lg font-medium",children:new Date(r.renewalDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Token Balance"}),a.jsxs("p",{className:"text-lg font-medium flex items-center",children:[a.jsx(Al,{showLabel:!1}),a.jsx("span",{className:"ml-1",children:"tokens"})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700 flex justify-between",children:[a.jsxs("button",{onClick:c,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md flex items-center",children:[a.jsx(xt,{className:"w-4 h-4 mr-2"}),"Downgrade Plan"]}),a.jsxs("button",{onClick:()=>l(""),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[a.jsx(xt,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})]}),a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Available Plans"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:n.map(d=>a.jsxs("div",{className:`bg-gray-800 rounded-lg p-6 relative ${d.isPopular?"ring-2 ring-blue-500":""}`,children:[d.isPopular&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-blue-600 rounded-full text-sm font-medium",children:"Most Popular"}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:d.name}),d.id==="pro2"&&a.jsx(sn,{className:"w-5 h-5 text-yellow-500"}),d.id==="pro3"&&a.jsx(ei,{className:"w-5 h-5 text-purple-500"})]}),a.jsx("p",{className:"text-2xl font-bold mb-4",children:d.price}),a.jsx("ul",{className:"space-y-3 mb-6",children:d.features.map((u,m)=>a.jsxs("li",{className:"flex items-center text-gray-300",children:[a.jsx(ht,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:u})]},m))}),a.jsx("button",{onClick:()=>r.name===d.name?null:l(d.id),className:`w-full py-2 rounded-md flex items-center justify-center ${r.name===d.name?"bg-green-600 hover:bg-green-700":d.isPopular?"bg-blue-600 hover:bg-blue-700":"bg-gray-700 hover:bg-gray-600"}`,children:r.name===d.name?"Current Plan":a.jsxs(a.Fragment,{children:[a.jsx(xt,{className:"w-4 h-4 mr-2"}),"Upgrade"]})})]},d.id))}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Fe,{className:"w-6 h-6 text-yellow-500"}),a.jsx("h2",{className:"text-xl font-semibold",children:"Token Reload"})]})}),a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("p",{className:"text-lg mb-2",children:"Need more tokens?"}),a.jsx("p",{className:"text-gray-400",children:"Purchase additional tokens to continue using AI features"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:"R$ 299,80"}),a.jsx("p",{className:"text-sm text-gray-400",children:"per reload"})]}),a.jsxs("button",{onClick:o,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[a.jsx(xt,{className:"w-4 h-4 mr-2"}),"Buy Tokens"]})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Fe,{className:"w-6 h-6 text-yellow-500"}),a.jsx("h2",{className:"text-xl font-semibold",children:"Token Usage"})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-400",children:"Monthly Allocation"}),a.jsxs("span",{className:"font-medium",children:[i.toLocaleString()," tokens"]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(100,r.tokenBalance/i*100)}%`}})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Available"}),a.jsx("p",{className:"text-xl font-medium",children:r.tokenBalance.toLocaleString()})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Used This Month"}),a.jsx("p",{className:"text-xl font-medium",children:Math.max(0,i-r.tokenBalance).toLocaleString()})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Resets In"}),a.jsx("p",{className:"text-xl font-medium",children:"23 days"})]})]})]})]})]})]})}function QM(){const e=jt(),{profile:t}=Pt(),[r,n]=g.useState(""),[s,i]=g.useState("all"),[o,l]=g.useState(!1),[c,d]=g.useState(null),[u,m]=g.useState("10"),[h,f]=g.useState([]),[p,v]=g.useState(!0),[y,x]=g.useState(null),[b,j]=g.useState(null),[N,w]=g.useState(!1),[k,S]=g.useState(!1),[E,R]=g.useState(""),[_,C]=g.useState("10"),[B,D]=g.useState(!1),[T,$]=g.useState(null),[F,L]=g.useState(!1),[A,O]=g.useState(!1),[V,W]=g.useState(null),[U,J]=g.useState(!1),[G,z]=g.useState(""),Z=[{id:"free",name:"Free",tokenAllocation:100,robotLimit:5,description:"Basic plan with limited features"},{id:"pro1",name:"PRO 1",tokenAllocation:5e3,robotLimit:25,description:"For beginners with more tokens and robots"},{id:"pro2",name:"PRO 2",tokenAllocation:12500,robotLimit:100,description:"Professional plan with advanced features"},{id:"pro3",name:"PRO 3",tokenAllocation:3e4,robotLimit:999,description:"Premium plan with unlimited robots"}],se=["pedropardal04@gmail.com","profitestrategista@gmail.com"];g.useEffect(()=>{t!=null&&t.email&&se.includes(t.email)&&M()},[t]);const M=async()=>{try{v(!0),x(null);const{data:Y,error:me}=await ue.from("profiles").select("id, email, name, phone, token_balance, plan, plan_status, updated_at");if(me)throw me;const ne=Y.map(ae=>({id:ae.id,email:ae.email,name:ae.name||ae.email.split("@")[0],phone:ae.phone||null,plan:ae.plan||"Free",status:ae.plan_status||"active",token_balance:ae.token_balance||0,last_sign_in_at:ae.updated_at}));f(ne)}catch(Y){x(Y instanceof Error?Y.message:"Failed to load users")}finally{v(!1)}},I=async()=>{if(T)try{L(!0),x(null);const{data:{session:Y}}=await ue.auth.getSession();if(!(Y!=null&&Y.access_token))throw new Error("No valid authentication session");const me=await fetch("https://kjprgjvqceedibcekkep.supabase.co/functions/v1/delete-user",{method:"POST",headers:{Authorization:`Bearer ${Y.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({userId:T.id})});if(!me.ok){const ae=await me.json().catch(()=>({error:`HTTP error! status: ${me.status}`}));throw new Error(ae.error||`Failed to delete user (Status: ${me.status})`)}let ne;try{ne=await me.json()}catch{throw new Error("Invalid response from server")}if(!ne.success)throw new Error(ne.error||"Failed to delete user");f(h.filter(ae=>ae.id!==T.id)),j(`User ${T.email} deleted successfully`),setTimeout(()=>j(null),3e3),D(!1),$(null)}catch(Y){x(Y instanceof Error?Y.message:"Failed to delete user"),setTimeout(()=>x(null),5e3)}finally{L(!1)}},H=async()=>{if(c)try{w(!0);const Y=parseInt(u);if(isNaN(Y)||Y<=0)throw new Error("Please enter a valid token amount");const{error:me}=await ue.from("profiles").update({token_balance:(c.token_balance||0)+Y}).eq("id",c.id);if(me)throw me;const ne=h.map(ae=>ae.id===c.id?{...ae,token_balance:(ae.token_balance||0)+Y}:ae);f(ne),j(`Added ${Y} tokens to ${c.email}`),setTimeout(()=>j(null),3e3),l(!1),d(null),m("10")}catch(Y){x(Y instanceof Error?Y.message:"Failed to add tokens"),setTimeout(()=>x(null),3e3)}finally{w(!1)}},q=async()=>{try{w(!0);const Y=parseInt(_);if(isNaN(Y)||Y<=0)throw new Error("Please enter a valid token amount");if(!E)throw new Error("Please enter an email address");const{data:{session:me}}=await ue.auth.getSession();if(!(me!=null&&me.access_token))throw new Error("No valid authentication session");const ne=await fetch("https://kjprgjvqceedibcekkep.supabase.co/functions/v1/add-tokens",{method:"POST",headers:{Authorization:`Bearer ${me.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({email:E,amount:Y})});if(!ne.ok){const je=await ne.json().catch(()=>({error:`HTTP error! status: ${ne.status}`}));throw new Error(je.error||`Failed to add tokens (Status: ${ne.status})`)}let ae;try{ae=await ne.json()}catch{throw new Error("Invalid response from server")}if(!ae.success)throw new Error(ae.error||"Failed to add tokens");j(`Added ${Y} tokens to ${E}`),setTimeout(()=>j(null),3e3),S(!1),R(""),C("10"),await M()}catch(Y){x(Y instanceof Error?Y.message:"Failed to add tokens"),setTimeout(()=>x(null),3e3)}finally{w(!1)}},P=async()=>{if(!(!V||!G))try{J(!0);const Y=Z.find(ae=>ae.id===G);if(!Y)throw new Error("Invalid plan selected");const{error:me}=await ue.from("profiles").update({plan:Y.name,plan_status:"active",plan_renewal_date:new Date(Date.now()+30*24*60*60*1e3).toISOString()}).eq("id",V.id);if(me)throw me;const ne=h.map(ae=>ae.id===V.id?{...ae,plan:Y.name,status:"active"}:ae);f(ne),j(`Changed ${V.email}'s plan to ${Y.name}`),setTimeout(()=>j(null),3e3),O(!1),W(null),z("")}catch(Y){x(Y instanceof Error?Y.message:"Failed to change plan"),setTimeout(()=>x(null),3e3)}finally{J(!1)}},X=Y=>{d(Y),l(!0)},re=Y=>{var me;W(Y),z(((me=Z.find(ne=>ne.name===Y.plan))==null?void 0:me.id)||"free"),O(!0)},de=Y=>{$(Y),D(!0)},fe=async(Y,me)=>{try{const{error:ne}=await ue.from("profiles").update({plan_status:me}).eq("id",Y);if(ne)throw ne;f(h.map(ae=>ae.id===Y?{...ae,status:me}:ae)),j(`User status updated to ${me}`),setTimeout(()=>j(null),3e3)}catch(ne){x(ne instanceof Error?ne.message:"Failed to update user status"),setTimeout(()=>x(null),3e3)}},he=Y=>{const me=new Date(Y);return me.toLocaleDateString()+" "+me.toLocaleTimeString()},we=h.filter(Y=>(s==="all"||Y.status===s)&&(Y.email.toLowerCase().includes(r.toLowerCase())||Y.name.toLowerCase().includes(r.toLowerCase())));return!(t!=null&&t.email)||!se.includes(t.email)?a.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(it,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"You don't have permission to access this page."}),a.jsx("button",{onClick:()=>e("/robots"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Back to Robots"})]})}):a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(Mn,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full",title:"Back",children:a.jsx(ya,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Admin Panel"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>S(!0),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md flex items-center space-x-2",children:[a.jsx(Fe,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Tokens"})]}),a.jsxs("button",{onClick:()=>{},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2",children:[a.jsx(PD,{className:"w-4 h-4"}),a.jsx("span",{children:"Add User"})]}),a.jsxs("button",{onClick:()=>{},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center space-x-2",children:[a.jsx(li,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Data"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Users"}),a.jsx(Kn,{className:"w-5 h-5 text-blue-500"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h.length}),a.jsx("p",{className:"text-sm text-gray-400",children:"Total Users"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h.filter(Y=>Y.status==="active").length}),a.jsx("p",{className:"text-sm text-gray-400",children:"Active Users"})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Subscriptions"}),a.jsx(Wn,{className:"w-5 h-5 text-yellow-500"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h.filter(Y=>Y.plan!=="Free").length}),a.jsx("p",{className:"text-sm text-gray-400",children:"Paid Plans"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h.filter(Y=>Y.plan==="Free").length}),a.jsx("p",{className:"text-sm text-gray-400",children:"Free Plans"})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Token Usage"}),a.jsx(Fe,{className:"w-5 h-5 text-yellow-500"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h.reduce((Y,me)=>Y+(me.token_balance||0),0).toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-400",children:"Total Tokens"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h.length>0?(h.reduce((Y,me)=>Y+(me.token_balance||0),0)/h.length).toFixed(0):0}),a.jsx("p",{className:"text-sm text-gray-400",children:"Avg per User"})]})]})]})]}),b&&a.jsxs("div",{className:"mb-6 p-4 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center",children:[a.jsx(ht,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),a.jsx("p",{className:"text-green-500",children:b})]}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),a.jsx("p",{className:"text-red-500",children:y})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[a.jsx("div",{className:"flex-1 w-full md:w-auto",children:a.jsxs("div",{className:"relative",children:[a.jsx(Cc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:r,onChange:Y=>n(Y.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),a.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[a.jsxs("select",{value:s,onChange:Y=>i(Y.target.value),className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Users"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"suspended",children:"Suspended"})]}),a.jsx("button",{onClick:M,className:"p-2 hover:bg-gray-800 rounded-md border border-gray-700",title:"Refresh",children:a.jsx(ur,{className:`w-5 h-5 text-gray-400 ${p?"animate-spin":""}`})})]})]}),a.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:p?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(ur,{className:"w-8 h-8 text-blue-500 animate-spin"})}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-900",children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Plan"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Tokens"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Last Login"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-700",children:we.map(Y=>a.jsxs("tr",{className:"hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:Y.name}),a.jsx("div",{className:"text-sm text-gray-400",children:Y.email})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-500 bg-opacity-20 text-blue-400",children:Y.plan}),a.jsx("button",{onClick:()=>re(Y),className:"ml-2 p-1 hover:bg-gray-700 rounded-full",title:"Change plan",children:a.jsx(Tb,{className:"w-4 h-4 text-gray-400"})})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Y.status==="active"?"bg-green-500 bg-opacity-20 text-green-400":"bg-red-500 bg-opacity-20 text-red-400"}`,children:Y.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[Y.token_balance.toLocaleString(),a.jsx("button",{onClick:()=>X(Y),className:"ml-2 p-1 hover:bg-gray-700 rounded-full",title:"Add tokens",children:a.jsx(jD,{className:"w-4 h-4 text-green-400"})})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-400",children:Y.phone||"Not provided"}),a.jsx("td",{className:"px-6 py-4 text-gray-400",children:he(Y.last_sign_in_at)}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{className:"p-1.5 hover:bg-gray-700 rounded",title:"Edit user",children:a.jsx(Tb,{className:"w-4 h-4 text-gray-400"})}),Y.status==="active"?a.jsx("button",{onClick:()=>fe(Y.id,"suspended"),className:"p-1.5 hover:bg-gray-700 rounded",title:"Suspend user",children:a.jsx(yD,{className:"w-4 h-4 text-red-400"})}):a.jsx("button",{onClick:()=>fe(Y.id,"active"),className:"p-1.5 hover:bg-gray-700 rounded",title:"Activate user",children:a.jsx(ht,{className:"w-4 h-4 text-green-400"})}),a.jsx("button",{onClick:()=>de(Y),className:"p-1.5 hover:bg-gray-700 rounded",title:"Delete user",children:a.jsx(Pl,{className:"w-4 h-4 text-red-400"})})]})})]},Y.id))})]})})]}),o&&c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:()=>{l(!1),d(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:a.jsx(Ue,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Fe,{className:"w-12 h-12 text-yellow-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Add Tokens"}),a.jsxs("p",{className:"mt-2 text-gray-400",children:["Add tokens to ",c.name,"'s account"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Balance"}),a.jsxs("div",{className:"px-3 py-2 bg-gray-700 rounded-md text-white",children:[c.token_balance.toLocaleString()," tokens"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Token Amount"}),a.jsx("input",{type:"number",value:u,onChange:Y=>m(Y.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>{l(!1),d(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:N,children:"Cancel"}),a.jsx("button",{onClick:H,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white flex items-center",disabled:N,children:N?a.jsxs(a.Fragment,{children:[a.jsx(ur,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Add Tokens"})]})]})]})}),k&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:()=>S(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:N,children:a.jsx(Ue,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Fe,{className:"w-12 h-12 text-yellow-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Add Tokens by Email"}),a.jsx("p",{className:"mt-2 text-gray-400",children:"Add tokens to a user's account by email"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"User Email"}),a.jsx("input",{type:"email",value:E,onChange:Y=>R(Y.target.value),placeholder:"user@example.com",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Token Amount"}),a.jsx("input",{type:"number",value:_,onChange:Y=>C(Y.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:N,children:"Cancel"}),a.jsx("button",{onClick:q,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white flex items-center",disabled:N||!E||!_,children:N?a.jsxs(a.Fragment,{children:[a.jsx(ur,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Add Tokens"})]})]})]})}),B&&T&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:()=>{D(!1),$(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:F,children:a.jsx(Ue,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Pl,{className:"w-12 h-12 text-red-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Delete User"}),a.jsxs("p",{className:"mt-2 text-gray-400",children:["Are you sure you want to delete ",T.email,"?"]})]}),a.jsx("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),a.jsx("p",{className:"text-red-400 text-sm",children:"This action cannot be undone. All user data, including robots, versions, and settings will be permanently deleted."})]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>{D(!1),$(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:F,children:"Cancel"}),a.jsx("button",{onClick:I,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md text-white flex items-center",disabled:F,children:F?a.jsxs(a.Fragment,{children:[a.jsx(ur,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Pl,{className:"w-4 h-4 mr-2"}),"Delete User"]})})]})]})}),A&&V&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:()=>{O(!1),W(null),z("")},className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:U,children:a.jsx(Ue,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(np,{className:"w-12 h-12 text-blue-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Change Plan"}),a.jsxs("p",{className:"mt-2 text-gray-400",children:["Update subscription plan for ",V.email]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Plan"}),a.jsx("div",{className:"px-3 py-2 bg-gray-700 rounded-md text-white",children:V.plan})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Plan"}),a.jsx("select",{value:G,onChange:Y=>z(Y.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:Z.map(Y=>a.jsxs("option",{value:Y.id,children:[Y.name," - ",Y.tokenAllocation.toLocaleString()," tokens, ",Y.robotLimit," robots"]},Y.id))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>{O(!1),W(null),z("")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white",disabled:U,children:"Cancel"}),a.jsx("button",{onClick:P,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white flex items-center",disabled:U||!G,children:U?a.jsxs(a.Fragment,{children:[a.jsx(ur,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Change Plan"})]})]})]})})]})}function ZM(){const e=jt(),t=r=>{const n=`Olá vim do DevHub Trader e quero mais informações e ajuda para criar robôs${r?` - ${r}`:""}`,s=encodeURIComponent(n);window.open(`https://wa.me/5511975333355?text=${s}`,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(Mn,{}),a.jsx("div",{className:"bg-gray-900 border-b border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Back to robots",children:a.jsx(ya,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Robôs Prontos e Copy Trade"})]})})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer",children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-indigo-700 flex items-center justify-center",children:a.jsx(li,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Robôs Prontos"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Adquira robôs de trading já configurados e prontos para operar em diversos mercados."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Resultados comprovados"})]}),a.jsxs("button",{onClick:()=>t("Robôs Prontos"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md flex items-center",children:[a.jsx(xt,{className:"w-4 h-4 mr-2"}),"Contato"]})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer",children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-green-600 to-teal-700 flex items-center justify-center",children:a.jsx(Kn,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Copy Trade"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Copie automaticamente as operações dos melhores traders da plataforma e lucre junto."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Sem conhecimento técnico"})]}),a.jsxs("button",{onClick:()=>t("Copy Trade"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md flex items-center",children:[a.jsx(xt,{className:"w-4 h-4 mr-2"}),"Contato"]})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer",children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-purple-600 to-pink-700 flex items-center justify-center",children:a.jsx(ex,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Estratégias Personalizadas"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Solicite o desenvolvimento de estratégias sob medida para suas necessidades específicas."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Suporte dedicado"})]}),a.jsxs("button",{onClick:()=>t("Estratégias Personalizadas"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md flex items-center",children:[a.jsx(xt,{className:"w-4 h-4 mr-2"}),"Solicitar"]})]})]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8 mb-12",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Robôs prontos para todos os perfis"}),a.jsx("p",{className:"text-blue-100 max-w-xl mb-4",children:"Acesse nossa plataforma completa com dezenas de robôs prontos para uso, estratégias testadas e sistema de copy trade."}),a.jsxs("div",{className:"flex items-center text-sm text-blue-200",children:[a.jsx(Sr,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:"Comece a operar em minutos"})]})]}),a.jsxs("button",{onClick:()=>t("Plataforma Completa"),className:"px-6 py-3 bg-green-500 text-white font-medium rounded-md hover:bg-green-600 flex items-center",children:[a.jsx(xt,{className:"w-5 h-5 mr-2"}),"Falar com Especialista"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-3 mr-4",children:a.jsx(sn,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Robôs Verificados"})]}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Todos os robôs são testados e verificados pela nossa equipe para garantir qualidade e segurança."}),a.jsxs("button",{onClick:()=>t("Robôs Verificados"),className:"text-green-400 hover:text-green-300 flex items-center text-sm",children:[a.jsx(xt,{className:"w-4 h-4 mr-1"}),"Fale com um especialista"]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-green-600 rounded-full p-3 mr-4",children:a.jsx(co,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Copy Trade Premium"})]}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Copie as operações dos melhores traders da plataforma e obtenha resultados consistentes sem precisar operar."}),a.jsxs("button",{onClick:()=>t("Copy Trade Premium"),className:"text-green-400 hover:text-green-300 flex items-center text-sm",children:[a.jsx(xt,{className:"w-4 h-4 mr-1"}),"Conhecer Copy Trade"]})]})]})]})]})}function e6(){const e=jt(),{signUpWithEmail:t,profile:r}=Pt(),[n,s]=g.useState(1),[i,o]=g.useState({fullName:"",email:"",password:"",confirmPassword:"",specialty:"",experience:"",portfolio:"",phone:"",agreeTerms:!1}),[l,c]=g.useState(!1),[d,u]=g.useState(null),[m,h]=g.useState(!1),[f,p]=g.useState(!1),v=["algorithmic-trading","machine-learning","technical-analysis","risk-management","backtesting","strategy-development"],y=k=>{const{name:S,value:E,type:R}=k.target,_=R==="checkbox"?k.target.checked:void 0;o(C=>({...C,[S]:R==="checkbox"?_:E}))},x=()=>{if(u(null),n===1){if(!i.fullName.trim())return"Full name is required";if(!i.email.trim())return"Email is required";if(!i.email.includes("@"))return"Please enter a valid email";if(!i.password)return"Password is required";if(i.password.length<6)return"Password must be at least 6 characters";if(i.password!==i.confirmPassword)return"Passwords do not match";if(!i.phone.trim())return"Phone number is required"}if(n===2){if(!i.specialty)return"Please select your specialty";if(!i.experience.trim())return"Please describe your experience"}return n===3&&!i.agreeTerms?"You must agree to the terms and conditions":null},b=()=>{const k=x();if(k){u(k);return}s(S=>S+1)},j=()=>{s(k=>k-1)},N=async k=>{k.preventDefault();const S=x();if(S){u(S);return}h(!0),u(null);try{const E=`Olá vim do DevHub Trader e quero mais informações e ajuda para me tornar um desenvolvedor. Meus dados: Nome: ${i.fullName}, Email: ${i.email}, Telefone: ${i.phone}, Especialidade: ${i.specialty}`,R=encodeURIComponent(E);p(!0),setTimeout(()=>{window.open(`https://wa.me/5511975333355?text=${R}`,"_blank"),e("/experts")},3e3)}catch(E){console.error("Error registering developer:",E),u(E instanceof Error?E.message:"Failed to register. Please try again.")}finally{h(!1)}},w=k=>k.split("-").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" ");return r?(e("/robots"),null):a.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/experts"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Back to experts",children:a.jsx(ya,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Become a Developer"})]})}),a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8 mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[a.jsxs("div",{className:"md:w-2/3 mb-6 md:mb-0 md:pr-8",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Join Our Developer Network"}),a.jsx("p",{className:"text-blue-100 mb-4",children:"Become a certified trading developer and connect with clients looking for your expertise. Grow your business and showcase your skills to our community."}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"bg-blue-800 bg-opacity-50 rounded-lg px-4 py-2 flex items-center",children:[a.jsx(co,{className:"w-5 h-5 text-yellow-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Monthly Subscription"}),a.jsx("p",{className:"text-blue-200 text-sm",children:"R$ 199,90/month"})]})]}),a.jsxs("div",{className:"bg-blue-800 bg-opacity-50 rounded-lg px-4 py-2 flex items-center",children:[a.jsx(ei,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"One-time Registration"}),a.jsx("p",{className:"text-blue-200 text-sm",children:"R$ 499,90"})]})]})]})]}),a.jsx("div",{className:"md:w-1/3 flex justify-center",children:a.jsx("div",{className:"bg-blue-800 bg-opacity-40 rounded-full p-8",children:a.jsx(ot,{className:"w-24 h-24 text-white"})})})]})}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n>=1?"bg-blue-600":"bg-gray-700"}`,children:a.jsx(Hn,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-sm mt-2",children:"Account"})]}),a.jsx("div",{className:`flex-1 h-1 mx-2 ${n>=2?"bg-blue-600":"bg-gray-700"}`}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n>=2?"bg-blue-600":"bg-gray-700"}`,children:a.jsx(ex,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-sm mt-2",children:"Profile"})]}),a.jsx("div",{className:`flex-1 h-1 mx-2 ${n>=3?"bg-blue-600":"bg-gray-700"}`}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n>=3?"bg-blue-600":"bg-gray-700"}`,children:a.jsx(np,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-sm mt-2",children:"Payment"})]})]})}),d&&a.jsxs("div",{className:"mb-6 p-4 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),a.jsx("p",{className:"text-red-500",children:d})]}),f&&a.jsxs("div",{className:"mb-6 p-4 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center",children:[a.jsx(jr,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-500 font-medium",children:"Registration request sent!"}),a.jsx("p",{className:"text-green-400 text-sm",children:"Redirecting you to WhatsApp to complete your registration..."})]})]}),a.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:a.jsxs("form",{onSubmit:N,children:[n===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Account Information"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",name:"fullName",value:i.fullName,onChange:y,placeholder:"Your full name",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Fm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",name:"email",value:i.email,onChange:y,placeholder:"your@email.com",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(Phone,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:y,placeholder:"+55 (11) 98765-4321",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Nu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:l?"text":"password",name:"password",value:i.password,onChange:y,placeholder:"••••••••",className:"w-full pl-10 pr-10 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:l?a.jsx(w4,{className:"w-5 h-5"}):a.jsx(tx,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Password must be at least 6 characters"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Nu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:l?"text":"password",name:"confirmPassword",value:i.confirmPassword,onChange:y,placeholder:"••••••••",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),n===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Developer Profile"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Primary Specialty"}),a.jsxs("div",{className:"relative",children:[a.jsx(Eb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsxs("select",{name:"specialty",value:i.specialty,onChange:y,className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none",children:[a.jsx("option",{value:"",children:"Select your specialty"}),v.filter(k=>k!=="all").map(k=>a.jsx("option",{value:k,children:w(k)},k))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Experience"}),a.jsx("textarea",{name:"experience",value:i.experience,onChange:y,rows:4,placeholder:"Describe your experience in trading and development...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Portfolio URL (optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Eb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"url",name:"portfolio",value:i.portfolio,onChange:y,placeholder:"https://your-portfolio.com",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),n===3&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Information"}),a.jsx("div",{className:"bg-blue-900 bg-opacity-30 border border-blue-800 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-2 mr-4 flex-shrink-0",children:a.jsx(sn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Developer Subscription"}),a.jsx("p",{className:"text-blue-200 mb-2",children:"Join our network of certified developers"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-baseline",children:[a.jsx("span",{className:"text-2xl font-bold",children:"R$ 199,90"}),a.jsx("span",{className:"text-blue-300 ml-2",children:"/month"})]}),a.jsxs("div",{className:"flex items-baseline mt-1",children:[a.jsx("span",{className:"text-lg font-bold",children:"+ R$ 499,90"}),a.jsx("span",{className:"text-blue-300 ml-2",children:"one-time registration fee"})]})]}),a.jsxs("ul",{className:"mt-3 space-y-1",children:[a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Featured listing in our experts directory"})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Direct client connections"})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"5,000 tokens monthly"})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Developer badge and verification"})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Priority support and resources"})]})]})]})]})}),a.jsxs("div",{className:"flex items-start mt-4",children:[a.jsx("input",{type:"checkbox",id:"agreeTerms",name:"agreeTerms",checked:i.agreeTerms,onChange:y,className:"mt-1 mr-2"}),a.jsxs("label",{htmlFor:"agreeTerms",className:"text-sm text-gray-300",children:["I agree to the ",a.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300",children:"Terms of Service"})," and ",a.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300",children:"Privacy Policy"}),". I understand that I will be charged R$ 199,90 monthly and a one-time registration fee of R$ 499,90."]})]})]}),a.jsxs("div",{className:"flex justify-between mt-8",children:[n>1?a.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Previous"}):a.jsx("button",{type:"button",onClick:()=>e("/experts"),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Cancel"}),n<3?a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Next"}):a.jsx("button",{type:"submit",disabled:m||f,className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:m?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(xt,{className:"w-5 h-5 mr-2"}),"Complete Registration"]})})]})]})}),a.jsxs("div",{className:"mt-8 bg-gray-800 rounded-lg p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[a.jsx(co,{className:"w-6 h-6 text-yellow-500 mr-2"}),"Developer Benefits"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-2 mr-3",children:a.jsx(Kn,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-medium",children:"Client Connections"})]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Get direct access to clients looking for trading expertise and development services."})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-green-600 rounded-full p-2 mr-3",children:a.jsx(sn,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-medium",children:"Verification Badge"})]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Stand out with a verified developer badge that builds trust with potential clients."})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-purple-600 rounded-full p-2 mr-3",children:a.jsx(Fe,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-medium",children:"Premium Tools"})]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Access premium development tools and 5,000 monthly tokens for AI assistance."})]})]})]}),a.jsxs("div",{className:"mt-8 bg-gray-800 rounded-lg p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[a.jsx(np,{className:"w-6 h-6 text-blue-500 mr-2"}),"Pricing Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-medium",children:"Monthly Subscription"}),a.jsx("div",{className:"bg-blue-600 rounded-full px-3 py-1 text-sm",children:"Recurring"})]}),a.jsxs("div",{className:"text-2xl font-bold mb-2",children:["R$ 199,90",a.jsx("span",{className:"text-sm font-normal text-gray-400",children:"/month"})]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Billed monthly. Cancel anytime. Includes all developer benefits and platform access."})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-medium",children:"Registration Fee"}),a.jsx("div",{className:"bg-green-600 rounded-full px-3 py-1 text-sm",children:"One-time"})]}),a.jsx("div",{className:"text-2xl font-bold mb-2",children:"R$ 499,90"}),a.jsx("p",{className:"text-gray-300 text-sm",children:"One-time payment for account verification, profile setup, and initial platform onboarding."})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-900 bg-opacity-30 border border-blue-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(jr,{className:"w-5 h-5 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-blue-100 text-sm",children:["Your first payment today will be ",a.jsx("span",{className:"font-bold",children:"R$ 699,80"})," (R$ 199,90 + R$ 499,90). After that, you'll be charged R$ 199,90 monthly."]})]})})]})]})})}function t6(){jt();const e=t=>{const r=`Olá vim do DevHub Trader e quero mais informações e ajuda para criar robôs${t?` - ${t}`:""}`,n=encodeURIComponent(r);window.open(`https://wa.me/5511975333355?text=${n}`,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(Mn,{}),a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[a.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Mesa Proprietária de Trading"}),a.jsx("p",{className:"text-xl text-blue-100 mb-6",children:"Opere com nosso capital e divida os lucros. Sem risco financeiro para você."}),a.jsxs("button",{onClick:()=>e("Mesa Proprietária"),className:"px-6 py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center",children:[a.jsx(xt,{className:"w-5 h-5 mr-2"}),"Falar com Especialista"]})]}),a.jsx("div",{className:"md:w-1/2 flex justify-center",children:a.jsx("div",{className:"bg-blue-800 bg-opacity-30 rounded-lg p-8",children:a.jsx(eD,{className:"w-32 h-32 text-blue-300"})})})]})})}),a.jsx("div",{className:"py-12 bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Traders Ativos"}),a.jsx(Kn,{className:"w-6 h-6 text-blue-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"120+"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Operando diariamente"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Capital Gerenciado"}),a.jsx(ju,{className:"w-6 h-6 text-green-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"R$ 5M+"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Em operações ativas"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Retorno Médio"}),a.jsx(Jt,{className:"w-6 h-6 text-yellow-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"3.2%"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Mensal por trader"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Anos de Mercado"}),a.jsx(hn,{className:"w-6 h-6 text-purple-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"8+"}),a.jsx("p",{className:"text-sm text-gray-400",children:"De experiência"})]})]})})}),a.jsx("div",{className:"py-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:()=>e("Capital Gerenciado"),children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-indigo-700 flex items-center justify-center",children:a.jsx(ju,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Capital Gerenciado"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Opere com nosso capital e divida os lucros. Planos a partir de R$ 5.000 até R$ 50.000."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Sem risco financeiro"})]}),a.jsx(Cl,{className:"w-5 h-5 text-blue-400"})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:()=>e("Mentoria Especializada"),children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-green-600 to-teal-700 flex items-center justify-center",children:a.jsx(Kn,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Mentoria Especializada"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Receba orientação de traders profissionais e desenvolva suas habilidades com suporte contínuo."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Acompanhamento semanal"})]}),a.jsx(Cl,{className:"w-5 h-5 text-green-400"})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer hover:scale-105 transform duration-200",onClick:()=>e("Estratégias Exclusivas"),children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-purple-600 to-pink-700 flex items-center justify-center",children:a.jsx(Jt,{className:"w-24 h-24 text-white opacity-75"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Estratégias Exclusivas"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Acesse estratégias proprietárias desenvolvidas por nossa equipe com alto índice de assertividade."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Resultados comprovados"})]}),a.jsx(Cl,{className:"w-5 h-5 text-purple-400"})]})]})]})]})})}),a.jsx("div",{className:"py-12 bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Pronto para começar?"}),a.jsx("p",{className:"text-blue-100 max-w-xl mb-4",children:"Acesse nossa plataforma completa de mesa proprietária e comece a operar com nosso capital hoje mesmo."}),a.jsxs("div",{className:"flex items-center text-sm text-blue-200",children:[a.jsx(Sr,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:"Processo de avaliação rápido e 100% online"})]})]}),a.jsxs("button",{onClick:()=>e("Mesa Proprietária - CTA"),className:"px-6 py-3 bg-green-500 text-white font-medium rounded-md hover:bg-green-600 flex items-center",children:[a.jsx(xt,{className:"w-5 h-5 mr-2"}),"Falar com Especialista"]})]})})})}),a.jsx("div",{className:"py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Comece sua jornada como trader profissional"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto mb-8",children:"Junte-se a centenas de traders que já estão operando com nosso capital e transformando suas carreiras."}),a.jsxs("button",{onClick:()=>e("Jornada Trader Profissional"),className:"px-8 py-4 bg-green-500 hover:bg-green-600 rounded-md font-medium text-lg inline-flex items-center",children:[a.jsx(xt,{className:"w-5 h-5 mr-2"}),"Falar com Especialista"]})]})})]})}function r6(){jt();const[e,t]=g.useState(null),[r,n]=g.useState(!1),[s,i]=g.useState(!1),[o,l]=g.useState(null),c=[{id:"1",name:"Trend Master Pro",description:"Estratégia de seguimento de tendência com filtros avançados e gerenciamento de risco dinâmico.",price:"R$ 997",platform:"Profit",market:"Mini Índice",timeframe:"M5",rating:4.8,reviews:124,image:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=500&h=300&fit=crop",featured:!0},{id:"2",name:"Reversal Hunter",description:"Estratégia de reversão à média com identificação precisa de pontos de entrada e saída.",price:"R$ 897",platform:"Profit",market:"Mini Dólar",timeframe:"M15",rating:4.6,reviews:98,image:"https://images.unsplash.com/photo-1535320903710-d993d3d77d29?w=500&h=300&fit=crop"},{id:"3",name:"Scalper Elite",description:"Estratégia de scalping de alta frequência para operações rápidas e precisas.",price:"R$ 1.297",platform:"Profit",market:"Mini Índice/Dólar",timeframe:"M1/M5",rating:4.9,reviews:156,image:"https://images.unsplash.com/photo-1642790551116-18e150f248e5?w=500&h=300&fit=crop"},{id:"4",name:"Breakout Master",description:"Estratégia especializada em identificar e operar rompimentos de suportes e resistências.",price:"R$ 997",platform:"Profit",market:"Mini Índice",timeframe:"M15/H1",rating:4.7,reviews:87,image:"https://images.unsplash.com/photo-1559526324-593bc073d938?w=500&h=300&fit=crop"}],d=[{question:"Como funcionam as estratégias para Profit?",answer:"Nossas estratégias são desenvolvidas especificamente para a plataforma Profit. Após a compra, você recebe um arquivo de configuração que pode ser importado diretamente na plataforma. Todas as estratégias vêm com instruções detalhadas de instalação e uso."},{question:"As estratégias funcionam em outras plataformas?",answer:"Não, nossas estratégias são desenvolvidas exclusivamente para a plataforma Profit. Cada plataforma tem sua própria linguagem e estrutura, por isso não é possível utilizar em outras plataformas como MetaTrader ou TradingView."},{question:"Posso personalizar as estratégias?",answer:"Sim, todas as nossas estratégias permitem personalização dos principais parâmetros como stop loss, take profit, horários de operação e filtros. No entanto, o código-fonte não é fornecido para preservar a propriedade intelectual."},{question:"Vocês oferecem suporte após a compra?",answer:"Sim, oferecemos suporte técnico por 6 meses após a compra. Isso inclui ajuda com instalação, configuração e otimização da estratégia para seu perfil de risco. Após esse período, é possível adquirir extensões de suporte."},{question:"Qual a garantia de que as estratégias são lucrativas?",answer:"Todas as nossas estratégias passam por rigorosos testes de backtesting e são utilizadas por traders reais. Oferecemos uma garantia de 30 dias: se a estratégia não atender às suas expectativas, devolvemos seu dinheiro. No entanto, é importante lembrar que resultados passados não garantem resultados futuros."},{question:"Como recebo a estratégia após a compra?",answer:"Após a confirmação do pagamento, você receberá um email com os arquivos da estratégia e instruções detalhadas de instalação. Normalmente, o envio é feito em até 24 horas úteis."}],u=p=>{t(e===p?null:p)},m=p=>{const v=`Olá vim do DevHub Trader e quero mais informações e ajuda para criar robôs${p?` - ${p}`:""}`,y=encodeURIComponent(v);window.open(`https://wa.me/5511975333355?text=${y}`,"_blank")},h=p=>{p.preventDefault(),m("Formulário de Contato"),n(!1)},f=p=>{p.preventDefault(),o&&m(`Compra de Estratégia - ${o.name}`),i(!1),l(null)};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(Mn,{}),a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[a.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Profit Estrategista"}),a.jsx("p",{className:"text-xl text-blue-100 mb-6",children:"Estratégias automatizadas de alta performance para a plataforma Profit."}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[a.jsx("button",{onClick:()=>{const p=document.getElementById("strategies");p==null||p.scrollIntoView({behavior:"smooth"})},className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md font-medium",children:"Ver Estratégias"}),a.jsxs("button",{onClick:()=>m("Demonstração"),className:"px-6 py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center justify-center",children:[a.jsx(xt,{className:"w-5 h-5 mr-2"}),"Solicitar Demonstração"]})]})]}),a.jsx("div",{className:"md:w-1/2 flex justify-center",children:a.jsx("div",{className:"bg-blue-800 bg-opacity-40 rounded-lg p-8",children:a.jsx(ot,{className:"w-32 h-32 text-blue-300"})})})]})})}),a.jsx("div",{className:"py-12 bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Estratégias"}),a.jsx(ot,{className:"w-6 h-6 text-blue-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"12+"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Estratégias disponíveis"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Clientes"}),a.jsx(Kn,{className:"w-6 h-6 text-green-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"500+"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Traders satisfeitos"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Rentabilidade"}),a.jsx(Jt,{className:"w-6 h-6 text-yellow-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"2.5%"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Média mensal"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Suporte"}),a.jsx(hn,{className:"w-6 h-6 text-purple-500"})]}),a.jsx("p",{className:"text-3xl font-bold",children:"6"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Meses inclusos"})]})]})})}),a.jsx("div",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Por Que Escolher Nossas Estratégias"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Desenvolvidas por traders profissionais com anos de experiência no mercado."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-3 mr-4",children:a.jsx(Jt,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Performance Comprovada"})]}),a.jsx("p",{className:"text-gray-300",children:"Todas as estratégias são testadas em condições reais de mercado e possuem histórico de performance comprovada."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-green-600 rounded-full p-3 mr-4",children:a.jsx(ei,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Gerenciamento de Risco"})]}),a.jsx("p",{className:"text-gray-300",children:"Sistemas avançados de gerenciamento de risco para proteger seu capital e maximizar seus ganhos."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-purple-600 rounded-full p-3 mr-4",children:a.jsx(Fe,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Suporte Especializado"})]}),a.jsx("p",{className:"text-gray-300",children:"Suporte técnico especializado por 6 meses para ajudar na configuração e otimização da sua estratégia."})]})]})]})}),a.jsx("div",{id:"strategies",className:"py-16 bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Nossas Estratégias"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Escolha a estratégia que melhor se adapta ao seu perfil e objetivos."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(p=>a.jsxs("div",{className:`bg-gray-800 rounded-lg overflow-hidden ${p.featured?"ring-2 ring-blue-500":""}`,children:[p.featured&&a.jsx("div",{className:"bg-blue-600 text-center py-2",children:a.jsx("p",{className:"text-sm font-medium",children:"Mais Vendida"})}),a.jsx("img",{src:p.image,alt:p.name,className:"w-full h-48 object-cover"}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:p.name}),a.jsx("p",{className:"text-gray-300 mb-4",children:p.description}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-700 rounded-full text-xs",children:p.platform}),a.jsx("span",{className:"px-2 py-1 bg-gray-700 rounded-full text-xs",children:p.market}),a.jsx("span",{className:"px-2 py-1 bg-gray-700 rounded-full text-xs",children:p.timeframe})]}),a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"flex mr-2",children:[1,2,3,4,5].map(v=>a.jsx(sn,{className:`w-4 h-4 ${v<=Math.floor(p.rating)?"text-yellow-500":"text-gray-600"}`,fill:v<=Math.floor(p.rating)?"currentColor":"none"},v))}),a.jsxs("span",{className:"text-sm text-gray-400",children:["(",p.reviews," avaliações)"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-2xl font-bold",children:p.price}),a.jsxs("button",{onClick:()=>m(`Estratégia ${p.name}`),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-md flex items-center",children:[a.jsx(xt,{className:"w-4 h-4 mr-2"}),"Comprar"]})]})]})]},p.id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs("button",{onClick:()=>m("Estratégia Personalizada"),className:"px-6 py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center mx-auto",children:[a.jsx(xt,{className:"w-5 h-5 mr-2"}),"Solicitar Estratégia Personalizada"]})})]})}),a.jsx("div",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Como Funciona"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Processo simples para começar a operar com nossas estratégias automatizadas."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-xl font-bold",children:"1"}),a.jsx("h3",{className:"text-xl font-semibold mb-4 mt-4",children:"Escolha"}),a.jsx("p",{className:"text-gray-300",children:"Selecione a estratégia que melhor se adapta ao seu perfil e objetivos de trading."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-xl font-bold",children:"2"}),a.jsx("h3",{className:"text-xl font-semibold mb-4 mt-4",children:"Compre"}),a.jsx("p",{className:"text-gray-300",children:"Entre em contato conosco via WhatsApp para finalizar sua compra de forma segura."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-xl font-bold",children:"3"}),a.jsx("h3",{className:"text-xl font-semibold mb-4 mt-4",children:"Instale"}),a.jsx("p",{className:"text-gray-300",children:"Receba os arquivos por email e siga as instruções detalhadas de instalação."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-xl font-bold",children:"4"}),a.jsx("h3",{className:"text-xl font-semibold mb-4 mt-4",children:"Opere"}),a.jsx("p",{className:"text-gray-300",children:"Configure a estratégia conforme suas preferências e comece a operar automaticamente."})]})]})]})}),a.jsx("div",{className:"py-16 bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"O Que Dizem Nossos Clientes"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Veja o que os traders que utilizam nossas estratégias têm a dizer."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("img",{src:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop",alt:"Cliente",className:"w-12 h-12 rounded-full mr-4"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Carlos Mendes"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Trader há 3 anos"})]})]}),a.jsx("p",{className:"text-gray-300",children:'"A estratégia Trend Master Pro superou todas as minhas expectativas. O suporte técnico é excelente e os resultados são consistentes."'}),a.jsx("div",{className:"flex mt-4",children:[1,2,3,4,5].map(p=>a.jsx(sn,{className:"w-5 h-5 text-yellow-500",fill:"currentColor"},p))})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("img",{src:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop",alt:"Cliente",className:"w-12 h-12 rounded-full mr-4"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Fernanda Silva"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Trader há 2 anos"})]})]}),a.jsx("p",{className:"text-gray-300",children:'"Comecei com a Reversal Hunter e depois adquiri a Scalper Elite. Ambas são excelentes e me ajudaram a ter consistência nos resultados."'}),a.jsx("div",{className:"flex mt-4",children:[1,2,3,4,5].map(p=>a.jsx(sn,{className:`w-5 h-5 ${p<=4?"text-yellow-500":"text-gray-600"}`,fill:p<=4?"currentColor":"none"},p))})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("img",{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop",alt:"Cliente",className:"w-12 h-12 rounded-full mr-4"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Ricardo Alves"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Trader há 5 anos"})]})]}),a.jsx("p",{className:"text-gray-300",children:'"Como trader experiente, posso dizer que as estratégias da Profit Estrategista estão entre as melhores que já utilizei. Recomendo fortemente."'}),a.jsx("div",{className:"flex mt-4",children:[1,2,3,4,5].map(p=>a.jsx(sn,{className:"w-5 h-5 text-yellow-500",fill:"currentColor"},p))})]})]})]})}),a.jsx("div",{className:"py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Perguntas Frequentes"}),a.jsx("p",{className:"text-xl text-gray-400",children:"Tire suas dúvidas sobre nossas estratégias"})]}),a.jsx("div",{className:"space-y-4",children:d.map((p,v)=>a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>u(v),className:"w-full px-6 py-4 text-left flex items-center justify-between focus:outline-none",children:[a.jsx("h3",{className:"text-lg font-medium",children:p.question}),e===v?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})]}),e===v&&a.jsx("div",{className:"px-6 pb-4",children:a.jsx("p",{className:"text-gray-300",children:p.answer})})]},v))})]})}),a.jsx("div",{className:"py-16 bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pronto para automatizar suas operações?"}),a.jsx("p",{className:"text-blue-100 max-w-xl mb-6",children:"Escolha uma de nossas estratégias prontas ou solicite uma estratégia personalizada para suas necessidades específicas."}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[a.jsx("button",{onClick:()=>{const p=document.getElementById("strategies");p==null||p.scrollIntoView({behavior:"smooth"})},className:"px-6 py-3 bg-white text-blue-900 font-medium rounded-md hover:bg-gray-100",children:"Ver Estratégias"}),a.jsxs("button",{onClick:()=>m("Estratégia Personalizada"),className:"px-6 py-3 bg-green-500 hover:bg-green-600 text-white font-medium rounded-md flex items-center justify-center",children:[a.jsx(xt,{className:"w-5 h-5 mr-2"}),"Estratégia Personalizada"]})]})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ot,{className:"w-32 h-32 text-blue-300"})})]})})})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:a.jsx(Ue,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Solicitar Informações"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Preencha o formulário abaixo para receber mais informações sobre nossas estratégias"})]}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome Completo"}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),a.jsx("input",{type:"email",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Telefone"}),a.jsx("input",{type:"tel",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Interesse"}),a.jsxs("select",{className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Selecione uma opção"}),a.jsx("option",{value:"strategy",children:"Estratégia específica"}),a.jsx("option",{value:"custom",children:"Estratégia personalizada"}),a.jsx("option",{value:"demo",children:"Demonstração"}),a.jsx("option",{value:"other",children:"Outro"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Mensagem"}),a.jsx("textarea",{rows:4,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("button",{type:"submit",className:"w-full py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center justify-center",children:[a.jsx(xt,{className:"w-5 h-5 mr-2"}),"Enviar Mensagem"]})]})]})}),s&&o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:()=>{i(!1),l(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:a.jsx(Ue,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Comprar Estratégia"}),a.jsxs("p",{className:"text-gray-400 mt-2",children:[o.name," - ",o.price]})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("h3",{className:"font-medium",children:"Detalhes da Estratégia"})}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(ht,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsxs("span",{children:["Plataforma: ",o.platform]})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(ht,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsxs("span",{children:["Mercado: ",o.market]})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(ht,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsxs("span",{children:["Timeframe: ",o.timeframe]})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(ht,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Suporte técnico por 6 meses"})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(ht,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Atualizações gratuitas"})]}),a.jsxs("li",{className:"flex items-center text-sm",children:[a.jsx(ht,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Garantia de 30 dias"})]})]})]}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome Completo"}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),a.jsx("input",{type:"email",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Telefone"}),a.jsx("input",{type:"tel",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",id:"terms",className:"mt-1 mr-2",required:!0}),a.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-300",children:["Concordo com os ",a.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300",children:"Termos e Condições"})," e ",a.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300",children:"Política de Privacidade"})]})]}),a.jsxs("button",{type:"submit",className:"w-full py-3 bg-green-500 hover:bg-green-600 rounded-md font-medium flex items-center justify-center",children:[a.jsx(xt,{className:"w-5 h-5 mr-2"}),"Finalizar Compra"]})]})]})})]})}function Bb({message:e="Olá vim do DevHub Trader e quero mais informações e ajuda para criar robôs"}){const[t,r]=It.useState(!1),n=()=>{const s=encodeURIComponent(e);window.open(`https://wa.me/5511975333355?text=${s}`,"_blank")};return a.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[t&&a.jsxs("div",{className:"absolute bottom-16 right-0 bg-white rounded-lg shadow-xl p-4 mb-4 w-72 transform transition-all duration-300 ease-in-out",children:[a.jsx("button",{onClick:()=>r(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:a.jsx(Ue,{className:"w-4 h-4"})}),a.jsx("p",{className:"text-gray-800 text-sm mb-3",children:"Precisa de ajuda com seus robôs de trading?"}),a.jsxs("button",{onClick:n,className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-md flex items-center justify-center",children:[a.jsx("span",{className:"mr-2",children:"Fale conosco"}),a.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})]})]}),a.jsx("button",{onClick:()=>r(!t),className:"bg-green-500 hover:bg-green-600 text-white rounded-full p-4 shadow-lg flex items-center justify-center","aria-label":"Contact via WhatsApp",children:a.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})})]})}const op=kc(e=>({investedCapital:1e5,setInvestedCapital:t=>e({investedCapital:Number.isFinite(t)?t:1e5})}));function I4({metrics:e,showTitle:t=!0}){const[r,n]=g.useState(!1),[s,i]=g.useState({});g.useEffect(()=>{i({...e||{}})},[e]);const o=g.useCallback((h,f)=>{if(isNaN(f)||f===null||f===void 0)return"text-gray-300";switch(h){case"profitFactor":return f>=1.5?"text-green-500":f>=1?"text-yellow-500":"text-red-500";case"payoff":return f>=1.5?"text-green-500":f>=1?"text-yellow-500":"text-red-500";case"winRate":return f>=60?"text-green-500":f>=45?"text-yellow-500":"text-red-500";case"maxDrawdown":return f<=10?"text-green-500":f<=20?"text-yellow-500":"text-red-500";case"sharpeRatio":return f>=1?"text-green-500":f>=.5?"text-yellow-500":"text-red-500";case"recoveryFactor":return f>=3?"text-green-500":f>=1?"text-yellow-500":"text-red-500";case"netProfit":return f>0?"text-green-500":f===0?"text-gray-300":"text-red-500";default:return"text-gray-300"}},[]),l=g.useCallback((h,f=!1,p=!1)=>{if(h==null||isNaN(Number(h)))return"N/A";const v=Number(h);return p?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v):f?`${v.toFixed(2)}%`:v.toFixed(2)},[]),c={totalTrades:e==null?void 0:e.totalTrades,tradesLucrativos:e==null?void 0:e.profitableTrades,tradesComPerda:e==null?void 0:e.lossTrades,ganhoMedio:e==null?void 0:e.averageWin,perdaMedia:e==null?void 0:e.averageLoss,maxPerdasConsecutivas:e==null?void 0:e.maxConsecutiveLosses,maxGanhosConsecutivos:e==null?void 0:e.maxConsecutiveWins},d={tradeMedio:e==null?void 0:e.averageTrade,maiorGanho:e==null?void 0:e.maiorGanho,maiorPerda:e==null?void 0:e.maiorPerda,ganhoBruto:e==null?void 0:e.grossProfit,perdaBruta:e==null?void 0:e.grossLoss,tradesLucrativosPercent:e==null?void 0:e.winRate,tradesComPerdaPercent:(e==null?void 0:e.winRate)!==void 0&&(e==null?void 0:e.winRate)!==null?Math.max(0,100-Number(e==null?void 0:e.winRate)):void 0},u=op(h=>h.investedCapital)||1e5,m=(()=>{const h=e==null?void 0:e.maxDrawdownAmount;if(typeof h=="number"&&isFinite(h))return u>0?h/u*100:void 0;const f=e==null?void 0:e.maxDrawdown;return typeof f=="number"&&isFinite(f)?f:void 0})();return a.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden shadow-lg",children:[t&&a.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-800",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jt,{className:"w-5 h-5 text-blue-500 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Métricas de Performance"})]}),a.jsx("button",{onClick:()=>n(!r),className:"p-1 hover:bg-gray-800 rounded-full",children:r?a.jsx(ze,{className:"w-5 h-5 text-gray-400"}):a.jsx(tt,{className:"w-5 h-5 text-gray-400"})})]}),!r&&a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Lucro Líquido"}),a.jsx("p",{className:`text-3xl font-bold ${o("netProfit",Number(e==null?void 0:e.netProfit))}`,children:l(Number(e==null?void 0:e.netProfit),!1,!0)})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Drawdown Máximo R$"}),a.jsx("p",{className:"text-3xl font-bold text-red-500",children:l(s.maxDrawdownAmount,!1,!0)}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[l(m,!0)," do capital"]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total de Trades"}),a.jsx("p",{className:"text-3xl font-bold",children:(e==null?void 0:e.totalTrades)??"N/A"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:`text-2xl font-bold ${o("profitFactor",Number(e==null?void 0:e.profitFactor))}`,children:l(Number(e==null?void 0:e.profitFactor))})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Payoff"}),a.jsx("p",{className:`text-2xl font-bold ${o("payoff",Number(e==null?void 0:e.payoff))}`,children:l(Number(e==null?void 0:e.payoff))}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Ganho Médio / Perda Média (Total)"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Sharpe Ratio"}),a.jsx("p",{className:`text-2xl font-bold ${o("sharpeRatio",s.sharpeRatio)}`,children:l(s.sharpeRatio)})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Fator de Recuperação"}),a.jsx("p",{className:`text-2xl font-bold ${o("recoveryFactor",s.recoveryFactor)}`,children:l(s.recoveryFactor)})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:`text-2xl font-bold ${o("winRate",Number(e==null?void 0:e.winRate))}`,children:l(Number(e==null?void 0:e.winRate),!0)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[a.jsx(bt,{className:"w-4 h-4 text-blue-400 mr-2"}),"Estatísticas de Trades"]}),a.jsx("table",{className:"w-full text-sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Total de Trades"}),a.jsx("td",{className:"py-2 text-right",children:c.totalTrades??"N/A"})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Trades Lucrativos"}),a.jsx("td",{className:"py-2 text-right text-green-500",children:c.tradesLucrativos??"N/A"})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Trades com Perda"}),a.jsx("td",{className:"py-2 text-right text-red-500",children:c.tradesComPerda??"N/A"})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Ganho Médio"}),a.jsx("td",{className:"py-2 text-right text-green-500",children:l(c.ganhoMedio,!1,!0)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Perda Média"}),a.jsx("td",{className:"py-2 text-right text-red-500",children:l(c.perdaMedia!==void 0&&c.perdaMedia!==null?Math.abs(Number(c.perdaMedia)):void 0,!1,!0)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Máx. Perdas Consecutivas"}),a.jsx("td",{className:"py-2 text-right",children:c.maxPerdasConsecutivas??"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Máx. Ganhos Consecutivos"}),a.jsx("td",{className:"py-2 text-right text-green-500",children:c.maxGanhosConsecutivos??"N/A"})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[a.jsx(co,{className:"w-4 h-4 text-blue-400 mr-2"}),"Métricas Avançadas"]}),a.jsx("table",{className:"w-full text-sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Trade Médio"}),a.jsx("td",{className:"py-2 text-right",children:l(d.tradeMedio,!1,!0)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Maior Ganho"}),a.jsx("td",{className:"py-2 text-right text-green-500",children:l(d.maiorGanho,!1,!0)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Maior Perda"}),a.jsx("td",{className:"py-2 text-right text-red-500",children:l(d.maiorPerda,!1,!0)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Ganho Bruto"}),a.jsx("td",{className:"py-2 text-right text-green-500",children:l(d.ganhoBruto,!1,!0)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Perda Bruta"}),a.jsx("td",{className:"py-2 text-right text-red-500",children:l(d.perdaBruta,!1,!0)})]}),a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Trades Lucrativos"}),a.jsx("td",{className:"py-2 text-right",children:l(d.tradesLucrativosPercent,!0)})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 text-gray-400",children:"Trades com Perda"}),a.jsx("td",{className:"py-2 text-right",children:l(d.tradesComPerdaPercent,!0)})]})]})})]})]})]})]})}const n6={BASE_URL:"https://api.devhubtrader.com.br",TIMEOUT:3e4,DEFAULT_HEADERS:{"Content-Type":"application/json"},DEVELOPMENT:{BASE_URL:"http://localhost:5002",CORS_ORIGINS:["http://localhost:4173","http://localhost:3000"]},PRODUCTION:{BASE_URL:"https://api.devhubtrader.com.br",CORS_ORIGINS:["https://devhubtrader.com.br","https://www.devhubtrader.com.br","http://devhubtrader.com.br","http://www.devhubtrader.com.br"]}},ft=e=>{const t=n6.BASE_URL,r=e.startsWith("/")?e:`/${e}`;return`${t}${r}`};function L4({isAnalyzing:e,setIsAnalyzing:t,error:r,setError:n,analysisResult:s,onMetricsReceived:i,backtestData:o,fileResults:l}){const[c,d]=g.useState([{id:"welcome",role:"assistant",content:"Olá! Estou analisando seus dados de backtest. Você pode me perguntar sobre os resultados ou pedir sugestões para melhorar sua estratégia."}]),[u,m]=g.useState(""),[h,f]=g.useState(!1),p=g.useRef(null),{profile:v,updateTokenBalance:y}=Pt(),x=ft("/chat"),b=g.useCallback((S,E)=>{const R={id:Date.now().toString(),role:S,content:E};d(_=>[..._,R]),setTimeout(j,0)},[]);g.useEffect(()=>{if(s){const S=s,E=D=>typeof D=="number"?D:void 0,R=E(S==null?void 0:S.profitFactor),_=E(S==null?void 0:S.winRate),C=E(S==null?void 0:S.maxDrawdown),B=E(S==null?void 0:S.netProfit);b("assistant",`Análise concluída! Aqui estão os principais resultados:

- Profit Factor: ${R!==void 0?R.toFixed(2):"N/A"}
- Win Rate: ${_!==void 0?_.toFixed(2):"N/A"}%
- Drawdown Máximo: ${C!==void 0?C.toFixed(2):"N/A"}%
- Lucro Líquido: R$ ${B!==void 0?B.toFixed(2):"N/A"}

Você pode me perguntar mais detalhes sobre esses resultados ou pedir sugestões para melhorar a estratégia.`)}},[s,b]),g.useEffect(()=>{r&&b("assistant",`Ocorreu um erro: ${r}`)},[r,b]);const j=()=>{var S;(S=p.current)==null||S.scrollIntoView({behavior:"smooth"})},N=(S,E="single")=>{let R="";const _=E==="portfolio"?"[2 OU MAIS ESTRATÉGIAS]":"[Estratégia Individual]";if(o){const D=o,T=D["Performance Metrics"],$=typeof T=="object"&&T!==null?T:{},F=z=>{if(typeof z=="number"&&isFinite(z))return z;if(typeof z=="string"){const Z=z.includes("(")&&z.includes(")"),se=z.replace(/[R$r$\s]/gi,"").replace(/\./g,"").replace(",",".").replace(/[()]/g,""),M=parseFloat(se);if(!isNaN(M))return Z?-Math.abs(M):M}},L=z=>{const Z=["pnl","PnL","net_profit","resultado","profit","result","netProfit","lucroLiquido","lucro","gain","loss","P/L","p_l"];for(const se of Z)if(se in z){const M=F(z[se]);if(typeof M=="number"&&isFinite(M))return M}return 0},A=z=>{if(!Array.isArray(z)||z.length===0)return;let Z=0,se=0,M=0,I=0,H=0,q=0;const P=he=>{const we=["entry_date","date","exit_date"];let Y;for(const ae of we){const je=he[ae];if(je!=null){Y=je;break}}if(Y==null||typeof Y!="string"&&typeof Y!="number")return 0;const ne=new Date(Y).getTime();return Number.isFinite(ne)?ne:0},X=[...z].sort((he,we)=>P(he)-P(we));X.forEach(he=>{const we=L(he)??0;M+=we,we>0?Z+=we:we<0&&(se+=Math.abs(we)),I+=we,I>H&&(H=I);const Y=H-I;Y>q&&(q=Y)});const re=se>0?Z/se:Z>0?999:0,de=H>0?q/H*100:0,fe=Z===0&&se===0&&M===0&&q===0;if(!(X.length>0&&fe))return{profitFactor:re,netProfit:M,grossProfit:Z,grossLossAbs:se,maxDD:q,maxDDPctPeak:de,totalTrades:X.length}},O=z=>({profitFactor:F(z["Profit Factor"]),winRatePct:F(z["Win Rate (%)"]),netProfit:F(z["Net Profit"]),maxDD:F(z["Max Drawdown ($)"]),maxDDPct:F(z["Max Drawdown (%)"]),sharpe:F(z["Sharpe Ratio"]),totalTrades:F(z["Total Trades"])}),V=O($),W=D.trades,U=A(Array.isArray(W)?W:[]),J=l&&Object.keys(l).length>0?Object.entries(l).map(([z,Z])=>{const se=Z,M=se["Performance Metrics"],I=typeof M=="object"&&M!==null?M:{},H=se.trades,q=Array.isArray(H)?H:[],P=O(I),X=A(q),re=!X||X.totalTrades>0&&X.netProfit===0&&X.grossProfit===0&&X.grossLossAbs===0&&X.maxDD===0,de=F(I["Gross Profit"]),fe=F(I["Gross Loss"]),he=re?{profitFactor:F(I["Profit Factor"]),netProfit:F(I["Net Profit"]),grossProfit:de,grossLossAbs:typeof fe=="number"?Math.abs(fe):void 0,maxDD:F(I["Max Drawdown ($)"]),maxDDPctPeak:F(I["Max Drawdown (%)"]),totalTrades:F(I["Total Trades"])}:X;return{name:z,api:P,calc:he}}):[];R=`
CONTEXTO DOS DADOS DE BACKTEST:
${JSON.stringify({consolidated_api:V,consolidated_calc:U,strategies:J})}

PERGUNTA DO USUÁRIO: ${S}

Por favor, analise os dados fornecidos e responda à pergunta do usuário com base nas informações reais do backtest. Forneça insights específicos e sugestões práticas para melhorar a estratégia de trading.
`}else R=S;return R=`${_}
`+R,[{role:"user",content:`${_}

// Este JSON representa uma única estratégia, robô ou sistema de trading (CSV) isolado, extraído de um único arquivo CSV.
// Ele contém dados completos de performance da estratégia, já organizados em formato analítico, e prontos para interpretação técnica.
// As informações incluídas abrangem tanto métricas agregadas (como Sharpe Ratio, Payoff, Profit Factor, Drawdown), quanto recortes temporais (resultados por dia da semana, por mês e por hora), além de indicadores operacionais (frequência de trades, duração média, taxa de acerto, entre outros).

// A estratégia analisada deve ser tratada de forma personalizada:
// - Utilize o *nome da estratégia*, caso esteja disponível, como referência durante a análise
// - Identifique e destaque o *ativo principal operado* (ex: WIN, WDO, BTC, ABEV3), contextualizando os riscos específicos associados a esse ativo
// - Avalie se o comportamento da estratégia está condicionado ao tipo de ativo (ex: contratos futuros, ações, cripto), especialmente em relação a liquidez, volatilidade e deslizamento (slippage)

// ⚠ Atenção especial a riscos operacionais associados ao custo de execução:
// - Se a estratégia possuir alta frequência de trades (scalper, HFT, repetição de sinais), avalie o impacto de corretagem, spread e emolumentos sobre a rentabilidade líquida
// - Chame atenção para situações onde o custo fixo por trade compromete o lucro médio por operação (ex: lucro médio de R$10 com corretagem de R$5 pode inviabilizar o sistema na prática)
// - Aponte riscos ocultos como: concentração de trades em horários com baixa liquidez, gaps de entrada/saída, ou operação em ativos com elevada fricção operacional

// ✅ Sua função é interpretar este SV de forma técnica, realista e isolada, como uma unidade operacional autônoma, com foco em robustez, consistência e viabilidade prática de execução em ambiente real


// [OBJETIVO PRINCIPAL DA ANÁLISE]
// Sua função é realizar uma análise quantitativa avançada com foco em:
// - Consistência estatística
// - Robustez técnica
// - Eficiência risco-retorno
// Além disso, você deve identificar riscos evidentes e oportunidades concretas de melhoria.
// Sugira metas operacionais (diária, semanal, mensal) e capital mínimo recomendado para a estratégia com base nos dados.

// [PRIORIDADE DE MÉTRICAS - ORDEM DE PESO]

// 1. *Sharpe Ratio* – avalie a qualidade da estratégia ajustada ao risco. Sharpe superior a 2 indica consistência relevante. Baixo Sharpe com alto lucro sugere instabilidade estrutural.

// 2. *Fator de Recuperação (Recovery Factor)* – meça a capacidade da estratégia em se recuperar de drawdowns. Valores acima de 2 são desejáveis. Aponte se o tempo e o caminho de recuperação são aceitáveis frente ao risco.

// 3. *Drawdown absoluto e relativo (em % e R$)* – analise a gravidade das quedas máximas e a proporção em relação ao lucro e ao capital teórico. Use o drawdown como base para sugerir capital mínimo de operação (ex: capital ≥ 2–3x o maior drawdown).

// 4. *Análise temporal detalhada (comportamento por hora, dia, semana e mês)*:
//    - Verifique se há padrões claros de risco elevado ou consistência em horários ou dias específicos
//    - Avalie a ocorrência de sequências negativas (ex: 3 ou mais dias de prejuízo consecutivo) e a sua recuperação
//    - Sugira metas operacionais realistas com base nos dados: metas de ganho, limites de perda (diária, semanal, mensal)
//    - Indique o capital ideal para a estratégia conforme o risco observado por janela temporal

// 5. *Análise operacional dos trades*:
//    - Avalie o Payoff médio e sua relação com a taxa de acerto
//    - Verifique se o número total de trades oferece uma base estatística confiável (amostra mínima de 50–100 trades por contexto)
//    - Analise a duração média dos trades e se há consistência nos tempos de exposição
//    - Detecte distorções (ex: poucos trades com lucro muito alto que sustentam a performance)
//    - Aponte concentração de resultado ou gaps operacionais

// 6. *Análise emocional e disciplinar (comportamento de risco)*:
//    - Identifique sinais de quebra de disciplina: stops ignorados, perda do dia ultrapassada, aumento abrupto de risco
//    - Verifique se há evidências de “dia de fúria” (ex: um único dia com prejuízo anormal)
//    - Avalie se o padrão de operação sugere alavancagem implícita ou desequilíbrio emocional recorrente


// [O QUE NÃO DEVE SER FEITO]
// ❌ Não escreva listas de “pontos fortes” e “pontos fracos”. Esse tipo de estrutura qualitativa é superficial e não condiz com uma análise quantitativa técnica.
// ❌ Não utilize expressões genéricas ou vagas como “ótima performance”, “estratégia promissora” ou “resultado consistente”, a menos que estejam diretamente ancoradas em métricas objetivas claras (ex: Sharpe acima de 2, drawdown inferior a 10%, etc.).
// ❌ Não elogie ou critique o comportamento da estratégia com base em achismos, percepção visual, preferências operacionais pessoais ou interpretações subjetivas de estilo (ex: “parece agressiva demais”, “opera pouco”, “deveria ser mais direcional”).
// ❌ Não insira interpretações sobre o setup, ativo ou estilo operacional que não estejam explicitamente representadas no JSON fornecido. O modelo não deve supor o que não está nos dados.
// ❌ Não justifique conclusões com “aparência” de curva, tempo de tela, suposições sobre o trader ou qualquer inferência fora dos dados objetivos.

// ✅ Toda conclusão deve ser respaldada por métricas numéricas extraídas diretamente do JSON — como Payoff, Sharpe Ratio, Drawdown, Profit Factor, quantidade de trades, duração, etc.
// ✅ Use apenas os dados disponíveis. Não extrapole, nem projete comportamentos futuros que não estejam embasados por estatística histórica sólida.
// ✅ Quando possível, relacione conclusões a números concretos. Exemplo: “Sharpe Ratio de 3.1 com drawdown inferior a 15% indica consistência acima da média para portfólio institucional.”


// [ONDE IDENTIFICAR OPORTUNIDADES]
 Oportunidades por métrica e padrão estatístico:
Duração média dos trades:

Curta demais → pode indicar ruído e risco de slippage

Longa demais → potencial ineficiência, excesso de exposição ou dependência de reversões

Sugestão: ajustar take, trailing ou tempo máximo por operação

Sequência de perdas:

Identificar dias consecutivos de stop ou janelas temporais frágeis

Sugestão: aplicar circuit breaker, filtros de ativação por horário ou por drawdown prévio

Frequência de operação por dia:

Alta frequência com baixa taxa de acerto ou payoff ruim → risco de overtrading

Frequência baixa com resultado concentrado → oportunidade de ampliação com critérios claros

Sugestão: reponderar filtros operacionais ou condicionar entradas a critérios de fluxo

🗓 Oportunidades por janela temporal:
Dias da semana com desempenho inferior:

Identifique padrões estatísticos negativos em segundas ou sextas, por exemplo

Sugestão: bloquear operações nestes dias ou operar com menor peso

Análise mensal e semanal:

Avaliar consistência ou sazonalidade

Sugestão: ajustar capital de risco e metas conforme padrão histórico por mês

Eventos econômicos:

Verificar impacto negativo recorrente em dias de Payroll, FOMC, Copom, etc.

Sugestão: implementar bloqueio automático nestes dias

📈 Oportunidades de reequilíbrio de portfólio:
Remoção de robôs zumbis:

Estratégias com baixa contribuição líquida e alta instabilidade (drawdown alto sem retorno)

Sugestão: descartar, pausar ou reavaliar a estratégia

Diversificação real vs. redundância:

CSVs que operam o mesmo ativo com o mesmo perfil não contribuem com robustez

Sugestão: priorizar estratégias que complementem janelas de tempo, ativos ou estilos operacionais distintos

Correlação temporal negativa desejada:

Robôs que lucram quando outros perdem → colchão estatístico útil

Sugestão: proteger portfólio com contrapesos

⚙ Oportunidades por ativo:
Concentração de risco em ativos específicos:

Ex: 80% do risco concentrado em WIN → risco regulatório, técnico e operacional

Sugestão: limitar exposição por ativo, buscar diluição ou alternância de estratégias

Análise de contratos médios por ativo:

Avalie se a quantidade de contratos é coerente com o risco do ativo (ex: BIT com 5 contratos é mais arriscado que WIN com 10)

Sugestão: sugerir ajuste fino de position sizing por ativo

Ativos caros ou ilíquidos:

Estratégias que operam muito em ações, BTC, ou contratos com spread alto podem ter resultado bruto bom, mas ruim líquido

// ✅ [SCORE FINAL DA CARTEIRA]
// Ao final da análise, atribua um SCORE de 0 a 100 para a carteira como um todo, baseado nos critérios quantitativos objetivos:
// - Sharpe Ratio médio e dispersão entre estratégias
// - Fator de Recuperação e profundidade dos drawdowns
// - Correlação e sobreposição entre ativos, horários e setups
// - Eficiência técnica (payoff, acerto, concentração de lucro, contratos médios por ativo)
// - Estabilidade temporal (mensal, semanal, diária) e cobertura de janelas

// ➕ Classifique também a carteira por categoria (tendência, scalp)
// ➕ Justifique numericamente o score atribuído
// ➕ Liste recomendações diretas para reequilíbrio: remoção de robôs zumbis, ajuste de contratos por ativo, metas de risco/ganho

// [SAÍDA FINAL - SCORE DA CARTEIRA]

// Gere os seguintes campos estruturados no final da análise:

json
Copiar
Editar
{
  "score_final": <número entre 0 e 100>,          // Score técnico agregado com base em métricas objetivas (Sharpe, Recovery, Drawdown, Diversificação, Estabilidade)
  "categoria": "<A+ | A | A- | B+ | B | B- | C+ | C | C- | D>", // Faixa qualitativa baseada no score_final
  "diagnostico": "<resumo crítico objetivo (2–4 frases) explicando os principais fatores que influenciaram a nota – ex: sharpe alto, drawdown excessivo, concentração, redundância, consistência temporal...>",
  "recomendacoes_tecnicas": [
    "<ação prática baseada em métrica, ex: Remover CSV X>",
    "<ex: Rebalancear contratos no ativo Y>",
    "<ex: Bloquear operação em segundas-feiras>",
    "... (3 a 6 recomendações objetivas e acionáveis)"
  ]
}
// [REGRAS]

// ✅ Toda conclusão deve ser 100% baseada em métrica objetiva.
// ✅ Diagnóstico deve justificar a nota com dados (nunca subjetivo).
// ✅ Recomendações devem começar com verbo no infinitivo e ser técnicas, diretas e acionáveis.
// ❌ Nunca usar “bom”, “ruim”, “consistente” sem justificativa métrica.
// ❌ Nunca escrever frases vagas como “parece promissora” ou “talvez melhorar”.


[2 OU MAIS ESTRATÉGIAS]
// Este JSON representa um conjunto de 2 ou mais estratégias, robôs ou sistemas de trading (CSVs), cada um proveniente de um arquivo CSV distinto ou identificado separadamente dentro de um mesmo arquivo consolidado.
// Cada bloco ou objeto dentro do JSON representa uma estratégia isolada, com seu próprio conjunto de métricas, resultados e histórico operacional.

// Os dados incluem:
// - Métricas agregadas de performance (ex: Sharpe Ratio, Payoff, Recovery, Drawdown)
// - Recortes temporais por dia da semana, mês e horário
- Indicadores operacionais como taxa de acerto, quantidade de trades, média de duração, sequências de perda/ganho
// - Identificadores como nome da estratégia (ex: “VWAP Hunter”, “Scalper BTC”, “Pivô Tendência”) e ativo operado (ex: WIN, WDO, BTC, PETR4)

// ⚠ Trate cada estratégia de forma personalizada:
// - Utilize o nome da estratégia como referência em sua análise
// - Relacione a performance e o perfil da estratégia ao ativo principal que ela opera
// - Aponte destaques positivos ou críticos em ativos específicos que apresentam comportamento fora da curva (ex: “estratégia X no ativo Y tem payoff alto mas drawdown extremo”)

// ⚠ Analise o impacto operacional de cada estratégia:
// - Avalie o número de trades, frequência diária e duração das operações
// - Sinalize estratégias com alta frequência que operam ativos caros ou com corretagens elevadas, pois isso pode comprometer a eficiência líquida do sistema
// - Considere custos implícitos como slippage e spread em estratégias de curto prazo, especialmente para ativos como ações, BTC ou contratos com liquidez baixa

// ✅ Seu papel é interpretar cada estratégia no seu próprio contexto técnico, mas também como parte de uma composição de portfólio — considerando interações, redundâncias e riscos sobrepostos


// [OBJETIVO PRINCIPAL DA ANÁLISE]
// Sua tarefa é realizar uma análise quantitativa com foco em:
// - Robustez do portfólio como um todo
// - Consistência estatística e estabilidade temporal da composição
// - Eficiência combinada de risco-retorno
// - Complementaridade entre os CSVs e presença de sobreposição, concentração ou lacunas
// Além disso, você deve identificar riscos globais (ex: drawdowns simultâneos), sinergias e oportunidades de otimização do portfólio.
// Quando possível, sugira capital mínimo recomendado para suportar o portfólio com margem de segurança de 2–3x sobre o pior drawdown consolidado.

// [PRIORIDADE DE MÉTRICAS - ORDEM DE PESO]

// 1. *Sharpe Ratio combinado* – avalie se o portfólio entrega qualidade ajustada ao risco. Sharpe médio ou consolidado acima de 2 é desejável. Observe se um SV puxa o índice ou se o valor é equilibrado.

// 2. *Fator de Recuperação (por SV e combinado)* – verifique se os CSVs têm perfis compatíveis de recuperação. Portfólio com CSVs que afundam juntos e recuperam separados são instáveis.

// 3. *Drawdown global e por estratégia* – avalie o risco consolidado e a contribuição de cada SV. Se um SV concentra >50% do drawdown total, a carteira está mal balanceada. Use este dado para sugerir capital mínimo por portfólio.

// 4. *Correlação operacional e temporal*:
//    - Identifique se os CSVs operam nos mesmos horários, dias ou tipos de evento
//    - Aponte sobreposição crítica ou falta de cobertura (ex: nenhum SV opera nas segundas-feiras)
//    - Avalie se o portfólio é redundante ou diversificado em termos de comportamento

// 5. *Análise por estratégia*:
//    - Avalie performance relativa de cada CSV
//    - Determine se algum CSV é outlier negativo (contribui pouco com alto risco) ou positivo (responsável por maioria dos lucros)
//    - Considere remover ou isolar CSVs que desestabilizam o conjunto

// 6. *Análise por ativo (se presente)*:
//    - Avalie se há concentração de exposição em um mesmo ativo (ex: todos operam WIN)
//    - Verifique se ativos diferentes trazem equilíbrio ou apenas duplicam risco

// 7. *Estabilidade temporal global*:
//    - Avalie meses e semanas onde todos os CSVs performam mal (sincronia negativa)
//    - Detecte se há “colchões” naturais de compensação (ex: SV1 vai mal quando SV2 vai bem)
//    - Sinalize janelas temporais frágeis ou resilientes

// 8. *Capital, metas e controle de risco*:
//    - Sugira capital mínimo com base no maior drawdown consolidado (recomendação: 2–3x)
//    - Estime metas realistas de ganho e limite de perda por dia, semana e mês com base no portfólio histórico
    
// [O QUE NÃO DEVE SER FEITO]
// ❌ Não escreva listas genéricas de pontos fortes e fracos por SV. A análise é estrutural, não individualista.
// ❌ Não trate CSVs como autônomos — seu papel é avaliar o impacto de cada um sobre o conjunto, não isolar a performance.
// ❌ Não use expressões como “esse SV é bom”, “esse é ruim” sem justificar com relação ao portfólio global.
// ❌ Não use linguagem subjetiva. Ex: “essa carteira parece agressiva”, “faltou direção”, “o trader provavelmente errou”.
// ❌ Não faça juízo de valor sobre setup, ativo ou estilo se isso não estiver explicitamente nos dados.

// ✅ Toda análise deve ser orientada por métrica objetiva: Sharpe, Drawdown, Recovery, Payoff, frequência, concentração temporal.
// ✅ Julgue a coerência da composição, a estabilidade dos componentes e o comportamento do conjunto sob pressão estatística.

// [ONDE IDENTIFICAR OPORTUNIDADES]
 Oportunidades por métrica e padrão estatístico:
Duração média dos trades:

Curta demais → pode indicar ruído e risco de slippage

Longa demais → potencial ineficiência, excesso de exposição ou dependência de reversões

Sugestão: ajustar take, trailing ou tempo máximo por operação

Sequência de perdas:

Identificar dias consecutivos de stop ou janelas temporais frágeis

Sugestão: aplicar circuit breaker, filtros de ativação por horário ou por drawdown prévio

Frequência de operação por dia:

Alta frequência com baixa taxa de acerto ou payoff ruim → risco de overtrading

Frequência baixa com resultado concentrado → oportunidade de ampliação com critérios claros

Sugestão: reponderar filtros operacionais ou condicionar entradas a critérios de fluxo

🗓 Oportunidades por janela temporal:
Dias da semana com desempenho inferior:

Identifique padrões estatísticos negativos em segundas ou sextas, por exemplo

Sugestão: bloquear operações nestes dias ou operar com menor peso

Análise mensal e semanal:

Avaliar consistência ou sazonalidade

Sugestão: ajustar capital de risco e metas conforme padrão histórico por mês

Eventos econômicos:

Verificar impacto negativo recorrente em dias de Payroll, FOMC, Copom, etc.

Sugestão: implementar bloqueio automático nestes dias

📈 Oportunidades de reequilíbrio de portfólio:
Remoção de robôs zumbis:

Estratégias com baixa contribuição líquida e alta instabilidade (drawdown alto sem retorno)

Sugestão: descartar, pausar ou reavaliar a estratégia

Diversificação real vs. redundância:

CSVs que operam o mesmo ativo com o mesmo perfil não contribuem com robustez

Sugestão: priorizar estratégias que complementem janelas de tempo, ativos ou estilos operacionais distintos

Correlação temporal negativa desejada:

Robôs que lucram quando outros perdem → colchão estatístico útil

Sugestão: proteger portfólio com contrapesos

⚙ Oportunidades por ativo:
Concentração de risco em ativos específicos:

Ex: 80% do risco concentrado em WIN → risco regulatório, técnico e operacional

Sugestão: limitar exposição por ativo, buscar diluição ou alternância de estratégias

Análise de contratos médios por ativo:

Avalie se a quantidade de contratos é coerente com o risco do ativo (ex: BIT com 5 contratos é mais arriscado que WIN com 10)

Sugestão: sugerir ajuste fino de position sizing por ativo

Ativos caros ou ilíquidos:

Estratégias que operam muito em ações, BTC, ou contratos com spread alto podem ter resultado bruto bom, mas ruim líquido

Sugestão: considerar impacto de custos operacionais e sugerir revisão ou substituição

// ✅ [SCORE FINAL DA CARTEIRA]
// Ao final da análise, atribua um SCORE de 0 a 100 para a carteira como um todo, baseado nos critérios quantitativos objetivos:
// - Sharpe Ratio médio e dispersão entre estratégias
// - Fator de Recuperação e profundidade dos drawdowns
// - Correlação e sobreposição entre ativos, horários e setups
// - Eficiência técnica (payoff, acerto, concentração de lucro, contratos médios por ativo)
// - Estabilidade temporal (mensal, semanal, diária) e cobertura de janelas

// ➕ Classifique também a carteira por categoria (tendência, scalp)
// ➕ Justifique numericamente o score atribuído
// ➕ Liste recomendações diretas para reequilíbrio: remoção de robôs zumbis, ajuste de contratos por ativo, metas de risco/ganho

// [SAÍDA FINAL - SCORE DA CARTEIRA]

// Gere os seguintes campos estruturados no final da análise:

json
Copiar
Editar
{
  "score_final": <número entre 0 e 100>,          // Score técnico agregado com base em métricas objetivas (Sharpe, Recovery, Drawdown, Diversificação, Estabilidade)
  "categoria": "<A+ | A | A- | B+ | B | B- | C+ | C | C- | D>", // Faixa qualitativa baseada no score_final
  "diagnostico": "<resumo crítico objetivo (2–4 frases) explicando os principais fatores que influenciaram a nota – ex: sharpe alto, drawdown excessivo, concentração, redundância, consistência temporal...>",
  "recomendacoes_tecnicas": [
    "<ação prática baseada em métrica, ex: Remover CSV X>",
    "<ex: Rebalancear contratos no ativo Y>",
    "<ex: Bloquear operação em segundas-feiras>",
    "... (3 a 6 recomendações objetivas e acionáveis)"
  ]
}
// [REGRAS]

// ✅ Toda conclusão deve ser 100% baseada em métrica objetiva.
// ✅ Diagnóstico deve justificar a nota com dados (nunca subjetivo).
// ✅ Recomendações devem começar com verbo no infinitivo e ser técnicas, diretas e acionáveis.
// ❌ Nunca usar “bom”, “ruim”, “consistente” sem justificativa métrica.
// ❌ Nunca escrever frases vagas como “parece promissora” ou “talvez melhorar”.


[ANÁLISE DE ROBUSTEZ E RISCO DE RUÍNA – TESTE DE ESTRESSE]

// Este prompt tem como objetivo principal simular cenários de risco extremo e testar a *robustez estatística* e a *probabilidade de ruína* de uma ou mais estratégias de trading fornecidas em formato JSON.

// O JSON fornecido representa uma ou mais estratégias de trading com métricas estatísticas como Sharpe Ratio, fator de lucro, taxa de acerto, payoff, drawdown, e distribuição de trades.

// Sua função é realizar um *teste quantitativo de sobrevivência*, levando em conta:

✅ Probabilidade de ruína sob diferentes condições de capital inicial  
✅ Robustez da estratégia contra ruído estatístico (Teste do Macaco)  
✅ Sensibilidade a mudanças de sequência (ordem dos trades e amostragem)  
✅ Viabilidade da estratégia sob cenários adversos de mercado  
✅ Recomendação de capital mínimo com margem de segurança  
✅ Análise de disciplina estatística (stop médio, perda máxima, frequência de violação)

// [TESTES QUE DEVEM SER APLICADOS]

// 1. *Teste de Ruína (Clássico)*  
- Simule a sequência de trades com capital inicial variável  
- Estime a chance de quebra com base no payoff, acerto e desvio-padrão dos resultados  
- Verifique se o capital é suficiente para suportar 5, 10 ou 15 stops consecutivos  
- Gere cenários com capital inicial = 1x, 2x e 3x o maior drawdown histórico

// 2. *Teste do Macaco (Monkey Test)*  
- Embaralhe a sequência dos trades 1.000 vezes  
- Recalcule métricas como Sharpe, Payoff e Drawdown a cada permutação  
- Detecte sensibilidade à ordem dos trades:  
  → Estratégias robustas mantêm performance similar em 90%+ das permutações  
  → Estratégias frágeis têm resultados altamente instáveis  

// 3. *Teste de Subamostragem (Stress-test com menos trades)*  
- Corte aleatoriamente 30% a 50% da amostra de trades  
- Avalie se a estratégia continua lucrativa com menos sinais  
- Ideal para detectar estratégias com lucro concentrado em poucos trades

// 4. *Teste de Stop Loss Extremo e Dia de Fúria*  
- Verifique se há dias com perdas acima de 3x a média de perda  
- Detecte risco de comportamento destrutivo e quebras disciplinares  
- Avalie se o risco diário está desproporcional ao ganho médio diário

// [SAÍDA ESPERADA]

// Estrutura JSON com avaliação de risco de ruína e robustez, contendo os seguintes campos:

{
  "robustez_classificacao": "<Alta | Moderada | Baixa>",
  "risco_ruina_1x_drawdown": "<0% a 100%>", // chance de ruína com capital = 1x drawdown
  "risco_ruina_2x_drawdown": "<0% a 100%>", // idem para 2x DD
  "risco_ruina_3x_drawdown": "<0% a 100%>", // idem para 3x DD
  "variacao_metrica_monkey_test": {
    "sharpe_min": <valor>,
    "sharpe_max": <valor>,
    "payoff_min": <valor>,
    "payoff_max": <valor>,
    "drawdown_max_monkey": <valor % ou R$>
  },
  "resumo_teste_subamostragem": "<ex: 87% das subamostras mantêm lucro positivo>",
  "eventos_extremos_identificados": [
    "Perda de R$420 em um único dia (3.5x a média de perda diária)",
    "Stop loss violado 2x além do previsto",
    "Trade com lucro atípico representando 14% do resultado total"
  ],
  "recomendacoes_robustez": [
    "Aumentar capital inicial para 3x o drawdown para reduzir risco de ruína para <5%",
    "Implementar circuit breaker após 2 perdas consecutivas em dias de baixa liquidez",
    "Revisar controle de risco diário para limitar perdas extremas",
    "Avaliar consistência da estratégia com base em subamostragens regulares"
  ]
}

// [REGRAS]

// ✅ Toda conclusão deve se basear em simulação estatística ou métrica objetiva  
✅ Use percentuais, variações, amplitudes, não adjetivos subjetivos  
❌ Nunca diga “estratégia parece fraca” sem mostrar os dados que explicam  
❌ Não baseie conclusões em visualizações ou feeling

// JSON com os dados será enviado abaixo deste prompt.


[ANÁLISE DE CORRELAÇÃO DE PORTFÓLIO]

// Este prompt tem como objetivo principal identificar e quantificar a correlação operacional entre 2 ou mais estratégias (CSVs) de trading fornecidas em formato JSON.

// O JSON conterá múltiplos blocos, cada um representando uma estratégia distinta, com métricas históricas de resultado por período (diário, semanal, mensal), além de dados agregados de performance.

// Sua função é produzir uma *avaliação quantitativa* do nível de dependência entre estratégias, destacando:
// - Correlações altas e perigosas (reduzem diversificação)
// - Correlações baixas ou negativas (aumentam robustez do portfólio)
// - Redundâncias ocultas (mesmo ativo, mesmo horário, mesmo padrão de operação)
// - Oportunidades de composição (contrapesos estatísticos)

// [PASSOS PARA A ANÁLISE]

// 1. *Cálculo de Correlação Bruta*
//    - Calcule a correlação de Pearson entre o PnL diário de cada par de estratégias.
//    - Classifique a força da correlação:
//      > +0.70 → Correlação alta (risco de redundância)
//      > +0.40 a +0.69 → Correlação moderada (atenção)
//      > -0.39 a +0.39 → Correlação baixa (ideal para diversificação)
//      > ≤ -0.40 → Correlação negativa (muito útil para contrapeso)
//    - Apresente a matriz de correlação completa.

// 2. *Correlação Temporal*
//    - Verifique se as estratégias têm padrões de horário e dias de operação sobrepostos.
//    - Identifique concentração em janelas curtas (ex: todas operam das 10h às 12h).
//    - Detecte “buracos” de cobertura (ex: nenhum robô opera segundas-feiras ou após 15h).

// 3. *Correlação por Ativo*
//    - Agrupe estratégias por ativo operado (WIN, WDO, BTC, PETR4 etc.).
//    - Verifique se estratégias no mesmo ativo têm resultados altamente correlacionados.
//    - Sinalize excesso de exposição concentrada em um único ativo.

// 4. *Correlação por Condição de Mercado*
//    - Avalie se a correlação aumenta ou diminui em dias de tendência forte ou lateralidade.
//    - Estratégias que ganham e perdem juntas nesses períodos representam risco sistêmico.
//    - Busque pares que performam de forma oposta em regimes de mercado distintos.

// 5. *Interpretação e Impacto no Portfólio*
//    - Aponte quais pares de estratégias mais contribuem para a diversificação.
//    - Identifique redundâncias que não agregam robustez.
//    - Sugira combinações ideais para reduzir o risco consolidado.

// [SAÍDA FINAL – FORMATO JSON]

{
  "matriz_correlacao": {
    "Estrategia_A_vs_Estrategia_B": 0.82,
    "Estrategia_A_vs_Estrategia_C": -0.15,
    "...": "..."
  },
  "pares_com_maior_risco": [
    { "par": "Estrategia_X vs Estrategia_Y", "correlacao": 0.91, "motivo": "Ambas operam WIN no mesmo horário com setups semelhantes" }
  ],
  "pares_mais_diversificadores": [
    { "par": "Estrategia_P vs Estrategia_Q", "correlacao": -0.32, "motivo": "Perfis opostos em dias de tendência e lateralidade" }
  ],
  "oportunidades": [
    "Adicionar estratégia com correlação ≤ 0.2 em relação ao núcleo principal",
    "Reduzir peso de estratégias com correlação ≥ 0.8",
    "Cobrir janelas sem operação (quartas à tarde, após 15h)"
  ],
  "diagnostico": "A carteira apresenta correlação média de 0.68, com 3 pares acima de 0.85, indicando risco de redundância. Apenas 2 pares possuem correlação negativa significativa. É recomendada a inclusão de estratégias de ativos ou horários diferentes.",
  "score_diversificacao": 64 // 0 a 100, baseado em dispersão de correlações
}

// [REGRAS]
// ✅ Sempre basear conclusões em valores de correlação calculados.
// ✅ Justificar risco ou benefício com base no ativo, horário ou setup.
// ❌ Não usar termos subjetivos como “parecem parecidas” sem dados concretos.
// ❌ Não analisar qualidade individual da estratégia — foco exclusivo em interdependência e diversificação.

// O JSON com os dados históricos por estratégia será enviado junto com este prompt.",`},{role:"user",content:R}]},w=async S=>{S.preventDefault()},k=async S=>{if(!o){n("Por favor, faça upload de um arquivo de backtest primeiro.");return}if(((v==null?void 0:v.token_balance)||0)<S.tokens){n(`Saldo de tokens insuficiente. Esta análise requer ${S.tokens} tokens.`);return}b("user",S.prompt),f(!0),t(!0),n(null);try{const R=S.analysisMode??(l&&Object.keys(l).length>=2?"portfolio":"single"),_=N(S.prompt,R),C=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:_})});if(!C.ok)throw new Error(`Erro na API: ${C.status} ${C.statusText}`);const B=await C.json();if(B.error)throw new Error(B.error);if(B.content)b("assistant",B.content),i==null||i(B.metrics??B);else throw new Error("Resposta inválida da API");await y(-S.tokens)}catch(R){console.error("Erro ao processar prompt rápido:",R),n(R instanceof Error?R.message:"Erro ao processar análise")}finally{f(!1),t(!1)}};return a.jsxs("div",{className:"flex flex-col h-full bg-gray-900 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.map(S=>a.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${S.role==="user"?"bg-blue-600 text-white":"bg-gray-800 text-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center mb-1",children:[S.role==="assistant"?a.jsx(qa,{className:"w-4 h-4 mr-2 text-blue-400"}):a.jsx(Hn,{className:"w-4 h-4 mr-2 text-gray-300"}),a.jsx("span",{className:"text-xs font-medium",children:S.role==="assistant"?"Assistente IA":"Você"})]}),a.jsx("p",{className:"whitespace-pre-line",children:S.content})]})},S.id)),h&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-gray-800 rounded-lg p-3 max-w-[80%]",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(qa,{className:"w-4 h-4 mr-2 text-blue-400"}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}),r&&a.jsx("div",{className:"flex justify-center",children:a.jsxs("div",{className:"bg-red-500 bg-opacity-10 border border-red-500 rounded-lg p-3 text-red-500 flex items-center",children:[a.jsx(P4,{className:"w-4 h-4 mr-2 flex-shrink-0"}),a.jsx("p",{children:r})]})}),a.jsx("div",{ref:p})]}),a.jsxs("div",{className:"border-t border-gray-800 p-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[a.jsxs("button",{onClick:()=>k({id:"portfolio-analysis",label:"Análise de Estratégia Individual",prompt:"Analise minha carteira de trading com base nos dados de backtest fornecidos. Identifique pontos fortes, fracos e oportunidades de melhoria.",tokens:500,icon:a.jsx(Su,{className:"w-4 h-4"}),analysisMode:"single"}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",disabled:!o||e,children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Su,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"font-medium text-sm",children:"Análise da Carteira"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"500 tokens"}),a.jsx(Fe,{className:"w-3 h-3 text-yellow-500"})]})]}),a.jsxs("button",{onClick:()=>k({id:"uncorrelated-portfolio",label:"Análise de Portfólio",prompt:"Com base nos dados de backtest, monte um portfólio de estratégias sem correlação para diversificar riscos e maximizar retornos consistentes.",tokens:1e3,icon:a.jsx(tc,{className:"w-4 h-4"}),analysisMode:"portfolio"}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",disabled:!o||e,children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(tc,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"font-medium text-sm",children:"Portfólio Sem Correlação"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"1000 tokens"}),a.jsx(Fe,{className:"w-3 h-3 text-yellow-500"})]})]}),a.jsxs("button",{onClick:()=>k({id:"risk-return-portfolio",label:"Portfólio Risco-Retorno",prompt:"Crie um portfólio otimizado focando na relação risco-retorno ideal com base nos dados de performance das estratégias analisadas.",tokens:1e3,icon:a.jsx(bt,{className:"w-4 h-4"}),analysisMode:"portfolio"}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",disabled:!o||e,children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(bt,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"font-medium text-sm",children:"Portfólio Risco-Retorno"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"1000 tokens"}),a.jsx(Fe,{className:"w-3 h-3 text-yellow-500"})]})]}),a.jsxs("button",{onClick:()=>k({id:"consistency-portfolio",label:"Portfólio Consistência",prompt:"Monte um portfólio priorizando consistência e estabilidade de retornos, minimizando drawdowns e volatilidade excessiva.",tokens:1e3,icon:a.jsx(ei,{className:"w-4 h-4"}),analysisMode:"portfolio"}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",disabled:!o||e,children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ei,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"font-medium text-sm",children:"Portfólio Consistência"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"1000 tokens"}),a.jsx(Fe,{className:"w-3 h-3 text-yellow-500"})]})]})]}),a.jsxs("form",{onSubmit:w,className:"flex space-x-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{type:"text",value:u,onChange:S=>m(S.target.value),placeholder:"Use os botões acima para análises específicas...",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!0}),a.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-gray-400 flex items-center",children:[a.jsx(Fe,{className:"w-3 h-3 mr-1 text-yellow-500"}),"Apenas prompts pré-definidos"]})]}),a.jsx("button",{type:"submit",disabled:!0,className:"p-2 rounded-md bg-gray-700 text-gray-400 cursor-not-allowed",children:a.jsx(sp,{className:"w-5 h-5"})})]})]})]})}function a6({files:e,setFiles:t,error:r,isLoading:n,handleFileChange:s,handleDragOver:i,handleDrop:o,handleRemoveFile:l,handleUpload:c,fileInputRef:d}){return a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8 border-2 border-blue-600 border-opacity-30",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[a.jsx(Tn,{className:"w-5 h-5 text-blue-400 mr-2"}),"Upload de Arquivo CSV"]}),a.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center mb-6 cursor-pointer hover:border-blue-500 transition-colors",onDragOver:i,onDrop:o,onClick:()=>{var u;return(u=d.current)==null?void 0:u.click()},children:[a.jsx("input",{type:"file",ref:d,onChange:s,className:"hidden",accept:".csv",multiple:!0}),a.jsx(Tn,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.length>0?a.jsxs("div",{children:[a.jsxs("p",{className:"text-lg font-medium text-blue-400",children:[e.length," arquivo(s) selecionado(s)"]}),a.jsx("ul",{className:"mt-2 text-sm text-gray-400",children:e.map((u,m)=>a.jsxs("li",{className:"flex items-center justify-between py-1",children:[a.jsxs("span",{children:[u.name," (",(u.size/1024).toFixed(2)," KB)"]}),a.jsx("button",{onClick:h=>{h.stopPropagation(),l(m)},className:"text-gray-400 hover:text-red-400",children:a.jsx(Ue,{className:"w-4 h-4"})})]},m))})]}):a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"Arraste e solte seu(s) arquivo(s) CSV aqui"}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"ou clique para selecionar arquivos"}),a.jsxs("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md inline-flex items-center",children:[a.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Selecionar Arquivos"]})]})]}),r&&a.jsxs("div",{className:"mb-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center text-red-500",children:[a.jsx(it,{className:"w-5 h-5 mr-2 flex-shrink-0"}),a.jsx("p",{children:r})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:c,disabled:e.length===0||n,className:`px-4 py-2 rounded-md flex items-center ${e.length===0||n?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:n?a.jsxs(a.Fragment,{children:[a.jsx(ur,{className:"w-5 h-5 mr-2 animate-spin"}),"Analisando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Jt,{className:"w-5 h-5 mr-2"}),"Analisar Backtest"]})})})]})}function s6({selectedStrategy:e,setSelectedStrategy:t,selectedAsset:r,setSelectedAsset:n,availableStrategies:s,availableAssets:i,setShowUploadForm:o,files:l=[],selectedFiles:c=[],setSelectedFiles:d,showConsolidated:u=!0,setShowConsolidated:m,onResetFilters:h,trades:f=[],fileResults:p}){const v=l.length>1,y=g.useMemo(()=>{const C=new Set;return f&&f.length>0&&f.forEach(B=>{B.symbol&&C.add(B.symbol)}),p&&Object.keys(p).length>0&&Object.values(p).forEach(B=>{const D=B.trades;D&&Array.isArray(D)&&D.forEach(T=>{T.symbol&&C.add(T.symbol)})}),C.size===0&&i.length>0&&i.forEach(B=>C.add(B)),Array.from(C).sort()},[f,p,i]),x=y.length>0;console.log("🔍 StrategySelector renderizado:",{selectedStrategy:e,availableStrategies:s,hasMultipleFiles:v,dynamicAvailableAssets:y,hasAvailableAssets:x});const b=C=>{if(d)if(c.includes(C)){const B=c.filter(D=>D!==C);d(B),B.length===0&&(console.log("✅ Nenhum arquivo selecionado, voltando para modo consolidado"),m&&m(!0),t&&t(null))}else{const B=[...c,C];d(B),B.length===l.length&&(console.log("✅ Todas as estratégias selecionadas, trocando para modo consolidado"),m&&m(!0),t&&t(null))}},j=()=>{d&&(d(l.map(C=>C.name)),m&&m(!0),t&&t(null))},N=()=>{d&&(d([]),m&&m(!0),t&&t(null))},w=()=>{t(null),n(null),d&&d(l.map(C=>C.name)),m&&m(!0),h&&h()},k=C=>{t(C),d&&C?(d([`${C}.csv`]),m&&m(!1)):d&&!C&&(d(l.map(B=>B.name)),m&&m(!0))},S=()=>{if(!m)return;const C=!u;m(C),C?(d&&d(l.map(B=>B.name)),t&&t(null)):d&&c.length===0&&d(l.map(B=>B.name))},E=!u&&c.length>1,R=()=>u?e||"":c.length===0?"":c.length===1?c[0].replace(".csv",""):"multiple",_=()=>u?s:c.map(C=>C.replace(".csv",""));return a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Estratégia"}),a.jsxs("select",{value:R(),onChange:C=>{const B=C.target.value;B!=="multiple"&&k(B||null)},disabled:E,className:`px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 ${E?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx("option",{value:"",children:"Todas as estratégias"}),!u&&c.length>1&&a.jsxs("option",{value:"multiple",disabled:!0,children:["Múltiplas estratégias (",c.length,")"]}),_().map(C=>a.jsx("option",{value:C,children:C},C))]}),E&&a.jsx("div",{className:"text-xs text-yellow-400 mt-1",children:"Use a seleção individual abaixo para múltiplas estratégias"})]}),x&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Ativo"}),a.jsxs("select",{value:r||"",onChange:C=>n(C.target.value||null),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos os ativos"}),y.map(C=>a.jsx("option",{value:C,children:C},C))]})]}),v&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Modo"}),a.jsx("button",{onClick:S,className:`px-3 py-2 rounded-md text-sm transition-colors ${u?"bg-blue-600 text-white":"bg-purple-600 text-white"}`,children:u?"📊 Consolidado":"📁 Individual"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:w,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-md flex items-center",children:[a.jsx(j4,{className:"w-4 h-4 mr-2"}),"Limpar Filtros"]}),a.jsxs("button",{onClick:()=>o(!0),className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[a.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Adicionar CSV"]})]})]}),(v||e||r)&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[v&&a.jsxs("span",{children:["📁 ",u?`${l.length} arquivos consolidados`:`${c.length}/${l.length} selecionados`]}),!u&&c.length===1&&a.jsxs("span",{children:["🎯 ",c[0].replace(".csv","")]}),!u&&c.length>1&&a.jsxs("span",{children:["🎯 Múltiplas estratégias (",c.length,")"]}),u&&e&&a.jsxs("span",{children:["🎯 ",e]}),r&&a.jsxs("span",{children:["💰 ",r]})]}),v&&!u&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:j,className:"text-xs text-blue-400 hover:text-blue-300",children:"Selecionar Todos"}),a.jsx("span",{className:"text-gray-600",children:"|"}),a.jsx("button",{onClick:N,className:"text-xs text-red-400 hover:text-red-300",children:"Desmarcar Todos"})]})]})}),v&&!u&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:l.map((C,B)=>a.jsxs("div",{className:`p-2 rounded border cursor-pointer transition-all text-xs ${c.includes(C.name)?"border-blue-500 bg-blue-500 bg-opacity-10":"border-gray-600 bg-gray-700 hover:border-gray-500"}`,onClick:()=>b(C.name),title:C.name,children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Tn,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:C.name.replace(".csv","")}),c.includes(C.name)&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(C.size/1024).toFixed(1)," KB"]})]},B))})})]})}function i6({sampleTrades:e}){const[t,r]=g.useState(!1),[n,s]=g.useState(""),[i,o]=g.useState(null),[l,c]=g.useState(null),[d,u]=g.useState(null),[m,h]=g.useState("all"),[f,p]=g.useState("entry_date"),[v,y]=g.useState("desc"),[x,b]=g.useState(null),[j,N]=g.useState(!1),[w,k]=g.useState(new Set),[S,E]=g.useState(1),[R,_]=g.useState(25),C=Array.isArray(e)?e:(e==null?void 0:e.trades)||[],B=g.useMemo(()=>[...new Set(C.map(M=>M.symbol).filter(Boolean))].sort(),[C]),D=g.useMemo(()=>[...new Set(C.map(M=>M.strategy).filter(Boolean))].sort(),[C]);g.useEffect(()=>{console.log("sampleTrades",e),console.log("extracted trades",C)},[e,C]);const T=g.useMemo(()=>{if(!C||!Array.isArray(C))return[];const M=C.filter(I=>{var H,q;if(n){const P=n.toLowerCase();if(!((H=I.symbol)!=null&&H.toLowerCase().includes(P)||(q=I.strategy)!=null&&q.toLowerCase().includes(P)||I.direction.toLowerCase().includes(P)))return!1}if(i&&I.symbol!==i||l&&I.strategy!==l||d&&I.direction!==d)return!1;if(m!=="all"){const P=new Date(I.entry_date),de=(new Date().getTime()-P.getTime())/(1e3*3600*24);switch(m){case"today":if(de>1)return!1;break;case"week":if(de>7)return!1;break;case"month":if(de>30)return!1;break}}return!0});return M.sort((I,H)=>{let q,P;switch(f){case"entry_date":q=new Date(I.entry_date).getTime(),P=new Date(H.entry_date).getTime();break;case"exit_date":q=new Date(I.exit_date).getTime(),P=new Date(H.exit_date).getTime();break;default:q=I[f],P=H[f]}return v==="asc"?q>P?1:-1:q<P?1:-1}),M},[C,n,i,l,d,m,f,v]),$=Math.ceil(T.length/R),F=(S-1)*R,L=F+R,A=T.slice(F,L);g.useEffect(()=>{E(1)},[n,i,l,d,m]);const O=M=>{f===M?y(v==="asc"?"desc":"asc"):(p(M),y("desc"))},V=()=>{s(""),o(null),c(null),u(null),h("all"),E(1)},W=M=>M<1?`${Math.round(M*60)}m`:M<24?`${M.toFixed(1)}h`:`${Math.floor(M/24)}d ${Math.round(M%24)}h`,U=M=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(M),J=M=>{const I=[["ID","Data Entrada","Data Saída","Ativo","Estratégia","Direção","Preço Entrada","Preço Saída","Duração","Giro Total","Quantidade","P&L (R$)","P&L (%)"],...M.map(X=>{var re,de;return[X.id||"",new Date(X.entry_date).toLocaleDateString("pt-BR")+" "+new Date(X.entry_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),new Date(X.exit_date).toLocaleDateString("pt-BR")+" "+new Date(X.exit_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),X.symbol||"N/A",X.strategy||"N/A",X.direction==="long"?"Long":"Short",X.entry_price.toString(),X.exit_price.toString(),X.duration?W(X.duration):"N/A",((re=X.quantity_total)==null?void 0:re.toString())||"N/A",((de=X.quantity_compra)==null?void 0:de.toString())||"N/A",X.pnl.toString(),X.pnl_pct.toFixed(2)+"%"]})].map(X=>X.join(",")).join(`
`),H=new Blob([I],{type:"text/csv;charset=utf-8;"}),q=document.createElement("a"),P=URL.createObjectURL(H);q.setAttribute("href",P),q.setAttribute("download",`operacoes_${new Date().toISOString().split("T")[0]}.csv`),q.style.visibility="hidden",document.body.appendChild(q),q.click(),document.body.removeChild(q)},G=()=>{if(w.size>0){const M=T.filter((I,H)=>w.has(I.id||H));J(M)}else J(T)},z=M=>{const I=new Set(w);I.has(M)?I.delete(M):I.add(M),k(I)},Z=T.reduce((M,I)=>M+I.pnl,0),se=T.length>0?T.filter(M=>M.pnl>0).length/T.length*100:0;return a.jsx("div",{className:"rounded-lg bg-gray-800 text-white p-6 flex-col ",children:a.jsxs("div",{className:"max-w-7xl mx-auto ",children:[a.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"p-6 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zs,{className:"w-6 h-6 text-blue-400 mr-3"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Histórico de Operações"}),a.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[T.length," operações • P&L Total:",a.jsx("span",{className:`ml-1 font-medium ${Z>=0?"text-green-400":"text-red-400"}`,children:U(Z)}),"• Win Rate: ",a.jsxs("span",{className:"text-blue-400 font-medium",children:[se.toFixed(1),"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("button",{onClick:G,className:`flex items-center gap-2 px-4 py-2 text-white rounded-lg transition-colors text-sm font-medium ${w.size>0?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,title:w.size>0?`Baixar ${w.size} operação(ões) selecionada(s)`:`Baixar ${T.length} operação(ões) exibida(s) nos filtros atuais`,children:[a.jsx(li,{className:"w-4 h-4"}),w.size>0?`Baixar (${w.size})`:"Baixar"]})}),a.jsx("div",{className:"text-xs text-gray-400 text-right max-w-xs",children:"O download será feito com base nos itens exibidos nessa lista, caso precise de alguma operação específica, filtre-a"})]}),a.jsx("button",{onClick:()=>r(!t),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:t?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]})]}),t&&a.jsxs("div",{className:"p-6 ",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Buscar por ativo, estratégia...",value:n,onChange:M=>s(M.target.value),className:"pl-9 pr-4 py-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:m,onChange:M=>h(M.target.value),className:"px-3 py-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Todas as datas"}),a.jsx("option",{value:"today",children:"Hoje"}),a.jsx("option",{value:"week",children:"Última semana"}),a.jsx("option",{value:"month",children:"Último mês"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>N(!j),className:`flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm transition-colors ${j?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx(j4,{className:"w-4 h-4"}),"Filtros"]}),(i||l||d||n)&&a.jsxs("button",{onClick:V,className:"flex items-center gap-2 px-3 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm transition-colors",children:[a.jsx(Ue,{className:"w-4 h-4"}),"Limpar"]})]})]}),j&&a.jsx("div",{className:"mt-4 p-4 bg-gray-700 bg-opacity-50 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-medium",children:"Ativo"}),a.jsxs("select",{value:i||"",onChange:M=>o(M.target.value||null),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos os ativos"}),B.map(M=>a.jsx("option",{value:M,children:M},M))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-medium",children:"Estratégia"}),a.jsxs("select",{value:l||"",onChange:M=>c(M.target.value||null),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todas as estratégias"}),D.map(M=>a.jsx("option",{value:M,children:M},M))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-medium",children:"Direção"}),a.jsxs("select",{value:d||"",onChange:M=>u(M.target.value||null),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todas as direções"}),a.jsx("option",{value:"long",children:"Compra (Long)"}),a.jsx("option",{value:"short",children:"Venda (Short)"})]})]})]})})]}),a.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-700 bg-gray-800 shadow-lg",children:A.length>0?a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gradient-to-r from-gray-700 to-gray-800",children:a.jsxs("tr",{className:"border-b border-gray-600",children:[a.jsx("th",{className:"px-5 py-3 text-center w-12",children:a.jsx("input",{type:"checkbox",checked:w.size===T.length&&T.length>0,onChange:M=>{M.target.checked?k(new Set(T.map((I,H)=>I.id||H))):k(new Set)},className:"rounded border-gray-500 bg-gray-700 text-blue-500 focus:ring-blue-400 focus:ring-2 transition-all"})}),a.jsx("th",{className:"px-5 py-3 text-left",children:a.jsxs("button",{onClick:()=>O("entry_date"),className:"flex items-center gap-2 hover:text-blue-400 transition-colors font-medium",children:["Data Entrada",a.jsx(Xo,{className:"w-4 h-4"})]})}),a.jsx("th",{className:"px-5 py-3 text-left",children:a.jsxs("button",{onClick:()=>O("exit_date"),className:"flex items-center gap-2 hover:text-blue-400 transition-colors font-medium",children:["Data Saída",a.jsx(Xo,{className:"w-4 h-4"})]})}),a.jsx("th",{className:"px-5 py-3 text-center",children:a.jsxs("button",{onClick:()=>O("symbol"),className:"flex items-center gap-2 hover:text-blue-400 transition-colors font-medium",children:["Ativo",a.jsx(Xo,{className:"w-4 h-4"})]})}),a.jsx("th",{className:"px-5 py-3 text-center font-medium",children:"Estratégia"}),a.jsx("th",{className:"px-5 py-3 text-center font-medium",children:"Direção"}),a.jsx("th",{className:"px-5 py-3 text-right font-medium",children:"Entrada"}),a.jsx("th",{className:"px-5 py-3 text-right font-medium",children:"Saída"}),a.jsx("th",{className:"px-5 py-3 text-center font-medium",children:"Duração"}),a.jsx("th",{className:"px-5 py-3 text-center font-medium",children:"Giro Total"}),a.jsx("th",{className:"px-5 py-3 text-center font-medium",children:"Quantidade"}),a.jsx("th",{className:"px-5 py-3 text-right",children:a.jsxs("button",{onClick:()=>O("pnl"),className:"flex items-center gap-2 hover:text-blue-400 transition-colors font-medium",children:["P&L (R$)",a.jsx(Xo,{className:"w-4 h-4"})]})}),a.jsx("th",{className:"px-5 py-3 text-right",children:a.jsxs("button",{onClick:()=>O("pnl_pct"),className:"flex items-center gap-2 hover:text-blue-400 transition-colors font-medium",children:["P&L (%)",a.jsx(Xo,{className:"w-4 h-4"})]})}),a.jsx("th",{className:"px-5 py-3 text-center font-medium",children:"Detalhes"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-700",children:A.map((M,I)=>a.jsxs("tr",{className:`group transition-all duration-200 hover:bg-gray-700/50 ${M.pnl>0?"hover:bg-green-900/20 border-l-4 border-l-green-500/30":"hover:bg-red-900/20 border-l-4 border-l-red-500/30"} ${M.pnl>0?"bg-green-900/5":"bg-red-900/5"}`,children:[a.jsx("td",{className:"px-5 py-3 text-center",children:a.jsx("input",{type:"checkbox",checked:w.has(M.id||I),onChange:()=>z(M.id||I),className:"rounded border-gray-500 bg-gray-700 text-blue-500 focus:ring-blue-400 focus:ring-2 transition-all"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-white text-sm",children:new Date(M.entry_date).toLocaleDateString("pt-BR")}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(M.entry_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})}),a.jsx("td",{className:"px-5 py-3",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-white text-sm",children:new Date(M.exit_date).toLocaleDateString("pt-BR")}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(M.exit_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})}),a.jsx("td",{className:"px-5 py-3 text-center",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-blue-900/50 text-blue-300 border border-blue-700/30",children:M.symbol||"N/A"})}),a.jsx("td",{className:"px-5 py-3 text-center",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-600/50 text-gray-200 border border-gray-500/30",children:M.strategy||"N/A"})}),a.jsx("td",{className:"px-5 py-3 text-center",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${M.direction==="long"?"bg-green-900/50 text-green-300 border border-green-700/30":"bg-red-900/50 text-red-300 border border-red-700/30"}`,children:[M.direction==="long"?a.jsx(bt,{className:"w-3 h-3"}):a.jsx(mo,{className:"w-3 h-3"}),M.direction==="long"?"Long":"Short"]})}),a.jsx("td",{className:"px-5 py-3 text-right",children:a.jsx("span",{className:"font-mono text-xs font-medium text-white",children:U(M.entry_price)})}),a.jsx("td",{className:"px-5 py-3 text-right",children:a.jsx("span",{className:"font-mono text-xs font-medium text-white",children:U(M.exit_price)})}),a.jsx("td",{className:"px-5 py-3 text-center",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-600/30 text-gray-300",children:M.duration?W(M.duration):"N/A"})}),a.jsx("td",{className:"px-5 py-3 text-center",children:a.jsx("span",{className:"font-mono text-xs text-gray-300",children:(M==null?void 0:M.quantity_total)||"N/A"})}),a.jsx("td",{className:"px-5 py-3 text-center",children:a.jsx("span",{className:"font-mono text-xs text-gray-300",children:(M==null?void 0:M.quantity_compra)||"N/A"})}),a.jsxs("td",{className:`px-5 py-3 text-right font-mono text-xs font-bold ${M.pnl>0?"text-green-400":"text-red-400"}`,children:[M.pnl>0?"+":"",U(M.pnl)]}),a.jsxs("td",{className:`px-5 py-3 text-right font-mono text-xs font-bold ${M.pnl_pct>0?"text-green-400":"text-red-400"}`,children:[M.pnl_pct>0?"+":"",M.pnl_pct.toFixed(2),"%"]}),a.jsx("td",{className:"px-5 py-3 text-center",children:a.jsx("button",{onClick:()=>b(M),className:"p-1.5 hover:bg-gray-600 rounded-lg transition-all duration-200 group-hover:bg-gray-600/50",title:"Ver detalhes",children:a.jsx(tx,{className:"w-3.5 h-3.5 text-gray-400 group-hover:text-blue-400 transition-colors"})})})]},M.id||I))})]}):a.jsxs("div",{className:"text-center py-16 bg-gray-800/50",children:[a.jsx(Zs,{className:"w-16 h-16 text-gray-500 mx-auto mb-6"}),a.jsx("div",{className:"text-gray-300 text-xl font-medium mb-3",children:"Nenhuma operação encontrada"}),a.jsx("div",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"Tente ajustar os filtros de busca ou verificar se há dados disponíveis"})]})}),$>1&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-700 rounded-lg mt-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Itens por página:"}),a.jsxs("select",{value:R,onChange:M=>{_(Number(M.target.value)),E(1)},className:"px-2 py-1 bg-gray-600 border border-gray-500 rounded text-sm",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]})]}),a.jsxs("div",{className:"text-sm text-gray-300",children:["Mostrando ",F+1," a ",Math.min(L,T.length)," de ",T.length," operações"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>E(1),disabled:S===1,className:"px-3 py-1 text-sm bg-gray-600 hover:bg-gray-500 disabled:bg-gray-700 disabled:text-gray-500 rounded transition-colors",children:"Primeira"}),a.jsx("button",{onClick:()=>E(M=>Math.max(1,M-1)),disabled:S===1,className:"p-2 hover:bg-gray-600 disabled:bg-gray-700 disabled:text-gray-500 rounded transition-colors",children:a.jsx(tt,{className:"w-4 h-4 text-gray-400"})}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,$)},(M,I)=>{let H;return $<=5||S<=3?H=I+1:S>=$-2?H=$-4+I:H=S-2+I,a.jsx("button",{onClick:()=>E(H),className:`px-3 py-1 text-sm rounded transition-colors ${S===H?"bg-blue-600 text-white":"bg-gray-600 hover:bg-gray-500 text-gray-300"}`,children:H},H)})}),a.jsx("button",{onClick:()=>E(M=>Math.min($,M+1)),disabled:S===$,className:"p-2 hover:bg-gray-600 disabled:bg-gray-700 disabled:text-gray-500 rounded transition-colors",children:a.jsx(ze,{className:"w-4 h-4 text-gray-400"})}),a.jsx("button",{onClick:()=>E($),disabled:S===$,className:"px-3 py-1 text-sm bg-gray-600 hover:bg-gray-500 disabled:bg-gray-700 disabled:text-gray-500 rounded transition-colors",children:"Última"})]})]})]})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Detalhes da Operação"}),a.jsx("button",{onClick:()=>b(null),className:"p-1 hover:bg-gray-700 rounded",children:a.jsx(Ue,{className:"w-5 h-5 text-gray-400"})})]}),a.jsxs("div",{className:"space-y-3 text-sm",children:[x.id&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"ID:"}),a.jsxs("span",{children:["#",x.id]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Ativo:"}),a.jsx("span",{className:"font-medium text-blue-400",children:x.symbol||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Estratégia:"}),a.jsx("span",{children:x.strategy||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Direção:"}),a.jsxs("span",{className:`flex items-center gap-1 ${x.direction==="long"?"text-green-400":"text-red-400"}`,children:[x.direction==="long"?a.jsx(bt,{className:"w-4 h-4"}):a.jsx(mo,{className:"w-4 h-4"}),x.direction==="long"?"Long":"Short"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Quantidade:"}),a.jsx("span",{children:x.quantity||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Duração:"}),a.jsx("span",{children:x.duration?W(x.duration):"N/A"})]}),a.jsx("hr",{className:"border-gray-700"}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Preço de Entrada:"}),a.jsx("span",{className:"font-mono",children:U(x.entry_price)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Preço de Saída:"}),a.jsx("span",{className:"font-mono",children:U(x.exit_price)})]}),x.drawdown!==void 0&&x.drawdown!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Drawdown:"}),a.jsx("span",{className:"text-red-400",children:U(x.drawdown)})]}),x.max_gain!==void 0&&x.max_gain!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Ganho Máximo:"}),a.jsx("span",{className:"text-green-400",children:U(x.max_gain)})]}),x.max_loss!==void 0&&x.max_loss!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Perda Máxima:"}),a.jsx("span",{className:"text-red-400",children:U(x.max_loss)})]}),a.jsxs("div",{className:"flex justify-between text-lg font-medium",children:[a.jsx("span",{className:"text-gray-400",children:"P&L Total:"}),a.jsxs("span",{className:x.pnl>0?"text-green-400":"text-red-400",children:[x.pnl>0?"+":"",U(x.pnl)," (",x.pnl_pct>0?"+":"",x.pnl_pct.toFixed(2),"%)"]})]})]})]})})]})})}function F4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=F4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Be(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=F4(e))&&(n&&(n+=" "),n+=t);return n}var Bm={},z4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(z4);var nx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(nx);var ax={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(ax);var Um={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const d=r[i];l?d==="\\"&&i+1<s?(i++,o+=r[i]):d===l?l="":o+=d:c?d==='"'||d==="'"?l=d:d==="]"?(c=!1,n.push(o),o=""):o+=d:d==="["?(c=!0,o&&(n.push(o),o="")):d==="."?o&&(n.push(o),o=""):o+=d,i++}return o&&n.push(o),n}e.toPath=t})(Um);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z4,r=nx,n=ax,s=Um;function i(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?r.isDeepKey(c)?i(l,s.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return o(l,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function o(l,c,d){if(c.length===0)return d;let u=l;for(let m=0;m<c.length;m++){if(u==null||t.isUnsafeProperty(c[m]))return d;u=u[c[m]]}return u===void 0?d:u}e.get=i})(Bm);var o6=Bm.get;const ti=Jn(o6);var B4={exports:{}},Ve={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx=Symbol.for("react.transitional.element"),ix=Symbol.for("react.portal"),qm=Symbol.for("react.fragment"),Vm=Symbol.for("react.strict_mode"),Wm=Symbol.for("react.profiler"),Hm=Symbol.for("react.consumer"),Km=Symbol.for("react.context"),Gm=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Jm=Symbol.for("react.suspense_list"),Xm=Symbol.for("react.memo"),Qm=Symbol.for("react.lazy"),l6=Symbol.for("react.view_transition"),c6=Symbol.for("react.client.reference");function gn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sx:switch(e=e.type,e){case qm:case Wm:case Vm:case Ym:case Jm:case l6:return e;default:switch(e=e&&e.$$typeof,e){case Km:case Gm:case Qm:case Xm:return e;case Hm:return e;default:return t}}case ix:return t}}}Ve.ContextConsumer=Hm;Ve.ContextProvider=Km;Ve.Element=sx;Ve.ForwardRef=Gm;Ve.Fragment=qm;Ve.Lazy=Qm;Ve.Memo=Xm;Ve.Portal=ix;Ve.Profiler=Wm;Ve.StrictMode=Vm;Ve.Suspense=Ym;Ve.SuspenseList=Jm;Ve.isContextConsumer=function(e){return gn(e)===Hm};Ve.isContextProvider=function(e){return gn(e)===Km};Ve.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sx};Ve.isForwardRef=function(e){return gn(e)===Gm};Ve.isFragment=function(e){return gn(e)===qm};Ve.isLazy=function(e){return gn(e)===Qm};Ve.isMemo=function(e){return gn(e)===Xm};Ve.isPortal=function(e){return gn(e)===ix};Ve.isProfiler=function(e){return gn(e)===Wm};Ve.isStrictMode=function(e){return gn(e)===Vm};Ve.isSuspense=function(e){return gn(e)===Ym};Ve.isSuspenseList=function(e){return gn(e)===Jm};Ve.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qm||e===Wm||e===Vm||e===Ym||e===Jm||typeof e=="object"&&e!==null&&(e.$$typeof===Qm||e.$$typeof===Xm||e.$$typeof===Km||e.$$typeof===Hm||e.$$typeof===Gm||e.$$typeof===c6||e.getModuleId!==void 0)};Ve.typeOf=gn;B4.exports=Ve;var d6=B4.exports,on=e=>e===0?0:e>0?1:-1,Vr=e=>typeof e=="number"&&e!=+e,Rs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,be=e=>(typeof e=="number"||e instanceof Number)&&!Vr(e),Gn=e=>be(e)||typeof e=="string",u6=0,ho=e=>{var t=++u6;return"".concat(e||"").concat(t)},ss=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&typeof t!="string")return n;var i;if(Rs(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Vr(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},U4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Qo=(e,t)=>be(e)&&be(t)?r=>e+r*(t-e):()=>t;function ji(e,t,r){return be(e)&&be(t)?e+r*(t-e):t}function ox(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ti(n,t))===r)}var ct=e=>e===null||typeof e>"u",lx=e=>ct(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),m6=["viewBox","children"],h6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ub=["points","pathLength"],Af={svg:m6,polygon:Ub,polyline:Ub},cx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],dx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{cx.includes(s)&&(n[s]=i=>r[s](r,i))}),n},f6=(e,t,r)=>n=>(e(t,r,n),null),p6=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];cx.includes(s)&&typeof i=="function"&&(n||(n={}),n[s]=f6(i,t,r))}),n},qb=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Vb=null,Tf=null,q4=e=>{if(e===Vb&&Array.isArray(Tf))return Tf;var t=[];return g.Children.forEach(e,r=>{ct(r)||(d6.isFragment(r)?t=t.concat(q4(r.props.children)):t.push(r))}),Tf=t,Vb=e,t};function V4(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>qb(s)):n=[qb(t)],q4(e).forEach(s=>{var i=ti(s,"type.displayName")||ti(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var Zm=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,g6=(e,t,r,n)=>{var s,i=(s=n&&(Af==null?void 0:Af[n]))!==null&&s!==void 0?s:[];return t.startsWith("data-")||typeof e!="function"&&(n&&i.includes(t)||h6.includes(t))||r&&cx.includes(t)},De=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var o;g6((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=n[i])}),s},x6=["children","width","height","viewBox","className","style","title","desc"];function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(null,arguments)}function v6(e,t){if(e==null)return{};var r,n,s=y6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function y6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W4=g.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=v6(e,x6),m=i||{width:n,height:s,x:0,y:0},h=Be("recharts-surface",o);return g.createElement("svg",lp({},De(u,!0,"svg"),{className:h,width:n,height:s,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,d),r)}),b6=["children","className"];function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(null,arguments)}function w6(e,t){if(e==null)return{};var r,n,s=j6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function j6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Wr=g.forwardRef((e,t)=>{var{children:r,className:n}=e,s=w6(e,b6),i=Be("recharts-layer",n);return g.createElement("g",cp({className:i},De(s,!0),{ref:t}),r)}),N6=g.createContext(null);function ut(e){return function(){return e}}const dp=Math.PI,up=2*dp,Ps=1e-6,k6=up-Ps;function H4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function S6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return H4;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class _6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?H4:S6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=s-r,u=o-t,m=l-r,h=u*u+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ps)if(!(Math.abs(m*c-d*u)>Ps)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let f=n-o,p=s-l,v=c*c+d*d,y=f*f+p*p,x=Math.sqrt(v),b=Math.sqrt(h),j=i*Math.tan((dp-Math.acos((v+h-y)/(2*x*b)))/2),N=j/b,w=j/x;Math.abs(N-1)>Ps&&this._append`L${t+N*u},${r+N*m}`,this._append`A${i},${i},0,0,${+(m*f>u*p)},${this._x1=t+w*c},${this._y1=r+w*d}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),d=t+l,u=r+c,m=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Ps||Math.abs(this._y1-u)>Ps)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%up+up),h>k6?this._append`A${n},${n},0,1,${m},${t-l},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=u}`:h>Ps&&this._append`A${n},${n},0,${+(h>=dp)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function K4(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _6(t)}function ux(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function G4(e){this._context=e}G4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function eh(e){return new G4(e)}function Y4(e){return e[0]}function J4(e){return e[1]}function X4(e,t){var r=ut(!0),n=null,s=eh,i=null,o=K4(l);e=typeof e=="function"?e:e===void 0?Y4:ut(e),t=typeof t=="function"?t:t===void 0?J4:ut(t);function l(c){var d,u=(c=ux(c)).length,m,h=!1,f;for(n==null&&(i=s(f=o())),d=0;d<=u;++d)!(d<u&&r(m=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(m,d,c),+t(m,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ut(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ut(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ut(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function xd(e,t,r){var n=null,s=ut(!0),i=null,o=eh,l=null,c=K4(d);e=typeof e=="function"?e:e===void 0?Y4:ut(+e),t=typeof t=="function"?t:ut(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?J4:ut(+r);function d(m){var h,f,p,v=(m=ux(m)).length,y,x=!1,b,j=new Array(v),N=new Array(v);for(i==null&&(l=o(b=c())),h=0;h<=v;++h){if(!(h<v&&s(y=m[h],h,m))===x)if(x=!x)f=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=f;--p)l.point(j[p],N[p]);l.lineEnd(),l.areaEnd()}x&&(j[h]=+e(y,h,m),N[h]=+t(y,h,m),l.point(n?+n(y,h,m):j[h],r?+r(y,h,m):N[h]))}if(b)return l=null,b+""||null}function u(){return X4().defined(s).curve(o).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:ut(+m),n=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:ut(+m),d):e},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ut(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:ut(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:ut(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ut(+m),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(m){return arguments.length?(s=typeof m=="function"?m:ut(!!m),d):s},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class Q4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function C6(e){return new Q4(e,!0)}function P6(e){return new Q4(e,!1)}function Pu(){}function Eu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Z4(e){this._context=e}Z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Eu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Eu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E6(e){return new Z4(e)}function ek(e){this._context=e}ek.prototype={areaStart:Pu,areaEnd:Pu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Eu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A6(e){return new ek(e)}function tk(e){this._context=e}tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Eu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function T6(e){return new tk(e)}function rk(e){this._context=e}rk.prototype={areaStart:Pu,areaEnd:Pu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function O6(e){return new rk(e)}function Wb(e){return e<0?-1:1}function Hb(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(Wb(i)+Wb(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Kb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Of(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Au(e){this._context=e}Au.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Of(this,this._t0,Kb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Of(this,Kb(this,r=Hb(this,e,t)),r);break;default:Of(this,this._t0,r=Hb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function nk(e){this._context=new ak(e)}(nk.prototype=Object.create(Au.prototype)).point=function(e,t){Au.prototype.point.call(this,t,e)};function ak(e){this._context=e}ak.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function D6(e){return new Au(e)}function M6(e){return new nk(e)}function sk(e){this._context=e}sk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Gb(e),s=Gb(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Gb(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function R6(e){return new sk(e)}function th(e,t){this._context=e,this._t=t}th.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function $6(e){return new th(e,.5)}function I6(e){return new th(e,0)}function L6(e){return new th(e,1)}function fo(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function mp(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function F6(e,t){return e[t]}function z6(e){const t=[];return t.key=e,t}function B6(){var e=ut([]),t=mp,r=fo,n=F6;function s(i){var o=Array.from(e.apply(this,arguments),z6),l,c=o.length,d=-1,u;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(m,o[l].key,d,i)]).data=m;for(l=0,u=ux(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ut(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:ut(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?mp:typeof i=="function"?i:ut(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??fo,s):r},s}function U6(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}fo(e,t)}}function q6(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}fo(e,t)}}function V6(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],m=u[n][1]||0,h=u[n-1][1]||0,f=(m-h)/2,p=0;p<l;++p){var v=e[t[p]],y=v[n][1]||0,x=v[n-1][1]||0;f+=y-x}c+=m,d+=f*m}s[n-1][1]+=s[n-1][0]=r,c&&(r-=d/c)}s[n-1][1]+=s[n-1][0]=r,fo(e,t)}}var ik={},ok={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(ok);var mx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(mx);var lk={},rh={},ck={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(ck);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ck;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(rh);var dk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(dk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rh,r=dk;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(lk);var uk={},mk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bm;function r(n){return function(s){return t.get(s,n)}}e.property=r})(mk);var hk={},Df={},Mf={},hx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(hx);var fx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(fx);var nh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(nh);var Yb;function W6(){return Yb||(Yb=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px(),r=hx,n=fx,s=nh;function i(m,h,f){return typeof f!="function"?t.isMatch(m,h):o(m,h,function p(v,y,x,b,j,N){const w=f(v,y,x,b,j,N);return w!==void 0?!!w:o(v,y,p,N)},new Map)}function o(m,h,f,p){if(h===m)return!0;switch(typeof h){case"object":return l(m,h,f,p);case"function":return Object.keys(h).length>0?o(m,{...h},f,p):s.eq(m,h);default:return r.isObject(m)?typeof h=="string"?h==="":!0:s.eq(m,h)}}function l(m,h,f,p){if(h==null)return!0;if(Array.isArray(h))return d(m,h,f,p);if(h instanceof Map)return c(m,h,f,p);if(h instanceof Set)return u(m,h,f,p);const v=Object.keys(h);if(m==null)return v.length===0;if(v.length===0)return!0;if(p&&p.has(h))return p.get(h)===m;p&&p.set(h,m);try{for(let y=0;y<v.length;y++){const x=v[y];if(!n.isPrimitive(m)&&!(x in m)||h[x]===void 0&&m[x]!==void 0||h[x]===null&&m[x]!==null||!f(m[x],h[x],x,m,h,p))return!1}return!0}finally{p&&p.delete(h)}}function c(m,h,f,p){if(h.size===0)return!0;if(!(m instanceof Map))return!1;for(const[v,y]of h.entries()){const x=m.get(v);if(f(x,y,v,m,h,p)===!1)return!1}return!0}function d(m,h,f,p){if(h.length===0)return!0;if(!Array.isArray(m))return!1;const v=new Set;for(let y=0;y<h.length;y++){const x=h[y];let b=!1;for(let j=0;j<m.length;j++){if(v.has(j))continue;const N=m[j];let w=!1;if(f(N,x,y,m,h,p)&&(w=!0),w){v.add(j),b=!0;break}}if(!b)return!1}return!0}function u(m,h,f,p){return h.size===0?!0:m instanceof Set?d([...m],[...h],f,p):!1}e.isMatchWith=i,e.isSetMatch=u}(Mf)),Mf}var Jb;function px(){return Jb||(Jb=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W6();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(Df)),Df}var fk={},gx={},xx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(xx);var ah={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(ah);var sh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",m="[object Function]",h="[object ArrayBuffer]",f="[object Object]",p="[object Error]",v="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",N="[object BigUint64Array]",w="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",E="[object BigInt64Array]",R="[object Float32Array]",_="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=N,e.booleanTag=s,e.dataViewTag=v,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=R,e.float64ArrayTag=_,e.functionTag=m,e.int16ArrayTag=k,e.int32ArrayTag=S,e.int8ArrayTag=w,e.mapTag=c,e.numberTag=n,e.objectTag=f,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(sh);var pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(pk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xx,r=ah,n=sh,s=fx,i=pk;function o(u,m){return l(u,void 0,u,new Map,m)}function l(u,m,h,f=new Map,p=void 0){const v=p==null?void 0:p(u,m,h,f);if(v!=null)return v;if(s.isPrimitive(u))return u;if(f.has(u))return f.get(u);if(Array.isArray(u)){const y=new Array(u.length);f.set(u,y);for(let x=0;x<u.length;x++)y[x]=l(u[x],x,h,f,p);return Object.hasOwn(u,"index")&&(y.index=u.index),Object.hasOwn(u,"input")&&(y.input=u.input),y}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const y=new RegExp(u.source,u.flags);return y.lastIndex=u.lastIndex,y}if(u instanceof Map){const y=new Map;f.set(u,y);for(const[x,b]of u)y.set(x,l(b,x,h,f,p));return y}if(u instanceof Set){const y=new Set;f.set(u,y);for(const x of u)y.add(l(x,void 0,h,f,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const y=new(Object.getPrototypeOf(u)).constructor(u.length);f.set(u,y);for(let x=0;x<u.length;x++)y[x]=l(u[x],x,h,f,p);return y}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const y=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return f.set(u,y),c(y,u,h,f,p),y}if(typeof File<"u"&&u instanceof File){const y=new File([u],u.name,{type:u.type});return f.set(u,y),c(y,u,h,f,p),y}if(u instanceof Blob){const y=new Blob([u],{type:u.type});return f.set(u,y),c(y,u,h,f,p),y}if(u instanceof Error){const y=new u.constructor;return f.set(u,y),y.message=u.message,y.name=u.name,y.stack=u.stack,y.cause=u.cause,c(y,u,h,f,p),y}if(typeof u=="object"&&d(u)){const y=Object.create(Object.getPrototypeOf(u));return f.set(u,y),c(y,u,h,f,p),y}return u}function c(u,m,h=u,f,p){const v=[...Object.keys(m),...t.getSymbols(m)];for(let y=0;y<v.length;y++){const x=v[y],b=Object.getOwnPropertyDescriptor(u,x);(b==null||b.writable)&&(u[x]=l(m[x],x,h,f,p))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(gx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gx;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(fk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px(),r=fk;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(hk);var gk={},xk={},vk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gx,r=sh;function n(s,i){return t.cloneDeepWith(s,(o,l,c,d)=>{const u=i==null?void 0:i(o,l,c,d);if(u!=null)return u;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(m,s),m}case r.argumentsTag:{const m={};return t.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(vk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vk;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(xk);var yk={},vx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(vx);var bk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ah;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(bk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nx,r=vx,n=bk,s=Um;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=s.toPath(l):c=[l],c.length===0)return!1;let d=o;for(let u=0;u<c.length;u++){const m=c[u];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=i})(yk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px(),r=ax,n=xk,s=Bm,i=yk;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(d){const u=s.get(d,l);return u===void 0?i.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(gk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mx,r=mk,n=hk,s=gk;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(uk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ok,r=mx,n=lk,s=uk;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(ik);var H6=ik.uniqBy;const Xb=Jn(H6);function K6(e,t,r){return t===!0?Xb(e,r):typeof t=="function"?Xb(e,t):e}var yx=g.createContext(null),G6=e=>e,vr=()=>{var e=g.useContext(yx);return e?e.store.dispatch:G6},Gd=()=>{},Y6=()=>Gd,J6=(e,t)=>e===t;function Ne(e){var t=g.useContext(yx);return K2.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Y6,t?t.store.getState:Gd,t?t.store.getState:Gd,t?e:Gd,J6)}function X6(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Q6(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Z6(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Qb=e=>Array.isArray(e)?e:[e];function eR(e){const t=Array.isArray(e[0])?e[0]:e;return Z6(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function tR(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var rR=class{constructor(e){this.value=e}deref(){return this.value}},nR=typeof WeakRef<"u"?WeakRef:rR,aR=0,Zb=1;function vd(){return{s:aR,v:void 0,o:null,p:null}}function wk(e,t={}){let r=vd();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var m;let l=r;const{length:c}=arguments;for(let h=0,f=c;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const y=v.get(p);y===void 0?(l=vd(),v.set(p,l)):l=y}else{let v=l.p;v===null&&(l.p=v=new Map);const y=v.get(p);y===void 0?(l=vd(),v.set(p,l)):l=y}}const d=l;let u;if(l.s===Zb)u=l.v;else if(u=e.apply(null,arguments),i++,n){const h=((m=s==null?void 0:s.deref)==null?void 0:m.call(s))??s;h!=null&&n(h,u)&&(u=h,i!==0&&i--),s=typeof u=="object"&&u!==null||typeof u=="function"?new nR(u):u}return d.s=Zb,d.v=u,u}return o.clearCache=()=>{r=vd(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function sR(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,c={},d=s.pop();typeof d=="object"&&(c=d,d=s.pop()),X6(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:m,memoizeOptions:h=[],argsMemoize:f=wk,argsMemoizeOptions:p=[],devModeChecks:v={}}=u,y=Qb(h),x=Qb(p),b=eR(s),j=m(function(){return i++,d.apply(null,arguments)},...y),N=f(function(){o++;const k=tR(b,arguments);return l=j.apply(null,k),l},...x);return Object.assign(N,{resultFunc:d,memoizedResultFunc:j,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var te=sR(wk),iR=Object.assign((e,t=te)=>{Q6(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>iR}),jk={},Nk={},kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(kk);var Sk={},bx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(bx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(Sk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kk,r=Sk,n=Um;function s(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(f=>String(f));const d=(f,p)=>{let v=f;for(let y=0;y<p.length&&v!=null;++y)v=v[p[y]];return v},u=(f,p)=>p==null||f==null?p:typeof f=="object"&&"key"in f?Object.hasOwn(p,f.key)?p[f.key]:d(p,f.path):typeof f=="function"?f(p):Array.isArray(f)?d(p,f):typeof p=="object"?p[f]:p,m=o.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||r.isKey(f)?f:{key:f,path:n.toPath(f)}));return i.map(f=>({original:f,criteria:m.map(p=>u(p,f))})).slice().sort((f,p)=>{for(let v=0;v<m.length;v++){const y=t.compareValues(f.criteria[v],p.criteria[v],l[v]);if(y!==0)return y}return 0}).map(f=>f.original)}e.orderBy=s})(Nk);var _k={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<i?o(u,c+1):s.push(u)}};return o(r,0),s}e.flatten=t})(_k);var wx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vx,r=rh,n=hx,s=nh;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],o):!1}e.isIterateeCall=i})(wx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nk,r=_k,n=wx;function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(jk);var oR=jk.sortBy;const ih=Jn(oR);var Ck=e=>e.legend.settings,lR=e=>e.legend.size,cR=e=>e.legend.payload;te([cR,Ck],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ih(n,r):n});var yd=1;function dR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>yd||Math.abs(o.left-t.left)>yd||Math.abs(o.top-t.top)>yd||Math.abs(o.width-t.width)>yd)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Vt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uR=typeof Symbol=="function"&&Symbol.observable||"@@observable",ew=uR,Rf=()=>Math.random().toString(36).substring(7).split("").join("."),mR={INIT:`@@redux/INIT${Rf()}`,REPLACE:`@@redux/REPLACE${Rf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Rf()}`},Tu=mR;function jx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Pk(e,t,r){if(typeof e!="function")throw new Error(Vt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Vt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Vt(1));return r(Pk)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((y,x)=>{o.set(x,y)}))}function u(){if(c)throw new Error(Vt(3));return s}function m(y){if(typeof y!="function")throw new Error(Vt(4));if(c)throw new Error(Vt(5));let x=!0;d();const b=l++;return o.set(b,y),function(){if(x){if(c)throw new Error(Vt(6));x=!1,d(),o.delete(b),i=null}}}function h(y){if(!jx(y))throw new Error(Vt(7));if(typeof y.type>"u")throw new Error(Vt(8));if(typeof y.type!="string")throw new Error(Vt(17));if(c)throw new Error(Vt(9));try{c=!0,s=n(s,y)}finally{c=!1}return(i=o).forEach(b=>{b()}),y}function f(y){if(typeof y!="function")throw new Error(Vt(10));n=y,h({type:Tu.REPLACE})}function p(){const y=m;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Vt(11));function b(){const N=x;N.next&&N.next(u())}return b(),{unsubscribe:y(b)}},[ew](){return this}}}return h({type:Tu.INIT}),{dispatch:h,subscribe:m,getState:u,replaceReducer:f,[ew]:p}}function hR(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Tu.INIT})>"u")throw new Error(Vt(12));if(typeof r(void 0,{type:Tu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vt(13))})}function Ek(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{hR(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const d={};for(let u=0;u<n.length;u++){const m=n[u],h=r[m],f=o[m],p=h(f,l);if(typeof p>"u")throw l&&l.type,new Error(Vt(14));d[m]=p,c=c||p!==f}return c=c||n.length!==Object.keys(o).length,c?d:o}}function Ou(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function fR(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(Vt(15))};const o={getState:s.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=Ou(...l)(s.dispatch),{...s,dispatch:i}}}function Ak(e){return jx(e)&&"type"in e&&typeof e.type=="string"}var Tk=Symbol.for("immer-nothing"),tw=Symbol.for("immer-draftable"),Hr=Symbol.for("immer-state");function Cn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var po=Object.getPrototypeOf;function ri(e){return!!e&&!!e[Hr]}function fa(e){var t;return e?Ok(e)||Array.isArray(e)||!!e[tw]||!!((t=e.constructor)!=null&&t[tw])||lh(e)||ch(e):!1}var pR=Object.prototype.constructor.toString();function Ok(e){if(!e||typeof e!="object")return!1;const t=po(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===pR}function Du(e,t){oh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function oh(e){const t=e[Hr];return t?t.type_:Array.isArray(e)?1:lh(e)?2:ch(e)?3:0}function hp(e,t){return oh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Dk(e,t,r){const n=oh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function gR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function lh(e){return e instanceof Map}function ch(e){return e instanceof Set}function Es(e){return e.copy_||e.base_}function fp(e,t){if(lh(e))return new Map(e);if(ch(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Ok(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Hr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(po(e),n)}else{const n=po(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Nx(e,t=!1){return dh(e)||ri(e)||!fa(e)||(oh(e)>1&&(e.set=e.add=e.clear=e.delete=xR),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Nx(n,!0))),e}function xR(){Cn(2)}function dh(e){return Object.isFrozen(e)}var vR={};function ni(e){const t=vR[e];return t||Cn(0,e),t}var sc;function Mk(){return sc}function yR(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rw(e,t){t&&(ni("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function pp(e){gp(e),e.drafts_.forEach(bR),e.drafts_=null}function gp(e){e===sc&&(sc=e.parent_)}function nw(e){return sc=yR(sc,e)}function bR(e){const t=e[Hr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Hr].modified_&&(pp(t),Cn(4)),fa(e)&&(e=Mu(t,e),t.parent_||Ru(t,e)),t.patches_&&ni("Patches").generateReplacementPatches_(r[Hr].base_,e,t.patches_,t.inversePatches_)):e=Mu(t,r,[]),pp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Tk?e:void 0}function Mu(e,t,r){if(dh(t))return t;const n=t[Hr];if(!n)return Du(t,(s,i)=>sw(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ru(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),Du(i,(l,c)=>sw(e,n,s,l,c,r,o)),Ru(e,s,!1),r&&e.patches_&&ni("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function sw(e,t,r,n,s,i,o){if(ri(s)){const l=i&&t&&t.type_!==3&&!hp(t.assigned_,n)?i.concat(n):void 0,c=Mu(e,s,l);if(Dk(r,n,c),ri(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(fa(s)&&!dh(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Mu(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ru(e,s)}}function Ru(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Nx(t,r)}function wR(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Mk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=kx;r&&(s=[n],i=ic);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var kx={get(e,t){if(t===Hr)return e;const r=Es(e);if(!hp(r,t))return jR(e,r,t);const n=r[t];return e.finalized_||!fa(n)?n:n===$f(e.base_,t)?(If(e),e.copy_[t]=vp(n,e)):n},has(e,t){return t in Es(e)},ownKeys(e){return Reflect.ownKeys(Es(e))},set(e,t,r){const n=Rk(Es(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=$f(Es(e),t),i=s==null?void 0:s[Hr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(gR(r,s)&&(r!==void 0||hp(e.base_,t)))return!0;If(e),xp(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $f(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,If(e),xp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Es(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Cn(11)},getPrototypeOf(e){return po(e.base_)},setPrototypeOf(){Cn(12)}},ic={};Du(kx,(e,t)=>{ic[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ic.deleteProperty=function(e,t){return ic.set.call(this,e,t,void 0)};ic.set=function(e,t,r){return kx.set.call(this,e[0],t,r,e[0])};function $f(e,t){const r=e[Hr];return(r?Es(r):e)[t]}function jR(e,t,r){var s;const n=Rk(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function Rk(e,t){if(!(t in e))return;let r=po(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=po(r)}}function xp(e){e.modified_||(e.modified_=!0,e.parent_&&xp(e.parent_))}function If(e){e.copy_||(e.copy_=fp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var NR=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...d){return o.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&Cn(6),n!==void 0&&typeof n!="function"&&Cn(7);let s;if(fa(t)){const i=nw(this),o=vp(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?pp(i):gp(i)}return rw(i,n),aw(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===Tk&&(s=void 0),this.autoFreeze_&&Nx(s,!0),n){const i=[],o=[];ni("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else Cn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,s;return[this.produce(t,r,(o,l)=>{n=o,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){fa(e)||Cn(8),ri(e)&&(e=Za(e));const t=nw(this),r=vp(e,void 0);return r[Hr].isManual_=!0,gp(t),r}finishDraft(e,t){const r=e&&e[Hr];(!r||!r.isManual_)&&Cn(9);const{scope_:n}=r;return rw(n,t),aw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=ni("Patches").applyPatches_;return ri(e)?n(e,t):this.produce(e,s=>n(s,t))}};function vp(e,t){const r=lh(e)?ni("MapSet").proxyMap_(e,t):ch(e)?ni("MapSet").proxySet_(e,t):wR(e,t);return(t?t.scope_:Mk()).drafts_.push(r),r}function Za(e){return ri(e)||Cn(10,e),$k(e)}function $k(e){if(!fa(e)||dh(e))return e;const t=e[Hr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=fp(e,t.scope_.immer_.useStrictShallowCopy_)}else r=fp(e,!0);return Du(r,(n,s)=>{Dk(r,n,$k(s))}),t&&(t.finalized_=!1),r}var Kr=new NR,Ik=Kr.produce;Kr.produceWithPatches.bind(Kr);Kr.setAutoFreeze.bind(Kr);Kr.setUseStrictShallowCopy.bind(Kr);Kr.applyPatches.bind(Kr);Kr.createDraft.bind(Kr);Kr.finishDraft.bind(Kr);function Lk(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var kR=Lk(),SR=Lk,_R=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ou:Ou.apply(null,arguments)};function fn(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Ur(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Ak(n)&&n.type===e,r}var Fk=class hl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,hl.prototype)}static get[Symbol.species](){return hl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new hl(...t[0].concat(this)):new hl(...t.concat(this))}};function iw(e){return fa(e)?Ik(e,()=>{}):e}function bd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function CR(e){return typeof e=="boolean"}var PR=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new Fk;return r&&(CR(r)?o.push(kR):o.push(SR(r.extraArgument))),o},ER="RTK_autoBatch",ow=e=>t=>{setTimeout(t,e)},AR=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ow(10):e.type==="callback"?e.queueNotification:ow(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const m=()=>s&&u(),h=n.subscribe(m);return l.add(u),()=>{h(),l.delete(u)}},dispatch(u){var m;try{return s=!((m=u==null?void 0:u.meta)!=null&&m[ER]),i=!s,i&&(o||(o=!0,c(d))),n.dispatch(u)}finally{s=!0}}})},TR=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new Fk(e);return n&&s.push(AR(typeof n=="object"?n:void 0)),s};function OR(e){const t=PR(),{reducer:r=void 0,middleware:n,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(jx(r))c=Ek(r);else throw new Error(Ur(1));let d;typeof n=="function"?d=n(t):d=t();let u=Ou;s&&(u=_R({trace:!1,...typeof s=="object"&&s}));const m=fR(...d),h=TR(m);let f=typeof l=="function"?l(h):h();const p=u(...f);return Pk(c,o,p)}function zk(e){const t={},r=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Ur(28));if(l in t)throw new Error(Ur(29));return t[l]=o,s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function DR(e){return typeof e=="function"}function MR(e,t){let[r,n,s]=zk(t),i;if(DR(e))i=()=>iw(e());else{const l=iw(e);i=()=>l}function o(l=i(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[s]),d.reduce((u,m)=>{if(m)if(ri(u)){const f=m(u,c);return f===void 0?u:f}else{if(fa(u))return Ik(u,h=>m(h,c));{const h=m(u,c);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},l)}return o.getInitialState=i,o}var RR="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$R=(e=21)=>{let t="",r=e;for(;r--;)t+=RR[Math.random()*64|0];return t},IR=Symbol.for("rtk-slice-createasyncthunk");function LR(e,t){return`${e}/${t}`}function FR({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[IR];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(Ur(11));typeof process<"u";const l=(typeof s.reducers=="function"?s.reducers(BR()):s.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(N,w){const k=typeof N=="string"?N:N.type;if(!k)throw new Error(Ur(12));if(k in d.sliceCaseReducersByType)throw new Error(Ur(13));return d.sliceCaseReducersByType[k]=w,u},addMatcher(N,w){return d.sliceMatchers.push({matcher:N,reducer:w}),u},exposeAction(N,w){return d.actionCreators[N]=w,u},exposeCaseReducer(N,w){return d.sliceCaseReducersByName[N]=w,u}};c.forEach(N=>{const w=l[N],k={reducerName:N,type:LR(i,N),createNotation:typeof s.reducers=="function"};qR(w)?WR(k,w,u,t):UR(k,w,u)});function m(){const[N={},w=[],k=void 0]=typeof s.extraReducers=="function"?zk(s.extraReducers):[s.extraReducers],S={...N,...d.sliceCaseReducersByType};return MR(s.initialState,E=>{for(let R in S)E.addCase(R,S[R]);for(let R of d.sliceMatchers)E.addMatcher(R.matcher,R.reducer);for(let R of w)E.addMatcher(R.matcher,R.reducer);k&&E.addDefaultCase(k)})}const h=N=>N,f=new Map,p=new WeakMap;let v;function y(N,w){return v||(v=m()),v(N,w)}function x(){return v||(v=m()),v.getInitialState()}function b(N,w=!1){function k(E){let R=E[N];return typeof R>"u"&&w&&(R=bd(p,k,x)),R}function S(E=h){const R=bd(f,w,()=>new WeakMap);return bd(R,E,()=>{const _={};for(const[C,B]of Object.entries(s.selectors??{}))_[C]=zR(B,E,()=>bd(p,E,x),w);return _})}return{reducerPath:N,getSelectors:S,get selectors(){return S(k)},selectSlice:k}}const j={name:i,reducer:y,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:x,...b(o),injectInto(N,{reducerPath:w,...k}={}){const S=w??o;return N.inject({reducerPath:S,reducer:y},k),{...j,...b(S,!0)}}};return j}}function zR(e,t,r,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var xn=FR();function BR(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function UR({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!VR(n))throw new Error(Ur(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?fn(e,o):fn(e))}function qR(e){return e._reducerDefinitionType==="asyncThunk"}function VR(e){return e._reducerDefinitionType==="reducerWithPrepare"}function WR({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Ur(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=r,m=s(e,i,u);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),l&&n.addCase(m.pending,l),c&&n.addCase(m.rejected,c),d&&n.addMatcher(m.settled,d),n.exposeCaseReducer(t,{fulfilled:o||wd,pending:l||wd,rejected:c||wd,settled:d||wd})}function wd(){}var HR="task",Bk="listener",Uk="completed",Sx="cancelled",KR=`task-${Sx}`,GR=`task-${Uk}`,yp=`${Bk}-${Sx}`,YR=`${Bk}-${Uk}`,uh=class{constructor(e){Wh(this,"name","TaskAbortError");Wh(this,"message");this.code=e,this.message=`${HR} ${Sx} (reason: ${e})`}},_x=(e,t)=>{if(typeof e!="function")throw new TypeError(Ur(32))},$u=()=>{},qk=(e,t=$u)=>(e.catch(t),e),Vk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Vs=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ws=e=>{if(e.aborted){const{reason:t}=e;throw new uh(t)}};function Wk(e,t){let r=$u;return new Promise((n,s)=>{const i=()=>s(new uh(e.reason));if(e.aborted){i();return}r=Vk(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=$u})}var JR=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof uh?"cancelled":"rejected",error:r}}finally{t==null||t()}},Iu=e=>t=>qk(Wk(e,t).then(r=>(Ws(e),r))),Hk=e=>{const t=Iu(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ji}=Object,lw={},mh="listenerMiddleware",XR=(e,t)=>{const r=n=>Vk(e,()=>Vs(n,e.reason));return(n,s)=>{_x(n);const i=new AbortController;r(i);const o=JR(async()=>{Ws(e),Ws(i.signal);const l=await n({pause:Iu(i.signal),delay:Hk(i.signal),signal:i.signal});return Ws(i.signal),l},()=>Vs(i,GR));return s!=null&&s.autoJoin&&t.push(o.catch($u)),{result:Iu(e)(o),cancel(){Vs(i,KR)}}}},QR=(e,t)=>{const r=async(n,s)=>{Ws(t);let i=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:n,effect:(m,h)=>{h.unsubscribe(),c([m,h.getState(),h.getOriginalState()])}});i=()=>{u(),d()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await Wk(t,Promise.race(l));return Ws(t),c}finally{i()}};return(n,s)=>qk(r(n,s))},Kk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=fn(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Ur(21));return _x(i),{predicate:s,type:t,effect:i}},Gk=Ji(e=>{const{type:t,predicate:r,effect:n}=Kk(e);return{id:$R(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ur(22))}}},{withTypes:()=>Gk}),cw=(e,t)=>{const{type:r,effect:n,predicate:s}=Kk(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},bp=e=>{e.pending.forEach(t=>{Vs(t,yp)})},ZR=e=>()=>{e.forEach(bp),e.clear()},dw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Yk=Ji(fn(`${mh}/add`),{withTypes:()=>Yk}),e$=fn(`${mh}/removeAll`),Jk=Ji(fn(`${mh}/remove`),{withTypes:()=>Jk}),t$=(...e)=>{console.error(`${mh}/error`,...e)},Ec=(e={})=>{const t=new Map,{extra:r,onError:n=t$}=e;_x(n);const s=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),m=>{u.unsubscribe(),m!=null&&m.cancelActive&&bp(u)}),i=u=>{const m=cw(t,u)??Gk(u);return s(m)};Ji(i,{withTypes:()=>i});const o=u=>{const m=cw(t,u);return m&&(m.unsubscribe(),u.cancelActive&&bp(m)),!!m};Ji(o,{withTypes:()=>o});const l=async(u,m,h,f)=>{const p=new AbortController,v=QR(i,p.signal),y=[];try{u.pending.add(p),await Promise.resolve(u.effect(m,Ji({},h,{getOriginalState:f,condition:(x,b)=>v(x,b).then(Boolean),take:v,delay:Hk(p.signal),pause:Iu(p.signal),extra:r,signal:p.signal,fork:XR(p.signal,y),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((x,b,j)=>{x!==p&&(Vs(x,yp),j.delete(x))})},cancel:()=>{Vs(p,yp),u.pending.delete(p)},throwIfCancelled:()=>{Ws(p.signal)}})))}catch(x){x instanceof uh||dw(n,x,{raisedBy:"effect"})}finally{await Promise.all(y),Vs(p,YR),u.pending.delete(p)}},c=ZR(t);return{middleware:u=>m=>h=>{if(!Ak(h))return m(h);if(Yk.match(h))return i(h.payload);if(e$.match(h)){c();return}if(Jk.match(h))return o(h.payload);let f=u.getState();const p=()=>{if(f===lw)throw new Error(Ur(23));return f};let v;try{if(v=m(h),t.size>0){const y=u.getState(),x=Array.from(t.values());for(const b of x){let j=!1;try{j=b.predicate(h,y,f)}catch(N){j=!1,dw(n,N,{raisedBy:"predicate"})}j&&l(b,h,u,p)}}}finally{f=lw}return v},startListening:i,stopListening:o,clearListeners:c}};function Ur(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var r$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Xk=xn({name:"chartLayout",initialState:r$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:n$,setLayout:a$,setChartSize:s$,setScale:i$}=Xk.actions,o$=Xk.reducer;function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){l$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l$(e,t,r){return(t=c$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c$(e){var t=d$(e,"string");return typeof t=="symbol"?t:t+""}function d$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lu=Math.PI/180,u$=e=>e*180/Math.PI,Kt=(e,t,r,n)=>({x:e+Math.cos(-Lu*n)*r,y:t+Math.sin(-Lu*n)*r}),m$=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},h$=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},f$=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=h$({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:u$(c),angleInRadian:c}},p$=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},g$=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},x$=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=f$({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:c,endAngle:d}=p$(t),u=i,m;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;m=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;m=u>=d&&u<=c}return m?mw(mw({},t),{},{radius:s,angle:g$(u,t)}):null};function hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(r),!0).forEach(function(n){v$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v$(e,t,r){return(t=y$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y$(e){var t=b$(e,"string");return typeof t=="symbol"?t:t+""}function b$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fr(e,t,r){return ct(e)||ct(t)?r:Gn(t)?ti(e,t,r):typeof t=="function"?t(e):r}var w$=(e,t,r,n,s)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?r[c-1].coordinate:r[l-1].coordinate,u=r[c].coordinate,m=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(on(u-d)!==on(m-u)){var f=[];if(on(m-u)===on(s[1]-s[0])){h=m;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+d)/2),f[1]=Math.max(p,(p+d)/2)}else{h=d;var v=m+s[1]-s[0];f[0]=Math.min(u,(v+u)/2),f[1]=Math.max(u,(v+u)/2)}var y=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>y[0]&&e<=y[1]||e>=f[0]&&e<=f[1]){({index:o}=r[c]);break}}else{var x=Math.min(d,m),b=Math.max(d,m);if(e>(x+u)/2&&e<=(b+u)/2){({index:o}=r[c]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},j$=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&be(e[i]))return nn(nn({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&be(e[o]))return nn(nn({},e),{},{[o]:e[o]+(s||0)})}return e},Xn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Qk=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},Zk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:m,niceTicks:h,axisType:f}=e;if(!o)return null;var p=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=s==="category"&&o.bandwidth?o.bandwidth()/p:0;if(v=f==="angleAxis"&&i&&i.length>=2?on(i[0]-i[1])*2*v:v,m||h){var y=(m||h||[]).map((x,b)=>{var j=n?n.indexOf(x):x;return{coordinate:o(j)+v,value:x,offset:v,index:b}});return y.filter(x=>!Vr(x.coordinate))}return c&&d?d.map((x,b)=>({coordinate:o(x)+v,value:x,index:b,offset:v})):o.ticks&&!r&&u!=null?o.ticks(u).map((x,b)=>({coordinate:o(x)+v,value:x,offset:v,index:b})):o.domain().map((x,b)=>({coordinate:o(x)+v,value:n?n[x]:x,index:b,offset:v}))},fw=1e-4,N$=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-fw,i=Math.max(n[0],n[1])+fw,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},k$=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=Vr(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},S$=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=Vr(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},_$={sign:k$,expand:U6,none:fo,silhouette:q6,wiggle:V6,positive:S$},C$=(e,t,r)=>{var n=_$[r],s=B6().keys(t).value((i,o)=>+fr(i,o,0)).order(mp).offset(n);return s(e)};function eS(e){return e==null?void 0:String(e)}function Fu(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ct(s[t.dataKey])){var l=ox(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=fr(s,ct(o)?t.dataKey:o);return ct(c)?null:t.scale(c)}var P$=e=>{var t=e.flat(2).filter(be);return[Math.min(...t),Math.max(...t)]},E$=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],A$=(e,t,r)=>{if(e!=null)return E$(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((c,d)=>{var u=P$(d.slice(t,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},pw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=ih(t,u=>u.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var c=s[o],d=s[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function xw(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return nn(nn({},t),{},{dataKey:r,payload:n,value:s,name:i})}function hh(e,t){if(e)return String(e);if(typeof t=="string")return t}function T$(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?x$({x:e,y:t},n):null}var O$=(e,t,r,n)=>{var s=t.find(d=>d&&d.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=n;return nn(nn(nn({},n),Kt(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:c}=n;return nn(nn(nn({},n),Kt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},D$=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,us=e=>e.layout.width,ms=e=>e.layout.height,M$=e=>e.layout.scale,tS=e=>e.layout.margin,Cx=te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Px=te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),R$="data-recharts-item-index",$$="data-recharts-item-data-key",fh=60;function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){I$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I$(e,t,r){return(t=L$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L$(e){var t=F$(e,"string");return typeof t=="symbol"?t:t+""}function F$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z$=e=>e.brush.height,sr=te([us,ms,tS,z$,Cx,Px,Ck,lR],(e,t,r,n,s,i,o,l)=>{var c=i.reduce((p,v)=>{var{orientation:y}=v;if(!v.mirror&&!v.hide){var x=typeof v.width=="number"?v.width:fh;return Pa(Pa({},p),{},{[y]:p[y]+x})}return p},{left:r.left||0,right:r.right||0}),d=s.reduce((p,v)=>{var{orientation:y}=v;return!v.mirror&&!v.hide?Pa(Pa({},p),{},{[y]:ti(p,"".concat(y))+v.height}):p},{top:r.top||0,bottom:r.bottom||0}),u=Pa(Pa({},d),c),m=u.bottom;u.bottom+=n,u=j$(u,o,l);var h=e-u.left-u.right,f=t-u.top-u.bottom;return Pa(Pa({brushBottom:m},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),B$=te(sr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),rS=te(us,ms,(e,t)=>({x:0,y:0,width:e,height:t})),U$=g.createContext(null),yr=()=>g.useContext(U$)!=null,ph=e=>e.brush,gh=te([ph,sr,tS],(e,t,r)=>({height:e.height,x:be(e.x)?e.x:t.left,y:be(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:be(e.width)?e.width:t.width})),Ex=()=>{var e,t=yr(),r=Ne(B$),n=Ne(gh),s=(e=Ne(ph))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},q$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Po=()=>{var e;return(e=Ne(sr))!==null&&e!==void 0?e:q$},nS=()=>Ne(us),aS=()=>Ne(ms),Je=e=>e.layout.layoutType,xh=()=>Ne(Je),V$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},sS=xn({name:"legend",initialState:V$,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Za(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:HW,setLegendSettings:KW,addLegendPayload:W$,removeLegendPayload:H$}=sS.actions,K$=sS.reducer;function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wp.apply(null,arguments)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){G$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G$(e,t,r){return(t=Y$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y$(e){var t=J$(e,"string");return typeof t=="symbol"?t:t+""}function J$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X$(e){return Array.isArray(e)&&Gn(e[0])&&Gn(e[1])?e.join(" ~ "):e}var Q$=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:m,accessibilityLayer:h=!1}=e,f=()=>{if(i&&i.length){var w={padding:0,margin:0},k=(l?ih(i,l):i).map((S,E)=>{if(S.type==="none")return null;var R=S.formatter||o||X$,{value:_,name:C}=S,B=_,D=C;if(R){var T=R(_,C,S,E,i);if(Array.isArray(T))[B,D]=T;else if(T!=null)B=T;else return null}var $=Lf({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:$},Gn(D)?g.createElement("span",{className:"recharts-tooltip-item-name"},D):null,Gn(D)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},B),g.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:w},k)}return null},p=Lf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=Lf({margin:0},s),y=!ct(u),x=y?u:"",b=Be("recharts-default-tooltip",c),j=Be("recharts-tooltip-label",d);y&&m&&i!==void 0&&i!==null&&(x=m(u,i));var N=h?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",wp({className:b,style:p},N),g.createElement("p",{className:j,style:v},g.isValidElement(x)?x:"".concat(x)),f())},Zo="recharts-tooltip-wrapper",Z$={visibility:"hidden"};function eI(e){var{coordinate:t,translateX:r,translateY:n}=e;return Be(Zo,{["".concat(Zo,"-right")]:be(r)&&t&&be(t.x)&&r>=t.x,["".concat(Zo,"-left")]:be(r)&&t&&be(t.x)&&r<t.x,["".concat(Zo,"-bottom")]:be(n)&&t&&be(t.y)&&n>=t.y,["".concat(Zo,"-top")]:be(n)&&t&&be(t.y)&&n<t.y})}function bw(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(i&&be(i[n]))return i[n];var u=r[n]-l-(s>0?s:0),m=r[n]+s;if(t[n])return o[n]?u:m;var h=c[n];if(h==null)return 0;if(o[n]){var f=u,p=h;return f<p?Math.max(m,h):Math.max(u,h)}if(d==null)return 0;var v=m+l,y=h+d;return v>y?Math.max(u,h):Math.max(m,h)}function tI(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function rI(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,d,u,m;return o.height>0&&o.width>0&&r?(u=bw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=bw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=tI({translateX:u,translateY:m,useTranslate3d:l})):d=Z$,{cssProperties:d,cssClasses:eI({translateX:u,translateY:m,coordinate:r})}}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){jp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jp(e,t,r){return(t=nI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nI(e){var t=aI(e,"string");return typeof t=="symbol"?t:t+""}function aI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class sI extends g.PureComponent{constructor(){super(...arguments),jp(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jp(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:m,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:v,innerRef:y,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:j}=rI({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:m,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:f}),N=x?{}:jd(jd({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),w=jd(jd({},N),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:w,ref:y},i)}}var iI=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Eo={isSsr:iI()},iS=()=>Ne(e=>e.rootProps.accessibilityLayer);function pr(e){return Number.isFinite(e)}function zu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(null,arguments)}function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(n){oI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oI(e,t,r){return(t=lI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lI(e){var t=cI(e,"string");return typeof t=="symbol"?t:t+""}function cI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kw={curveBasisClosed:A6,curveBasisOpen:T6,curveBasis:E6,curveBumpX:C6,curveBumpY:P6,curveLinearClosed:O6,curveLinear:eh,curveMonotoneX:D6,curveMonotoneY:M6,curveNatural:R6,curveStep:$6,curveStepAfter:L6,curveStepBefore:I6},Nd=e=>pr(e.x)&&pr(e.y),el=e=>e.x,tl=e=>e.y,dI=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(lx(e));return(r==="curveMonotone"||r==="curveBump")&&t?kw["".concat(r).concat(t==="vertical"?"Y":"X")]:kw[r]||eh},uI=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=dI(t,s),l=i?r.filter(Nd):r,c;if(Array.isArray(n)){var d=i?n.filter(m=>Nd(m)):n,u=l.map((m,h)=>Nw(Nw({},m),{},{base:d[h]}));return s==="vertical"?c=xd().y(tl).x1(el).x0(m=>m.base.x):c=xd().x(el).y1(tl).y0(m=>m.base.y),c.defined(Nd).curve(o),c(u)}return s==="vertical"&&be(n)?c=xd().y(tl).x1(el).x0(n):be(n)?c=xd().x(el).y1(tl).y0(n):c=X4().x(el).y(tl),c.defined(Nd).curve(o),c(l)},Tl=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?uI(e):n;return g.createElement("path",Np({},De(e,!1),dx(e),{className:Be("recharts-curve",t),d:i===null?void 0:i,ref:s}))},mI=["x","y","top","left","width","height","className"];function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kp.apply(null,arguments)}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){fI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fI(e,t,r){return(t=pI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pI(e){var t=gI(e,"string");return typeof t=="symbol"?t:t+""}function gI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xI(e,t){if(e==null)return{};var r,n,s=vI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function vI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yI=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),bI=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=xI(e,mI),d=hI({x:t,y:r,top:n,left:s,width:i,height:o},c);return!be(t)||!be(r)||!be(i)||!be(o)||!be(n)||!be(s)?null:g.createElement("path",kp({},De(d,!0),{className:Be("recharts-cross",l),d:yI(t,r,i,o,n,s)}))};function wI(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){NI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NI(e,t,r){return(t=kI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kI(e){var t=SI(e,"string");return typeof t=="symbol"?t:t+""}function SI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hs(e,t){var r=jI({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}var oS={},lS={},cS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(cS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cS,r=xx,n=ah,s=sh,i=nh;function o(d,u,m){return l(d,u,void 0,void 0,void 0,void 0,m)}function l(d,u,m,h,f,p,v){const y=v(d,u,m,h,f,p);if(y!==void 0)return y;if(typeof d==typeof u)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===u;case"number":return d===u||Object.is(d,u);case"function":return d===u;case"object":return c(d,u,p,v)}return c(d,u,p,v)}function c(d,u,m,h){if(Object.is(d,u))return!0;let f=n.getTag(d),p=n.getTag(u);if(f===s.argumentsTag&&(f=s.objectTag),p===s.argumentsTag&&(p=s.objectTag),f!==p)return!1;switch(f){case s.stringTag:return d.toString()===u.toString();case s.numberTag:{const x=d.valueOf(),b=u.valueOf();return i.eq(x,b)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(d.valueOf(),u.valueOf());case s.regexpTag:return d.source===u.source&&d.flags===u.flags;case s.functionTag:return d===u}m=m??new Map;const v=m.get(d),y=m.get(u);if(v!=null&&y!=null)return v===u;m.set(d,u),m.set(u,d);try{switch(f){case s.mapTag:{if(d.size!==u.size)return!1;for(const[x,b]of d.entries())if(!u.has(x)||!l(b,u.get(x),x,d,u,m,h))return!1;return!0}case s.setTag:{if(d.size!==u.size)return!1;const x=Array.from(d.values()),b=Array.from(u.values());for(let j=0;j<x.length;j++){const N=x[j],w=b.findIndex(k=>l(N,k,void 0,d,u,m,h));if(w===-1)return!1;b.splice(w,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(u)||d.length!==u.length)return!1;for(let x=0;x<d.length;x++)if(!l(d[x],u[x],x,d,u,m,h))return!1;return!0}case s.arrayBufferTag:return d.byteLength!==u.byteLength?!1:c(new Uint8Array(d),new Uint8Array(u),m,h);case s.dataViewTag:return d.byteLength!==u.byteLength||d.byteOffset!==u.byteOffset?!1:c(new Uint8Array(d),new Uint8Array(u),m,h);case s.errorTag:return d.name===u.name&&d.message===u.message;case s.objectTag:{if(!(c(d.constructor,u.constructor,m,h)||t.isPlainObject(d)&&t.isPlainObject(u)))return!1;const b=[...Object.keys(d),...r.getSymbols(d)],j=[...Object.keys(u),...r.getSymbols(u)];if(b.length!==j.length)return!1;for(let N=0;N<b.length;N++){const w=b[N],k=d[w];if(!Object.hasOwn(u,w))return!1;const S=u[w];if(!l(k,S,w,d,u,m,h))return!1}return!0}default:return!1}}finally{m.delete(d),m.delete(u)}}e.isEqualWith=o})(lS);var dS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(dS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lS,r=dS;function n(s,i){return t.isEqualWith(s,i,r.noop)}e.isEqual=n})(oS);var _I=oS.isEqual;const CI=Jn(_I);function PI(e){var t={},r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...d]=l;if(typeof c=="number"){s=e.setTimeout(i.bind(null,d),c);return}i(c),s=e.setTimeout(i.bind(null,d));return}typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}var Bu=1e-4,uS=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],mS=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Cw=(e,t)=>r=>{var n=uS(e,t);return mS(n,r)},EI=(e,t)=>r=>{var n=uS(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return mS(s,r)},Pw=function(){for(var t,r,n,s,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,s]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else o.length===4&&([t,n,r,s]=o);var d=Cw(t,r),u=Cw(n,s),m=EI(t,r),h=p=>p>1?1:p<0?0:p,f=p=>{for(var v=p>1?1:p,y=v,x=0;x<8;++x){var b=d(y)-v,j=m(y);if(Math.abs(b-v)<Bu||j<Bu)return u(y);y=h(y-b/j)}return u(y)};return f.isStepper=!1,f},AI=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,l,c)=>{var d=-(o-l)*r,u=c*n,m=c+(d-u)*s/1e3,h=c*s/1e3+o;return Math.abs(h-l)<Bu&&Math.abs(m)<Bu?[l,0]:[h,m]};return i.isStepper=!0,i.dt=s,i},TI=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Pw(e);case"spring":return AI();default:if(e.split("(")[0]==="cubic-bezier")return Pw(e)}return typeof e=="function"?e:null};function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){OI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OI(e,t,r){return(t=DI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DI(e){var t=MI(e,"string");return typeof t=="symbol"?t:t+""}function MI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RI=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),$I=(e,t,r)=>e.map(n=>"".concat(RI(n)," ").concat(t,"ms ").concat(r)).join(","),II=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),lc=(e,t)=>Object.keys(t).reduce((r,n)=>Aw(Aw({},r),{},{[n]:e(n,t[n])}),{});function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){LI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LI(e,t,r){return(t=FI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FI(e){var t=zI(e,"string");return typeof t=="symbol"?t:t+""}function zI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uu=(e,t,r)=>e+(t-e)*r,Sp=e=>{var{from:t,to:r}=e;return t!==r},hS=(e,t,r)=>{var n=lc((s,i)=>{if(Sp(i)){var[o,l]=e(i.from,i.to,i.velocity);return Ht(Ht({},i),{},{from:o,velocity:l})}return i},t);return r<1?lc((s,i)=>Sp(i)?Ht(Ht({},i),{},{velocity:Uu(i.velocity,n[s].velocity,r),from:Uu(i.from,n[s].from,r)}):i,t):hS(e,n,r-1)};function BI(e,t,r,n,s,i){var o,l=n.reduce((h,f)=>Ht(Ht({},h),{},{[f]:{from:e[f],velocity:0,to:t[f]}}),{}),c=()=>lc((h,f)=>f.from,l),d=()=>!Object.values(l).filter(Sp).length,u=null,m=h=>{o||(o=h);var f=h-o,p=f/r.dt;l=hS(r,l,p),s(Ht(Ht(Ht({},e),t),c())),o=h,d()||(u=i.setTimeout(m))};return()=>(u=i.setTimeout(m),()=>{u()})}function UI(e,t,r,n,s,i,o){var l=null,c=s.reduce((m,h)=>Ht(Ht({},m),{},{[h]:[e[h],t[h]]}),{}),d,u=m=>{d||(d=m);var h=(m-d)/n,f=lc((v,y)=>Uu(...y,r(h)),c);if(i(Ht(Ht(Ht({},e),t),f)),h<1)l=o.setTimeout(u);else{var p=lc((v,y)=>Uu(...y,r(1)),c);i(Ht(Ht(Ht({},e),t),p))}};return()=>(l=o.setTimeout(u),()=>{l()})}const qI=(e,t,r,n,s,i)=>{var o=II(e,t);return r.isStepper===!0?BI(e,t,r,o,s,i):UI(e,t,r,n,o,s,i)};class VI{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}var WI=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.apply(null,arguments)}function HI(e,t){if(e==null)return{};var r,n,s=KI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function KI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){$s(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $s(e,t,r){return(t=GI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GI(e){var t=YI(e,"string");return typeof t=="symbol"?t:t+""}function YI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JI(){return PI(new VI)}class Ax extends g.PureComponent{constructor(t,r){super(t,r),$s(this,"mounted",!1),$s(this,"manager",null),$s(this,"stopJSAnimation",null),$s(this,"unSubscribe",null);var{isActive:n,attributeName:s,from:i,to:o,children:l,duration:c,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(i){if(typeof l=="function"){this.state={style:i};return}this.state={style:s?{[s]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:s,shouldReAnimate:i,to:o,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var d={style:s?{[s]:o}:o};this.state&&c&&(s&&c[s]!==o||!s&&c!==o)&&this.setState(d);return}if(!(CI(t.to,o)&&t.canBegin&&t.isActive)){var u=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=u||i?l:t.to;if(this.state&&c){var h={style:s?{[s]:m}:m};(s&&c[s]!==m||!s&&c!==m)&&this.setState(h)}this.runAnimation(Ea(Ea({},this.props),{},{from:m,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c}=t,d=qI(r,n,TI(i),s,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=d()};this.manager.start([c,o,u,s,l])}runAnimation(t){var{begin:r,duration:n,attributeName:s,to:i,easing:o,onAnimationStart:l,onAnimationEnd:c,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof d=="function"||o==="spring"){this.runJSAnimation(t);return}var u=s?{[s]:i}:i,m=$I(Object.keys(u),n,o);this.manager.start([l,r,Ea(Ea({},u),{},{transition:m}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:s,attributeName:i,easing:o,isActive:l,from:c,to:d,canBegin:u,onAnimationEnd:m,shouldReAnimate:h,onAnimationReStart:f,animationManager:p}=t,v=HI(t,WI),y=g.Children.count(r),x=this.state.style;if(typeof r=="function")return r(x);if(!l||y===0||s<=0)return r;var b=j=>{var{style:N={},className:w}=j.props,k=g.cloneElement(j,Ea(Ea({},v),{},{style:Ea(Ea({},N),x),className:w}));return k};return y===1?b(g.Children.only(r)):g.createElement("div",null,g.Children.map(r,j=>b(j)))}}$s(Ax,"displayName","Animate");$s(Ax,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var XI=g.createContext(null);function cc(e){var t,r,n=g.useContext(XI);return g.createElement(Ax,_p({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:JI()}))}function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qu.apply(null,arguments)}var Dw=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&s instanceof Array){for(var u=[0,0,0,0],m=0,h=4;m<h;m++)u[m]=s[m]>i?i:s[m];d="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),d+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*u[1])),d+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),d+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*u[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var f=Math.min(i,s);d="M ".concat(e,",").concat(t+o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,`
            L `).concat(e+r-l*f,",").concat(t,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*f,`
            L `).concat(e+r,",").concat(t+n-o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r-l*f,",").concat(t+n,`
            L `).concat(e+l*f,",").concat(t+n,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*f," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},QI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZI=e=>{var t=hs(e,QI),r=g.useRef(null),[n,s]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:m,animationDuration:h,animationBegin:f,isAnimationActive:p,isUpdateAnimationActive:v}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var y=Be("recharts-rectangle",u);return v?g.createElement(cc,{canBegin:n>0,from:{width:l,height:c,x:i,y:o},to:{width:l,height:c,x:i,y:o},duration:h,animationEasing:m,isActive:v},x=>{var{width:b,height:j,x:N,y:w}=x;return g.createElement(cc,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,isActive:p,easing:m},g.createElement("path",qu({},De(t,!0),{className:y,d:Dw(N,w,b,j,d),ref:r})))}):g.createElement("path",qu({},De(t,!0),{className:y,d:Dw(i,o,l,c,d)}))};function fS(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=Kt(t,r,n,s),l=Kt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cp.apply(null,arguments)}var eL=(e,t)=>{var r=on(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},kd=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,d=l*(o?1:-1)+n,u=Math.asin(l/d)/Lu,m=c?s:s+i*u,h=Kt(t,r,d,m),f=Kt(t,r,n,m),p=c?s-i*u:s,v=Kt(t,r,d*Math.cos(u*Lu),p);return{center:h,circleTangency:f,lineTangency:v,theta:u}},pS=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=eL(i,o),c=i+l,d=Kt(t,r,s,i),u=Kt(t,r,s,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=Kt(t,r,n,i),f=Kt(t,r,n,c);m+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},tL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=on(d-c),{circleTangency:m,lineTangency:h,theta:f}=kd({cx:t,cy:r,radius:s,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:p,lineTangency:v,theta:y}=kd({cx:t,cy:r,radius:s,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),x=l?Math.abs(c-d):Math.abs(c-d)-f-y;if(x<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):pS({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:d});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:N,theta:w}=kd({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:k,lineTangency:S,theta:E}=kd({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),R=l?Math.abs(c-d):Math.abs(c-d)-w-E;if(R<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},rL={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nL=e=>{var t=hs(e,rL),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:m}=t;if(i<s||d===u)return null;var h=Be("recharts-sector",m),f=i-s,p=ss(o,f,0,!0),v;return p>0&&Math.abs(d-u)<360?v=tL({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,f/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):v=pS({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u}),g.createElement("path",Cp({},De(t,!0),{className:h,d:v}))};function aL(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:d,outerRadius:u,angle:m}=t,h=Kt(l,c,d,m),f=Kt(l,c,u,m);n=h.x,s=h.y,i=f.x,o=f.y}else return fS(t);return[{x:n,y:s},{x:i,y:o}]}var gS={},xS={},vS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bx;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(vS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vS;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(xS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wx,r=xS;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=s,s+=o;return c}e.range=n})(gS);var sL=gS.range;const yS=Jn(sL);function es(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Tx(e){let t,r,n;e.length!==2?(t=es,r=(l,c)=>es(e(l),c),n=(l,c)=>e(l)-c):(t=e===es||e===iL?e:oL,r=e,n=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;r(l[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;r(l[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function o(l,c,d=0,u=l.length){const m=s(l,c,d,u-1);return m>d&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:s,center:o,right:i}}function oL(){return 0}function bS(e){return e===null?NaN:+e}function*lL(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const cL=Tx(es),Ac=cL.right;Tx(bS).center;class Mw extends Map{constructor(t,r=mL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(Rw(this,t))}has(t){return super.has(Rw(this,t))}set(t,r){return super.set(dL(this,t),r)}delete(t){return super.delete(uL(this,t))}}function Rw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function dL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function uL({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function mL(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hL(e=es){if(e===es)return wS;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function wS(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fL=Math.sqrt(50),pL=Math.sqrt(10),gL=Math.sqrt(2);function Vu(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=fL?10:i>=pL?5:i>=gL?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?Vu(e,t,r*2):[l,c,d]}function Pp(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Vu(t,e,r):Vu(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function Ep(e,t,r){return t=+t,e=+e,r=+r,Vu(e,t,r)[2]}function Ap(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Ep(t,e,r):Ep(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function $w(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Iw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function jS(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?wS:hL(s);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),m=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),f=Math.max(r,Math.floor(t-d*m/c+h)),p=Math.min(n,Math.floor(t+(c-d)*m/c+h));jS(e,t,f,p,s)}const i=e[t];let o=r,l=n;for(rl(e,r,t),s(e[n],i)>0&&rl(e,r,n);o<l;){for(rl(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?rl(e,r,l):(++l,rl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function rl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function xL(e,t,r){if(e=Float64Array.from(lL(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Iw(e);if(t>=1)return $w(e);var n,s=(n-1)*t,i=Math.floor(s),o=$w(jS(e,i).subarray(0,i+1)),l=Iw(e.subarray(i+1));return o+(l-o)*(s-i)}}function vL(e,t,r=bS){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function yL(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function vn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Tp=Symbol("implicit");function Ox(){var e=new Mw,t=[],r=[],n=Tp;function s(i){let o=e.get(i);if(o===void 0){if(n!==Tp)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Mw;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Ox(t,r).unknown(n)},vn.apply(s,arguments),s}function Dx(){var e=Ox().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function m(){var h=t().length,f=s<n,p=f?s:n,v=f?n:s;i=(v-p)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),p+=(v-p-i*(h-c))*u,o=i*(1-c),l&&(p=Math.round(p),o=Math.round(o));var y=yL(h).map(function(x){return p+i*x});return r(f?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),m()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,m()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),m()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),m()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,m()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),m()):u},e.copy=function(){return Dx(t(),[n,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},vn.apply(m(),arguments)}function NS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return NS(t())},e}function bL(){return NS(Dx.apply(null,arguments).paddingInner(1))}function Mx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function kS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Tc(){}var dc=.7,Wu=1/dc,Xi="\\s*([+-]?\\d+)\\s*",uc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wL=/^#([0-9a-f]{3,8})$/,jL=new RegExp(`^rgb\\(${Xi},${Xi},${Xi}\\)$`),NL=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),kL=new RegExp(`^rgba\\(${Xi},${Xi},${Xi},${uc}\\)$`),SL=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${uc}\\)$`),_L=new RegExp(`^hsl\\(${uc},${Vn},${Vn}\\)$`),CL=new RegExp(`^hsla\\(${uc},${Vn},${Vn},${uc}\\)$`),Lw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mx(Tc,mc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Fw,formatHex:Fw,formatHex8:PL,formatHsl:EL,formatRgb:zw,toString:zw});function Fw(){return this.rgb().formatHex()}function PL(){return this.rgb().formatHex8()}function EL(){return SS(this).formatHsl()}function zw(){return this.rgb().formatRgb()}function mc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=wL.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Bw(t):r===3?new Cr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Sd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Sd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jL.exec(e))?new Cr(t[1],t[2],t[3],1):(t=NL.exec(e))?new Cr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kL.exec(e))?Sd(t[1],t[2],t[3],t[4]):(t=SL.exec(e))?Sd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_L.exec(e))?Vw(t[1],t[2]/100,t[3]/100,1):(t=CL.exec(e))?Vw(t[1],t[2]/100,t[3]/100,t[4]):Lw.hasOwnProperty(e)?Bw(Lw[e]):e==="transparent"?new Cr(NaN,NaN,NaN,0):null}function Bw(e){return new Cr(e>>16&255,e>>8&255,e&255,1)}function Sd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Cr(e,t,r,n)}function AL(e){return e instanceof Tc||(e=mc(e)),e?(e=e.rgb(),new Cr(e.r,e.g,e.b,e.opacity)):new Cr}function Op(e,t,r,n){return arguments.length===1?AL(e):new Cr(e,t,r,n??1)}function Cr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Mx(Cr,Op,kS(Tc,{brighter(e){return e=e==null?Wu:Math.pow(Wu,e),new Cr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new Cr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Cr(Hs(this.r),Hs(this.g),Hs(this.b),Hu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Uw,formatHex:Uw,formatHex8:TL,formatRgb:qw,toString:qw}));function Uw(){return`#${Is(this.r)}${Is(this.g)}${Is(this.b)}`}function TL(){return`#${Is(this.r)}${Is(this.g)}${Is(this.b)}${Is((isNaN(this.opacity)?1:this.opacity)*255)}`}function qw(){const e=Hu(this.opacity);return`${e===1?"rgb(":"rgba("}${Hs(this.r)}, ${Hs(this.g)}, ${Hs(this.b)}${e===1?")":`, ${e})`}`}function Hu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Is(e){return e=Hs(e),(e<16?"0":"")+e.toString(16)}function Vw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pn(e,t,r,n)}function SS(e){if(e instanceof Pn)return new Pn(e.h,e.s,e.l,e.opacity);if(e instanceof Tc||(e=mc(e)),!e)return new Pn;if(e instanceof Pn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Pn(o,l,c,e.opacity)}function OL(e,t,r,n){return arguments.length===1?SS(e):new Pn(e,t,r,n??1)}function Pn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Mx(Pn,OL,kS(Tc,{brighter(e){return e=e==null?Wu:Math.pow(Wu,e),new Pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new Pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Cr(Ff(e>=240?e-240:e+120,s,n),Ff(e,s,n),Ff(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Pn(Ww(this.h),_d(this.s),_d(this.l),Hu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hu(this.opacity);return`${e===1?"hsl(":"hsla("}${Ww(this.h)}, ${_d(this.s)*100}%, ${_d(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ww(e){return e=(e||0)%360,e<0?e+360:e}function _d(e){return Math.max(0,Math.min(1,e||0))}function Ff(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Rx=e=>()=>e;function DL(e,t){return function(r){return e+r*t}}function ML(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function RL(e){return(e=+e)==1?_S:function(t,r){return r-t?ML(t,r,e):Rx(isNaN(t)?r:t)}}function _S(e,t){var r=t-e;return r?DL(e,r):Rx(isNaN(e)?t:e)}const Hw=function e(t){var r=RL(t);function n(s,i){var o=r((s=Op(s)).r,(i=Op(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=_S(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return n.gamma=e,n}(1);function $L(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function IL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LL(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Ao(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function FL(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ku(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function zL(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Ao(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var Dp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zf=new RegExp(Dp.source,"g");function BL(e){return function(){return e}}function UL(e){return function(t){return e(t)+""}}function qL(e,t){var r=Dp.lastIndex=zf.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Dp.exec(e))&&(s=zf.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Ku(n,s)})),r=zf.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?UL(c[0].x):BL(t):(t=c.length,function(d){for(var u=0,m;u<t;++u)l[(m=c[u]).i]=m.x(d);return l.join("")})}function Ao(e,t){var r=typeof t,n;return t==null||r==="boolean"?Rx(t):(r==="number"?Ku:r==="string"?(n=mc(t))?(t=n,Hw):qL:t instanceof mc?Hw:t instanceof Date?FL:IL(t)?$L:Array.isArray(t)?LL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zL:Ku)(e,t)}function $x(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function VL(e,t){t===void 0&&(t=e,e=Ao);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function WL(e){return function(){return e}}function Gu(e){return+e}var Kw=[0,1];function mr(e){return e}function Mp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:WL(isNaN(t)?NaN:.5)}function HL(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function KL(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=Mp(s,n),i=r(o,i)):(n=Mp(n,s),i=r(i,o)),function(l){return i(n(l))}}function GL(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Mp(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Ac(e,l,1,n)-1;return i[c](s[c](l))}}function Oc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vh(){var e=Kw,t=Kw,r=Ao,n,s,i,o=mr,l,c,d;function u(){var h=Math.min(e.length,t.length);return o!==mr&&(o=HL(e[0],e[h-1])),l=h>2?GL:KL,c=d=null,m}function m(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return m.invert=function(h){return o(s((d||(d=l(t,e.map(n),Ku)))(h)))},m.domain=function(h){return arguments.length?(e=Array.from(h,Gu),u()):e.slice()},m.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},m.rangeRound=function(h){return t=Array.from(h),r=$x,u()},m.clamp=function(h){return arguments.length?(o=h?!0:mr,u()):o!==mr},m.interpolate=function(h){return arguments.length?(r=h,u()):r},m.unknown=function(h){return arguments.length?(i=h,m):i},function(h,f){return n=h,s=f,u()}}function Ix(){return vh()(mr,mr)}function YL(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Yu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function go(e){return e=Yu(Math.abs(e)),e?e[1]:NaN}function JL(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function XL(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var QL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hc(e){if(!(t=QL.exec(e)))throw new Error("invalid format: "+e);var t;return new Lx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hc.prototype=Lx.prototype;function Lx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Lx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZL(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var CS;function e8(e,t){var r=Yu(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(CS=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Yu(e,Math.max(0,t+i-1))[0]}function Gw(e,t){var r=Yu(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const Yw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:YL,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Gw(e*100,t),r:Gw,s:e8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Jw(e){return e}var Xw=Array.prototype.map,Qw=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function t8(e){var t=e.grouping===void 0||e.thousands===void 0?Jw:JL(Xw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Jw:XL(Xw.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=hc(m);var h=m.fill,f=m.align,p=m.sign,v=m.symbol,y=m.zero,x=m.width,b=m.comma,j=m.precision,N=m.trim,w=m.type;w==="n"?(b=!0,w="g"):Yw[w]||(j===void 0&&(j=12),N=!0,w="g"),(y||h==="0"&&f==="=")&&(y=!0,h="0",f="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=v==="$"?n:/[%p]/.test(w)?o:"",E=Yw[w],R=/[defgprs%]/.test(w);j=j===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function _(C){var B=k,D=S,T,$,F;if(w==="c")D=E(C)+D,C="";else{C=+C;var L=C<0||1/C<0;if(C=isNaN(C)?c:E(Math.abs(C),j),N&&(C=ZL(C)),L&&+C==0&&p!=="+"&&(L=!1),B=(L?p==="("?p:l:p==="-"||p==="("?"":p)+B,D=(w==="s"?Qw[8+CS/3]:"")+D+(L&&p==="("?")":""),R){for(T=-1,$=C.length;++T<$;)if(F=C.charCodeAt(T),48>F||F>57){D=(F===46?s+C.slice(T+1):C.slice(T))+D,C=C.slice(0,T);break}}}b&&!y&&(C=t(C,1/0));var A=B.length+C.length+D.length,O=A<x?new Array(x-A+1).join(h):"";switch(b&&y&&(C=t(O+C,O.length?x-D.length:1/0),O=""),f){case"<":C=B+C+D+O;break;case"=":C=B+O+C+D;break;case"^":C=O.slice(0,A=O.length>>1)+B+C+D+O.slice(A);break;default:C=O+B+C+D;break}return i(C)}return _.toString=function(){return m+""},_}function u(m,h){var f=d((m=hc(m),m.type="f",m)),p=Math.max(-8,Math.min(8,Math.floor(go(h)/3)))*3,v=Math.pow(10,-p),y=Qw[8+p/3];return function(x){return f(v*x)+y}}return{format:d,formatPrefix:u}}var Cd,Fx,PS;r8({thousands:",",grouping:[3],currency:["$",""]});function r8(e){return Cd=t8(e),Fx=Cd.format,PS=Cd.formatPrefix,Cd}function n8(e){return Math.max(0,-go(Math.abs(e)))}function a8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(go(t)/3)))*3-go(Math.abs(e)))}function s8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,go(t)-go(e))+1}function ES(e,t,r,n){var s=Ap(e,t,r),i;switch(n=hc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=a8(s,o))&&(n.precision=i),PS(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=s8(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=n8(s))&&(n.precision=i-(n.type==="%")*2);break}}return Fx(n)}function fs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Pp(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return ES(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);u-- >0;){if(d=Ep(o,l,r),d===c)return n[s]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function AS(){var e=Ix();return e.copy=function(){return Oc(e,AS())},vn.apply(e,arguments),fs(e)}function TS(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Gu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return TS(e).unknown(t)},e=arguments.length?Array.from(e,Gu):[0,1],fs(r)}function OS(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function Zw(e){return Math.log(e)}function e1(e){return Math.exp(e)}function i8(e){return-Math.log(-e)}function o8(e){return-Math.exp(-e)}function l8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function c8(e){return e===10?l8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function d8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function t1(e){return(t,r)=>-e(-t,r)}function zx(e){const t=e(Zw,e1),r=t.domain;let n=10,s,i;function o(){return s=d8(n),i=c8(n),r()[0]<0?(s=t1(s),i=t1(i),e(i8,o8)):e(Zw,e1),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let h=s(d),f=s(u),p,v;const y=l==null?10:+l;let x=[];if(!(n%1)&&f-h<y){if(h=Math.floor(h),f=Math.ceil(f),d>0){for(;h<=f;++h)for(p=1;p<n;++p)if(v=h<0?p/i(-h):p*i(h),!(v<d)){if(v>u)break;x.push(v)}}else for(;h<=f;++h)for(p=n-1;p>=1;--p)if(v=h>0?p/i(-h):p*i(h),!(v<d)){if(v>u)break;x.push(v)}x.length*2<y&&(x=Pp(d,u,y))}else x=Pp(h,f,Math.min(f-h,y)).map(i);return m?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=hc(c)).precision==null&&(c.trim=!0),c=Fx(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let m=u/i(Math.round(s(u)));return m*n<n-.5&&(m*=n),m<=d?c(u):""}},t.nice=()=>r(OS(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function DS(){const e=zx(vh()).domain([1,10]);return e.copy=()=>Oc(e,DS()).base(e.base()),vn.apply(e,arguments),e}function r1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function n1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Bx(e){var t=1,r=e(r1(t),n1(t));return r.constant=function(n){return arguments.length?e(r1(t=+n),n1(t)):t},fs(r)}function MS(){var e=Bx(vh());return e.copy=function(){return Oc(e,MS()).constant(e.constant())},vn.apply(e,arguments)}function a1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function u8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function m8(e){return e<0?-e*e:e*e}function Ux(e){var t=e(mr,mr),r=1;function n(){return r===1?e(mr,mr):r===.5?e(u8,m8):e(a1(r),a1(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},fs(t)}function qx(){var e=Ux(vh());return e.copy=function(){return Oc(e,qx()).exponent(e.exponent())},vn.apply(e,arguments),e}function h8(){return qx.apply(null,arguments).exponent(.5)}function s1(e){return Math.sign(e)*e*e}function f8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function RS(){var e=Ix(),t=[0,1],r=!1,n;function s(i){var o=f8(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(s1(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Gu)).map(s1)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return RS(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},vn.apply(s,arguments),fs(s)}function $S(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=vL(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Ac(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(es),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return $S().domain(e).range(t).unknown(n)},vn.apply(i,arguments)}function IS(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Ac(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return IS().domain([e,t]).range(s).unknown(i)},vn.apply(fs(o),arguments)}function LS(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Ac(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return LS().domain(e).range(t).unknown(r)},vn.apply(s,arguments)}const Bf=new Date,Uf=new Date;function Et(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},s.filter=i=>Et(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Bf.setTime(+i),Uf.setTime(+o),e(Bf),e(Uf),Math.floor(r(Bf,Uf))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Ju=Et(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ju.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Et(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ju);Ju.range;const ia=1e3,ln=ia*60,oa=ln*60,pa=oa*24,Vx=pa*7,i1=pa*30,qf=pa*365,Ls=Et(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getUTCSeconds());Ls.range;const Wx=Et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ia)},(e,t)=>{e.setTime(+e+t*ln)},(e,t)=>(t-e)/ln,e=>e.getMinutes());Wx.range;const Hx=Et(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ln)},(e,t)=>(t-e)/ln,e=>e.getUTCMinutes());Hx.range;const Kx=Et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ia-e.getMinutes()*ln)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getHours());Kx.range;const Gx=Et(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getUTCHours());Gx.range;const Dc=Et(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ln)/pa,e=>e.getDate()-1);Dc.range;const yh=Et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pa,e=>e.getUTCDate()-1);yh.range;const FS=Et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pa,e=>Math.floor(e/pa));FS.range;function ci(e){return Et(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ln)/Vx)}const bh=ci(0),Xu=ci(1),p8=ci(2),g8=ci(3),xo=ci(4),x8=ci(5),v8=ci(6);bh.range;Xu.range;p8.range;g8.range;xo.range;x8.range;v8.range;function di(e){return Et(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Vx)}const wh=di(0),Qu=di(1),y8=di(2),b8=di(3),vo=di(4),w8=di(5),j8=di(6);wh.range;Qu.range;y8.range;b8.range;vo.range;w8.range;j8.range;const Yx=Et(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Yx.range;const Jx=Et(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Jx.range;const ga=Et(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ga.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Et(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ga.range;const xa=Et(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Et(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});xa.range;function zS(e,t,r,n,s,i){const o=[[Ls,1,ia],[Ls,5,5*ia],[Ls,15,15*ia],[Ls,30,30*ia],[i,1,ln],[i,5,5*ln],[i,15,15*ln],[i,30,30*ln],[s,1,oa],[s,3,3*oa],[s,6,6*oa],[s,12,12*oa],[n,1,pa],[n,2,2*pa],[r,1,Vx],[t,1,i1],[t,3,3*i1],[e,1,qf]];function l(d,u,m){const h=u<d;h&&([d,u]=[u,d]);const f=m&&typeof m.range=="function"?m:c(d,u,m),p=f?f.range(d,+u+1):[];return h?p.reverse():p}function c(d,u,m){const h=Math.abs(u-d)/m,f=Tx(([,,y])=>y).right(o,h);if(f===o.length)return e.every(Ap(d/qf,u/qf,m));if(f===0)return Ju.every(Math.max(Ap(d,u,m),1));const[p,v]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return p.every(v)}return[l,c]}const[N8,k8]=zS(xa,Jx,wh,FS,Gx,Hx),[S8,_8]=zS(ga,Yx,bh,Dc,Kx,Wx);function Vf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Wf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function C8(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=al(s),u=sl(s),m=al(i),h=sl(i),f=al(o),p=sl(o),v=al(l),y=sl(l),x=al(c),b=sl(c),j={a:L,A,b:O,B:V,c:null,d:m1,e:m1,f:J8,g:i7,G:l7,H:K8,I:G8,j:Y8,L:BS,m:X8,M:Q8,p:W,q:U,Q:p1,s:g1,S:Z8,u:e7,U:t7,V:r7,w:n7,W:a7,x:null,X:null,y:s7,Y:o7,Z:c7,"%":f1},N={a:J,A:G,b:z,B:Z,c:null,d:h1,e:h1,f:h7,g:N7,G:S7,H:d7,I:u7,j:m7,L:qS,m:f7,M:p7,p:se,q:M,Q:p1,s:g1,S:g7,u:x7,U:v7,V:y7,w:b7,W:w7,x:null,X:null,y:j7,Y:k7,Z:_7,"%":f1},w={a:_,A:C,b:B,B:D,c:T,d:d1,e:d1,f:q8,g:c1,G:l1,H:u1,I:u1,j:F8,L:U8,m:L8,M:z8,p:R,q:I8,Q:W8,s:H8,S:B8,u:O8,U:D8,V:M8,w:T8,W:R8,x:$,X:F,y:c1,Y:l1,Z:$8,"%":V8};j.x=k(r,j),j.X=k(n,j),j.c=k(t,j),N.x=k(r,N),N.X=k(n,N),N.c=k(t,N);function k(I,H){return function(q){var P=[],X=-1,re=0,de=I.length,fe,he,we;for(q instanceof Date||(q=new Date(+q));++X<de;)I.charCodeAt(X)===37&&(P.push(I.slice(re,X)),(he=o1[fe=I.charAt(++X)])!=null?fe=I.charAt(++X):he=fe==="e"?" ":"0",(we=H[fe])&&(fe=we(q,he)),P.push(fe),re=X+1);return P.push(I.slice(re,X)),P.join("")}}function S(I,H){return function(q){var P=nl(1900,void 0,1),X=E(P,I,q+="",0),re,de;if(X!=q.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(H&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(re=Wf(nl(P.y,0,1)),de=re.getUTCDay(),re=de>4||de===0?Qu.ceil(re):Qu(re),re=yh.offset(re,(P.V-1)*7),P.y=re.getUTCFullYear(),P.m=re.getUTCMonth(),P.d=re.getUTCDate()+(P.w+6)%7):(re=Vf(nl(P.y,0,1)),de=re.getDay(),re=de>4||de===0?Xu.ceil(re):Xu(re),re=Dc.offset(re,(P.V-1)*7),P.y=re.getFullYear(),P.m=re.getMonth(),P.d=re.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),de="Z"in P?Wf(nl(P.y,0,1)).getUTCDay():Vf(nl(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(de+5)%7:P.w+P.U*7-(de+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,Wf(P)):Vf(P)}}function E(I,H,q,P){for(var X=0,re=H.length,de=q.length,fe,he;X<re;){if(P>=de)return-1;if(fe=H.charCodeAt(X++),fe===37){if(fe=H.charAt(X++),he=w[fe in o1?H.charAt(X++):fe],!he||(P=he(I,q,P))<0)return-1}else if(fe!=q.charCodeAt(P++))return-1}return P}function R(I,H,q){var P=d.exec(H.slice(q));return P?(I.p=u.get(P[0].toLowerCase()),q+P[0].length):-1}function _(I,H,q){var P=f.exec(H.slice(q));return P?(I.w=p.get(P[0].toLowerCase()),q+P[0].length):-1}function C(I,H,q){var P=m.exec(H.slice(q));return P?(I.w=h.get(P[0].toLowerCase()),q+P[0].length):-1}function B(I,H,q){var P=x.exec(H.slice(q));return P?(I.m=b.get(P[0].toLowerCase()),q+P[0].length):-1}function D(I,H,q){var P=v.exec(H.slice(q));return P?(I.m=y.get(P[0].toLowerCase()),q+P[0].length):-1}function T(I,H,q){return E(I,t,H,q)}function $(I,H,q){return E(I,r,H,q)}function F(I,H,q){return E(I,n,H,q)}function L(I){return o[I.getDay()]}function A(I){return i[I.getDay()]}function O(I){return c[I.getMonth()]}function V(I){return l[I.getMonth()]}function W(I){return s[+(I.getHours()>=12)]}function U(I){return 1+~~(I.getMonth()/3)}function J(I){return o[I.getUTCDay()]}function G(I){return i[I.getUTCDay()]}function z(I){return c[I.getUTCMonth()]}function Z(I){return l[I.getUTCMonth()]}function se(I){return s[+(I.getUTCHours()>=12)]}function M(I){return 1+~~(I.getUTCMonth()/3)}return{format:function(I){var H=k(I+="",j);return H.toString=function(){return I},H},parse:function(I){var H=S(I+="",!1);return H.toString=function(){return I},H},utcFormat:function(I){var H=k(I+="",N);return H.toString=function(){return I},H},utcParse:function(I){var H=S(I+="",!0);return H.toString=function(){return I},H}}}var o1={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,P8=/^%/,E8=/[\\^$*+?|[\]().{}]/g;function Oe(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function A8(e){return e.replace(E8,"\\$&")}function al(e){return new RegExp("^(?:"+e.map(A8).join("|")+")","i")}function sl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function T8(e,t,r){var n=Ft.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function O8(e,t,r){var n=Ft.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function D8(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function M8(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function R8(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function l1(e,t,r){var n=Ft.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function c1(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $8(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function I8(e,t,r){var n=Ft.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function L8(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function d1(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function F8(e,t,r){var n=Ft.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function u1(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function z8(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function B8(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function U8(e,t,r){var n=Ft.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function q8(e,t,r){var n=Ft.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function V8(e,t,r){var n=P8.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function W8(e,t,r){var n=Ft.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function H8(e,t,r){var n=Ft.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function m1(e,t){return Oe(e.getDate(),t,2)}function K8(e,t){return Oe(e.getHours(),t,2)}function G8(e,t){return Oe(e.getHours()%12||12,t,2)}function Y8(e,t){return Oe(1+Dc.count(ga(e),e),t,3)}function BS(e,t){return Oe(e.getMilliseconds(),t,3)}function J8(e,t){return BS(e,t)+"000"}function X8(e,t){return Oe(e.getMonth()+1,t,2)}function Q8(e,t){return Oe(e.getMinutes(),t,2)}function Z8(e,t){return Oe(e.getSeconds(),t,2)}function e7(e){var t=e.getDay();return t===0?7:t}function t7(e,t){return Oe(bh.count(ga(e)-1,e),t,2)}function US(e){var t=e.getDay();return t>=4||t===0?xo(e):xo.ceil(e)}function r7(e,t){return e=US(e),Oe(xo.count(ga(e),e)+(ga(e).getDay()===4),t,2)}function n7(e){return e.getDay()}function a7(e,t){return Oe(Xu.count(ga(e)-1,e),t,2)}function s7(e,t){return Oe(e.getFullYear()%100,t,2)}function i7(e,t){return e=US(e),Oe(e.getFullYear()%100,t,2)}function o7(e,t){return Oe(e.getFullYear()%1e4,t,4)}function l7(e,t){var r=e.getDay();return e=r>=4||r===0?xo(e):xo.ceil(e),Oe(e.getFullYear()%1e4,t,4)}function c7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Oe(t/60|0,"0",2)+Oe(t%60,"0",2)}function h1(e,t){return Oe(e.getUTCDate(),t,2)}function d7(e,t){return Oe(e.getUTCHours(),t,2)}function u7(e,t){return Oe(e.getUTCHours()%12||12,t,2)}function m7(e,t){return Oe(1+yh.count(xa(e),e),t,3)}function qS(e,t){return Oe(e.getUTCMilliseconds(),t,3)}function h7(e,t){return qS(e,t)+"000"}function f7(e,t){return Oe(e.getUTCMonth()+1,t,2)}function p7(e,t){return Oe(e.getUTCMinutes(),t,2)}function g7(e,t){return Oe(e.getUTCSeconds(),t,2)}function x7(e){var t=e.getUTCDay();return t===0?7:t}function v7(e,t){return Oe(wh.count(xa(e)-1,e),t,2)}function VS(e){var t=e.getUTCDay();return t>=4||t===0?vo(e):vo.ceil(e)}function y7(e,t){return e=VS(e),Oe(vo.count(xa(e),e)+(xa(e).getUTCDay()===4),t,2)}function b7(e){return e.getUTCDay()}function w7(e,t){return Oe(Qu.count(xa(e)-1,e),t,2)}function j7(e,t){return Oe(e.getUTCFullYear()%100,t,2)}function N7(e,t){return e=VS(e),Oe(e.getUTCFullYear()%100,t,2)}function k7(e,t){return Oe(e.getUTCFullYear()%1e4,t,4)}function S7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?vo(e):vo.ceil(e),Oe(e.getUTCFullYear()%1e4,t,4)}function _7(){return"+0000"}function f1(){return"%"}function p1(e){return+e}function g1(e){return Math.floor(+e/1e3)}var Ni,WS,HS;C7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function C7(e){return Ni=C8(e),WS=Ni.format,Ni.parse,HS=Ni.utcFormat,Ni.utcParse,Ni}function P7(e){return new Date(e)}function E7(e){return e instanceof Date?+e:+new Date(+e)}function Xx(e,t,r,n,s,i,o,l,c,d){var u=Ix(),m=u.invert,h=u.domain,f=d(".%L"),p=d(":%S"),v=d("%I:%M"),y=d("%I %p"),x=d("%a %d"),b=d("%b %d"),j=d("%B"),N=d("%Y");function w(k){return(c(k)<k?f:l(k)<k?p:o(k)<k?v:i(k)<k?y:n(k)<k?s(k)<k?x:b:r(k)<k?j:N)(k)}return u.invert=function(k){return new Date(m(k))},u.domain=function(k){return arguments.length?h(Array.from(k,E7)):h().map(P7)},u.ticks=function(k){var S=h();return e(S[0],S[S.length-1],k??10)},u.tickFormat=function(k,S){return S==null?w:d(S)},u.nice=function(k){var S=h();return(!k||typeof k.range!="function")&&(k=t(S[0],S[S.length-1],k??10)),k?h(OS(S,k)):u},u.copy=function(){return Oc(u,Xx(e,t,r,n,s,i,o,l,c,d))},u}function A7(){return vn.apply(Xx(S8,_8,ga,Yx,bh,Dc,Kx,Wx,Ls,WS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function T7(){return vn.apply(Xx(N8,k8,xa,Jx,wh,yh,Gx,Hx,Ls,HS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jh(){var e=0,t=1,r,n,s,i,o=mr,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function u(m){return function(h){var f,p;return arguments.length?([f,p]=h,o=m(f,p),d):[o(0),o(1)]}}return d.range=u(Ao),d.rangeRound=u($x),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),d}}function ps(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KS(){var e=fs(jh()(mr));return e.copy=function(){return ps(e,KS())},wa.apply(e,arguments)}function GS(){var e=zx(jh()).domain([1,10]);return e.copy=function(){return ps(e,GS()).base(e.base())},wa.apply(e,arguments)}function YS(){var e=Bx(jh());return e.copy=function(){return ps(e,YS()).constant(e.constant())},wa.apply(e,arguments)}function Qx(){var e=Ux(jh());return e.copy=function(){return ps(e,Qx()).exponent(e.exponent())},wa.apply(e,arguments)}function O7(){return Qx.apply(null,arguments).exponent(.5)}function JS(){var e=[],t=mr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ac(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(es),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>xL(e,i/n))},r.copy=function(){return JS(t).domain(e)},wa.apply(r,arguments)}function Nh(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,d=mr,u,m=!1,h;function f(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-i)*(n*v<n*i?l:c),d(m?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([e,t,r]=v,s=u(e=+e),i=u(t=+t),o=u(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,f):[e,t,r]},f.clamp=function(v){return arguments.length?(m=!!v,f):m},f.interpolator=function(v){return arguments.length?(d=v,f):d};function p(v){return function(y){var x,b,j;return arguments.length?([x,b,j]=y,d=VL(v,[x,b,j]),f):[d(0),d(.5),d(1)]}}return f.range=p(Ao),f.rangeRound=p($x),f.unknown=function(v){return arguments.length?(h=v,f):h},function(v){return u=v,s=v(e),i=v(t),o=v(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,f}}function XS(){var e=fs(Nh()(mr));return e.copy=function(){return ps(e,XS())},wa.apply(e,arguments)}function QS(){var e=zx(Nh()).domain([.1,1,10]);return e.copy=function(){return ps(e,QS()).base(e.base())},wa.apply(e,arguments)}function ZS(){var e=Bx(Nh());return e.copy=function(){return ps(e,ZS()).constant(e.constant())},wa.apply(e,arguments)}function Zx(){var e=Ux(Nh());return e.copy=function(){return ps(e,Zx()).exponent(e.exponent())},wa.apply(e,arguments)}function D7(){return Zx.apply(null,arguments).exponent(.5)}const fl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Dx,scaleDiverging:XS,scaleDivergingLog:QS,scaleDivergingPow:Zx,scaleDivergingSqrt:D7,scaleDivergingSymlog:ZS,scaleIdentity:TS,scaleImplicit:Tp,scaleLinear:AS,scaleLog:DS,scaleOrdinal:Ox,scalePoint:bL,scalePow:qx,scaleQuantile:$S,scaleQuantize:IS,scaleRadial:RS,scaleSequential:KS,scaleSequentialLog:GS,scaleSequentialPow:Qx,scaleSequentialQuantile:JS,scaleSequentialSqrt:O7,scaleSequentialSymlog:YS,scaleSqrt:h8,scaleSymlog:MS,scaleThreshold:LS,scaleTime:A7,scaleUtc:T7,tickFormat:ES},Symbol.toStringTag,{value:"Module"}));var To=e=>e.chartData,M7=te([To],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ev=(e,t,r,n)=>n?M7(e):To(e);function yo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(pr(t)&&pr(r))return!0}return!1}function x1(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function R7(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(pr(r))s=r;else if(typeof r=="function")return;if(pr(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(yo(o))return o}}function $7(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(yo(n))return x1(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(be(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&pw.test(s)){var c=pw.exec(s);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(be(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&gw.test(i)){var u=gw.exec(i);if(u==null||t==null)l=void 0;else{var m=+u[1];l=t[1]+m}}else l=t==null?void 0:t[1];var h=[o,l];if(yo(h))return t==null?h:x1(h,t,r)}}}var Oo=1e9,I7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rv,at=!0,pn="[DecimalError] ",Ks=pn+"Invalid argument: ",tv=pn+"Exponent out of range: ",Do=Math.floor,As=Math.pow,L7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fr,Rt=1e7,Ze=7,e_=9007199254740991,Zu=Do(e_/Ze),ve={};ve.absoluteValue=ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ve.comparedTo=ve.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ze;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ve.dividedBy=ve.div=function(e){return ca(this,new this.constructor(e))};ve.dividedToIntegerBy=ve.idiv=function(e){var t=this,r=t.constructor;return qe(ca(t,new r(e),0,1),r.precision)};ve.equals=ve.eq=function(e){return!this.cmp(e)};ve.exponent=function(){return wt(this)};ve.greaterThan=ve.gt=function(e){return this.cmp(e)>0};ve.greaterThanOrEqualTo=ve.gte=function(e){return this.cmp(e)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(e){return this.cmp(e)<0};ve.lessThanOrEqualTo=ve.lte=function(e){return this.cmp(e)<1};ve.logarithm=ve.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Fr))throw Error(pn+"NaN");if(r.s<1)throw Error(pn+(r.s?"NaN":"-Infinity"));return r.eq(Fr)?new n(0):(at=!1,t=ca(fc(r,i),fc(e,i),i),at=!0,qe(t,s))};ve.minus=ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?n_(t,e):t_(t,(e.s=-e.s,e))};ve.modulo=ve.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(pn+"NaN");return r.s?(at=!1,t=ca(r,e,0,1).times(e),at=!0,r.minus(t)):qe(new n(r),s)};ve.naturalExponential=ve.exp=function(){return r_(this)};ve.naturalLogarithm=ve.ln=function(){return fc(this)};ve.negated=ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ve.plus=ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?t_(t,e):n_(t,(e.s=-e.s,e))};ve.precision=ve.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ks+e);if(t=wt(s)+1,n=s.d.length-1,r=n*Ze+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ve.squareRoot=ve.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(pn+"NaN")}for(e=wt(l),at=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Bn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Do((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(ca(l,i,o+2)).times(.5),Bn(i.d).slice(0,o)===(t=Bn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(qe(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return at=!0,qe(n,r)};ve.times=ve.mul=function(e){var t,r,n,s,i,o,l,c,d,u=this,m=u.constructor,h=u.d,f=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,d=f.length,c<d&&(i=h,h=f,f=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+f[n]*h[s-n-1]+t,i[s--]=l%Rt|0,t=l/Rt|0;i[s]=(i[s]+t)%Rt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,at?qe(e,m.precision):e};ve.toDecimalPlaces=ve.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Yn(e,0,Oo),t===void 0?t=n.rounding:Yn(t,0,8),qe(r,e+wt(r)+1,t))};ve.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=ai(n,!0):(Yn(e,0,Oo),t===void 0?t=s.rounding:Yn(t,0,8),n=qe(new s(n),e+1,t),r=ai(n,!0,e+1)),r};ve.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?ai(s):(Yn(e,0,Oo),t===void 0?t=i.rounding:Yn(t,0,8),n=qe(new i(s),e+wt(s)+1,t),r=ai(n.abs(),!1,e+wt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ve.toInteger=ve.toint=function(){var e=this,t=e.constructor;return qe(new t(e),wt(e)+1,t.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Fr);if(l=new c(l),!l.s){if(e.s<1)throw Error(pn+"Infinity");return l}if(l.eq(Fr))return l;if(n=c.precision,e.eq(Fr))return qe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=e_){for(s=new c(Fr),t=Math.ceil(n/Ze+4),at=!1;r%2&&(s=s.times(l),y1(s.d,t)),r=Do(r/2),r!==0;)l=l.times(l),y1(l.d,t);return at=!0,e.s<0?new c(Fr).div(s):qe(s,n)}}else if(i<0)throw Error(pn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,at=!1,s=e.times(fc(l,n+d)),at=!0,s=r_(s),s.s=i,s};ve.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=wt(s),n=ai(s,r<=i.toExpNeg||r>=i.toExpPos)):(Yn(e,1,Oo),t===void 0?t=i.rounding:Yn(t,0,8),s=qe(new i(s),e,t),r=wt(s),n=ai(s,e<=r||r<=i.toExpNeg,e)),n};ve.toSignificantDigits=ve.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Yn(e,1,Oo),t===void 0?t=n.rounding:Yn(t,0,8)),qe(new n(r),e,t)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wt(e),r=e.constructor;return ai(e,t<=r.toExpNeg||t>=r.toExpPos)};function t_(e,t){var r,n,s,i,o,l,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),at?qe(t,m):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,s=o,l=c.length),o=Math.ceil(m/Ze),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Rt|0,c[i]%=Rt;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,at?qe(t,m):t}function Yn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ks+e)}function Bn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Ze-n.length,r&&(i+=Ra(r)),i+=n;o=e[t],n=o+"",r=Ze-n.length,r&&(i+=Ra(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ca=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Rt|0,o=i/Rt|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Rt+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,d,u,m,h,f,p,v,y,x,b,j,N,w,k,S,E,R=n.constructor,_=n.s==s.s?1:-1,C=n.d,B=s.d;if(!n.s)return new R(n);if(!s.s)throw Error(pn+"Division by zero");for(c=n.e-s.e,S=B.length,w=C.length,f=new R(_),p=f.d=[],d=0;B[d]==(C[d]||0);)++d;if(B[d]>(C[d]||0)&&--c,i==null?b=i=R.precision:o?b=i+(wt(n)-wt(s))+1:b=i,b<0)return new R(0);if(b=b/Ze+2|0,d=0,S==1)for(u=0,B=B[0],b++;(d<w||u)&&b--;d++)j=u*Rt+(C[d]||0),p[d]=j/B|0,u=j%B|0;else{for(u=Rt/(B[0]+1)|0,u>1&&(B=e(B,u),C=e(C,u),S=B.length,w=C.length),N=S,v=C.slice(0,S),y=v.length;y<S;)v[y++]=0;E=B.slice(),E.unshift(0),k=B[0],B[1]>=Rt/2&&++k;do u=0,l=t(B,v,S,y),l<0?(x=v[0],S!=y&&(x=x*Rt+(v[1]||0)),u=x/k|0,u>1?(u>=Rt&&(u=Rt-1),m=e(B,u),h=m.length,y=v.length,l=t(m,v,h,y),l==1&&(u--,r(m,S<h?E:B,h))):(u==0&&(l=u=1),m=B.slice()),h=m.length,h<y&&m.unshift(0),r(v,m,y),l==-1&&(y=v.length,l=t(B,v,S,y),l<1&&(u++,r(v,S<y?E:B,y))),y=v.length):l===0&&(u++,v=[0]),p[d++]=u,l&&v[0]?v[y++]=C[N]||0:(v=[C[N]],y=1);while((N++<w||v[0]!==void 0)&&b--)}return p[0]||p.shift(),f.e=c,qe(f,o?i+wt(f)+1:i)}}();function r_(e,t){var r,n,s,i,o,l,c=0,d=0,u=e.constructor,m=u.precision;if(wt(e)>16)throw Error(tv+wt(e));if(!e.s)return new u(Fr);for(t==null?(at=!1,l=m):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(As(2,d))/Math.LN10*2+5|0,l+=n,r=s=i=new u(Fr),u.precision=l;;){if(s=qe(s.times(e),l),r=r.times(++c),o=i.plus(ca(s,r,l)),Bn(o.d).slice(0,l)===Bn(i.d).slice(0,l)){for(;d--;)i=qe(i.times(i),l);return u.precision=m,t==null?(at=!0,qe(i,m)):i}i=o}}function wt(e){for(var t=e.e*Ze,r=e.d[0];r>=10;r/=10)t++;return t}function Hf(e,t,r){if(t>e.LN10.sd())throw at=!0,r&&(e.precision=r),Error(pn+"LN10 precision limit exceeded");return qe(new e(e.LN10),t)}function Ra(e){for(var t="";e--;)t+="0";return t}function fc(e,t){var r,n,s,i,o,l,c,d,u,m=1,h=10,f=e,p=f.d,v=f.constructor,y=v.precision;if(f.s<1)throw Error(pn+(f.s?"NaN":"-Infinity"));if(f.eq(Fr))return new v(0);if(t==null?(at=!1,d=y):d=t,f.eq(10))return t==null&&(at=!0),Hf(v,d);if(d+=h,v.precision=d,r=Bn(p),n=r.charAt(0),i=wt(f),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(e),r=Bn(f.d),n=r.charAt(0),m++;i=wt(f),n>1?(f=new v("0."+r),i++):f=new v(n+"."+r.slice(1))}else return c=Hf(v,d+2,y).times(i+""),f=fc(new v(n+"."+r.slice(1)),d-h).plus(c),v.precision=y,t==null?(at=!0,qe(f,y)):f;for(l=o=f=ca(f.minus(Fr),f.plus(Fr),d),u=qe(f.times(f),d),s=3;;){if(o=qe(o.times(u),d),c=l.plus(ca(o,new v(s),d)),Bn(c.d).slice(0,d)===Bn(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(Hf(v,d+2,y).times(i+""))),l=ca(l,new v(m),d),v.precision=y,t==null?(at=!0,qe(l,y)):l;l=c,s+=2}}function v1(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Do(r/Ze),e.d=[],n=(r+1)%Ze,r<0&&(n+=Ze),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Ze;n<s;)e.d.push(+t.slice(n,n+=Ze));t=t.slice(n),n=Ze-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),at&&(e.e>Zu||e.e<-Zu))throw Error(tv+r)}else e.s=0,e.e=0,e.d=[0];return e}function qe(e,t,r){var n,s,i,o,l,c,d,u,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ze,s=t,d=m[u=0];else{if(u=Math.ceil((n+1)/Ze),i=m.length,u>=i)return e;for(d=i=m[u],o=1;i>=10;i/=10)o++;n%=Ze,s=n-Ze+o}if(r!==void 0&&(i=As(10,o-s-1),l=d/i%10|0,c=t<0||m[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?d/As(10,o-s):0:m[u-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=wt(e),m.length=1,t=t-i-1,m[0]=As(10,(Ze-t%Ze)%Ze),e.e=Do(-t/Ze)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=u,i=1,u--):(m.length=u+1,i=As(10,Ze-n),m[u]=s>0?(d/As(10,o-s)%As(10,s)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==Rt&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=Rt)break;m[u--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(at&&(e.e>Zu||e.e<-Zu))throw Error(tv+wt(e));return e}function n_(e,t){var r,n,s,i,o,l,c,d,u,m,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),at?qe(t,f):t;if(c=e.d,m=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=m.length):(r=m,n=d,l=c.length),s=Math.max(Math.ceil(f/Ze),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=m.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=m[s]){u=c[s]<m[s];break}o=0}for(u&&(r=c,c=m,m=r,t.s=-t.s),l=c.length,s=m.length-l;s>0;--s)c[l++]=0;for(s=m.length;s>o;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=Rt-1;--c[i],c[s]+=Rt}c[s]-=m[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,at?qe(t,f):t):new h(0)}function ai(e,t,r){var n,s=wt(e),i=Bn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ra(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Ra(-s-1)+i,r&&(n=r-o)>0&&(i+=Ra(n))):s>=o?(i+=Ra(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Ra(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Ra(n))),e.s<0?"-"+i:i}function y1(e,t){if(e.length>t)return e.length=t,!0}function a_(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ks+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return v1(o,i.toString())}else if(typeof i!="string")throw Error(Ks+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,L7.test(i))v1(o,i);else throw Error(Ks+i)}if(s.prototype=ve,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=a_,s.config=s.set=F7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function F7(e){if(!e||typeof e!="object")throw Error(pn+"Object expected");var t,r,n,s=["precision",1,Oo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Do(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Ks+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ks+r+": "+n);return this}var rv=a_(I7);Fr=new rv(1);const Me=rv;var z7=e=>e,s_={"@@functional/placeholder":!0},i_=e=>e===s_,b1=e=>function t(){return arguments.length===0||arguments.length===1&&i_(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},o_=(e,t)=>e===1?t:b1(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==s_).length;return i>=e?t(...n):o_(e-i,b1(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=n.map(u=>i_(u)?l.shift():u);return t(...d,...l)}))}),kh=e=>o_(e.length,e),Rp=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},B7=kh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),U7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return z7;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},$p=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),l_=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=s,r=e(...s)),r}};function c_(e){var t;return e===0?t=1:t=Math.floor(new Me(e).abs().log(10).toNumber())+1,t}function d_(e,t,r){for(var n=new Me(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}kh((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});kh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});kh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var u_=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},m_=(e,t,r)=>{if(e.lte(0))return new Me(0);var n=c_(e.toNumber()),s=new Me(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Me(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?new Me(c.toNumber()):new Me(Math.ceil(c.toNumber()))},q7=(e,t,r)=>{var n=new Me(1),s=new Me(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Me(10).pow(c_(e)-1),s=new Me(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Me(Math.floor(e)))}else e===0?s=new Me(Math.floor((t-1)/2)):r||(s=new Me(Math.floor(e)));var o=Math.floor((t-1)/2),l=U7(B7(c=>s.add(new Me(c-o).mul(n)).toNumber()),Rp);return l(0,t)},h_=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Me(0),tickMin:new Me(0),tickMax:new Me(0)};var o=m_(new Me(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new Me(0):(l=new Me(t).add(r).div(2),l=l.sub(new Me(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new Me(r).sub(l).div(o).toNumber()),u=c+d+1;return u>n?h_(t,r,n,s,i+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:o,tickMin:l.sub(new Me(c).mul(o)),tickMax:l.add(new Me(d).mul(o))})};function V7(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=u_([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Rp(0,n-1).map(()=>1/0)]:[...Rp(0,n-1).map(()=>-1/0),l];return t>r?$p(c):c}if(o===l)return q7(o,n,s);var{step:d,tickMin:u,tickMax:m}=h_(o,l,i,s,0),h=d_(u,m.add(new Me(.1).mul(d)),d);return t>r?$p(h):h}function W7(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=u_([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=m_(new Me(o).sub(i).div(l-1),s,0),d=[...d_(new Me(i),new Me(o).sub(new Me(.99).mul(c)),c),o];return r>n?$p(d):d}var H7=l_(V7),K7=l_(W7),G7=e=>e.rootProps.barCategoryGap,Sh=e=>e.rootProps.stackOffset,nv=e=>e.options.chartName,av=e=>e.rootProps.syncId,f_=e=>e.rootProps.syncMethod,sv=e=>e.options.eventEmitter,ra={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Ir={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},_h=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Y7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ra.angleAxisId,includeHidden:!1,name:void 0,reversed:ra.reversed,scale:ra.scale,tick:ra.tick,tickCount:void 0,ticks:void 0,type:ra.type,unit:void 0},J7={allowDataOverflow:Ir.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ir.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ir.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ir.scale,tick:Ir.tick,tickCount:Ir.tickCount,ticks:void 0,type:Ir.type,unit:void 0},X7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ra.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ra.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ra.scale,tick:ra.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Q7={allowDataOverflow:Ir.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ir.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ir.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ir.scale,tick:Ir.tick,tickCount:Ir.tickCount,ticks:void 0,type:"category",unit:void 0},iv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?X7:Y7,ov=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Q7:J7,Ch=e=>e.polarOptions,lv=te([us,ms,sr],m$),p_=te([Ch,lv],(e,t)=>{if(e!=null)return ss(e.innerRadius,t,0)}),g_=te([Ch,lv],(e,t)=>{if(e!=null)return ss(e.outerRadius,t,t*.8)}),Z7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},x_=te([Ch],Z7);te([iv,x_],_h);var v_=te([lv,p_,g_],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});te([ov,v_],_h);var eF=te([Je,Ch,p_,g_,us,ms],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:d}=t;return{cx:ss(o,s,s/2),cy:ss(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),zt=(e,t)=>t,Ph=(e,t,r)=>r;function w1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w1(Object(r),!0).forEach(function(n){tF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tF(e,t,r){return(t=rF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e){var t=nF(e,"string");return typeof t=="symbol"?t:t+""}function nF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ip=[0,"auto"],Dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ja=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Dr},Mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ip,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:fh},gs=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Mr},aF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},cv=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??aF},Tr=(e,t,r)=>{switch(t){case"xAxis":return ja(e,r);case"yAxis":return gs(e,r);case"zAxis":return cv(e,r);case"angleAxis":return iv(e,r);case"radiusAxis":return ov(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sF=(e,t,r)=>{switch(t){case"xAxis":return ja(e,r);case"yAxis":return gs(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Mc=(e,t,r)=>{switch(t){case"xAxis":return ja(e,r);case"yAxis":return gs(e,r);case"angleAxis":return iv(e,r);case"radiusAxis":return ov(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},y_=e=>e.graphicalItems.countOfBars>0;function b_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var dv=e=>e.graphicalItems.cartesianItems,iF=te([zt,Ph],b_),w_=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Rc=te([dv,Tr,iF],w_),j_=e=>e.filter(t=>t.stackId===void 0),oF=te([Rc],j_),N_=e=>e.map(t=>t.data).filter(Boolean).flat(1),lF=te([Rc],N_),k_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},Eh=te([lF,ev],k_),S_=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:fr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:fr(s,n)}))):e.map(n=>({value:n})),Ah=te([Eh,Tr,Rc],S_);function __(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ui(e){return e.filter(t=>Gn(t)||t instanceof Date).map(Number).filter(t=>Vr(t)===!1)}function cF(e,t,r){return!r||typeof t!="number"||Vr(t)?[]:r.length?ui(r.flatMap(n=>{var s=fr(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!pr(i)||!pr(o)))return[t-i,t+o]})):[]}var C_=(e,t,r)=>{var n={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=l.map(d=>d.dataKey);return[o,{stackedData:C$(e,c,r),graphicalItems:l}]}))},Lp=te([Eh,Rc,Sh],C_),P_=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=A$(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},dF=te([Lp,To,zt],P_),E_=(e,t,r,n)=>r.length>0?e.flatMap(s=>r.flatMap(i=>{var o,l,c=(o=i.errorBars)===null||o===void 0?void 0:o.filter(u=>__(n,u)),d=fr(s,(l=t.dataKey)!==null&&l!==void 0?l:i.dataKey);return{value:d,errorDomain:cF(s,d,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:fr(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),uF=te(Eh,Tr,oF,zt,E_);function mF(e){var{value:t}=e;if(Gn(t)||t instanceof Date)return t}var hF=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=ui(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},fF=(e,t,r)=>{var n=e.map(mF).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&U4(n))?yS(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},uv=e=>{var t;if(e==null||!("domain"in e))return Ip;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ui(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ip},mv=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},A_=e=>e.referenceElements.dots,Mo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),pF=te([A_,zt,Ph],Mo),T_=e=>e.referenceElements.areas,gF=te([T_,zt,Ph],Mo),O_=e=>e.referenceElements.lines,xF=te([O_,zt,Ph],Mo),D_=(e,t)=>{var r=ui(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},vF=te(pF,zt,D_),M_=(e,t)=>{var r=ui(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},yF=te([gF,zt],M_),R_=(e,t)=>{var r=ui(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bF=te(xF,zt,R_),wF=te(vF,bF,yF,(e,t,r)=>mv(e,r,t)),jF=te([Tr],uv),$_=(e,t,r,n,s)=>{var i=R7(t,e.allowDataOverflow);return i??$7(t,mv(r,s,hF(n)),e.allowDataOverflow)},NF=te([Tr,jF,dF,uF,wF],$_),kF=[0,1],I_=(e,t,r,n,s,i,o)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:l,type:c}=e,d=Xn(t,i);return d&&l==null?yS(0,r.length):c==="category"?fF(n,e,d):s==="expand"?kF:o}},hv=te([Tr,Je,Eh,Ah,Sh,zt,NF],I_),L_=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(lx(i));return l in fl?l:"point"}}},$c=te([Tr,Je,y_,nv,zt],L_);function SF(e){if(e!=null){if(e in fl)return fl[e]();var t="scale".concat(lx(e));if(t in fl)return fl[t]()}}function fv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=SF(t);if(s!=null){var i=s.domain(r).range(n);return N$(i),i}}}var F_=(e,t,r)=>{var n=uv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&yo(e))return H7(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&yo(e))return K7(e,t.tickCount,t.allowDecimals)}},pv=te([hv,Mc,$c],F_),z_=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&yo(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},_F=te([Tr,hv,pv,zt],z_),CF=te(Ah,Tr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ui(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),B_=te(CF,Je,G7,sr,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!pr(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=ss(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),PF=(e,t)=>{var r=ja(e,t);return r==null||typeof r.padding!="string"?0:B_(e,"xAxis",t,r.padding)},EF=(e,t)=>{var r=gs(e,t);return r==null||typeof r.padding!="string"?0:B_(e,"yAxis",t,r.padding)},AF=te(ja,PF,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),TF=te(gs,EF,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),OF=te([sr,AF,gh,ph,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),DF=te([sr,Je,TF,gh,ph,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ic=(e,t,r,n)=>{var s;switch(t){case"xAxis":return OF(e,r,n);case"yAxis":return DF(e,r,n);case"zAxis":return(s=cv(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return x_(e);case"radiusAxis":return v_(e,r);default:return}},U_=te([Tr,Ic],_h),Ro=te([Tr,$c,_F,U_],fv);te(Rc,zt,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>__(t,r)));function q_(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Th=(e,t)=>t,Oh=(e,t,r)=>r,MF=te(Cx,Th,Oh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(q_)),RF=te(Px,Th,Oh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(q_)),V_=(e,t)=>({width:e.width,height:t.height}),$F=(e,t)=>{var r=typeof t.width=="number"?t.width:fh;return{width:r,height:e.height}},IF=te(sr,ja,V_),LF=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},FF=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},zF=te(ms,sr,MF,Th,Oh,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=V_(t,l);o==null&&(o=LF(t,n,e));var d=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),i}),BF=te(us,sr,RF,Th,Oh,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=$F(t,l);o==null&&(o=FF(t,n,e));var d=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),i}),UF=(e,t)=>{var r=sr(e),n=ja(e,t);if(n!=null){var s=zF(e,n.orientation,n.mirror),i=s[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},qF=(e,t)=>{var r=sr(e),n=gs(e,t);if(n!=null){var s=BF(e,n.orientation,n.mirror),i=s[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},VF=te(sr,gs,(e,t)=>{var r=typeof t.width=="number"?t.width:fh;return{width:r,height:e.height}}),W_=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=Xn(e,n),c=t.map(d=>d.value);if(o&&l&&i==="category"&&s&&U4(c))return c}},gv=te([Je,Ah,Tr,zt],W_),H_=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=Xn(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},xv=te([Je,Ah,Mc,zt],H_),j1=te([Je,sF,$c,Ro,gv,xv,Ic,pv,zt],(e,t,r,n,s,i,o,l,c)=>{if(t==null)return null;var d=Xn(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:n}}),WF=(e,t,r,n,s,i,o,l,c)=>{if(!(t==null||n==null)){var d=Xn(e,c),{type:u,ticks:m,tickCount:h}=t,f=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/f:0;p=c==="angleAxis"&&i!=null&&i.length>=2?on(i[0]-i[1])*2*p:p;var v=m||s;if(v){var y=v.map((x,b)=>{var j=o?o.indexOf(x):x;return{index:b,coordinate:n(j)+p,value:x,offset:p}});return y.filter(x=>!Vr(x.coordinate))}return d&&l?l.map((x,b)=>({coordinate:n(x)+p,value:x,index:b,offset:p})):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+p,value:x,offset:p})):n.domain().map((x,b)=>({coordinate:n(x)+p,value:o?o[x]:x,index:b,offset:p}))}},K_=te([Je,Mc,$c,Ro,pv,Ic,gv,xv,zt],WF),HF=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Xn(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&(n==null?void 0:n.length)>=2?on(n[0]-n[1])*2*d:d,l&&i?i.map((u,m)=>({coordinate:r(u)+d,value:u,index:m,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,m)=>({coordinate:r(u)+d,value:s?s[u]:u,index:m,offset:d}))}},Dh=te([Je,Mc,Ro,Ic,gv,xv,zt],HF),$o=te(Tr,Ro,(e,t)=>{if(!(e==null||t==null))return em(em({},e),{},{scale:t})}),KF=te([Tr,$c,hv,U_],fv);te((e,t,r)=>cv(e,r),KF,(e,t)=>{if(!(e==null||t==null))return em(em({},e),{},{scale:t})});var GF=te([Je,Cx,Px],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),G_=e=>e.options.defaultTooltipEventType,Y_=e=>e.options.validateTooltipEventTypes;function J_(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function vv(e,t){var r=G_(e),n=Y_(e);return J_(t,r,n)}function YF(e){return Ne(t=>vv(t,e))}var X_=(e,t)=>{var r,n=Number(t);if(!(Vr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},JF=e=>e.tooltip.settings,Fa={active:!1,index:null,dataKey:void 0,coordinate:void 0},XF={itemInteraction:{click:Fa,hover:Fa},axisInteraction:{click:Fa,hover:Fa},keyboardInteraction:Fa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Q_=xn({name:"tooltip",initialState:XF,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Za(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:QF,removeTooltipEntrySettings:ZF,setTooltipSettingsState:e9,setActiveMouseOverItemIndex:t9,mouseLeaveItem:GW,mouseLeaveChart:Z_,setActiveClickItemIndex:YW,setMouseOverAxisIndex:eC,setMouseClickAxisIndex:r9,setSyncInteraction:Fp,setKeyboardInteraction:zp}=Q_.actions,n9=Q_.reducer;function N1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(r),!0).forEach(function(n){a9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a9(e,t,r){return(t=s9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s9(e){var t=i9(e,"string");return typeof t=="symbol"?t:t+""}function i9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o9(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function l9(e){return e.index!=null}var tC=(e,t,r,n)=>{if(t==null)return Fa;var s=o9(e,t,r);if(s==null)return Fa;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(l9(s)){if(i)return Pd(Pd({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Pd(Pd({},Fa),{},{coordinate:s.coordinate})},yv=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!pr(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},rC=(e,t,r,n,s,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],d=c==null?void 0:l(c.positions,i);if(d!=null)return d;var u=s==null?void 0:s[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},nC=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},Mh=e=>e.options.tooltipPayloadSearcher,Io=e=>e.tooltip,Bt=e=>{var t=Je(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Lo=e=>e.tooltip.settings.axisId,ir=e=>{var t=Bt(e),r=Lo(e);return Mc(e,t,r)},bv=te([ir,Je,y_,nv,Bt],L_),c9=te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),d9=te([Bt,Lo],b_),Rh=te([c9,ir,d9],w_),u9=te([Rh],N_),mi=te([u9,To],k_),wv=te([mi,ir,Rh],S_),m9=te([ir],uv),h9=te([mi,Rh,Sh],C_),f9=te([h9,To,Bt],P_),p9=te([Rh],j_),g9=te([mi,ir,p9,Bt],E_),x9=te([A_,Bt,Lo],Mo),v9=te([x9,Bt],D_),y9=te([T_,Bt,Lo],Mo),b9=te([y9,Bt],M_),w9=te([O_,Bt,Lo],Mo),j9=te([w9,Bt],R_),N9=te([v9,j9,b9],mv),k9=te([ir,m9,f9,g9,N9],$_),aC=te([ir,Je,mi,wv,Sh,Bt,k9],I_),S9=te([aC,ir,bv],F_),_9=te([ir,aC,S9,Bt],z_),sC=e=>{var t=Bt(e),r=Lo(e),n=!1;return Ic(e,t,r,n)},iC=te([ir,sC],_h),oC=te([ir,bv,_9,iC],fv),C9=te([Je,wv,ir,Bt],W_),P9=te([Je,wv,ir,Bt],H_),E9=(e,t,r,n,s,i,o,l)=>{if(t){var{type:c}=t,d=Xn(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return m=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?on(s[0]-s[1])*2*m:m,d&&o?o.map((h,f)=>({coordinate:n(h)+m,value:h,index:f,offset:m})):n.domain().map((h,f)=>({coordinate:n(h)+m,value:i?i[h]:h,index:f,offset:m}))}}},Na=te([Je,ir,bv,oC,sC,C9,P9,Bt],E9),lC=te([G_,Y_,JF],(e,t,r)=>J_(r.shared,e,t)),cC=e=>e.tooltip.settings.trigger,jv=e=>e.tooltip.settings.defaultIndex,$h=te([Io,lC,cC,jv],tC),tm=te([$h,mi],yv),dC=te([Na,tm],X_),A9=te([$h],e=>{if(e)return e.dataKey}),T9=te([Io,lC,cC,jv],nC),O9=te([us,ms,Je,sr,Na,jv,T9,Mh],rC),D9=te([$h,O9],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),M9=te([$h],e=>e.active);function k1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function S1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k1(Object(r),!0).forEach(function(n){R9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R9(e,t,r){return(t=$9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $9(e){var t=I9(e,"string");return typeof t=="symbol"?t:t+""}function I9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uC=()=>Ne(ir),L9=()=>{var e=uC(),t=Ne(Na),r=Ne(oC);return oc(S1(S1({},e),{},{scale:r}),t)};function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function C1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(n){F9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F9(e,t,r){return(t=z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z9(e){var t=B9(e,"string");return typeof t=="symbol"?t:t+""}function B9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mC=()=>Ne(nv),Nv=(e,t)=>t,hC=(e,t,r)=>r,kv=(e,t,r,n)=>n;function U9(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}var q9=te(Na,e=>ih(e,t=>t.coordinate)),Sv=te([Io,Nv,hC,kv],tC),fC=te([Sv,mi],yv),V9=(e,t,r)=>{if(t!=null){var n=Io(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},pC=te([Io,Nv,hC,kv],nC),rm=te([us,ms,Je,sr,Na,kv,pC,Mh],rC),W9=te([Sv,rm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),gC=te(Na,fC,X_);function H9(e,t){return e??t}var K9=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,m=[];return e.reduce((h,f)=>{var p,{dataDefinedOnItem:v,settings:y}=f,x=H9(v,l),b=U9(x,d,u),j=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:n==null?void 0:n.dataKey,N=y==null?void 0:y.nameKey,w;if(n!=null&&n.dataKey&&!(n!=null&&n.allowDuplicatedCategory)&&Array.isArray(b)&&o==="axis"?w=ox(b,n.dataKey,s):w=i(b,t,c,N),Array.isArray(w))w.forEach(S=>{var E=C1(C1({},y),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});h.push(xw({tooltipEntrySettings:E,dataKey:S.dataKey,payload:S.payload,value:fr(S.payload,S.dataKey),name:S.name}))});else{var k;h.push(xw({tooltipEntrySettings:y,dataKey:j,payload:w,value:fr(w,j),name:(k=fr(w,N))!==null&&k!==void 0?k:y==null?void 0:y.name}))}return h},m)}},G9=te([pC,fC,To,ir,gC,Mh,Nv],K9),Y9=te([Sv],e=>({isActive:e.active,activeIndex:e.index})),J9=(e,t,r,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i)){var c=T$(e.chartX,e.chartY,t,r,l);if(c){var d=D$(c,t),u=w$(d,o,i,n,s),m=O$(t,i,u,c);return{activeIndex:String(u),activeCoordinate:m}}}};function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bp.apply(null,arguments)}function P1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(r),!0).forEach(function(n){X9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X9(e,t,r){return(t=Q9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q9(e){var t=Z9(e,"string");return typeof t=="symbol"?t:t+""}function Z9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ez(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,u=t,m=r,h=n;if(!l||!u||d!=="ScatterChart"&&c!=="axis")return null;var f,p;if(d==="ScatterChart")f=u,p=bI;else if(d==="BarChart")f=wI(o,u,s,i),p=ZI;else if(o==="radial"){var{cx:v,cy:y,radius:x,startAngle:b,endAngle:j}=fS(u);f={cx:v,cy:y,startAngle:b,endAngle:j,innerRadius:x,outerRadius:x},p=nL}else f={points:aL(o,u,s)},p=Tl;var N=typeof l=="object"&&"className"in l?l.className:void 0,w=Ed(Ed(Ed(Ed({stroke:"#ccc",pointerEvents:"none"},s),f),De(l,!1)),{},{payload:m,payloadIndex:h,className:Be("recharts-tooltip-cursor",N)});return g.isValidElement(l)?g.cloneElement(l,w):g.createElement(p,w)}function tz(e){var t=L9(),r=Po(),n=xh(),s=mC();return g.createElement(ez,Bp({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var xC=g.createContext(null),rz=()=>g.useContext(xC),vC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,m||c,h),p=r?r+d:d;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)t.call(u,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,f=m.length,p=new Array(f);h<f;h++)p[h]=m[h].fn;return p},l.prototype.listenerCount=function(d){var u=r?r+d:d,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,u,m,h,f,p){var v=r?r+d:d;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,b,j;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,m),!0;case 4:return y.fn.call(y.context,u,m,h),!0;case 5:return y.fn.call(y.context,u,m,h,f),!0;case 6:return y.fn.call(y.context,u,m,h,f,p),!0}for(j=1,b=new Array(x-1);j<x;j++)b[j-1]=arguments[j];y.fn.apply(y.context,b)}else{var N=y.length,w;for(j=0;j<N;j++)switch(y[j].once&&this.removeListener(d,y[j].fn,void 0,!0),x){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,u);break;case 3:y[j].fn.call(y[j].context,u,m);break;case 4:y[j].fn.call(y[j].context,u,m,h);break;default:if(!b)for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y[j].fn.apply(y[j].context,b)}}return!0},l.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},l.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},l.prototype.removeListener=function(d,u,m,h){var f=r?r+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!m||p.context===m)&&o(this,f);else{for(var v=0,y=[],x=p.length;v<x;v++)(p[v].fn!==u||h&&!p[v].once||m&&p[v].context!==m)&&y.push(p[v]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(vC);var nz=vC.exports;const az=Jn(nz);var pc=new az,Up="recharts.syncEvent.tooltip",E1="recharts.syncEvent.brush";function sz(e,t){if(t){var r=Number.parseInt(t,10);if(!Vr(r))return e==null?void 0:e[r]}}var iz={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},yC=xn({name:"options",initialState:iz,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),oz=yC.reducer,{createEventEmitter:lz}=yC.actions;function cz(e){return e.tooltip.syncInteraction}var dz={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},bC=xn({name:"chartData",initialState:dz,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:A1,setDataStartEndIndexes:uz,setComputedData:JW}=bC.actions,mz=bC.reducer,wC=()=>{};function hz(){var e=Ne(av),t=Ne(sv),r=vr(),n=Ne(f_),s=Ne(Na),i=xh(),o=Ex(),l=Ne(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return wC;var c=(d,u,m)=>{if(t!==m&&e===d){if(n==="index"){r(u);return}if(s!=null){var h;if(typeof n=="function"){var f={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},p=n(s,f);h=s[p]}else n==="value"&&(h=s.find(k=>String(k.value)===u.payload.label));var{coordinate:v}=u.payload;if(h==null||u.payload.active===!1||v==null||o==null){r(Fp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:y,y:x}=v,b=Math.min(y,o.x+o.width),j=Math.min(x,o.y+o.height),N={x:i==="horizontal"?h.coordinate:b,y:i==="horizontal"?j:h.coordinate},w=Fp({active:u.payload.active,coordinate:N,dataKey:u.payload.dataKey,index:String(h.index),label:u.payload.label});r(w)}}};return pc.on(Up,c),()=>{pc.off(Up,c)}},[l,r,t,e,n,s,i,o])}function fz(){var e=Ne(av),t=Ne(sv),r=vr();g.useEffect(()=>{if(e==null)return wC;var n=(s,i,o)=>{t!==o&&e===s&&r(uz(i))};return pc.on(E1,n),()=>{pc.off(E1,n)}},[r,t,e])}function pz(){var e=vr();g.useEffect(()=>{e(lz())},[e]),hz(),fz()}function gz(e,t,r,n,s,i){var o=Ne(h=>V9(h,e,t)),l=Ne(sv),c=Ne(av),d=Ne(f_),u=Ne(cz),m=u==null?void 0:u.active;g.useEffect(()=>{if(!m&&c!=null&&l!=null){var h=Fp({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n});pc.emit(Up,c,h,l)}},[m,r,o,s,n,l,c,d,i])}function T1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function O1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(r),!0).forEach(function(n){xz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xz(e,t,r){return(t=vz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vz(e){var t=yz(e,"string");return typeof t=="symbol"?t:t+""}function yz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bz(e){return e.dataKey}function wz(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(Q$,t)}var D1=[],jz={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Eo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function M1(e){var t=hs(e,jz),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:m,reverseDirection:h,useTranslate3d:f,wrapperStyle:p,cursor:v,shared:y,trigger:x,defaultIndex:b,portal:j,axisId:N}=t,w=vr(),k=typeof b=="number"?String(b):b;g.useEffect(()=>{w(e9({shared:y,trigger:x,axisId:N,active:r,defaultIndex:k}))},[w,y,x,N,r,k]);var S=Ex(),E=iS(),R=YF(y),{activeIndex:_,isActive:C}=Ne(z=>Y9(z,R,x,k)),B=Ne(z=>G9(z,R,x,k)),D=Ne(z=>gC(z,R,x,k)),T=Ne(z=>W9(z,R,x,k)),$=B,F=rz(),L=r??C,[A,O]=dR([$,L]),V=R==="axis"?D:void 0;gz(R,x,T,V,_,L);var W=j??F;if(W==null)return null;var U=$??D1;L||(U=D1),l&&U.length&&(U=K6($.filter(z=>z.value!=null&&(z.hide!==!0||t.includeHidden)),u,bz));var J=U.length>0,G=g.createElement(sI,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:c,active:L,coordinate:T,hasPayload:J,offset:d,position:m,reverseDirection:h,useTranslate3d:f,viewBox:S,wrapperStyle:p,lastBoundingBox:A,innerRef:O,hasPortalFromProps:!!j},wz(o,O1(O1({},t),{},{payload:U,label:V,active:L,coordinate:T,accessibilityLayer:E})));return g.createElement(g.Fragment,null,A2.createPortal(G,W),L&&g.createElement(tz,{cursor:v,tooltipEventType:R,coordinate:T,payload:$,index:_}))}var jC={},NC={},kC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},m=()=>{d&&u(),v()};let h=null;const f=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,m()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{p(),o=void 0,l=null},y=()=>{p(),u()},x=function(...b){if(s!=null&&s.aborted)return;o=this,l=b;const j=h==null;f(),c&&j&&u()};return x.schedule=f,x.cancel=v,x.flush=y,s==null||s.addEventListener("abort",v,{once:!0}),x}e.debounce=t})(kC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kC;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let u,m=null;const h=t.debounce(function(...v){u=n.apply(this,v),m=null},s,{edges:d}),f=function(...v){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(u=n.apply(this,v),m=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,v),u)},p=()=>(h.flush(),u);return f.cancel=h.cancel,f.flush=p,f}e.debounce=r})(NC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NC;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,trailing:l,maxWait:s})}e.throttle=r})(jC);var Nz=jC.throttle;const kz=Jn(Nz);var Ol=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function R1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(r),!0).forEach(function(n){Sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sz(e,t,r){return(t=_z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=Cz(e,"string");return typeof t=="symbol"?t:t+""}function Cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pz=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:m,className:h,onResize:f,style:p={}}=e,v=g.useRef(null),y=g.useRef();y.current=f,g.useImperativeHandle(t,()=>v.current);var[x,b]=g.useState({containerWidth:n.width,containerHeight:n.height}),j=g.useCallback((w,k)=>{b(S=>{var E=Math.round(w),R=Math.round(k);return S.containerWidth===E&&S.containerHeight===R?S:{containerWidth:E,containerHeight:R}})},[]);g.useEffect(()=>{var w=R=>{var _,{width:C,height:B}=R[0].contentRect;j(C,B),(_=y.current)===null||_===void 0||_.call(y,C,B)};u>0&&(w=kz(w,u,{trailing:!0,leading:!1}));var k=new ResizeObserver(w),{width:S,height:E}=v.current.getBoundingClientRect();return j(S,E),k.observe(v.current),()=>{k.disconnect()}},[j,u]);var N=g.useMemo(()=>{var{containerWidth:w,containerHeight:k}=x;if(w<0||k<0)return null;Ol(Rs(s)||Rs(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),Ol(!r||r>0,"The aspect(%s) must be greater than zero.",r);var S=Rs(s)?w:s,E=Rs(i)?k:i;return r&&r>0&&(S?E=S/r:E&&(S=E*r),c&&E>c&&(E=c)),Ol(S>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,E,s,i,o,l,r),g.Children.map(d,R=>g.cloneElement(R,{width:S,height:E,style:Kf({height:"100%",width:"100%",maxHeight:E,maxWidth:S},R.props.style)}))},[r,d,i,c,l,o,x,s]);return g.createElement("div",{id:m?"".concat(m):void 0,className:Be("recharts-responsive-container",h),style:Kf(Kf({},p),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:v},N)});function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){Ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ez(e,t,r){return(t=Az(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Az(e){var t=Tz(e,"string");return typeof t=="symbol"?t:t+""}function Tz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ki={widthCache:{},cacheCount:0},Oz=2e3,Dz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},I1="recharts_measurement_span";function Mz(e){var t=qp({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var Dl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Eo.isSsr)return{width:0,height:0};var n=Mz(r),s=JSON.stringify({text:t,copyStyle:n});if(ki.widthCache[s])return ki.widthCache[s];try{var i=document.getElementById(I1);i||(i=document.createElement("span"),i.setAttribute("id",I1),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=qp(qp({},Dz),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ki.widthCache[s]=c,++ki.cacheCount>Oz&&(ki.cacheCount=0,ki.widthCache={}),c}catch{return{width:0,height:0}}},L1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,F1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$z=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,SC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Iz=Object.keys(SC),zi="NaN";function Lz(e,t){return e*SC[t]}class wr{static parse(t){var r,[,n,s]=(r=$z.exec(t))!==null&&r!==void 0?r:[];return new wr(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Vr(t)&&(this.unit=""),r!==""&&!Rz.test(r)&&(this.num=NaN,this.unit=""),Iz.includes(r)&&(this.num=Lz(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Vr(this.num)}}function _C(e){if(e.includes(zi))return zi;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=L1.exec(t))!==null&&r!==void 0?r:[],o=wr.parse(n??""),l=wr.parse(i??""),c=s==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return zi;t=t.replace(L1,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,m,h]=(d=F1.exec(t))!==null&&d!==void 0?d:[],f=wr.parse(u??""),p=wr.parse(h??""),v=m==="+"?f.add(p):f.subtract(p);if(v.isNaN())return zi;t=t.replace(F1,v.toString())}return t}var z1=/\(([^()]*)\)/;function Fz(e){for(var t=e,r;(r=z1.exec(t))!=null;){var[,n]=r;t=t.replace(z1,_C(n))}return t}function zz(e){var t=e.replace(/\s+/g,"");return t=Fz(t),t=_C(t),t}function Bz(e){try{return zz(e)}catch{return zi}}function Gf(e){var t=Bz(e.slice(5,-1));return t===zi?"":t}var Uz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qz=["dx","dy","angle","className","breakAll"];function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vp.apply(null,arguments)}function B1(e,t){if(e==null)return{};var r,n,s=Vz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Vz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CC=/[ \f\n\r\t\v\u2028\u2029]+/,PC=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];ct(t)||(r?s=t.toString().split(""):s=t.toString().split(CC));var i=s.map(l=>({word:l,width:Dl(l,n).width})),o=r?0:Dl(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},Wz=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,d=be(i),u=o,m=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce((B,D)=>{var{word:T,width:$}=D,F=B[B.length-1];if(F&&(n==null||s||F.width+$+r<Number(n)))F.words.push(T),F.width+=$+r;else{var L={words:[T],width:$};B.push(L)}return B},[])},h=m(t),f=_=>_.reduce((C,B)=>C.width>B.width?C:B);if(!d||s)return h;var p=h.length>i||f(h).width>Number(n);if(!p)return h;for(var v="…",y=_=>{var C=u.slice(0,_),B=PC({breakAll:c,style:l,children:C+v}).wordsWithComputedWidth,D=m(B),T=D.length>i||f(D).width>Number(n);return[T,D]},x=0,b=u.length-1,j=0,N;x<=b&&j<=u.length-1;){var w=Math.floor((x+b)/2),k=w-1,[S,E]=y(k),[R]=y(w);if(!S&&!R&&(x=w+1),S&&R&&(b=w-1),!S&&R){N=E;break}j++}return N||h},U1=e=>{var t=ct(e)?[]:e.toString().split(CC);return[{words:t}]},Hz=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!Eo.isSsr){var l,c,d=PC({breakAll:i,children:n,style:s});if(d){var{wordsWithComputedWidth:u,spaceWidth:m}=d;l=u,c=m}else return U1(n);return Wz({breakAll:i,children:n,maxLines:o,style:s},l,c,t,r)}return U1(n)},q1="#808080",_v=g.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=q1}=e,u=B1(e,Uz),m=g.useMemo(()=>Hz({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:h,dy:f,angle:p,className:v,breakAll:y}=u,x=B1(u,qz);if(!Gn(r)||!Gn(n))return null;var b=r+(be(h)?h:0),j=n+(be(f)?f:0),N;switch(c){case"start":N=Gf("calc(".concat(i,")"));break;case"middle":N=Gf("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:N=Gf("calc(".concat(m.length-1," * -").concat(s,")"));break}var w=[];if(o){var k=m[0].width,{width:S}=u;w.push("scale(".concat(be(S)?S/k:1,")"))}return p&&w.push("rotate(".concat(p,", ").concat(b,", ").concat(j,")")),w.length&&(x.transform=w.join(" ")),g.createElement("text",Vp({},De(x,!0),{ref:t,x:b,y:j,className:Be("recharts-text",v),textAnchor:l,fill:d.includes("url")?q1:d}),m.map((E,R)=>{var _=E.words.join(y?"":" ");return g.createElement("tspan",{x:b,dy:R===0?N:s,key:"".concat(_,"-").concat(R)},_)}))});_v.displayName="Text";var Kz=["offset"],Gz=["labelRef"];function V1(e,t){if(e==null)return{};var r,n,s=Yz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Yz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function W1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(r),!0).forEach(function(n){Jz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jz(e,t,r){return(t=Xz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xz(e){var t=Qz(e,"string");return typeof t=="symbol"?t:t+""}function Qz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},na.apply(null,arguments)}var Zz=e=>{var{value:t,formatter:r}=e,n=ct(e.children)?t:e.children;return typeof r=="function"?r(n):n},Cv=e=>e!=null&&typeof e=="function",eB=(e,t)=>{var r=on(t-e),n=Math.min(Math.abs(t-e),360);return r*n},tB=(e,t,r)=>{var{position:n,viewBox:s,offset:i,className:o}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:m,endAngle:h,clockWise:f}=s,p=(d+u)/2,v=eB(m,h),y=v>=0?1:-1,x,b;n==="insideStart"?(x=m+y*i,b=f):n==="insideEnd"?(x=h-y*i,b=!f):n==="end"&&(x=h+y*i,b=f),b=v<=0?b:!b;var j=Kt(l,c,p,x),N=Kt(l,c,p,x+(b?1:-1)*359),w="M".concat(j.x,",").concat(j.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(N.x,",").concat(N.y),k=ct(e.id)?ho("recharts-radial-line-"):e.id;return g.createElement("text",na({},r,{dominantBaseline:"central",className:Be("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:k,d:w})),g.createElement("textPath",{xlinkHref:"#".concat(k)},t))},rB=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:s,cy:i,innerRadius:o,outerRadius:l,startAngle:c,endAngle:d}=t,u=(c+d)/2;if(n==="outside"){var{x:m,y:h}=Kt(s,i,l+r,u);return{x:m,y:h,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(o+l)/2,{x:p,y:v}=Kt(s,i,f,u);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},nB=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,{x:i,y:o,width:l,height:c}=t,d=c>=0?1:-1,u=d*n,m=d>0?"end":"start",h=d>0?"start":"end",f=l>=0?1:-1,p=f*n,v=f>0?"end":"start",y=f>0?"start":"end";if(s==="top"){var x={x:i+l/2,y:o-d*n,textAnchor:"middle",verticalAnchor:m};return gt(gt({},x),r?{height:Math.max(o-r.y,0),width:l}:{})}if(s==="bottom"){var b={x:i+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:h};return gt(gt({},b),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{})}if(s==="left"){var j={x:i-p,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return gt(gt({},j),r?{width:Math.max(j.x-r.x,0),height:c}:{})}if(s==="right"){var N={x:i+l+p,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return gt(gt({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:c}:{})}var w=r?{width:l,height:c}:{};return s==="insideLeft"?gt({x:i+p,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},w):s==="insideRight"?gt({x:i+l-p,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},w):s==="insideTop"?gt({x:i+l/2,y:o+u,textAnchor:"middle",verticalAnchor:h},w):s==="insideBottom"?gt({x:i+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:m},w):s==="insideTopLeft"?gt({x:i+p,y:o+u,textAnchor:y,verticalAnchor:h},w):s==="insideTopRight"?gt({x:i+l-p,y:o+u,textAnchor:v,verticalAnchor:h},w):s==="insideBottomLeft"?gt({x:i+p,y:o+c-u,textAnchor:y,verticalAnchor:m},w):s==="insideBottomRight"?gt({x:i+l-p,y:o+c-u,textAnchor:v,verticalAnchor:m},w):s&&typeof s=="object"&&(be(s.x)||Rs(s.x))&&(be(s.y)||Rs(s.y))?gt({x:i+ss(s.x,l),y:o+ss(s.y,c),textAnchor:"end",verticalAnchor:"end"},w):gt({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)},aB=e=>"cx"in e&&be(e.cx);function Lr(e){var{offset:t=5}=e,r=V1(e,Kz),n=gt({offset:t},r),{viewBox:s,position:i,value:o,children:l,content:c,className:d="",textBreakAll:u,labelRef:m}=n,h=Ex(),f=s||h;if(!f||ct(o)&&ct(l)&&!g.isValidElement(c)&&typeof c!="function")return null;if(g.isValidElement(c)){var p=V1(n,Gz);return g.cloneElement(c,p)}var v;if(typeof c=="function"){if(v=g.createElement(c,n),g.isValidElement(v))return v}else v=Zz(n);var y=aB(f),x=De(n,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return tB(n,v,x);var b=y?rB(n):nB(n,f);return g.createElement(_v,na({ref:m,className:Be("recharts-label",d)},x,b,{breakAll:u}),v)}Lr.displayName="Label";var EC=e=>{var{cx:t,cy:r,angle:n,startAngle:s,endAngle:i,r:o,radius:l,innerRadius:c,outerRadius:d,x:u,y:m,top:h,left:f,width:p,height:v,clockWise:y,labelViewBox:x}=e;if(x)return x;if(be(p)&&be(v)){if(be(u)&&be(m))return{x:u,y:m,width:p,height:v};if(be(h)&&be(f))return{x:h,y:f,width:p,height:v}}if(be(u)&&be(m))return{x:u,y:m,width:0,height:0};if(be(t)&&be(r))return{cx:t,cy:r,startAngle:s||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:y};if(e.viewBox)return e.viewBox},sB=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(Lr,na({key:"label-implicit"},n)):Gn(e)?g.createElement(Lr,na({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===Lr?g.cloneElement(e,gt({key:"label-implicit"},n)):g.createElement(Lr,na({key:"label-implicit",content:e},n)):Cv(e)?g.createElement(Lr,na({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(Lr,na({},e,{key:"label-implicit"},n)):null},iB=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:s,labelRef:i}=t,o=EC(t),l=V4(s,Lr).map((d,u)=>g.cloneElement(d,{viewBox:r||o,key:"label-".concat(u)}));if(!n)return l;var c=sB(t.label,r||o,i);return[c,...l]};Lr.parseViewBox=EC;Lr.renderCallByParent=iB;var AC={},TC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(TC);var OC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(OC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TC,r=OC,n=rh;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(AC);var oB=AC.last;const lB=Jn(oB);var cB=["valueAccessor"],dB=["data","dataKey","clockWise","id","textBreakAll"];function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nm.apply(null,arguments)}function H1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function K1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(r),!0).forEach(function(n){uB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uB(e,t,r){return(t=mB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mB(e){var t=hB(e,"string");return typeof t=="symbol"?t:t+""}function hB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G1(e,t){if(e==null)return{};var r,n,s=fB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function fB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pB=e=>Array.isArray(e.value)?lB(e.value):e.value;function ts(e){var{valueAccessor:t=pB}=e,r=G1(e,cB),{data:n,dataKey:s,clockWise:i,id:o,textBreakAll:l}=r,c=G1(r,dB);return!n||!n.length?null:g.createElement(Wr,{className:"recharts-label-list"},n.map((d,u)=>{var m=ct(s)?t(d,u):fr(d&&d.payload,s),h=ct(o)?{}:{id:"".concat(o,"-").concat(u)};return g.createElement(Lr,nm({},De(d,!0),c,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:l,viewBox:Lr.parseViewBox(ct(i)?d:K1(K1({},d),{},{clockWise:i})),key:"label-".concat(u),index:u}))}))}ts.displayName="LabelList";function gB(e,t){return e?e===!0?g.createElement(ts,{key:"labelList-implicit",data:t}):g.isValidElement(e)||Cv(e)?g.createElement(ts,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?g.createElement(ts,nm({data:t},e,{key:"labelList-implicit"})):null:null}function xB(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,s=V4(n,ts).map((o,l)=>g.cloneElement(o,{data:t,key:"labelList-".concat(l)}));if(!r)return s;var i=gB(e.label,t);return[i,...s]}ts.renderCallByParent=xB;function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wp.apply(null,arguments)}var Pv=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=Be("recharts-dot",s);return t===+t&&r===+r&&n===+n?g.createElement("circle",Wp({},De(e,!1),dx(e),{className:i,cx:t,cy:r,r:n})):null},vB={radiusAxis:{},angleAxis:{}},yB=xn({name:"polarAxis",initialState:vB,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),bB=yB.reducer,wB={countOfBars:0,cartesianItems:[],polarItems:[]},DC=xn({name:"graphicalItems",initialState:wB,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},removeCartesianGraphicalItem(e,t){var r=Za(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Za(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:XW,removeBar:QW,addCartesianGraphicalItem:jB,removeCartesianGraphicalItem:NB,addPolarGraphicalItem:ZW,removePolarGraphicalItem:eH}=DC.actions,kB=DC.reducer;function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function J1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){SB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SB(e,t,r){return(t=_B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _B(e){var t=CB(e,"string");return typeof t=="symbol"?t:t+""}function CB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PB(e){var t=vr();return g.useEffect(()=>{var r=J1(J1({},e),{},{stackId:eS(e.stackId)});return t(jB(r)),()=>{t(NB(r))}},[t,e]),null}function MC(e){var{fn:t,args:r}=e,n=vr(),s=yr();return g.useEffect(()=>{if(!s){var i=t(r);return n(QF(i)),()=>{n(ZF(i))}}},[t,r,n,s]),null}var EB=()=>{};function RC(e){var{legendPayload:t}=e,r=vr(),n=yr();return g.useEffect(()=>n?EB:(r(W$(t)),()=>{r(H$(t))}),[r,n,t]),null}function $C(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(ho(t)),n=g.useRef(e);return n.current!==e&&(r.current=ho(t),n.current=e),r.current}function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){AB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AB(e,t,r){return(t=TB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TB(e){var t=OB(e,"string");return typeof t=="symbol"?t:t+""}function OB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DB=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=Q1(Q1({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},De(s,!1)),dx(s)),l;return g.isValidElement(s)?l=g.cloneElement(s,o):typeof s=="function"?l=s(o):l=g.createElement(Pv,o),g.createElement(Wr,{className:"recharts-active-dot"},l)};function Hp(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=uC(),o=Ne(tm),l=Ne(dC);if(!o)return null;var c,d=i.dataKey;if(d&&!i.allowDuplicatedCategory){var u=typeof d=="function"?m=>d(m.payload):"payload.".concat(d);c=ox(t,u,l)}else c=t==null?void 0:t[Number(o)];return ct(c)?null:DB({point:c,childIndex:Number(o),mainColor:r,dataKey:s,activeDot:n})}var MB=["children"];function RB(e,t){if(e==null)return{};var r,n,s=$B(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $B(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Z1=()=>{},IC=g.createContext({addErrorBar:Z1,removeErrorBar:Z1}),IB={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},LC=g.createContext(IB);function LB(e){var{children:t}=e,r=RB(e,MB);return g.createElement(LC.Provider,{value:r},t)}var FB=()=>g.useContext(LC),FC=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:s,dataKey:i,data:o,stackId:l,hide:c,type:d,barSize:u}=e,[m,h]=g.useState([]),f=g.useCallback(y=>{h(x=>[...x,y])},[h]),p=g.useCallback(y=>{h(x=>x.filter(b=>b!==y))},[h]),v=yr();return g.createElement(IC.Provider,{value:{addErrorBar:f,removeErrorBar:p}},g.createElement(PB,{type:d,data:o,xAxisId:r,yAxisId:n,zAxisId:s,dataKey:i,errorBars:m,stackId:l,hide:c,barSize:u,isPanorama:v}),t)};function zB(e){var{addErrorBar:t,removeErrorBar:r}=g.useContext(IC);return g.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var BB=e=>{var t=yr();return Ne(r=>$o(r,"xAxis",e,t))},UB=e=>{var t=yr();return Ne(r=>$o(r,"yAxis",e,t))},qB=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function zC(e,t,r){return(t=VB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VB(e){var t=WB(e,"string");return typeof t=="symbol"?t:t+""}function WB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gc.apply(null,arguments)}function HB(e,t){if(e==null)return{};var r,n,s=KB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function KB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GB(e){var{direction:t,width:r,dataKey:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l}=e,c=HB(e,qB),d=De(c,!1),{data:u,dataPointFormatter:m,xAxisId:h,yAxisId:f,errorBarOffset:p}=FB(),v=BB(h),y=UB(f);if((v==null?void 0:v.scale)==null||(y==null?void 0:y.scale)==null||u==null||t==="x"&&v.type!=="number")return null;var x=u.map(b=>{var{x:j,y:N,value:w,errorVal:k}=m(b,n,t);if(!k)return null;var S=[],E,R;if(Array.isArray(k)?[E,R]=k:E=R=k,t==="x"){var{scale:_}=v,C=N+p,B=C+r,D=C-r,T=_(w-E),$=_(w+R);S.push({x1:$,y1:B,x2:$,y2:D}),S.push({x1:T,y1:C,x2:$,y2:C}),S.push({x1:T,y1:B,x2:T,y2:D})}else if(t==="y"){var{scale:F}=y,L=j+p,A=L-r,O=L+r,V=F(w-E),W=F(w+R);S.push({x1:A,y1:W,x2:O,y2:W}),S.push({x1:L,y1:V,x2:L,y2:W}),S.push({x1:A,y1:V,x2:O,y2:V})}var U="".concat(j+p,"px ").concat(N+p,"px");return g.createElement(Wr,gc({className:"recharts-errorBar",key:"bar-".concat(S.map(J=>"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)))},d),S.map(J=>{var G=s?{transformOrigin:"".concat(J.x1-5,"px")}:void 0;return g.createElement(cc,{from:{transform:"scaleY(0)",transformOrigin:U},to:{transform:"scaleY(1)",transformOrigin:U},begin:i,easing:l,isActive:s,duration:o,key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2),style:{transformOrigin:U}},g.createElement("line",gc({},J,{style:G})))}))});return g.createElement(Wr,{className:"recharts-errorBars"},x)}var BC=g.createContext(void 0);function YB(e){var t=g.useContext(BC);return e??t??"x"}function JB(e){var{direction:t,children:r}=e;return g.createElement(BC.Provider,{value:t},r)}var UC={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function XB(e){var t=YB(e.direction),{width:r,isAnimationActive:n,animationBegin:s,animationDuration:i,animationEasing:o}=hs(e,UC);return g.createElement(g.Fragment,null,g.createElement(zB,{dataKey:e.dataKey,direction:t}),g.createElement(GB,gc({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:s,animationDuration:i,animationEasing:o})))}class qC extends g.Component{render(){return g.createElement(XB,this.props)}}zC(qC,"defaultProps",UC);zC(qC,"displayName","ErrorBar");function Ev(e,t){var r,n,s=Ne(d=>ja(d,e)),i=Ne(d=>gs(d,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Dr.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Mr.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function VC(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=Po(),{needClipX:i,needClipY:o,needClip:l}=Ev(t,r);if(!l)return null;var{left:c,top:d,width:u,height:m}=s;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:i?c:c-u/2,y:o?d:d-m/2,width:i?u:u*2,height:o?m:m*2}))}var QB=e=>{var{chartData:t}=e,r=vr(),n=yr();return g.useEffect(()=>n?()=>{}:(r(A1(t)),()=>{r(A1(void 0))}),[t,r,n]),null},ej={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ZB=xn({name:"brush",initialState:ej,reducers:{setBrushSettings(e,t){return t.payload==null?ej:t.payload}}}),eU=ZB.reducer;function tU(e,t,r){return(t=rU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rU(e){var t=nU(e,"string");return typeof t=="symbol"?t:t+""}function nU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Av{static create(t){return new Av(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}tU(Av,"EPS",1e-4);function aU(e){return(e%180+180)%180}var sU=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=aU(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},iU={dots:[],areas:[],lines:[]},oU=xn({name:"referenceElements",initialState:iU,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Za(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Za(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Za(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),lU=oU.reducer,cU=g.createContext(void 0),dU=e=>{var{children:t}=e,[r]=g.useState("".concat(ho("recharts"),"-clip")),n=Po();if(n==null)return null;var{left:s,top:i,height:o,width:l}=n;return g.createElement(cU.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:s,y:i,height:o,width:l}))),t)};function Yf(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function WC(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function uU(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return sU(n,r)}function mU(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function am(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function hU(e,t){return WC(e,t+1)}function fU(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,m=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:WC(n,d)};var v=c,y,x=()=>(y===void 0&&(y=r(p,v)),y),b=p.coordinate,j=c===0||am(e,b,x,u,l);j||(c=0,u=o,d+=1),j&&(u=b+e*(x()/2+s),c+=d)},h;d<=i.length;)if(h=m(),h)return h.v;return[]}function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(n){pU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pU(e,t,r){return(t=gU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gU(e){var t=xU(e,"string");return typeof t=="symbol"?t:t+""}function xU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vU(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,d=function(h){var f=i[h],p,v=()=>(p===void 0&&(p=r(f,h)),p);if(h===o-1){var y=e*(f.coordinate+e*v()/2-c);i[h]=f=tr(tr({},f),{},{tickCoord:y>0?f.coordinate-y*e:f.coordinate})}else i[h]=f=tr(tr({},f),{},{tickCoord:f.coordinate});var x=am(e,f.tickCoord,v,l,c);x&&(c=f.tickCoord-e*(v()/2+s),i[h]=tr(tr({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function yU(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,{start:c,end:d}=t;if(i){var u=n[l-1],m=r(u,l-1),h=e*(u.coordinate+e*m/2-d);o[l-1]=u=tr(tr({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var f=am(e,u.tickCoord,()=>m,c,d);f&&(d=u.tickCoord-e*(m/2+s),o[l-1]=tr(tr({},u),{},{isShow:!0}))}for(var p=i?l-1:l,v=function(b){var j=o[b],N,w=()=>(N===void 0&&(N=r(j,b)),N);if(b===0){var k=e*(j.coordinate-e*w()/2-c);o[b]=j=tr(tr({},j),{},{tickCoord:k<0?j.coordinate-k*e:j.coordinate})}else o[b]=j=tr(tr({},j),{},{tickCoord:j.coordinate});var S=am(e,j.tickCoord,w,c,d);S&&(c=j.tickCoord+e*(w()/2+s),o[b]=tr(tr({},j),{},{isShow:!0}))},y=0;y<p;y++)v(y);return o}function Tv(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:m}=e;if(!s||!s.length||!n)return[];if(be(c)||Eo.isSsr){var h;return(h=hU(s,be(c)?c:0))!==null&&h!==void 0?h:[]}var f=[],p=l==="top"||l==="bottom"?"width":"height",v=u&&p==="width"?Dl(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(j,N)=>{var w=typeof d=="function"?d(j.value,N):j.value;return p==="width"?uU(Dl(w,{fontSize:t,letterSpacing:r}),v,m):Dl(w,{fontSize:t,letterSpacing:r})[p]},x=s.length>=2?on(s[1].coordinate-s[0].coordinate):1,b=mU(i,x,p);return c==="equidistantPreserveStart"?fU(x,b,y,s,o):(c==="preserveStart"||c==="preserveStartEnd"?f=yU(x,b,y,s,o,c==="preserveStartEnd"):f=vU(x,b,y,s,o),f.filter(j=>j.isShow))}var bU=["viewBox"],wU=["viewBox"];function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(null,arguments)}function rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(r),!0).forEach(function(n){Ov(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nj(e,t){if(e==null)return{};var r,n,s=jU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ov(e,t,r){return(t=NU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NU(e){var t=kU(e,"string");return typeof t=="symbol"?t:t+""}function kU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xs extends g.Component{constructor(t){super(t),this.tickRefs=g.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=nj(t,bU),i=this.props,{viewBox:o}=i,l=nj(i,wU);return!Yf(n,o)||!Yf(s,l)||!Yf(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:i,orientation:o,tickSize:l,mirror:c,tickMargin:d}=this.props,u,m,h,f,p,v,y=c?-1:1,x=t.tickSize||l,b=be(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":u=m=t.coordinate,f=n+ +!c*i,h=f-y*x,v=h-y*d,p=b;break;case"left":h=f=t.coordinate,m=r+ +!c*s,u=m-y*x,p=u-y*d,v=b;break;case"right":h=f=t.coordinate,m=r+ +c*s,u=m+y*x,p=u+y*d,v=b;break;default:u=m=t.coordinate,f=n+ +c*i,h=f+y*x,v=h+y*d,p=b;break}return{line:{x1:u,y1:h,x2:m,y2:f},tick:{x:p,y:v}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:l}=this.props,c=kt(kt(kt({},De(this.props,!1)),De(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=kt(kt({},c),{},{x1:t,y1:r+d*s,x2:t+n,y2:r+d*s})}else{var u=+(i==="left"&&!o||i==="right"&&o);c=kt(kt({},c),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+s})}return g.createElement("line",Bi({},c,{className:Be("recharts-cartesian-axis-line",ti(l,"className"))}))}static renderTickItem(t,r,n){var s,i=Be(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))s=g.cloneElement(t,kt(kt({},r),{},{className:i}));else if(typeof t=="function")s=t(kt(kt({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Be(o,t.className)),s=g.createElement(_v,Bi({},r,{className:o}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:o,tickFormatter:l,unit:c}=this.props,d=Tv(kt(kt({},this.props),{},{ticks:n}),t,r),u=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),h=De(this.props,!1),f=De(o,!1),p=kt(kt({},h),{},{fill:"none"},De(s,!1)),v=d.map((y,x)=>{var{line:b,tick:j}=this.getTickLineCoord(y),N=kt(kt(kt(kt({textAnchor:u,verticalAnchor:m},h),{},{stroke:"none",fill:i},f),j),{},{index:x,payload:y,visibleTicksCount:d.length,tickFormatter:l});return g.createElement(Wr,Bi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},p6(this.props,y,x)),s&&g.createElement("line",Bi({},p,b,{className:Be("recharts-cartesian-axis-tick-line",ti(s,"className"))})),o&&xs.renderTickItem(o,N,"".concat(typeof l=="function"?l(y.value,x):y.value).concat(c||"")))});return v.length>0?g.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:g.createElement(Wr,{className:Be("recharts-cartesian-axis",s),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var d=c[0];if(d){var u=window.getComputedStyle(d).fontSize,m=window.getComputedStyle(d).letterSpacing;(u!==this.state.fontSize||m!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),Lr.renderCallByParent(this.props))}}Ov(xs,"displayName","CartesianAxis");Ov(xs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var SU=["x1","y1","x2","y2","key"],_U=["offset"],CU=["xAxisId","yAxisId"],PU=["xAxisId","yAxisId"];function aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(r),!0).forEach(function(n){EU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EU(e,t,r){return(t=AU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(e){var t=TU(e,"string");return typeof t=="symbol"?t:t+""}function TU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fs.apply(null,arguments)}function sm(e,t){if(e==null)return{};var r,n,s=OU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DU=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:l}=e;return g.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function HC(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:o,key:l}=t,c=sm(t,SU),d=De(c,!1),u=sm(d,_U);r=g.createElement("line",Fs({},u,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function MU(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var i=sm(e,CU),o=s.map((l,c)=>{var d=nr(nr({},i),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return HC(n,d)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function RU(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var i=sm(e,PU),o=s.map((l,c)=>{var d=nr(nr({},i),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return HC(n,d)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function $U(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=l.map(m=>Math.round(m+s-s)).sort((m,h)=>m-h);s!==d[0]&&d.unshift(0);var u=d.map((m,h)=>{var f=!d[h+1],p=f?s+o-m:d[h+1]-m;if(p<=0)return null;var v=h%t.length;return g.createElement("rect",{key:"react-".concat(h),y:m,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function IU(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(m=>Math.round(m+s-s)).sort((m,h)=>m-h);s!==d[0]&&d.unshift(0);var u=d.map((m,h)=>{var f=!d[h+1],p=f?s+o-m:d[h+1]-m;if(p<=0)return null;var v=h%r.length;return g.createElement("rect",{key:"react-".concat(h),x:m,y:i,width:p,height:l,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var LU=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return Qk(Tv(nr(nr(nr({},xs.defaultProps),r),{},{ticks:Zk(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},FU=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return Qk(Tv(nr(nr(nr({},xs.defaultProps),r),{},{ticks:Zk(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},zU={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Kp(e){var t=nS(),r=aS(),n=Po(),s=nr(nr({},hs(e,zU)),{},{x:be(e.x)?e.x:n.left,y:be(e.y)?e.y:n.top,width:be(e.width)?e.width:n.width,height:be(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:m,horizontalValues:h,verticalValues:f}=s,p=yr(),v=Ne(R=>j1(R,"xAxis",i,p)),y=Ne(R=>j1(R,"yAxis",o,p));if(!be(d)||d<=0||!be(u)||u<=0||!be(l)||l!==+l||!be(c)||c!==+c)return null;var x=s.verticalCoordinatesGenerator||LU,b=s.horizontalCoordinatesGenerator||FU,{horizontalPoints:j,verticalPoints:N}=s;if((!j||!j.length)&&typeof b=="function"){var w=h&&h.length,k=b({yAxis:y?nr(nr({},y),{},{ticks:w?h:y.ticks}):void 0,width:t,height:r,offset:n},w?!0:m);Ol(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(j=k)}if((!N||!N.length)&&typeof x=="function"){var S=f&&f.length,E=x({xAxis:v?nr(nr({},v),{},{ticks:S?f:v.ticks}):void 0,width:t,height:r,offset:n},S?!0:m);Ol(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(N=E)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(DU,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),g.createElement($U,Fs({},s,{horizontalPoints:j})),g.createElement(IU,Fs({},s,{verticalPoints:N})),g.createElement(MU,Fs({},s,{offset:n,horizontalPoints:j,xAxis:v,yAxis:y})),g.createElement(RU,Fs({},s,{offset:n,verticalPoints:N,xAxis:v,yAxis:y})))}Kp.displayName="CartesianGrid";var KC=(e,t,r,n)=>$o(e,"xAxis",t,n),GC=(e,t,r,n)=>Dh(e,"xAxis",t,n),YC=(e,t,r,n)=>$o(e,"yAxis",r,n),JC=(e,t,r,n)=>Dh(e,"yAxis",r,n),BU=te([Je,KC,YC,GC,JC],(e,t,r,n,s)=>Xn(e,"xAxis")?oc(t,n,!1):oc(r,s,!1)),UU=(e,t,r,n,s)=>s,qU=te([dv,UU],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),VU=te([Je,KC,YC,GC,JC,qU,BU,ev],(e,t,r,n,s,i,o,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=l;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null)){var{dataKey:m,data:h}=i,f;if(h!=null&&h.length>0?f=h:f=c==null?void 0:c.slice(d,u+1),f!=null)return cq({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:m,bandSize:o,displayedData:f})}}),WU=["type","layout","connectNulls","needClip"],HU=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function XC(e,t){if(e==null)return{};var r,n,s=KU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function KU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(r),!0).forEach(function(n){Ih(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ih(e,t,r){return(t=GU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GU(e){var t=YU(e,"string");return typeof t=="symbol"?t:t+""}function YU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bo.apply(null,arguments)}var JU=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:hh(r,t),payload:e}]};function XU(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:hh(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var QC=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function QU(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var ZU=(e,t,r)=>{var n=r.reduce((m,h)=>m+h);if(!n)return QC(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){l=[...r.slice(0,c),i-d];break}var u=l.length%2===0?[0,o]:[o];return[...QU(r,s),...l,...u].map(m=>"".concat(m,"px")).join(", ")};function eq(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Be("recharts-line-dot",typeof e!="boolean"?e.className:"");r=g.createElement(Pv,bo({},t,{className:n}))}return r}function tq(e,t){return e==null?!1:t?!0:e.length===1}function rq(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n;if(!tq(r,s))return null;var l=Zm(s),c=De(n,!1),d=De(s,!0),u=r.map((h,f)=>{var p=_n(_n(_n({key:"dot-".concat(f),r:3},c),d),{},{index:f,cx:h.x,cy:h.y,dataKey:i,value:h.value,payload:h.payload,points:r});return eq(s,p)}),m={clipPath:o?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):null};return g.createElement(Wr,bo({className:"recharts-line-dots",key:"dots"},m),u)}function Gp(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i,showLabels:o}=e,{type:l,layout:c,connectNulls:d,needClip:u}=i,m=XC(i,WU),h=_n(_n({},De(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):null,points:n,type:l,layout:c,connectNulls:d,strokeDasharray:s??i.strokeDasharray});return g.createElement(g.Fragment,null,(n==null?void 0:n.length)>1&&g.createElement(Tl,bo({},h,{pathRef:r})),g.createElement(rq,{points:n,clipPathId:t,props:i}),o&&ts.renderCallByParent(i,n))}function nq(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function aq(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,animateNewValues:h,width:f,height:p,onAnimationEnd:v,onAnimationStart:y}=r,x=s.current,b=$C(r,"recharts-line-"),[j,N]=g.useState(!1),w=g.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),k=g.useCallback(()=>{typeof y=="function"&&y(),N(!0)},[y]),S=nq(n.current),E=i.current;return g.createElement(cc,{begin:d,duration:u,isActive:c,easing:m,from:{t:0},to:{t:1},onAnimationEnd:w,onAnimationStart:k,key:b},R=>{var{t:_}=R,C=Qo(E,S+E),B=Math.min(C(_),S),D;if(l){var T="".concat(l).split(/[,\s]+/gim).map(L=>parseFloat(L));D=ZU(B,S,T)}else D=QC(S,B);if(x){var $=x.length/o.length,F=_===1?o:o.map((L,A)=>{var O=Math.floor(A*$);if(x[O]){var V=x[O],W=Qo(V.x,L.x),U=Qo(V.y,L.y);return _n(_n({},L),{},{x:W(_),y:U(_)})}if(h){var J=Qo(f*2,L.x),G=Qo(p/2,L.y);return _n(_n({},L),{},{x:J(_),y:G(_)})}return _n(_n({},L),{},{x:L.x,y:L.y})});return s.current=F,g.createElement(Gp,{props:r,points:F,clipPathId:t,pathRef:n,showLabels:!j,strokeDasharray:D})}return _>0&&S>0&&(s.current=o,i.current=B),g.createElement(Gp,{props:r,points:o,clipPathId:t,pathRef:n,showLabels:!j,strokeDasharray:D})})}function sq(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:s}=r,i=g.useRef(null),o=g.useRef(0),l=g.useRef(null),c=i.current;return s&&n&&n.length&&c!==n?g.createElement(aq,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:l}):g.createElement(Gp,{props:r,points:n,clipPathId:t,pathRef:l,showLabels:!0})}var iq=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:fr(e.payload,t)});class oq extends g.Component{constructor(){super(...arguments),Ih(this,"id",ho("recharts-line-"))}render(){var t,{hide:r,dot:n,points:s,className:i,xAxisId:o,yAxisId:l,top:c,left:d,width:u,height:m,id:h,needClip:f,layout:p}=this.props;if(r)return null;var v=Be("recharts-line",i),y=ct(h)?this.id:h,{r:x=3,strokeWidth:b=2}=(t=De(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},j=Zm(n),N=x*2+b;return g.createElement(g.Fragment,null,g.createElement(Wr,{className:v},f&&g.createElement("defs",null,g.createElement(VC,{clipPathId:y,xAxisId:o,yAxisId:l}),!j&&g.createElement("clipPath",{id:"clipPath-dots-".concat(y)},g.createElement("rect",{x:d-N/2,y:c-N/2,width:u+N,height:m+N}))),g.createElement(sq,{props:this.props,clipPathId:y}),g.createElement(JB,{direction:p==="horizontal"?"y":"x"},g.createElement(LB,{xAxisId:o,yAxisId:l,data:s,dataPointFormatter:iq,errorBarOffset:0},this.props.children))),g.createElement(Hp,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var ZC={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Eo.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function lq(e){var t=hs(e,ZC),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:m,legendType:h,xAxisId:f,yAxisId:p}=t,v=XC(t,HU),{needClip:y}=Ev(f,p),{height:x,width:b,left:j,top:N}=Po(),w=xh(),k=yr(),S=g.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),E=Ne(R=>VU(R,f,p,k,S));return w!=="horizontal"&&w!=="vertical"?null:g.createElement(oq,bo({},v,{connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:d,label:m,legendType:h,xAxisId:f,yAxisId:p,points:E,layout:w,height:x,width:b,left:j,top:N,needClip:y}))}function cq(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((d,u)=>{var m=fr(d,o);return t==="horizontal"?{x:Fu({axis:r,ticks:s,bandSize:l,entry:d,index:u}),y:ct(m)?null:n.scale(m),value:m,payload:d}:{x:ct(m)?null:r.scale(m),y:Fu({axis:n,ticks:i,bandSize:l,entry:d,index:u}),value:m,payload:d}})}class Dv extends g.PureComponent{render(){return g.createElement(FC,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},g.createElement(RC,{legendPayload:JU(this.props)}),g.createElement(MC,{fn:XU,args:this.props}),g.createElement(lq,this.props))}}Ih(Dv,"displayName","Line");Ih(Dv,"defaultProps",ZC);var eP=(e,t,r,n)=>$o(e,"xAxis",t,n),tP=(e,t,r,n)=>Dh(e,"xAxis",t,n),rP=(e,t,r,n)=>$o(e,"yAxis",r,n),nP=(e,t,r,n)=>Dh(e,"yAxis",r,n),dq=te([Je,eP,rP,tP,nP],(e,t,r,n,s)=>Xn(e,"xAxis")?oc(t,n,!1):oc(r,s,!1)),uq=(e,t,r,n,s)=>{var i,o=Je(e),l=Xn(o,"xAxis"),c;if(l?c=Lp(e,"yAxis",r,n):c=Lp(e,"xAxis",t,n),c!=null){var{dataKey:d,stackId:u}=s;if(u!=null){var m=(i=c[u])===null||i===void 0?void 0:i.stackedData;return m==null?void 0:m.find(h=>h.key===d)}}},mq=(e,t,r,n,s)=>s,hq=te([dv,mq],(e,t)=>{if(e.some(r=>r.type==="area"&&t.dataKey===r.dataKey&&eS(t.stackId)===r.stackId&&t.data===r.data))return t}),fq=te([Je,eP,rP,tP,nP,uq,ev,dq,hq],(e,t,r,n,s,i,o,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:m}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||s==null||n.length===0||s.length===0||l==null)){var{data:h}=c,f;if(h&&h.length>0?f=h:f=d==null?void 0:d.slice(u,m+1),f!=null){var p=void 0;return Dq({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataStartIndex:u,areaSettings:c,stackedData:i,displayedData:f,chartBaseValue:p,bandSize:l})}}}),pq=["layout","type","stroke","connectNulls","isRange"],gq=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function aP(e,t){if(e==null)return{};var r,n,s=xq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(r),!0).forEach(function(n){Lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lh(e,t,r){return(t=vq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vq(e){var t=yq(e,"string");return typeof t=="symbol"?t:t+""}function yq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rs.apply(null,arguments)}function im(e,t){return e&&e!=="none"?e:t}var bq=e=>{var{dataKey:t,name:r,stroke:n,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:im(n,s),value:hh(r,t),payload:e}]};function wq(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:hh(o,t),hide:l,type:e.tooltipType,color:im(n,i),unit:c}}}var jq=(e,t)=>{var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Be("recharts-area-dot",typeof e!="boolean"?e.className:"");r=g.createElement(Pv,rs({},t,{className:n}))}return r};function Nq(e,t){return e==null?!1:t?!0:e.length===1}function kq(e){var{clipPathId:t,points:r,props:n}=e,{needClip:s,dot:i,dataKey:o}=n;if(!Nq(r,i))return null;var l=Zm(i),c=De(n,!1),d=De(i,!0),u=r.map((h,f)=>{var p=zs(zs(zs({key:"dot-".concat(f),r:3},c),d),{},{index:f,cx:h.x,cy:h.y,dataKey:o,value:h.value,payload:h.payload,points:r});return jq(i,p)}),m={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return g.createElement(Wr,rs({className:"recharts-area-dots"},m),u)}function Yp(e){var{points:t,baseLine:r,needClip:n,clipPathId:s,props:i,showLabels:o}=e,{layout:l,type:c,stroke:d,connectNulls:u,isRange:m}=i,h=aP(i,pq);return g.createElement(g.Fragment,null,(t==null?void 0:t.length)>1&&g.createElement(Wr,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},g.createElement(Tl,rs({},De(h,!0),{points:t,connectNulls:u,type:c,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&g.createElement(Tl,rs({},De(i,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:t})),d!=="none"&&m&&g.createElement(Tl,rs({},De(i,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:r}))),g.createElement(kq,{points:t,props:i,clipPathId:s}),o&&ts.renderCallByParent(i,t))}function Sq(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].y,o=n[n.length-1].y;if(!pr(i)||!pr(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.x||0));return be(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.x||0),c)),be(c)?g.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}function _q(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].x,o=n[n.length-1].x;if(!pr(i)||!pr(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.y||0));return be(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.y||0),c)),be(c)?g.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function Cq(e){var{alpha:t,layout:r,points:n,baseLine:s,strokeWidth:i}=e;return r==="vertical"?g.createElement(Sq,{alpha:t,points:n,baseLine:s,strokeWidth:i}):g.createElement(_q,{alpha:t,points:n,baseLine:s,strokeWidth:i})}function Pq(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,onAnimationStart:h,onAnimationEnd:f}=n,p=$C(n,"recharts-area-"),[v,y]=g.useState(!0),x=g.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),b=g.useCallback(()=>{typeof h=="function"&&h(),y(!0)},[h]),j=s.current,N=i.current;return g.createElement(cc,{begin:d,duration:u,isActive:c,easing:m,from:{t:0},to:{t:1},onAnimationEnd:x,onAnimationStart:b,key:p},w=>{var{t:k}=w;if(j){var S=j.length/o.length,E=k===1?o:o.map((_,C)=>{var B=Math.floor(C*S);if(j[B]){var D=j[B];return zs(zs({},_),{},{x:ji(D.x,_.x,k),y:ji(D.y,_.y,k)})}return _}),R;return be(l)?R=ji(N,l,k):ct(l)||Vr(l)?R=ji(N,0,k):R=l.map((_,C)=>{var B=Math.floor(C*S);if(Array.isArray(N)&&N[B]){var D=N[B];return zs(zs({},_),{},{x:ji(D.x,_.x,k),y:ji(D.y,_.y,k)})}return _}),k>0&&(s.current=E,i.current=R),g.createElement(Yp,{points:E,baseLine:R,needClip:t,clipPathId:r,props:n,showLabels:!v})}return k>0&&(s.current=o,i.current=l),g.createElement(Wr,null,g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(r)},g.createElement(Cq,{alpha:k,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),g.createElement(Wr,{clipPath:"url(#animationClipPath-".concat(r,")")},g.createElement(Yp,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n,showLabels:!0})))})}function Eq(e){var{needClip:t,clipPathId:r,props:n}=e,{points:s,baseLine:i,isAnimationActive:o}=n,l=g.useRef(null),c=g.useRef(),d=l.current,u=c.current;return o&&s&&s.length&&(d!==s||u!==i)?g.createElement(Pq,{needClip:t,clipPathId:r,props:n,previousPointsRef:l,previousBaselineRef:c}):g.createElement(Yp,{points:s,baseLine:i,needClip:t,clipPathId:r,props:n,showLabels:!0})}class Aq extends g.PureComponent{constructor(){super(...arguments),Lh(this,"id",ho("recharts-area-"))}render(){var t,{hide:r,dot:n,points:s,className:i,top:o,left:l,needClip:c,xAxisId:d,yAxisId:u,width:m,height:h,id:f,baseLine:p}=this.props;if(r)return null;var v=Be("recharts-area",i),y=ct(f)?this.id:f,{r:x=3,strokeWidth:b=2}=(t=De(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},j=Zm(n),N=x*2+b;return g.createElement(g.Fragment,null,g.createElement(Wr,{className:v},c&&g.createElement("defs",null,g.createElement(VC,{clipPathId:y,xAxisId:d,yAxisId:u}),!j&&g.createElement("clipPath",{id:"clipPath-dots-".concat(y)},g.createElement("rect",{x:l-N/2,y:o-N/2,width:m+N,height:h+N}))),g.createElement(Eq,{needClip:c,clipPathId:y,props:this.props})),g.createElement(Hp,{points:s,mainColor:im(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&g.createElement(Hp,{points:p,mainColor:im(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var sP={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Eo.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Tq(e){var t,r=hs(e,sP),{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:d,fillOpacity:u,hide:m,isAnimationActive:h,legendType:f,stroke:p,xAxisId:v,yAxisId:y}=r,x=aP(r,gq),b=xh(),j=mC(),{needClip:N}=Ev(v,y),w=yr(),k=g.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:l,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,l,e.data,e.dataKey]),{points:S,isRange:E,baseLine:R}=(t=Ne(T=>fq(T,v,y,w,k)))!==null&&t!==void 0?t:{},{height:_,width:C,left:B,top:D}=Po();return b!=="horizontal"&&b!=="vertical"||j!=="AreaChart"&&j!=="ComposedChart"?null:g.createElement(Aq,rs({},x,{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:R,connectNulls:l,dot:c,fill:d,fillOpacity:u,height:_,hide:m,layout:b,isAnimationActive:h,isRange:E,legendType:f,needClip:N,points:S,stroke:p,width:C,left:B,top:D,xAxisId:v,yAxisId:y}))}var Oq=(e,t,r,n,s)=>{var i=r??t;if(be(i))return i;var o=e==="horizontal"?s:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function Dq(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:s,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:m,yAxisTicks:h,bandSize:f}=e,p=s&&s.length,v=Oq(i,o,r,l,c),y=i==="horizontal",x=!1,b=d.map((N,w)=>{var k;p?k=s[u+w]:(k=fr(N,n),Array.isArray(k)?x=!0:k=[v,k]);var S=k[1]==null||p&&!t&&fr(N,n)==null;return y?{x:Fu({axis:l,ticks:m,bandSize:f,entry:N,index:w}),y:S?null:c.scale(k[1]),value:k,payload:N}:{x:S?null:l.scale(k[1]),y:Fu({axis:c,ticks:h,bandSize:f,entry:N,index:w}),value:k,payload:N}}),j;return p||x?j=b.map(N=>{var w=Array.isArray(N.value)?N.value[0]:null;return y?{x:N.x,y:w!=null&&N.y!=null?c.scale(w):null}:{x:w!=null?l.scale(w):null,y:N.y}}):j=y?c.scale(v):l.scale(v),{points:b,baseLine:j,isRange:x}}class om extends g.PureComponent{render(){return g.createElement(FC,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},g.createElement(RC,{legendPayload:bq(this.props)}),g.createElement(MC,{fn:wq,args:this.props}),g.createElement(Tq,this.props))}}Lh(om,"displayName","Area");Lh(om,"defaultProps",sP);function oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(r),!0).forEach(function(n){Mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mq(e,t,r){return(t=Rq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rq(e){var t=$q(e,"string");return typeof t=="symbol"?t:t+""}function $q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iq={xAxis:{},yAxis:{},zAxis:{}},iP=xn({name:"cartesianAxis",initialState:Iq,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=lj(lj({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Lq,removeXAxis:Fq,addYAxis:zq,removeYAxis:Bq,addZAxis:tH,removeZAxis:rH,updateYAxisWidth:Uq}=iP.actions,qq=iP.reducer,Vq=["children"],Wq=["dangerouslySetInnerHTML","ticks"];function oP(e,t,r){return(t=Hq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hq(e){var t=Kq(e,"string");return typeof t=="symbol"?t:t+""}function Kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jp.apply(null,arguments)}function lP(e,t){if(e==null)return{};var r,n,s=Gq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Gq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yq(e){var t=vr(),r=g.useMemo(()=>{var i=lP(e,Vq);return i},[e]),n=Ne(i=>ja(i,r.id)),s=r===n;return g.useEffect(()=>(t(Lq(r)),()=>{t(Fq(r))}),[r,t]),s?e.children:null}var Jq=e=>{var{xAxisId:t,className:r}=e,n=Ne(rS),s=yr(),i="xAxis",o=Ne(m=>Ro(m,i,t,s)),l=Ne(m=>K_(m,i,t,s)),c=Ne(m=>IF(m,t)),d=Ne(m=>UF(m,t));if(c==null||d==null)return null;var u=lP(e,Wq);return g.createElement(xs,Jp({},u,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:Be("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},Xq=e=>{var t,r,n,s,i;return g.createElement(Yq,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},g.createElement(Jq,e))};class lm extends g.Component{render(){return g.createElement(Xq,this.props)}}oP(lm,"displayName","XAxis");oP(lm,"defaultProps",{allowDataOverflow:Dr.allowDataOverflow,allowDecimals:Dr.allowDecimals,allowDuplicatedCategory:Dr.allowDuplicatedCategory,height:Dr.height,hide:!1,mirror:Dr.mirror,orientation:Dr.orientation,padding:Dr.padding,reversed:Dr.reversed,scale:Dr.scale,tickCount:Dr.tickCount,type:Dr.type,xAxisId:0});var Qq=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(u=>{if(u){var m=u.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=r?r.getBoundingClientRect().width:0,c=s+i,d=o+c+l+(r?n:0);return Math.round(d)}return 0},Zq=["dangerouslySetInnerHTML","ticks"];function cP(e,t,r){return(t=eV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eV(e){var t=tV(e,"string");return typeof t=="symbol"?t:t+""}function tV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xp.apply(null,arguments)}function rV(e,t){if(e==null)return{};var r,n,s=nV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aV(e){var t=vr();return g.useEffect(()=>(t(zq(e)),()=>{t(Bq(e))}),[e,t]),null}var sV=e=>{var t,{yAxisId:r,className:n,width:s,label:i}=e,o=g.useRef(null),l=g.useRef(null),c=Ne(rS),d=yr(),u=vr(),m="yAxis",h=Ne(x=>Ro(x,m,r,d)),f=Ne(x=>VF(x,r)),p=Ne(x=>qF(x,r)),v=Ne(x=>K_(x,m,r,d));if(g.useLayoutEffect(()=>{var x;if(!(s!=="auto"||!f||Cv(i)||g.isValidElement(i))){var b=o.current,j=b==null||(x=b.tickRefs)===null||x===void 0?void 0:x.current,{tickSize:N,tickMargin:w}=b.props,k=Qq({ticks:j,label:l.current,labelGapWithTick:5,tickSize:N,tickMargin:w});Math.round(f.width)!==Math.round(k)&&u(Uq({id:r,width:k}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,f==null?void 0:f.width,f,u,i,r,s]),f==null||p==null)return null;var y=rV(e,Zq);return g.createElement(xs,Xp({},y,{ref:o,labelRef:l,scale:h,x:p.x,y:p.y,width:f.width,height:f.height,className:Be("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:v}))},iV=e=>{var t,r,n,s,i;return g.createElement(g.Fragment,null,g.createElement(aV,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),g.createElement(sV,e))},oV={allowDataOverflow:Mr.allowDataOverflow,allowDecimals:Mr.allowDecimals,allowDuplicatedCategory:Mr.allowDuplicatedCategory,hide:!1,mirror:Mr.mirror,orientation:Mr.orientation,padding:Mr.padding,reversed:Mr.reversed,scale:Mr.scale,tickCount:Mr.tickCount,type:Mr.type,width:Mr.width,yAxisId:0};class cm extends g.Component{render(){return g.createElement(iV,this.props)}}cP(cm,"displayName","YAxis");cP(cm,"defaultProps",oV);var lV={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lc=g;function cV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dV=typeof Object.is=="function"?Object.is:cV,uV=Lc.useSyncExternalStore,mV=Lc.useRef,hV=Lc.useEffect,fV=Lc.useMemo,pV=Lc.useDebugValue;lV.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=mV(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=fV(function(){function c(f){if(!d){if(d=!0,u=f,f=n(f),s!==void 0&&o.hasValue){var p=o.value;if(s(p,f))return m=p}return m=f}if(p=m,dV(u,f))return p;var v=n(f);return s!==void 0&&s(p,v)?(u=f,p):(u=f,m=v)}var d=!1,u,m,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=uV(e,i[0],i[1]);return hV(function(){o.hasValue=!0,o.value=l},[l]),pV(l),l};function gV(e){e()}function xV(){let e=null,t=null;return{clear(){e=null,t=null},notify(){gV(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var cj={notify(){},get:()=>[]};function vV(e,t){let r,n=cj,s=0,i=!1;function o(v){u();const y=n.subscribe(v);let x=!1;return()=>{x||(x=!0,y(),m())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function d(){return i}function u(){s++,r||(r=e.subscribe(c),n=xV())}function m(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=cj)}function h(){i||(i=!0,u())}function f(){i&&(i=!1,m())}const p={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>n};return p}var yV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bV=yV(),wV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jV=wV(),NV=()=>bV||jV?g.useLayoutEffect:g.useEffect,kV=NV(),Jf=Symbol.for("react-redux-context"),Xf=typeof globalThis<"u"?globalThis:{};function SV(){if(!g.createContext)return{};const e=Xf[Jf]??(Xf[Jf]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var _V=SV();function CV(e){const{children:t,context:r,serverState:n,store:s}=e,i=g.useMemo(()=>{const c=vV(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),o=g.useMemo(()=>s.getState(),[s]);kV(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||_V;return g.createElement(l.Provider,{value:i},t)}var PV=CV,EV=(e,t)=>t,Mv=te([EV,Je,eF,Bt,iC,Na,q9,sr],J9),Rv=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},dP=fn("mouseClick"),uP=Ec();uP.startListening({actionCreator:dP,effect:(e,t)=>{var r=e.payload,n=Mv(t.getState(),Rv(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(r9({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Qp=fn("mouseMove"),mP=Ec();mP.startListening({actionCreator:Qp,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=vv(n,n.tooltip.settings.shared),i=Mv(n,Rv(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(eC({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Z_()))}});function AV(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var dj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},hP=xn({name:"rootProps",initialState:dj,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:dj.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),TV=hP.reducer,{updateOptions:OV}=hP.actions,DV=xn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),MV=DV.reducer,fP=fn("keyDown"),pP=fn("focus"),$v=Ec();$v.startListening({actionCreator:fP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(yv(s,mi(r))),l=Na(r);if(i==="Enter"){var c=rm(r,"axis","hover",String(s.index));t.dispatch(zp({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var d=GF(r),u=d==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,h=o+m*u;if(!(l==null||h>=l.length||h<0)){var f=rm(r,"axis","hover",String(h));t.dispatch(zp({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:f}))}}}}});$v.startListening({actionCreator:pP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=rm(r,"axis","hover",String(i));t.dispatch(zp({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var en=fn("externalEvent"),gP=Ec();gP.startListening({actionCreator:en,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:D9(r),activeDataKey:A9(r),activeIndex:tm(r),activeLabel:dC(r),activeTooltipIndex:tm(r),isTooltipActive:M9(r)};e.payload.handler(n,e.payload.reactEvent)}}});var RV=te([Io],e=>e.tooltipItemPayloads),$V=te([RV,Mh,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),xP=fn("touchMove"),vP=Ec();vP.startListening({actionCreator:xP,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=vv(n,n.tooltip.settings.shared);if(s==="axis"){var i=Mv(n,Rv({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(eC({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(R$),u=(o=c.getAttribute($$))!==null&&o!==void 0?o:void 0,m=$V(t.getState(),d,u);t.dispatch(t9({activeDataKey:u,activeIndex:d,activeCoordinate:m}))}}});var IV=Ek({brush:eU,cartesianAxis:qq,chartData:mz,graphicalItems:kB,layout:o$,legend:K$,options:oz,polarAxis:bB,polarOptions:MV,referenceElements:lU,rootProps:TV,tooltip:n9}),LV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return OR({reducer:IV,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([uP.middleware,mP.middleware,$v.middleware,gP.middleware,vP.middleware]),devTools:{serialize:{replacer:AV},name:"recharts-".concat(r)}})};function FV(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=yr(),i=g.useRef(null);if(s)return r;i.current==null&&(i.current=LV(t,n));var o=yx;return g.createElement(PV,{context:o,store:i.current},r)}function zV(e){var{layout:t,width:r,height:n,margin:s}=e,i=vr(),o=yr();return g.useEffect(()=>{o||(i(a$(t)),i(s$({width:r,height:n})),i(n$(s)))},[i,o,t,r,n,s]),null}function BV(e){var t=vr();return g.useEffect(()=>{t(OV(e))},[t,e]),null}var UV=["children"];function qV(e,t){if(e==null)return{};var r,n,s=VV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function VV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(null,arguments)}var WV={width:"100%",height:"100%"},HV=g.forwardRef((e,t)=>{var r=nS(),n=aS(),s=iS();if(!zu(r)||!zu(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,d,u;return typeof o.tabIndex=="number"?d=o.tabIndex:d=s?0:void 0,typeof o.role=="string"?u=o.role:u=s?"application":void 0,g.createElement(W4,dm({},o,{title:l,desc:c,role:u,tabIndex:d,width:r,height:n,style:WV,ref:t}),i)}),KV=e=>{var{children:t}=e,r=Ne(gh);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return g.createElement(W4,{width:n,height:s,x:o,y:i},t)},uj=g.forwardRef((e,t)=>{var{children:r}=e,n=qV(e,UV),s=yr();return s?g.createElement(KV,null,r):g.createElement(HV,dm({ref:t},n),r)});function GV(){var e=vr(),[t,r]=g.useState(null),n=Ne(M$);return g.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;pr(i)&&i!==n&&e(i$(i))}},[t,e,n]),r}function mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function YV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(r),!0).forEach(function(n){JV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JV(e,t,r){return(t=XV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XV(e){var t=QV(e,"string");return typeof t=="symbol"?t:t+""}function QV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZV=g.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:m,onMouseUp:h,onTouchEnd:f,onTouchMove:p,onTouchStart:v,style:y,width:x}=e,b=vr(),[j,N]=g.useState(null),[w,k]=g.useState(null);pz();var S=GV(),E=g.useCallback(U=>{S(U),typeof t=="function"&&t(U),N(U),k(U)},[S,t,N,k]),R=g.useCallback(U=>{b(dP(U)),b(en({handler:i,reactEvent:U}))},[b,i]),_=g.useCallback(U=>{b(Qp(U)),b(en({handler:d,reactEvent:U}))},[b,d]),C=g.useCallback(U=>{b(Z_()),b(en({handler:u,reactEvent:U}))},[b,u]),B=g.useCallback(U=>{b(Qp(U)),b(en({handler:m,reactEvent:U}))},[b,m]),D=g.useCallback(()=>{b(pP())},[b]),T=g.useCallback(U=>{b(fP(U.key))},[b]),$=g.useCallback(U=>{b(en({handler:o,reactEvent:U}))},[b,o]),F=g.useCallback(U=>{b(en({handler:l,reactEvent:U}))},[b,l]),L=g.useCallback(U=>{b(en({handler:c,reactEvent:U}))},[b,c]),A=g.useCallback(U=>{b(en({handler:h,reactEvent:U}))},[b,h]),O=g.useCallback(U=>{b(en({handler:v,reactEvent:U}))},[b,v]),V=g.useCallback(U=>{b(xP(U)),b(en({handler:p,reactEvent:U}))},[b,p]),W=g.useCallback(U=>{b(en({handler:f,reactEvent:U}))},[b,f]);return g.createElement(xC.Provider,{value:j},g.createElement(N6.Provider,{value:w},g.createElement("div",{className:Be("recharts-wrapper",n),style:YV({position:"relative",cursor:"default",width:x,height:s},y),role:"application",onClick:R,onContextMenu:$,onDoubleClick:F,onFocus:D,onKeyDown:T,onMouseDown:L,onMouseEnter:_,onMouseLeave:C,onMouseMove:B,onMouseUp:A,onTouchEnd:W,onTouchMove:V,onTouchStart:O,ref:E},r)))}),eW=["children","className","width","height","style","compact","title","desc"];function tW(e,t){if(e==null)return{};var r,n,s=rW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function rW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nW=g.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:o,compact:l,title:c,desc:d}=e,u=tW(e,eW),m=De(u,!1);return l?g.createElement(uj,{otherAttributes:m,title:c,desc:d},r):g.createElement(ZV,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(uj,{otherAttributes:m,title:c,desc:d,ref:t},g.createElement(dU,null,r)))}),aW=["width","height"];function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(null,arguments)}function sW(e,t){if(e==null)return{};var r,n,s=iW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function iW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oW={top:5,right:5,bottom:5,left:5},lW={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:oW,reverseStackOrder:!1,syncMethod:"index"},cW=g.forwardRef(function(t,r){var n,s=hs(t.categoricalChartProps,lW),{width:i,height:o}=s,l=sW(s,aW);if(!zu(i)||!zu(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,categoricalChartProps:h}=t,f={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return g.createElement(FV,{preloadedState:{options:f},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},g.createElement(QB,{chartData:h.data}),g.createElement(zV,{width:i,height:o,layout:s.layout,margin:s.margin}),g.createElement(BV,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),g.createElement(nW,Zp({},l,{width:i,height:o,ref:r})))}),dW=["axis"],hj=g.forwardRef((e,t)=>g.createElement(cW,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dW,tooltipPayloadSearcher:sz,categoricalChartProps:e,ref:t}));function um(e,t,r="trade"){const n=[];let s=0,i=0;if(Object.keys(e).forEach(p=>{const v=e[p],y=(v==null?void 0:v.trades)??[];y.length>0&&(v["Performance Metrics"]&&(s+=Number(v["Performance Metrics"]["Net Profit"])||0),y.forEach(x=>{n.push({exit_date:String(x.exit_date||x.entry_date).split("T")[0],pnl:Number(x.pnl)||0,strategy:p,symbol:x.symbol}),i++}))}),n.length===0)return{maxDrawdownAbsoluto:0,maxDrawdownPercent:0,peakMaximo:0,resultadoFinal:0,netProfitTotal:0,totalTrades:0};n.sort((p,v)=>new Date(p.exit_date).getTime()-new Date(v.exit_date).getTime());const o=new Map;n.forEach(p=>{let v;const y=new Date(p.exit_date);switch(r){case"trade":v=`${p.exit_date}_${Math.random()}`;break;case"daily":v=p.exit_date;break;case"weekly":const b=new Date(y);b.setDate(y.getDate()-y.getDay()),v=b.toISOString().split("T")[0];break;case"monthly":v=`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}`;break;default:v=p.exit_date}o.has(v)||o.set(v,{date:p.exit_date,resultado:0,estrategias:new Set});const x=o.get(v);x.resultado+=p.pnl,x.estrategias.add(p.strategy)});const l=Array.from(o.values()).sort((p,v)=>new Date(p.date).getTime()-new Date(v.date).getTime());let c=0,d=0,u=0;l.forEach((p,v)=>{c+=p.resultado,c>d&&(d=c);const y=c-d;y<u&&(u=y)});const m=Math.abs(u),h=d>0?m/d*100:0;return{maxDrawdownAbsoluto:m,maxDrawdownPercent:h,peakMaximo:d,resultadoFinal:c,netProfitTotal:s,totalTrades:i}}function uW({showEquityCurve:e,setShowEquityCurve:t,selectedStrategy:r,selectedAsset:n,fileResults:s,data:i,showConsolidated:o=!0,selectedFiles:l=[],files:c=[]}){const[d,u]=g.useState("resultado"),[m,h]=g.useState("daily"),[f,p]=g.useState("20"),v=op(_=>_.investedCapital),y=op(_=>_.setInvestedCapital),[x,b]=g.useState(String(v)),j=g.useCallback(()=>{if(!s)return{};let _={...s};if(!o&&l.length>0?(_={},l.forEach(C=>{s[C]&&(_[C]=s[C])})):o&&r&&(_={},Object.keys(s).forEach(C=>{(C===r||C===`${r}.csv`)&&(_[C]=s[C])})),n){const C={};Object.keys(_).forEach(B=>{const D=_[B];if(D&&D.trades){const T=D.trades.filter($=>$.symbol===n);T.length>0&&(C[B]={...D,trades:T})}}),_=C}return _},[s,o,l,r,n]),N=(_,C)=>{const B=["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#EC4899","#84CC16","#6366F1"];return B[C%B.length]},w=g.useMemo(()=>{console.log("🔄 chartData useMemo executado"),console.log("🚨🚨🚨 VERIFICAÇÃO CRÍTICA - Parâmetros principais:"),console.log("  📊 chartType:",d),console.log("  📊 showConsolidated:",o),console.log("  🎯 selectedStrategy:",r),console.log("  🎯 selectedAsset:",n),console.log("  📁 fileResults:",s?Object.keys(s):"null"),console.log("  📊 data:",i?Object.keys(i):"null"),console.log("  📊 showConsolidated:",o),console.log("  📁 selectedFiles:",l),console.log("  📁 files:",c.length),console.log("🚨🚨🚨 PONTO DE VERIFICAÇÃO - Chegando na lógica principal"),console.log("🚨🚨🚨 chartType="+d+", showConsolidated="+o);const _=j(),C=_&&Object.keys(_).length>0;if(console.log("📊 FileResults filtrados:",Object.keys(_)),console.log("📊 FileResults válidos:",C),!o&&l.length>0&&C){console.log("🔧 MODO INDIVIDUAL: Usando dados das estratégias selecionadas");const T=Object.keys(_);console.log("📊 Estratégias selecionadas para modo individual:",T),console.log("🔧 MODO INDIVIDUAL: Usando cálculo consolidado para gráfico"),console.log("🔧 APLICANDO METODOLOGIA PYTHON - Coletando todos os trades"),console.log("📖 Referência: FunCalculos.py linhas 474-476 (cumsum, cummax, equity-peak)");const $=[];if(T.forEach(V=>{const W=_[V];W&&W.trades&&W.trades.forEach(U=>{$.push({...U,strategy:V,pnl:Number(U.pnl)||0,entry_date:U.entry_date??U.date??"1970-01-01",exit_date:U.exit_date??U.entry_date??U.date??"1970-01-01"})})}),console.log(`📊 Total de trades coletados: ${$.length}`),$.length===0){console.warn("⚠️ Nenhum trade encontrado para processar");for(const V of T){const W=_[V],U=(W==null?void 0:W["Equity Curve Data"])||(W==null?void 0:W.equity_curve_data);if(U){let J=[];switch(m){case"trade":J=U.trade_by_trade||[];break;case"daily":J=U.daily||[];break;default:J=U.daily||[]}if(J.length>0)return J.map(z=>({...z,saldo:Number(z.saldo??z.resultado??0),valor:Number(z.valor??0),resultado:Number(z.resultado??0),drawdown:Number(z.drawdown??0),drawdownPercent:Number(z.drawdownPercent??0),peak:Number(z.peak??0),trades:Number(z.trades??0),strategy:V}))}}}$.sort((V,W)=>new Date(V.entry_date??V.date??"1970-01-01").getTime()-new Date(W.entry_date??W.date??"1970-01-01").getTime()),console.log("📊 Trades ordenados cronologicamente"),console.log("🔧 CALCULANDO EQUITY CURVE CONSOLIDADA"),console.log("📖 Referência: FunCalculos.py - cumsum, cummax, equity-peak");let F=0,L=0,A=0;const O=[];return $.forEach((V,W)=>{const U=Number(V.pnl)||0;F+=U,F>L&&(L=F);const J=Math.abs(Math.min(0,F-L));J>A&&(A=J);const G=L>0?J/L*100:0;O.push({date:V.entry_date,fullDate:V.entry_date,saldo:F,valor:F,resultado:U,drawdown:J,drawdownPercent:G,peak:L,trades:W+1,strategy:"Consolidado Individual"})}),console.log("✅ Equity curve consolidada calculada:",O.length,"pontos"),console.log("📊 Exemplo de dados consolidados:",O[0]),console.log("📊 Último ponto consolidado:",O[O.length-1]),console.log("📊 Máximo drawdown consolidado:",A),console.log("📊 Peak consolidado:",L),O}if(o&&C){console.log("✅ ENTRANDO NO MODO CONSOLIDADO");const T=Object.keys(_);console.log("📊 Modo consolidado: combinando dados de todas as estratégias:",T),console.log("🎯 Filtro de estratégia:",r||"Todas"),console.log("🎯 Filtro de ativo:",n||"Todos"),console.log("📊 Tipo de gráfico:",d),console.log("🔧 MODO CONSOLIDADO: Usando cálculo consolidado para drawdown");const $=[],F=new Set;T.forEach(J=>{var Z;const G=_[J],z=(G==null?void 0:G["Equity Curve Data"])||(G==null?void 0:G.equity_curve_data);if(console.log(`🔍 Verificando dados para ${J}:`,{hasStrategyData:!!G,strategyDataKeys:G?Object.keys(G):[],hasEquityCurveData:!!z,equityCurveKeys:z?Object.keys(z):[]}),z){let se=[];switch(m){case"trade":se=z.trade_by_trade||[];break;case"daily":se=z.daily||[];break;default:se=z.daily||[]}console.log(`📊 ${J} - Dados selecionados para ${m}:`,{totalPoints:se.length,sampleData:se[0],lastData:se[se.length-1]});const M=se.map(I=>({...I,saldo:Number(I.saldo??I.resultado??0),valor:Number(I.valor??0),resultado:Number(I.resultado??0),drawdown:Number(I.drawdown??0),drawdownPercent:Number(I.drawdownPercent??0),peak:Number(I.peak??0),trades:Number(I.trades??0),strategy:J}));M.forEach(I=>{I.fullDate&&F.add(I.fullDate)}),$.push(...M),console.log(`📊 ${J}: ${M.length} pontos adicionados`),console.log(`📊 ${J} - Exemplo de dados processados:`,M[0]),console.log(`📊 ${J} - Último ponto:`,M[M.length-1]),console.log(`📊 ${J} - Range de valores saldo:`,{min:Math.min(...M.map(I=>I.saldo??0)),max:Math.max(...M.map(I=>I.saldo??0)),last:(Z=M[M.length-1])==null?void 0:Z.saldo})}});const L=Array.from(F).filter(J=>{if(!J||J==="Invalid Date"||J==="undefined"||J==="null")return!1;try{const G=new Date(J);return!isNaN(G.getTime())}catch{return!1}}).sort((J,G)=>new Date(J).getTime()-new Date(G).getTime());console.log("📅 Range de datas válidas:",L[0],"até",L[L.length-1]),console.log("📅 Total de datas únicas válidas:",L.length),console.log("🔧 APLICANDO METODOLOGIA PYTHON - Coletando todos os trades"),console.log("📖 Referência: FunCalculos.py linhas 474-476 (cumsum, cummax, equity-peak)");const A=[];if(T.forEach(J=>{const G=_[J];G&&G.trades&&G.trades.forEach(z=>{A.push({...z,strategy:J,pnl:Number(z.pnl)||0,entry_date:z.entry_date??z.date??"1970-01-01",exit_date:z.exit_date??z.entry_date??z.date??"1970-01-01"})})}),console.log(`📊 Total de trades coletados: ${A.length}`),A.length===0){if(console.warn("⚠️ Nenhum trade encontrado para processar"),i&&i["Equity Curve Data"]){console.log("✅ CSV ÚNICO: Usando dados de Equity Curve Data");const J=i["Equity Curve Data"];let G=[];switch(m){case"trade":G=J.trade_by_trade||[];break;case"daily":G=J.daily||[];break;default:G=J.daily||[]}if(G.length>0)return console.log("✅ Dados de equity curve encontrados:",G.length,"pontos"),G.map(z=>({...z,saldo:Number(z.saldo??z.resultado??0),valor:Number(z.valor??0),resultado:Number(z.resultado??0),drawdown:Number(z.drawdown??0),drawdownPercent:Number(z.drawdownPercent??0),peak:Number(z.peak??0),trades:Number(z.trades??0)}))}console.warn("⚠️ Nenhum dado válido encontrado")}A.sort((J,G)=>new Date(J.entry_date??J.date??"1970-01-01").getTime()-new Date(G.entry_date??G.date??"1970-01-01").getTime()),console.log("📊 Trades ordenados cronologicamente"),console.log("🔧 CALCULANDO EQUITY CURVE CONSOLIDADA"),console.log("📖 Referência: FunCalculos.py - cumsum, cummax, equity-peak");let O=0,V=0,W=0;const U=[];return A.forEach((J,G)=>{const z=Number(J.pnl)||0;O+=z,O>V&&(V=O);const Z=Math.abs(Math.min(0,O-V));Z>W&&(W=Z);const se=V>0?Z/V*100:0;U.push({date:J.entry_date,fullDate:J.entry_date,saldo:O,valor:O,resultado:z,drawdown:Z,drawdownPercent:se,peak:V,trades:G+1,strategy:"Consolidado"})}),console.log("✅ Equity curve consolidada calculada:",U.length,"pontos"),console.log("📊 Exemplo de dados consolidados:",U[0]),console.log("📊 Último ponto consolidado:",U[U.length-1]),console.log("📊 Máximo drawdown consolidado:",W),console.log("📊 Peak consolidado:",V),U}if(i&&i["Equity Curve Data"]){console.log("✅ CSV ÚNICO: Usando dados de Equity Curve Data");const T=i["Equity Curve Data"];let $=[];switch(m){case"trade":$=T.trade_by_trade||[];break;case"daily":$=T.daily||[];break;default:$=T.daily||[]}if(console.log(`📊 CSV ÚNICO: Dados selecionados para ${m}: ${$.length} pontos`),$.length>0)return console.log("✅ Dados de equity curve encontrados:",$.length,"pontos"),$.map(F=>({...F,saldo:Number(F.saldo??F.resultado??0),valor:Number(F.valor??0),resultado:Number(F.resultado??0),drawdown:Number(F.drawdown??0),drawdownPercent:Number(F.drawdownPercent??0),peak:Number(F.peak??0),trades:Number(F.trades??0)}))}if(r&&s){const T=s[r]||s[`${r}.csv`];if(console.log("🔍 Buscando dados da estratégia:",{selectedStrategy:r,hasStrategyData:!!T,availableKeys:Object.keys(s)}),T&&T["Equity Curve Data"]){const $=T["Equity Curve Data"];let F=[];switch(m){case"trade":F=$.trade_by_trade||[];break;case"daily":F=$.daily||[];break;default:F=$.daily||[]}if(F.length>0)return console.log("✅ Dados da estratégia encontrados:",F.length,"pontos"),F.map(L=>({...L,saldo:Number(L.saldo??L.resultado??0),valor:Number(L.valor??0),resultado:Number(L.resultado??0),drawdown:Number(L.drawdown??0),drawdownPercent:Number(L.drawdownPercent??0),peak:Number(L.peak??0),trades:Number(L.trades??0)}))}}console.log("⚠️ Nenhum dado direto encontrado; tentando usar dados de Equity Curve do CSV (se houver)");const B=i==null?void 0:i["Equity Curve Data"];return(B?m==="trade"?B.trade_by_trade||[]:B.daily||[]:[]).map(T=>({...T,saldo:Number(T.saldo??T.resultado??0),valor:Number(T.valor??0),resultado:Number(T.resultado??0),drawdown:Number(T.drawdown??0),drawdownPercent:Number(T.drawdownPercent??0),peak:Number(T.peak??0),trades:Number(T.trades??0)}))},[i,m,n,s,o,l,d,r,c.length,j]),k=g.useMemo(()=>{if(f==="nenhuma"||!Array.isArray(w)||w.length===0)return w;const _=parseInt(f);return w.map((C,B)=>{if(B<_-1)return{...C,saldoMA:null};const D=w.slice(B-_+1,B+1).reduce((T,$)=>T+Number($.saldo??$.resultado??0),0);return{...C,saldoMA:D/_}})},[w,f]),S=g.useMemo(()=>{console.log("🔄 stats useMemo executado"),console.log("🔧 DEBUG STATS - Parâmetros:"),console.log("  📊 data existe:",!!i),console.log("  📁 fileResults keys:",s?Object.keys(s):"null"),console.log("  📊 fileResults length:",s?Object.keys(s).length:0),console.log("  📊 showConsolidated:",o),console.log("  📊 selectedStrategy:",r),console.log("  📊 selectedAsset:",n),console.log("  📁 selectedFiles:",l);const _=j(),C=_&&Object.keys(_).length>0;if(console.log("📊 FileResults filtrados:",Object.keys(_)),console.log("📊 FileResults válidos:",C),!o&&l.length>0&&C)if(console.log("🔧 MODO INDIVIDUAL: Calculando stats para estratégias selecionadas"),console.log("📊 selectedFiles:",l),console.log("📊 filteredFileResults keys:",Object.keys(_)),console.log("📊 showConsolidated:",o),console.log("📊 hasValidFileResults:",C),Object.keys(_).length===1){const D=Object.keys(_)[0],T=_[D];if(console.log(`🎯 MODO INDIVIDUAL - Estratégia única: ${D}`),console.log("📊 Dados da estratégia:",T),console.log("📊 Estrutura dos dados:",{keys:T?Object.keys(T):[],hasPerformanceMetrics:!!(T&&T["Performance Metrics"]),performanceMetricsKeys:T&&T["Performance Metrics"]?Object.keys(T["Performance Metrics"]):[]}),console.log(`🔍 DEBUG: Verificando trades para ${D}:`,{hasStrategyData:!!T,hasTrades:!!(T&&T.trades),isArray:!!(T&&T.trades&&Array.isArray(T.trades)),tradesLength:T&&T.trades?T.trades.length:0}),T&&T.trades&&Array.isArray(T.trades)){const F=T.trades,L=F.filter(q=>(Number(q.pnl)||0)>0),A=F.filter(q=>(Number(q.pnl)||0)<0),O=L.reduce((q,P)=>q+(Number(P.pnl)||0),0),V=Math.abs(A.reduce((q,P)=>q+(Number(P.pnl)||0),0)),W=V>0?O/V:0,U=F.length>0?L.length/F.length*100:0,J=F.reduce((q,P)=>q+(Number(P.pnl)||0),0),G=J/1e5*100;let z=0,Z=0,se=0;F.sort((q,P)=>new Date(q.entry_date??q.date??"1970-01-01").getTime()-new Date(P.entry_date??P.date??"1970-01-01").getTime()),F.forEach(q=>{const P=Number(q.pnl)||0;z+=P,z>Z&&(Z=z);const X=Math.abs(Math.min(0,z-Z));X>se&&(se=X)});const M=se/1e5*100;console.log(`🔍 DEBUG DD Médio - Dados completos para ${D}:`,{hasStrategyData:!!T,hasPerformanceMetrics:!!(T&&T["Performance Metrics"]),performanceMetrics:T&&T["Performance Metrics"],averageDrawdown:T&&T["Performance Metrics"]?T["Performance Metrics"]["Average Drawdown"]:"N/A"});let I=0;const H=T&&T["Performance Metrics"];if(H){const q=["Average Drawdown","Average Drawdown ($)","Average Drawdown (%)","Avg Drawdown","Avg Drawdown ($)","Avg Drawdown (%)","drawdown_medio","drawdown_medio_pct"];for(const P of q)if(H[P]!==void 0&&H[P]>0){I=H[P],console.log(`✅ DD Médio da API: "${P}" = ${I}`);break}if(I===0){console.log("🔄 Calculando DD médio localmente...");let P=0,X=0;const re=[];F.sort((de,fe)=>new Date(de.entry_date??de.date??"1970-01-01").getTime()-new Date(fe.entry_date??fe.date??"1970-01-01").getTime()),F.forEach(de=>{const fe=Number(de.pnl)||0;P+=fe,P>X&&(X=P);const he=X-P;he>0&&re.push(he)}),re.length>0?(I=re.reduce((de,fe)=>de+fe,0)/re.length,console.log(`✅ DD Médio calculado localmente: ${I.toFixed(2)}`),console.log(`📊 Total de períodos em drawdown: ${re.length}`),console.log("📊 Drawdowns encontrados:",re.slice(0,5))):console.log("❌ Nenhum período de drawdown encontrado")}}return console.log(`✅ DD Médio da API para ${D}:`,{drawdownMedio:I,fromAPI:!!(T&&T["Performance Metrics"]),isZero:I===0}),console.log(`✅ Métricas calculadas localmente para ${D}:`,{resultadoLiquido:J,maxDrawdown:se,drawdownMaximoPct:M,drawdownMedio:I,fatorLucro:W,winRate:U,roi:G,totalTrades:F.length,winningTrades:L.length,losingTrades:A.length}),{resultado:J,maxDrawdown:se,maxDrawdownPercent:M,avgDrawdown:I,fatorLucro:W,winRate:U,roi:G,totalTrades:F.length,winningTrades:L.length,losingTrades:A.length,pontosComDados:F.length}}else{console.log(`❌ MODO INDIVIDUAL - Estratégia única: ${D} - Sem trades disponíveis`),console.log("📊 Dados da estratégia:",T);const $=T==null?void 0:T["Performance Metrics"];if($){const L=Number($["Net Profit"])||0,A=Math.abs(Number($["Max Drawdown ($)"])||0),O=A/1e5*100,V=L/1e5*100;return{resultado:L,maxDrawdown:A,maxDrawdownPercent:O,avgDrawdown:Number($["Average Drawdown ($)"])||0,fatorLucro:Number($["Profit Factor"])||0,winRate:Number($["Win Rate (%)"])||0,roi:V,totalTrades:Number($["Total Trades"])||0,winningTrades:Number($["Winning Trades"])||0,losingTrades:Number($["Losing Trades"])||0,pontosComDados:Number($["Total Trades"])||0}}return{resultado:0,maxDrawdown:0,maxDrawdownPercent:0,avgDrawdown:0,fatorLucro:0,winRate:0,roi:0,totalTrades:0,winningTrades:0,losingTrades:0}}}else{console.log("🔧 MODO INDIVIDUAL - Múltiplas estratégias: Calculando métricas localmente");try{const D=um(_);if(console.log("✅ Métricas consolidadas calculadas:",D),D&&D.maxDrawdownAbsoluto>0){const $=D.maxDrawdownAbsoluto/1e5*100;console.log("📊 DD Máximo % calculado:",$.toFixed(2)+"%");const F=[];Object.values(_).forEach(H=>{H.trades&&Array.isArray(H.trades)&&F.push(...H.trades)});const L=F.filter(H=>(Number(H.pnl)||0)>0),A=F.filter(H=>(Number(H.pnl)||0)<0),O=L.reduce((H,q)=>H+(Number(q.pnl)||0),0),V=Math.abs(A.reduce((H,q)=>H+(Number(q.pnl)||0),0)),W=V>0?O/V:0,U=F.length>0?L.length/F.length*100:0,J=F.reduce((H,q)=>H+(Number(q.pnl)||0),0),G=J/1e5*100;let z=0,Z=0;const se=[];F.sort((H,q)=>new Date(H.entry_date??H.date??"1970-01-01").getTime()-new Date(q.entry_date??q.date??"1970-01-01").getTime()),F.forEach(H=>{const q=Number(H.pnl)||0;z+=q,z>Z&&(Z=z);const P=Math.abs(Math.min(0,z-Z));P>0&&se.push(P)});const M=se.length>0?se.reduce((H,q)=>H+q,0)/se.length:0;console.log("✅ Métricas calculadas localmente:",{avgDrawdown:M,fatorLucro:W,winRate:U,roi:G,resultadoLiquidoConsolidado:J,winningTrades:L.length,losingTrades:A.length});const I={resultado:J,maxDrawdown:D.maxDrawdownAbsoluto,maxDrawdownPercent:$,avgDrawdown:M,fatorLucro:W,winRate:U,roi:G,totalTrades:F.length,winningTrades:L.length,losingTrades:A.length,pontosComDados:F.length};return console.log("✅ Resultado para modo individual consolidado:",I),I}}catch(D){console.error("❌ Erro ao calcular drawdown consolidado para múltiplas estratégias:",D)}}if(o&&C&&Object.keys(_).length>1){console.log("🔧 MODO CONSOLIDADO: Usando calculateDirectConsolidation (prioridade 1)");try{const D=um(_);if(console.log("✅ Drawdown consolidado calculado:",D),D&&D.maxDrawdownAbsoluto>0){const $=D.maxDrawdownAbsoluto/1e5*100;console.log("📊 DD Máximo % calculado:",$.toFixed(2)+"%"),console.log("  📊 Fórmula: (",D.maxDrawdownAbsoluto,"/",1e5,") * 100 =",$.toFixed(2)+"%");const F=[];Object.values(_).forEach(H=>{H.trades&&Array.isArray(H.trades)&&F.push(...H.trades)});const L=F.filter(H=>(Number(H.pnl)||0)>0),A=F.filter(H=>(Number(H.pnl)||0)<0),O=L.reduce((H,q)=>H+(Number(q.pnl)||0),0),V=Math.abs(A.reduce((H,q)=>H+(Number(q.pnl)||0),0)),W=V>0?O/V:0,U=F.length>0?L.length/F.length*100:0,J=F.reduce((H,q)=>H+(Number(q.pnl)||0),0),G=J/1e5*100;let z=0,Z=0;const se=[];F.sort((H,q)=>new Date(H.entry_date??H.date??"1970-01-01").getTime()-new Date(q.entry_date??q.date??"1970-01-01").getTime()),F.forEach(H=>{const q=Number(H.pnl)||0;z+=q,z>Z&&(Z=z);const P=Math.abs(Math.min(0,z-Z));P>0&&se.push(P)});const M=se.length>0?se.reduce((H,q)=>H+q,0)/se.length:0;console.log("✅ Métricas calculadas localmente:",{avgDrawdown:M,fatorLucro:W,winRate:U,roi:G,resultadoLiquidoConsolidado:J,winningTrades:L.length,losingTrades:A.length});const I={resultado:J,maxDrawdown:D.maxDrawdownAbsoluto,maxDrawdownPercent:$,avgDrawdown:M,fatorLucro:W,winRate:U,roi:G,totalTrades:F.length,winningTrades:L.length,losingTrades:A.length,pontosComDados:F.length};return console.log("✅ Resultado final para modo consolidado:",I),console.log("  📊 DD Máximo:",I.maxDrawdown),console.log("  📊 DD Máximo %:",I.maxDrawdownPercent),console.log("  📊 DD Médio:",I.avgDrawdown),console.log("  📊 Fator de Lucro:",I.fatorLucro),console.log("  📊 Win Rate:",I.winRate),console.log("  📊 ROI:",I.roi),I}}catch(D){console.error("❌ Erro ao calcular drawdown consolidado:",D)}}if(o&&C&&Object.keys(_).length===1){console.log("🔧 MODO CONSOLIDADO - CSV ÚNICO: Usando dados do CSV único"),console.log("📊 showConsolidated:",o),console.log("📊 hasValidFileResults:",C),console.log("📊 filteredFileResults length:",Object.keys(_).length);const D=Object.keys(_)[0],T=_[D];if(console.log(`🎯 MODO CONSOLIDADO - CSV ÚNICO: ${D}`),console.log("📊 Dados da estratégia:",T),T&&T.trades&&Array.isArray(T.trades)){const F=T.trades,L=F.filter(q=>(Number(q.pnl)||0)>0),A=F.filter(q=>(Number(q.pnl)||0)<0),O=L.reduce((q,P)=>q+(Number(P.pnl)||0),0),V=Math.abs(A.reduce((q,P)=>q+(Number(P.pnl)||0),0)),W=V>0?O/V:0,U=F.length>0?L.length/F.length*100:0,J=F.reduce((q,P)=>q+(Number(P.pnl)||0),0),G=J/1e5*100;let z=0,Z=0,se=0;const M=[];F.sort((q,P)=>new Date(q.entry_date??q.date??"").getTime()-new Date(P.entry_date??P.date??"").getTime()),F.forEach(q=>{const P=Number(q.pnl)||0;z+=P,z>Z&&(Z=z);const X=Math.abs(Math.min(0,z-Z));X>se&&(se=X),X>0&&M.push(X)});const I=se/1e5*100,H=M.length>0?M.reduce((q,P)=>q+P,0)/M.length:0;return console.log(`✅ Métricas calculadas localmente para ${D}:`,{resultadoLiquido:J,maxDrawdown:se,drawdownMaximoPct:I,avgDrawdown:H,fatorLucro:W,winRate:U,roi:G,totalTrades:F.length,winningTrades:L.length,losingTrades:A.length}),{resultado:J,maxDrawdown:se,maxDrawdownPercent:I,avgDrawdown:H,fatorLucro:W,winRate:U,roi:G,totalTrades:F.length,winningTrades:L.length,losingTrades:A.length}}else if(T&&T["Performance Metrics"]){const $=T["Performance Metrics"],F=1e5,L=Number($["Net Profit"])||0,A=Math.abs(Number($["Max Drawdown ($)"])||0),O=F>0?A/F*100:0,V=F>0?L/F*100:0;return{resultado:L,maxDrawdown:A,maxDrawdownPercent:O,avgDrawdown:Number($["Average Drawdown ($)"])||0,fatorLucro:Number($["Profit Factor"])||0,winRate:Number($["Win Rate (%)"])||0,roi:V,totalTrades:Number($["Total Trades"])||0,winningTrades:Number($["Winning Trades"])||0,losingTrades:Number($["Losing Trades"])||0}}}if(i&&i["Performance Metrics"]){console.log("✅ CSV ÚNICO: Calculando métricas localmente");const D=[];if(i.trades&&Array.isArray(i.trades)?D.push(...i.trades):s&&Object.values(s).forEach(T=>{T.trades&&Array.isArray(T.trades)&&D.push(...T.trades)}),console.log(`📊 Trades obtidos para cálculo local: ${D.length}`),D.length>0){const $=D.reduce((q,P)=>q+(Number(P.pnl)||0),0);let F=0,L=0,A=0;D.sort((q,P)=>new Date(q.entry_date??q.date??"1970-01-01").getTime()-new Date(P.entry_date??P.date??"1970-01-01").getTime()),D.forEach(q=>{const P=Number(q.pnl)||0;F+=P,F>L&&(L=F);const X=Math.abs(Math.min(0,F-L));X>A&&(A=X)});const O=A/1e5*100;let V=0,W=0;const U=[];D.forEach(q=>{const P=Number(q.pnl)||0;V+=P,V>W&&(W=V);const X=Math.abs(Math.min(0,V-W));X>0&&U.push(X)});const J=U.length>0?U.reduce((q,P)=>q+P,0)/U.length:0,G=D.filter(q=>(Number(q.pnl)||0)>0),z=D.filter(q=>(Number(q.pnl)||0)<0),Z=G.reduce((q,P)=>q+(Number(P.pnl)||0),0),se=Math.abs(z.reduce((q,P)=>q+(Number(P.pnl)||0),0)),M=se>0?Z/se:0,I=D.length>0?G.length/D.length*100:0,H=$/1e5*100;return console.log("✅ Métricas calculadas localmente:",{resultado:$,maxDrawdown:A,maxDrawdownPercent:O,avgDrawdown:J,fatorLucro:M,winRate:I,roi:H}),{resultado:$,maxDrawdown:A,maxDrawdownPercent:O,avgDrawdown:J,fatorLucro:M,winRate:I,roi:H,totalTrades:D.length,winningTrades:G.length,losingTrades:z.length,pontosComDados:D.length}}}console.log("🔧 Sem paths anteriores: utilizando métricas do CSV único (se presente)");const B=i==null?void 0:i["Performance Metrics"];if(B){const T=Number(B["Net Profit"])||0,$=Math.abs(Number(B["Max Drawdown ($)"])||0),F=$/1e5*100,L=T/1e5*100;return{resultado:T,maxDrawdown:$,maxDrawdownPercent:F,avgDrawdown:Number(B["Average Drawdown ($)"])||0,fatorLucro:Number(B["Profit Factor"])||0,winRate:Number(B["Win Rate (%)"])||0,roi:L,totalTrades:Number(B["Total Trades"])||0,winningTrades:Number(B["Winning Trades"])||0,losingTrades:Number(B["Losing Trades"])||0,pontosComDados:Number(B["Total Trades"])||0}}return{resultado:0,maxDrawdown:0,maxDrawdownPercent:0,avgDrawdown:0,fatorLucro:0,winRate:0,roi:0,totalTrades:0,winningTrades:0,losingTrades:0}},[i,s,o,j,n,l,r]),E=({active:_,payload:C,label:B})=>{var D;if(_&&C&&C.length){const T=(D=C[0])==null?void 0:D.payload;return a.jsxs("div",{className:"bg-gray-800 border border-gray-600 rounded-lg p-3 shadow-lg",children:[a.jsx("p",{className:"text-gray-300 text-sm mb-2",children:`Data: ${(T==null?void 0:T.fullDate)||B}`}),C.map(($,F)=>{var L;return a.jsxs("p",{className:"text-sm",style:{color:$.color},children:[$.dataKey==="saldo"&&`Saldo: R$ ${$.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,$.dataKey==="valor"&&`Patrimônio: R$ ${$.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,$.dataKey==="resultado"&&`Resultado: R$ ${$.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,$.dataKey==="drawdown"&&`Drawdown: R$ ${$.value.toLocaleString("pt-BR",{minimumFractionDigits:2})} (${((L=T==null?void 0:T.drawdownPercent)==null?void 0:L.toFixed(2))||0}%)`,$.dataKey==="saldoMA"&&`MM ${f}: R$ ${$.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]},F)}),d==="drawdown"&&!T.isStart&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Detalhes do Drawdown Total:"}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Drawdown: R$ ",(T.drawdown||0).toLocaleString("pt-BR",{minimumFractionDigits:2})," (",(T.drawdownPercent||0).toFixed(2),"%)"]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Pico Máximo: R$ ",(T.peak||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Saldo Atual: R$ ",(T.saldo||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Total de Trades: ",T.trades||0]}),m==="trade"&&T.trade_result&&a.jsxs("p",{className:"text-xs text-gray-400",children:["Resultado do trade: R$ ",T.trade_result.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),m!=="trade"&&T.resultado_periodo&&a.jsxs("p",{className:"text-xs text-gray-400",children:["Resultado do período: R$ ",T.resultado_periodo.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),C.map(($,F)=>{var L;return a.jsxs("p",{className:"text-sm",style:{color:$.color},children:[$.dataKey==="drawdown"&&`Drawdown: R$ ${$.value.toLocaleString("pt-BR",{minimumFractionDigits:2})} (${((L=T==null?void 0:T.drawdownPercent)==null?void 0:L.toFixed(2))||0}%)`,$.dataKey==="resultadoMA"&&`MM ${f}: R$ ${$.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]},F)}),T&&d==="resultado"&&!T.isStart&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Detalhes do período:"}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Trades: ",T.trades||0]}),m==="trade"&&T.trade_result&&a.jsxs("p",{className:"text-xs text-gray-400",children:["Resultado do trade: R$ ",T.trade_result.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),m!=="trade"&&T.resultado_periodo&&a.jsxs("p",{className:"text-xs text-gray-400",children:["Resultado do período: R$ ",T.resultado_periodo.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Saldo: R$ ",(T.saldo||T.resultado||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["DD: R$ ",(T.drawdown||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Pico: R$ ",(T.peak||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}return null},R=_=>{if(!_||_==="Invalid Date"||_==="undefined"||_==="null")return"Data Inválida";try{const C=new Date(_);return isNaN(C.getTime())?"Data Inválida":C.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"})}catch(C){return console.error("❌ Erro ao formatar data:",_,C),"Data Inválida"}};return a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zs,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Gráficos"})]}),a.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]}),e&&a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"mb-4 bg-gray-700 p-4 rounded-lg",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ju,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"Patrimônio Total Investido"})]}),a.jsxs("div",{className:"flex items-center space-x-2 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 md:w-48",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"R$"}),a.jsx("input",{type:"text",value:x.replace(/\B(?=(\d{3})+(?!\d))/g,"."),onChange:_=>{const C=_.target.value.replace(/\./g,"");if(/^\d*$/.test(C)){b(C);const B=Number(C);Number.isFinite(B)&&y(B)}},className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Valor investido"})]}),a.jsxs("div",{className:"bg-blue-900 bg-opacity-20 px-3 py-2 rounded-md flex items-center",children:[a.jsx(S4,{className:"w-4 h-4 text-blue-400 mr-2"}),a.jsxs("span",{className:"text-blue-300 font-medium",children:["ROI: ",(S.roi??0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),"%"]})]})]})]})}),a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tipo de Gráfico"}),a.jsxs("select",{value:d,onChange:_=>u(_.target.value),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"resultado",children:"Evolução do Resultado"}),a.jsx("option",{value:"drawdown",children:"Drawdown"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Granularidade"}),a.jsxs("select",{value:m,onChange:_=>h(_.target.value),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"trade",children:"Trade por Trade"}),a.jsx("option",{value:"daily",children:"Diário"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Média Móvel"}),a.jsxs("select",{value:f,onChange:_=>p(_.target.value),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"nenhuma",children:"Nenhuma"}),a.jsx("option",{value:"9",children:"MM 9 períodos"}),a.jsx("option",{value:"20",children:"MM 20 períodos"}),a.jsx("option",{value:"50",children:"MM 50 períodos"}),a.jsx("option",{value:"200",children:"MM 200 períodos"}),a.jsx("option",{value:"2000",children:"MM 2000 períodos"})]})]})]})}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[i!=null&&i["Performance Metrics"]?a.jsxs("div",{className:"text-center text-gray-400 mb-4",children:[(r||n)&&a.jsx("div",{className:"mb-2 p-2 bg-blue-900 bg-opacity-20 border border-blue-800 rounded-lg",children:a.jsxs("span",{className:"text-blue-400 text-sm",children:["📊 Filtros ativos: ",r&&`Estratégia: ${r}`," ",r&&n&&" | "," ",n&&`Ativo: ${n}`]})}),d==="resultado"?`Evolução do Resultado Total ${m==="trade"?"por Trade":"Diária"} (${S.pontosComDados??0} pontos) - Resultado: R$ ${(S.resultado??0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`:`Drawdown Total ${m==="trade"?"por Trade":"Diário"} (${S.pontosComDados??0} pontos) - Máximo: R$ ${(S.maxDrawdown??0).toLocaleString("pt-BR",{minimumFractionDigits:2})} (${(S.maxDrawdownPercent??0).toFixed(2)}%)`]}):a.jsx("div",{className:"text-center text-gray-400 mb-4",children:"Nenhum dado de backtest disponível"}),Array.isArray(w)&&w.length>0?a.jsx("div",{className:"h-64",children:a.jsx(Pz,{width:"100%",height:"100%",children:d==="resultado"?a.jsxs(hj,{data:k,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"equityGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:.8}),a.jsx("stop",{offset:"50%",stopColor:"#3B82F6",stopOpacity:.6}),a.jsx("stop",{offset:"100%",stopColor:"#1E40AF",stopOpacity:.2})]})}),a.jsx(Kp,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(lm,{dataKey:"date",stroke:"#9CA3AF",fontSize:12,tickFormatter:R}),a.jsx(cm,{stroke:"#9CA3AF",fontSize:12,tickFormatter:_=>_>=1e3?`R$ ${(_/1e3).toFixed(1)}k`:`R$ ${_.toFixed(0)}`}),a.jsx(M1,{content:a.jsx(E,{})}),a.jsx(om,{type:"monotone",dataKey:"saldo",stroke:"#10B981",strokeWidth:3,fill:"url(#equityGradient)",fillOpacity:.6,name:"Evolução do Resultado Total"}),f!=="nenhuma"&&a.jsx(Dv,{type:"monotone",dataKey:"saldoMA",stroke:"#FBBF24",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:`Média Móvel ${f}`})]}):a.jsxs(hj,{data:k,children:[a.jsx(Kp,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(lm,{dataKey:"date",stroke:"#9CA3AF",fontSize:12,tickFormatter:R}),a.jsx(cm,{stroke:"#9CA3AF",fontSize:12,tickFormatter:_=>_>=1e3?`R$ ${(_/1e3).toFixed(1)}k`:`R$ ${_.toFixed(0)}`,domain:[0,"dataMax"]}),a.jsx(M1,{content:a.jsx(E,{})}),a.jsx(om,{type:"monotone",dataKey:"drawdown",stroke:"#EF4444",strokeWidth:3,fill:"#EF4444",fillOpacity:.3,name:"Drawdown Total"})]})})}):a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500",children:[d==="resultado"?a.jsx(hD,{className:"w-16 h-16 text-gray-600 mx-auto mb-2"}):a.jsx(Zs,{className:"w-16 h-16 text-gray-600 mx-auto mb-2"}),a.jsxs("p",{children:["Nenhum dado disponível para ",m]})]})})]}),a.jsxs("div",{className:"mt-4 p-3 bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"mb-2 text-xs text-gray-400 flex items-center",children:[a.jsx("span",{className:"text-green-400 mr-1",children:"📊"}),"Visualização simplificada - 1 linha por categoria"]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-300",children:"Legenda"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${d==="resultado"?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:"text-sm text-gray-400",children:d==="resultado"?"Evolução do Resultado Total":"Drawdown Total (Cálculo Específico)"})]}),f!=="nenhuma"&&d==="resultado"&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full mr-2"}),a.jsxs("span",{className:"text-sm text-gray-400",children:["Média Móvel ",f]})]})]}),o&&s&&Object.keys(s).length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Estratégias consolidadas (",Object.keys(s).length,"):"]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(s).map((_,C)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded",style:{backgroundColor:`${N(_,C)}20`,color:N(_,C),border:`1px solid ${N(_,C)}40`},children:_.replace(".csv","")},C))})]}),!o&&l.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Estratégias selecionadas (",l.length,"):"]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:l.map((_,C)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded",style:{backgroundColor:`${N(_,C)}20`,color:N(_,C),border:`1px solid ${N(_,C)}40`},children:_.replace(".csv","")},C))})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-gray-400 flex items-center",children:["Resultado Total",a.jsx("span",{className:"ml-1 text-green-400 text-xs",children:"📊"})]}),a.jsxs("p",{className:`text-lg font-medium ${(S.resultado??0)>=0?"text-green-400":"text-red-400"}`,children:["R$ ",(S.resultado??0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-gray-400 flex items-center",children:["DD Máximo",a.jsx("span",{className:"ml-1 text-green-400 text-xs",children:"📊"})]}),a.jsxs("p",{className:"text-lg font-medium text-red-400",children:["R$ ",(S.maxDrawdown??0).toLocaleString("pt-BR",{minimumFractionDigits:2}),a.jsxs("span",{className:"text-sm text-gray-400 ml-1",children:["(",(S.maxDrawdownPercent??0).toFixed(2),"%)"]})]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-gray-400 flex items-center",children:["DD Médio",a.jsx("span",{className:"ml-1 text-green-400 text-xs",children:"📊"})]}),a.jsxs("p",{className:"text-lg font-medium text-orange-400",children:["R$ ",(S.avgDrawdown??0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Fator de Lucro"}),a.jsx("p",{className:`text-lg font-medium ${(S.fatorLucro??0)>=1?"text-green-400":"text-red-400"}`,children:(S.fatorLucro??0).toFixed(3)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Win Rate"}),a.jsxs("p",{className:"text-lg font-medium text-blue-400",children:[(S.winRate??0).toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"ROI"}),a.jsxs("p",{className:`text-lg font-medium ${(S.roi??0)>=0?"text-green-400":"text-red-400"}`,children:[(S.roi??0).toFixed(2),"%"]})]})]})]})]})]})]})}const fj={"PIB EUA":["2022-04-28","2022-07-28","2022-10-27","2023-01-26","2023-04-27","2023-07-27","2023-10-26","2025-06-17","2024-01-25","2024-04-25","2024-07-25","2024-10-30","2025-01-30","2025-04-30","2025-07-30","2025-10-30","2026-01-29","2026-04-29","2026-07-29","2026-10-28","2027-01-28","2027-04-28","2027-07-28","2027-10-27","2028-01-27"],"PIB Brasil":["2022-06-02","2022-09-01","2022-12-01","2023-03-02","2023-06-01","2023-09-01","2023-12-05","2024-03-01","2024-06-04","2024-09-02","2024-12-02","2025-03-07","2025-06-02","2025-09-01","2025-12-01","2026-03-02","2026-06-01","2026-09-01","2026-12-01","2027-03-02","2027-06-01","2027-09-01","2027-12-01"],"Vespera de Feriados":["2022-03-28","2022-04-14","2022-06-15","2023-04-06","2023-06-07","2024-03-28","2024-05-29","2025-04-17","2025-06-18","2026-04-02","2026-06-03","2027-03-25","2027-06-23","2022-04-20","2022-04-30","2022-09-06","2022-10-11","2022-11-01","2022-11-14","2022-12-24","2023-04-20","2023-04-30","2023-09-06","2023-10-11","2023-11-01","2023-11-14","2023-12-24","2024-04-20","2024-04-30","2024-09-06","2024-10-11","2024-11-01","2024-11-14","2024-12-24","2025-04-20","2025-04-30","2025-09-06","2025-10-11","2025-11-01","2025-11-14","2025-12-24","2026-04-20","2026-04-30","2026-09-06","2026-10-11","2026-11-01","2026-11-14","2026-12-24","2027-04-20","2027-04-30","2027-09-06","2027-10-11","2027-11-01","2027-11-14","2027-12-24"],"Vencimento Dólar Futuro":["2022-01-03","2022-02-01","2022-03-01","2022-04-01","2022-05-02","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-03","2022-11-01","2022-12-01","2023-01-02","2023-02-01","2023-03-01","2023-04-03","2023-05-01","2023-06-01","2023-07-03","2023-08-01","2023-09-01","2023-10-02","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-03","2024-07-01","2024-08-01","2024-09-02","2024-10-01","2024-11-01","2024-12-02","2025-01-01","2025-02-03","2025-03-03","2025-04-01","2025-05-01","2025-06-02","2025-07-01","2025-08-01","2025-09-01","2025-10-01","2025-11-03","2025-12-01"],"Vencimento WIN Futuro":["2022-02-16","2022-04-13","2022-06-15","2022-08-17","2022-10-12","2022-12-14","2023-02-15","2023-04-12","2023-06-14","2023-08-16","2023-10-18","2023-12-13","2024-02-14","2024-04-17","2024-06-12","2024-08-14","2024-10-16","2024-12-18","2025-02-12","2025-04-16","2025-06-18","2025-08-13","2025-10-15","2025-12-17","2026-02-18","2026-04-15","2026-06-17","2026-08-12","2026-10-14","2026-12-16"],"Vencimento Opções Bovespa":["2022-01-21","2022-02-18","2022-03-18","2022-04-15","2022-05-20","2022-06-17","2022-07-15","2022-08-19","2022-09-16","2022-10-21","2022-11-18","2022-12-16","2023-01-20","2023-02-17","2023-03-17","2023-04-21","2023-05-19","2023-06-16","2023-07-21","2023-08-18","2023-09-15","2023-10-20","2023-11-17","2023-12-15","2024-01-19","2024-02-16","2024-03-15","2024-04-19","2024-05-17","2024-06-21","2024-07-19","2024-08-16","2024-09-20","2024-10-18","2024-11-15","2024-12-20","2025-01-17","2025-02-21","2025-03-21","2025-04-18","2025-05-16","2025-06-20","2025-07-18","2025-08-15","2025-09-19","2025-10-17","2025-11-21","2025-12-19"],"Super Quartas (Fed + Copom)":["2022-03-16","2022-05-04","2022-09-21","2023-02-01","2023-03-22","2023-05-03","2023-09-20","2023-11-01","2023-12-13","2024-01-31","2024-03-20","2024-07-31","2024-09-18","2025-01-29","2025-03-19","2025-05-07","2025-06-18","2025-07-30","2025-09-17","2025-12-10","2026-01-28","2026-03-18","2026-04-29","2026-06-17","2026-09-16","2026-12-09","2027-01-27"],"Payroll EUA":["2022-01-07","2022-02-04","2022-03-04","2022-04-01","2022-05-06","2022-06-03","2022-07-08","2022-08-05","2022-09-02","2022-10-07","2022-11-04","2022-12-02","2023-01-06","2023-02-03","2023-03-03","2023-04-07","2023-05-05","2023-06-02","2023-07-07","2023-08-04","2023-09-01","2023-10-06","2023-11-03","2023-12-01","2024-01-05","2024-02-02","2024-03-01","2024-04-05","2024-05-03","2024-06-07","2024-07-05","2024-08-02","2024-09-06","2024-10-04","2024-11-01","2024-12-06","2025-01-03","2025-02-07","2025-03-07","2025-04-04","2025-05-02","2025-06-06","2025-07-04","2025-08-01","2025-09-05","2025-10-03","2025-11-07","2025-12-05"],"FOMC (Fed)":["2022-01-25","2022-01-26","2022-03-15","2022-03-16","2022-05-03","2022-05-04","2022-06-14","2022-06-15","2022-07-26","2022-07-27","2022-09-20","2022-09-21","2022-11-01","2022-11-02","2022-12-13","2022-12-14","2023-01-31","2023-02-01","2023-03-21","2023-03-22","2023-05-02","2023-05-03","2023-06-13","2023-06-14","2023-07-25","2023-07-26","2023-09-19","2023-09-20","2023-10-31","2023-11-01","2023-12-12","2023-12-13","2024-01-30","2024-01-31","2024-03-19","2024-03-20","2024-04-30","2024-05-01","2024-06-11","2024-06-12","2024-07-30","2024-07-31","2024-09-17","2024-09-18","2024-11-06","2024-11-07","2024-12-17","2024-12-18","2025-01-28","2025-01-29","2025-03-18","2025-03-19","2025-05-06","2025-05-07","2025-06-17","2025-06-18","2025-07-29","2025-07-30","2025-09-16","2025-09-17","2025-10-28","2025-10-29","2025-12-09","2025-12-10"]},Ui=e=>{if(!e)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(typeof e=="string"&&e.includes("T"))return e.split("T")[0];if(typeof e=="string"&&e.includes(" ")){const t=e.split(" ")[0];if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t}if(e instanceof Date)return e.toISOString().split("T")[0];if(/^\d{2}\/\d{2}\/\d{4}$/.test(e)){const[t,r,n]=e.split("/");return`${n}-${r.padStart(2,"0")}-${t.padStart(2,"0")}`}if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)){const[t,r,n]=e.split("/");return`${n}-${t.padStart(2,"0")}-${r.padStart(2,"0")}`}try{const t=new Date(e);if(!isNaN(t.getTime()))return t.toISOString().split("T")[0]}catch{console.warn("Data inválida:",e)}return null},mW=e=>{if(!e||!Array.isArray(e))return[];const t=new Map;Object.entries(fj).forEach(([i,o])=>{o.forEach(l=>{const c=Ui(l);c&&(t.has(c)||t.set(c,[]),t.get(c).push(i))})});const r={};Object.keys(fj).forEach(i=>{r[i]={name:i,trades:[],totalTrades:0,winningTrades:0,losingTrades:0,totalProfit:0,totalLoss:0,result:0}});let n=0,s=0;return e.forEach((i,o)=>{const l=[i.date,i.Date,i.data,i.Abertura,i.Data,i.timestamp,i.entry_date,i.entry_time,i.open_time,i.datetime];let c=null;for(const d of l)if(d&&(c=Ui(d),c))break;if(n++,c&&t.has(c)){const d=t.get(c);s++,console.log(`✓ Trade em evento especial - Data: ${c}, Eventos: ${d.join(", ")}`);const u=[i.pnl,i.PnL,i.resultado,i["Res. Operação"],i.profit,i.dailyPnL,i.return,i.net_pnl,i.realized_pnl,i.total_pnl];let m=0;for(const h of u)if(h!=null){const f=parseFloat(h);if(!isNaN(f)){m=f;break}}isNaN(m)||d.forEach(h=>{const f=r[h];f.trades.push({date:c,result:m,...i}),f.totalTrades++,f.result+=m,m>0?(f.winningTrades++,f.totalProfit+=m):m<0&&(f.losingTrades++,f.totalLoss+=Math.abs(m))})}}),console.log(`Trades processados: ${n}`),console.log(`Trades com eventos especiais: ${s}`),Object.values(r).filter(i=>i.totalTrades>0).map(i=>{const o=i.totalTrades>0?i.winningTrades/i.totalTrades*100:0;let l=0;return i.totalLoss>0&&i.totalProfit>0?l=i.totalProfit/i.totalLoss:i.totalProfit>0&&i.totalLoss===0?l=99.99:i.totalProfit===0&&i.totalLoss>0&&(l=0),{name:i.name,date:`${i.totalTrades} trades`,impact:i.result>0?"Positivo":"Negativo",profitFactor:Number(l.toFixed(2)),winRate:Number(o.toFixed(1)),trades:i.totalTrades,result:Number(i.result.toFixed(2))}}).sort((i,o)=>Math.abs(o.result)-Math.abs(i.result))};function hW({showSpecialEvents:e,setShowSpecialEvents:t,tadesData:r}){var c,d,u,m,h,f,p,v,y,x,b,j,N,w,k,S,E,R;let n;if(r&&typeof r=="object"&&!r.trades){console.log("📊 MÚLTIPLOS CSVs: Consolidando trades para Eventos Especiais");const _=[];Object.keys(r).forEach(C=>{const B=r[C];B&&B.trades&&Array.isArray(B.trades)&&_.push(...B.trades)}),n=_,console.log(`📊 Consolidados ${_.length} trades de ${Object.keys(r).length} CSVs`)}else n=(r==null?void 0:r.trades)||[];console.log("Dados recebidos para eventos especiais:",r);const s=mW(n),i=s.reduce((_,C)=>_+C.trades,0),o=s.reduce((_,C)=>_+C.result,0),l=s.length>0?s.reduce((_,C)=>_+C.winRate,0)/s.length:0;return a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fe,{className:"w-5 h-5 text-yellow-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Eventos Especiais"}),i>0&&a.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-600 text-blue-100 text-xs rounded",children:[i," trades"]})]}),a.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]}),e&&a.jsx("div",{className:"p-4",children:s.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(hn,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-400",children:"Nenhum trade encontrado em dias de eventos especiais"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total de trades analisados: ",(n==null?void 0:n.length)||0]}),(n==null?void 0:n.length)>0&&a.jsxs("div",{className:"text-xs text-gray-600 mt-2 p-3 bg-gray-700 rounded",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-left",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Primeiro trade:"}),a.jsx("br",{}),"Data: ",Ui(((c=n[0])==null?void 0:c.entry_date)||((d=n[0])==null?void 0:d.date)||((u=n[0])==null?void 0:u.Date))||"N/A",a.jsx("br",{}),"PnL: R$ ",((m=n[0])==null?void 0:m.pnl)||((h=n[0])==null?void 0:h.PnL)||"N/A",a.jsx("br",{}),"Símbolo: ",((f=n[0])==null?void 0:f.symbol)||((p=n[0])==null?void 0:p.Symbol)||"N/A"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Último trade:"}),a.jsx("br",{}),"Data: ",Ui(((v=n[n.length-1])==null?void 0:v.entry_date)||((y=n[n.length-1])==null?void 0:y.date)||((x=n[n.length-1])==null?void 0:x.Date))||"N/A",a.jsx("br",{}),"PnL: R$ ",((b=n[n.length-1])==null?void 0:b.pnl)||((j=n[n.length-1])==null?void 0:j.PnL)||"N/A",a.jsx("br",{}),"Direção: ",((N=n[n.length-1])==null?void 0:N.direction)||((w=n[n.length-1])==null?void 0:w.Direction)||"N/A"]})]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-600",children:[a.jsx("strong",{children:"Período analisado:"})," ",Ui(((k=n[0])==null?void 0:k.entry_date)||((S=n[0])==null?void 0:S.date))," a ",Ui(((E=n[n.length-1])==null?void 0:E.entry_date)||((R=n[n.length-1])==null?void 0:R.date)),a.jsx("br",{}),a.jsx("strong",{children:"Eventos próximos a 2024-09-12:"})," Payroll EUA (2024-09-06), FOMC (2024-09-17, 2024-09-18), Super Quarta (2024-09-18), Vencimento Opções (2024-09-20)",a.jsx("br",{}),a.jsx("strong",{children:"Eventos próximos a 2025-06-17:"})," Vencimento WIN (2025-06-18), FOMC (2025-06-17, 2025-06-18), Super Quarta (2025-06-18), Vencimento Opções (2025-06-20)"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:i}),a.jsx("div",{className:"text-xs text-gray-400",children:"Total Trades"})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg text-center",children:[a.jsxs("div",{className:`text-2xl font-bold ${o>=0?"text-green-400":"text-red-400"}`,children:[o>=0?"+":"",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o)]}),a.jsx("div",{className:"text-xs text-gray-400",children:"Resultado Total"})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[l.toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-gray-400",children:"Taxa Média"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-700",children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Evento"}),a.jsx("th",{className:"px-4 py-2 text-center",children:"Fator de Lucro"}),a.jsx("th",{className:"px-4 py-2 text-center",children:"Taxa de Acerto"}),a.jsx("th",{className:"px-4 py-2 text-right",children:"Resultado"}),a.jsx("th",{className:"px-4 py-2 text-center",children:"Trades"})]})}),a.jsx("tbody",{children:s.map((_,C)=>a.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center",children:[_.result>0?a.jsx(bt,{className:"w-4 h-4 text-green-400 mr-2"}):a.jsx(mo,{className:"w-4 h-4 text-red-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:_.name}),a.jsx("div",{className:"text-xs text-gray-400",children:_.date})]})]})}),a.jsx("td",{className:"px-4 py-2 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${_.profitFactor>=1.5?"bg-green-900 text-green-300":_.profitFactor>=1?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:_.profitFactor===99.99?"99.99+":_.profitFactor.toFixed(2)})}),a.jsx("td",{className:"px-4 py-2 text-center",children:a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${_.winRate>=60?"bg-green-900 text-green-300":_.winRate>=45?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:[_.winRate.toFixed(1),"%"]})}),a.jsx("td",{className:"px-4 py-2 text-right",children:a.jsxs("div",{className:`font-medium ${_.result>0?"text-green-400":"text-red-400"}`,children:[_.result>0?"+":"",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.result)]})}),a.jsx("td",{className:"px-4 py-2 text-center",children:a.jsx("span",{className:"px-2 py-1 bg-gray-600 text-gray-300 rounded text-xs",children:_.trades})})]},C))})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-700 rounded-lg",children:[a.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[a.jsx(Fe,{className:"w-4 h-4 text-yellow-400 mr-2"}),"Insights dos Eventos Especiais"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-300 mb-1",children:"Melhor Evento:"}),a.jsx("div",{className:"text-green-400 font-medium",children:s.length>0?s[0].name:"N/A"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-300 mb-1",children:"Eventos com Resultado Positivo:"}),a.jsxs("div",{className:"text-blue-400 font-medium",children:[s.filter(_=>_.result>0).length," de ",s.length]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-300 mb-1",children:"Maior Impacto:"}),a.jsx("div",{className:`font-medium ${s.length>0&&s[0].result>0?"text-green-400":"text-red-400"}`,children:s.length>0?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Math.abs(s[0].result)):"N/A"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-300 mb-1",children:"Volatilidade:"}),a.jsx("div",{className:"text-yellow-400 font-medium",children:i>0?"Alta":"N/A"})]})]})]})]})})]})}function fW({showCorrelation:e,setShowCorrelation:t,backtestResult:r,fileResults:n,onResetCorrelation:s,isUsingOriginalData:i=!1}){var x,b,j;const[o,l]=g.useState("resultado"),c=r==null?void 0:r.dateDirectionCorrelation,d=r==null?void 0:r.correlationMatricial,u=((x=d==null?void 0:d.info_arquivos)==null?void 0:x.tipo_analise)==="matricial",m=N=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(N||0),h=N=>{try{return new Date(N).toLocaleDateString("pt-BR")}catch{return N}},f=()=>{var $,F;if(!(c!=null&&c.correlacao_data_resultado))return null;const{resumo:N,detalhes:w}=c.correlacao_data_resultado;let k=0,S=0,E=0;if(N!=null&&N.resposta_pergunta)k=N.resposta_pergunta.quando_uma_perde_outra_tambem_perde_pct||0,S=N.resposta_pergunta.quando_uma_ganha_outra_tambem_ganha_pct||0,E=N.resposta_pergunta.dias_com_diversificacao_pct||0;else if(N!=null&&N.dias_todas_perderam&&(N!=null&&N.dias_todas_ganharam)&&(N!=null&&N.dias_resultados_mistos)){const L=N.total_dias_analisados||1;k=N.dias_todas_perderam/L*100,S=N.dias_todas_ganharam/L*100,E=N.dias_resultados_mistos/L*100}else(N==null?void 0:N.pct_correlacao_negativa)!==void 0&&(k=N.pct_correlacao_negativa||0,S=N.pct_correlacao_positiva||0,E=N.pct_diversificacao||0);const R=($=c==null?void 0:c.correlacao_data_direcao)==null?void 0:$.resumo;R&&k===0&&S===0&&E===100&&(k=R.pct_correlacao_negativa||0,S=R.pct_correlacao_positiva||0,E=R.pct_diversificacao||0);const _=Math.max(0,100-k-S-E),C=k+S+E+_,B=Math.abs(C-100)<.01,D=B?100:C,T=B?100:Math.min(100,C);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-red-500 text-4xl mb-2",children:a.jsx("i",{className:"fas fa-chart-line fa-rotate-180"})}),a.jsxs("p",{className:"text-red-400 text-2xl font-bold",children:[k.toFixed(1),"%"]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Quando uma perde, a outra também perde"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-green-500 text-4xl mb-2",children:a.jsx("i",{className:"fas fa-chart-line"})}),a.jsxs("p",{className:"text-green-400 text-2xl font-bold",children:[S.toFixed(1),"%"]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Quando uma ganha, a outra também ganha"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-blue-500 text-4xl mb-2",children:a.jsx("i",{className:"fas fa-arrow-up"})}),a.jsxs("p",{className:"text-blue-400 text-2xl font-bold",children:[E.toFixed(1),"%"]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Dias com diversificação (resultados opostos)"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-gray-400 text-4xl mb-2",children:a.jsx("i",{className:"fas fa-info-circle"})}),a.jsxs("p",{className:"text-gray-300 text-2xl font-bold",children:[_.toFixed(1),"%"]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Dias sem operações simultâneas"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("p",{className:"text-gray-300 text-sm mb-2 flex justify-between items-center",children:[a.jsxs("span",{children:["Distribuição Total: ",D.toFixed(B?0:1),"%"]}),B&&a.jsxs("span",{className:"text-green-500 flex items-center",children:[a.jsx("i",{className:"fas fa-check-circle mr-1"})," 100%"]})]}),a.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2.5",children:a.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${T}%`,background:"linear-gradient(to right, #ef4444, #f97316, #eab308, #22c55e)"}})})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Interpretação"}),a.jsx("div",{className:"text-lg font-medium text-yellow-400 mb-2",children:N.interpretacao||"Análise em andamento..."}),a.jsxs("div",{className:"text-sm text-gray-300",children:[N.interpretacao==="Boa diversificação"&&"✅ As estratégias se complementam bem. Usar ambas reduz o risco.",N.interpretacao==="Alta correlação"&&"⚠️ As estratégias são muito similares. Pouco benefício em diversificação.",N.interpretacao==="Correlação moderada"&&"📊 Há algum benefício de diversificação, mas não é muito alto.",!N.interpretacao&&"📊 Analisando correlação entre as estratégias..."]}),a.jsxs("div",{className:"text-sm text-gray-400 mt-2",children:["Analisados ",N.total_dias_analisados||0," dias com operações simultâneas."]})]}),w&&w.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium mb-4",children:"Últimos Dias Analisados"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-700",children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Data"}),Object.keys(((F=w[0])==null?void 0:F.estrategias)||{}).map(L=>a.jsx("th",{className:"px-3 py-2 text-center",children:L},L)),a.jsx("th",{className:"px-3 py-2 text-center",children:"Correlação"})]})}),a.jsx("tbody",{children:w.slice(0,10).map((L,A)=>a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"px-3 py-2",children:h(L.data)}),Object.entries(L.estrategias).map(([O,V])=>a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:`text-xs font-medium ${V.status==="ganhou"?"text-green-400":V.status==="perdeu"?"text-red-400":"text-gray-400"}`,children:m(V.resultado_dia)}),a.jsxs("div",{className:"text-xs text-gray-500",children:[V.num_operacoes," ops"]})]})},O)),a.jsxs("td",{className:"px-3 py-2 text-center",children:[L.analise.todas_ganharam&&a.jsx("span",{className:"text-green-400 text-xs font-medium",children:"Todas +"}),L.analise.todas_perderam&&a.jsx("span",{className:"text-red-400 text-xs font-medium",children:"Todas -"}),L.analise.resultados_mistos&&a.jsx("span",{className:"text-blue-400 text-xs font-medium",children:"Diversif."})]})]},A))})]})})]})]})},p=()=>{var D;let N=null;if(n&&Object.keys(n).length>1){const T=[];Object.entries(n).forEach(([F,L])=>{const A=Array.isArray(L==null?void 0:L.trades)?L.trades:[],O=new Map;A.forEach(V=>{const W=new Date(V.entry_date||V.date||V.exit_date).toISOString().slice(0,10),U=String(V.direction||V.direcao||V.side||"").toUpperCase().replace("LONG","COMPRA").replace("SHORT","VENDA");if(!U)return;const J=`${W}__${U}`,G=O.get(J)||{operou:!1,num_operacoes:0};O.set(J,{operou:!0,num_operacoes:G.num_operacoes+1})}),O.forEach((V,W)=>{const[U,J]=W.split("__");T.push({data:U,direcao:J,estrategias:{[F]:{operou:V.operou,num_operacoes:V.num_operacoes}}})})});const $=new Map;T.forEach(F=>{const L=`${F.data}__${F.direcao}`,A=$.get(L)||{data:F.data,direcao:F.direcao,estrategias:{}};$.set(L,{data:F.data,direcao:F.direcao,estrategias:{...A.estrategias,...F.estrategias}})}),N=Array.from($.values())}if(!N){if(!((D=c==null?void 0:c.correlacao_data_direcao)!=null&&D.detalhes))return null;N=c.correlacao_data_direcao.detalhes}const w=new Set;N.forEach(T=>{T!=null&&T.estrategias&&Object.keys(T.estrategias).forEach($=>w.add($))});const k=Array.from(w).sort(),S={};N.forEach(T=>{const $=T==null?void 0:T.data,F=String((T==null?void 0:T.direcao)||"").toUpperCase();!$||!(T!=null&&T.estrategias)||(S[$]||(S[$]={}),Object.entries(T.estrategias).forEach(([L,A])=>{A!=null&&A.operou&&(S[$][L]||(S[$][L]={buy:!1,sell:!1}),F==="COMPRA"&&(S[$][L].buy=!0),F==="VENDA"&&(S[$][L].sell=!0))}))});const E={};Object.entries(S).forEach(([T,$])=>{E[T]={},k.forEach(F=>{const L=$[F];if(!L){E[T][F]=0;return}E[T][F]=L.buy&&!L.sell?1:!L.buy&&L.sell?-1:0})});const R=Array.from({length:k.length},()=>Array(k.length).fill(0)),_=Object.values(E);for(let T=0;T<k.length;T++)for(let $=0;$<k.length;$++){if(T===$){R[T][$]=1;continue}const F=k[T],L=k[$];let A=0,O=0;_.forEach(V=>{const W=Number(V[F]||0),U=Number(V[L]||0);(W!==0||U!==0)&&(A+=W*U,O+=1)}),R[T][$]=O>0?A/O:0}const C=T=>{const $=Math.max(-1,Math.min(1,T)),F=($+1)*60,L=70+Math.round(Math.abs($)*25),A=55-Math.round(Math.abs($)*20);return`hsl(${F}deg ${L}% ${A}%)`},B=T=>Math.abs(T)>.45?"text-white":"text-gray-900";return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-300",children:"Matriz (Data + Direção): 1 = totalmente correlacionado; 0 = pouca correlação; -1 = correlação oposta."}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"text-xs min-w-max",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"sticky left-0 bg-gray-800 px-2 py-2 text-left z-10",children:"Estratégias"}),k.map(T=>a.jsx("th",{className:"px-2 py-2 bg-gray-700 text-center whitespace-nowrap",children:T},T))]})}),a.jsx("tbody",{children:k.map((T,$)=>a.jsxs("tr",{children:[a.jsx("th",{className:"sticky left-0 bg-gray-700 px-2 py-1 text-left z-10 whitespace-nowrap",children:T}),k.map((F,L)=>a.jsx("td",{className:"px-1 py-1 text-center",children:a.jsx("div",{className:`rounded ${B(R[$][L])} font-semibold`,style:{backgroundColor:C(R[$][L])},title:`Correlação: ${Math.max(-1,Math.min(1,R[$][L])).toFixed(6)}`,children:Math.max(-1,Math.min(1,R[$][L])).toFixed(6)})},`${$}-${L}`))]},T))})]})})]})},v=()=>{var T;if(!(c!=null&&c.correlacao_data_direcao))return null;const{resumo:N,detalhes:w}=c.correlacao_data_direcao,k=N.pct_correlacao_positiva||0,S=N.pct_correlacao_negativa||0,E=N.pct_diversificacao||0,R=Math.max(0,100-k-S-E),_=k+S+E+R,C=Math.abs(_-100)<.01,B=C?100:_,D=C?100:Math.min(100,_);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-green-500 text-4xl mb-2",children:a.jsx("i",{className:"fas fa-arrow-up"})}),a.jsxs("p",{className:"text-green-400 text-2xl font-bold",children:[k.toFixed(1),"%"]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Correlação Positiva"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-red-500 text-4xl mb-2",children:a.jsx("i",{className:"fas fa-arrow-down"})}),a.jsxs("p",{className:"text-red-400 text-2xl font-bold",children:[S.toFixed(1),"%"]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Correlação Negativa"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-blue-500 text-4xl mb-2",children:a.jsx("i",{className:"fas fa-random"})}),a.jsxs("p",{className:"text-blue-400 text-2xl font-bold",children:[E.toFixed(1),"%"]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Diversificação"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-gray-400 text-4xl mb-2",children:a.jsx("i",{className:"fas fa-minus-circle"})}),a.jsxs("p",{className:"text-gray-300 text-2xl font-bold",children:[R.toFixed(1),"%"]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Sem Correlação"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("p",{className:"text-gray-300 text-sm mb-2 flex justify-between items-center",children:[a.jsxs("span",{children:["Distribuição Total: ",B.toFixed(C?0:1),"%"]}),C&&a.jsxs("span",{className:"text-green-500 flex items-center",children:[a.jsx("i",{className:"fas fa-check-circle mr-1"})," 100%"]})]}),a.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2.5",children:a.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${D}%`,background:"linear-gradient(to right, #ef4444, #f97316, #eab308, #22c55e)"}})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium mb-4",children:"Operações por Data e Direção"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-700",children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Data"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Direção"}),Object.keys(((T=w[0])==null?void 0:T.estrategias)||{}).map($=>a.jsx("th",{className:"px-3 py-2 text-center",children:$},$)),a.jsx("th",{className:"px-3 py-2 text-center",children:"Resultado"})]})}),a.jsx("tbody",{children:w.slice(0,15).map(($,F)=>a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"px-3 py-2",children:h($.data)}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsxs("div",{className:"flex items-center justify-center",children:[$.direcao==="COMPRA"?a.jsx(tp,{className:"w-4 h-4 text-green-400"}):a.jsx(y4,{className:"w-4 h-4 text-red-400"}),a.jsx("span",{className:"ml-1 text-xs",children:$.direcao})]})}),Object.entries($.estrategias).map(([L,A])=>a.jsx("td",{className:"px-3 py-2 text-center",children:A.operou?a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:`text-xs font-medium ${A.status==="ganhou"?"text-green-400":A.status==="perdeu"?"text-red-400":"text-gray-400"}`,children:m(A.resultado)}),a.jsxs("div",{className:"text-xs text-gray-500",children:[A.num_operacoes," ops"]})]}):a.jsx("span",{className:"text-gray-500 text-xs",children:"Não operou"})},L)),a.jsx("td",{className:"px-3 py-2 text-center",children:$.analise.multiplas_estrategias?a.jsxs(a.Fragment,{children:[$.analise.todas_ganharam&&a.jsx("span",{className:"text-green-400 text-xs font-medium",children:"Todas +"}),$.analise.todas_perderam&&a.jsx("span",{className:"text-red-400 text-xs font-medium",children:"Todas -"}),$.analise.resultados_mistos&&a.jsx("span",{className:"text-yellow-400 text-xs font-medium",children:"Mistos"})]}):a.jsx("span",{className:"text-gray-500 text-xs",children:"1 estratégia"})})]},F))})]})})]})]})},y=()=>{var T,$;if(!((T=d==null?void 0:d.correlacao_matricial)!=null&&T.resumo))return null;const{resumo:N,detalhes:w}=d.correlacao_matricial,k=N.pct_alta_correlacao||0,S=N.pct_boa_diversificacao||0,E=N.pct_correlacao_moderada||0,R=Math.max(0,100-k-S-E),_=k+S+E+R,C=Math.abs(_-100)<.01,B=C?100:_,D=C?100:Math.min(100,_);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-red-500 text-4xl mb-2",children:a.jsx("i",{className:"fas fa-exclamation-triangle"})}),a.jsxs("p",{className:"text-red-400 text-2xl font-bold",children:[k.toFixed(1),"%"]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Alta Correlação"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-green-500 text-4xl mb-2",children:a.jsx("i",{className:"fas fa-check-circle"})}),a.jsxs("p",{className:"text-green-400 text-2xl font-bold",children:[S.toFixed(1),"%"]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Boa Diversificação"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-yellow-500 text-4xl mb-2",children:a.jsx("i",{className:"fas fa-arrows-alt-h"})}),a.jsxs("p",{className:"text-yellow-400 text-2xl font-bold",children:[E.toFixed(1),"%"]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Correlação Moderada"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-gray-400 text-4xl mb-2",children:a.jsx("i",{className:"fas fa-question-circle"})}),a.jsxs("p",{className:"text-gray-300 text-2xl font-bold",children:[R.toFixed(1),"%"]}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Sem Análise"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-blue-500 text-4xl mb-2",children:a.jsx("i",{className:"fas fa-file-alt"})}),a.jsx("p",{className:"text-blue-400 text-2xl font-bold",children:(($=d.info_arquivos)==null?void 0:$.total_arquivos)||0}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Total de Arquivos"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("p",{className:"text-gray-300 text-sm mb-2 flex justify-between items-center",children:[a.jsxs("span",{children:["Distribuição Total: ",B.toFixed(C?0:1),"%"]}),C&&a.jsxs("span",{className:"text-green-500 flex items-center",children:[a.jsx("i",{className:"fas fa-check-circle mr-1"})," 100%"]})]}),a.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2.5",children:a.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${D}%`,background:"linear-gradient(to right, #ef4444, #f97316, #eab308, #22c55e)"}})})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Recomendação do Portfólio"}),a.jsx("div",{className:"text-lg font-medium text-yellow-400 mb-2",children:N.recomendacao}),a.jsxs("div",{className:"text-sm text-gray-300",children:[N.recomendacao==="Portfólio bem diversificado"&&"✅ As estratégias se complementam bem. Usar todas reduz o risco significativamente.",N.recomendacao==="Portfólio com alta correlação"&&"⚠️ As estratégias se movem juntas. Considere reduzir o número de estratégias.",N.recomendacao==="Portfólio com correlação moderada"&&"🔄 Correlação equilibrada. Monitore o desempenho regularmente."]})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-600",children:a.jsx("h4",{className:"text-lg font-medium",children:"Análise Detalhada por Par"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Par de Estratégias"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Tipo de Correlação"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Operações Simultâneas"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-600",children:w==null?void 0:w.slice(0,10).map((F,L)=>{var A,O,V,W;return a.jsxs("tr",{className:"hover:bg-gray-600",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"font-medium",children:[F.par[0]," ↔ ",F.par[1]]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:((O=(A=F.correlacao_resultado)==null?void 0:A.resumo)==null?void 0:O.interpretacao)||"N/A"}),a.jsx("td",{className:"px-4 py-3 text-center",children:((W=(V=F.correlacao_direcao)==null?void 0:V.resumo)==null?void 0:W.total_operacoes_simultaneas)||0})]},L)})})]})})]})]})};return a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(hn,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsxs("h2",{className:"text-lg font-medium",children:["Correlação: Data + Direção + Resultado",c&&a.jsx("span",{className:"ml-2 text-sm text-green-400",children:"✓ Disponível"}),i&&a.jsx("span",{className:"ml-2 text-sm text-yellow-400",children:"🔒 Dados Originais"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[s&&a.jsx("button",{onClick:s,className:"p-1.5 hover:bg-gray-700 rounded-md text-gray-400 hover:text-white",title:"Resetar para dados originais",children:a.jsx(kD,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]})]}),e&&a.jsxs("div",{className:"p-4",children:[i&&a.jsx("div",{className:"mb-4 p-3 bg-yellow-900 bg-opacity-20 border border-yellow-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(_i,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-yellow-300 font-medium mb-1",children:"🔒 Dados de Correlação Preservados"}),a.jsx("p",{className:"text-xs text-yellow-200",children:"Esta seção mantém os dados de correlação originais calculados no momento do upload dos CSVs. Os filtros de estratégia e ativo não afetam estes cálculos para garantir que a análise de correlação nunca seja perdida."})]})]})}),c?a.jsx("div",{children:(j=(b=c.correlacao_data_direcao)==null?void 0:b.resumo)!=null&&j.erro?a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg text-center",children:[a.jsx(_i,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Correlação Indisponível"}),a.jsx("p",{className:"text-gray-400 mb-4",children:c.correlacao_data_direcao.resumo.erro}),a.jsx("div",{className:"text-sm text-gray-300",children:a.jsx("p",{children:"Para análise de correlação, faça upload de 2 ou mais arquivos CSV."})})]}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-700 p-1 rounded-lg",children:[a.jsxs("button",{onClick:()=>l("resultado"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o==="resultado"?"bg-gray-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:[a.jsx(bt,{className:"w-4 h-4 mr-2"}),"Por Resultado"]}),a.jsxs("button",{onClick:()=>l("direcao"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o==="direcao"?"bg-gray-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:[a.jsx(tp,{className:"w-4 h-4 mr-2"}),"Por Direção"]}),a.jsxs("button",{onClick:()=>l("matriz"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o==="matriz"?"bg-gray-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:[a.jsx(_i,{className:"w-4 h-4 mr-2"}),"Matriz"]}),u&&a.jsxs("button",{onClick:()=>l("matricial"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o==="matricial"?"bg-gray-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:[a.jsx(_i,{className:"w-4 h-4 mr-2"}),"Matricial"]})]}),o==="resultado"&&f(),o==="direcao"&&v(),o==="matriz"&&p(),o==="matricial"&&u&&y()]})}):a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg text-center",children:[a.jsx(_i,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Análise de Correlação por Data e Direção"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Faça upload de 2 ou mais arquivos CSV para análise detalhada"}),a.jsxs("div",{className:"text-sm text-gray-300 space-y-2",children:[a.jsx("p",{children:a.jsx("strong",{children:"O que será analisado:"})}),a.jsxs("ul",{className:"text-left inline-block space-y-1",children:[a.jsxs("li",{children:["📅 ",a.jsx("strong",{children:"Mesma data + direção:"})," Operações simultâneas de compra/venda"]}),a.jsxs("li",{children:["📊 ",a.jsx("strong",{children:"Correlação de resultado:"})," Quando uma perde, a outra também perde?"]}),a.jsxs("li",{children:["🎯 ",a.jsx("strong",{children:"Benefício de diversificação:"})," Quanto as estratégias se complementam"]}),a.jsxs("li",{children:["📈 ",a.jsx("strong",{children:"Padrões temporais:"})," Dias com ganhos/perdas simultâneos"]})]})]})]})]})]})}function pW({showSaveModal:e,setShowSaveModal:t,saveName:r,setSaveName:n,confirmSaveAnalysis:s}){return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Salvar Análise"}),a.jsx("input",{type:"text",placeholder:"Nome da análise...",value:r,onChange:i=>n(i.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4",autoFocus:!0}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{t(!1),n("")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Cancelar"}),a.jsx("button",{onClick:s,disabled:!r.trim(),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar"})]})]})}):null}function gW({showLoadModal:e,setShowLoadModal:t,savedAnalyses:r,handleRenameAnalysis:n,handleLoadAnalysis:s,handleDeleteAnalysis:i}){const[o,l]=g.useState("");if(!e)return null;const c=r.filter(d=>d.name.toLowerCase().includes(o.toLowerCase()));return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Carregar Análise"}),a.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white",children:a.jsx(Ue,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Cc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar análises...",value:o,onChange:d=>l(d.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),c.length===0?a.jsx("div",{className:"text-center py-8 text-gray-400",children:o?"Nenhuma análise encontrada para esta busca":"Nenhuma análise salva encontrada"}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(d=>{var u,m,h;return a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h4",{className:"font-medium",children:d.name}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>n(d.id,d.name),className:"p-1.5 hover:bg-gray-600 rounded",title:"Renomear",children:a.jsx(wD,{className:"w-4 h-4 text-blue-400"})}),a.jsx("button",{onClick:()=>i(d.id),className:"p-1.5 hover:bg-gray-600 rounded",title:"Excluir",children:a.jsx(Pl,{className:"w-4 h-4 text-red-400"})})]})]}),a.jsxs("div",{className:"text-sm text-gray-400 mb-3",children:[a.jsxs("div",{children:["Criado: ",new Date(d.createdAt).toLocaleDateString()]}),a.jsxs("div",{children:["Trades: ",((m=(u=d.backtestResult)==null?void 0:u.trades)==null?void 0:m.length)||((h=d.trades)==null?void 0:h.length)||d.totalTrades||"N/A"]})]}),a.jsx("button",{onClick:()=>s(d),className:"mt-auto w-full py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-sm",children:"Carregar"})]},d.id)})})]})})}function xW({showRenameModal:e,setShowRenameModal:t,renameName:r,setRenameName:n,confirmRenameAnalysis:s,setRenameAnalysisId:i}){return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Renomear Análise"}),a.jsx("input",{type:"text",placeholder:"Novo nome...",value:r,onChange:o=>n(o.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4",autoFocus:!0}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{t(!1),i(null),n("")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Cancelar"}),a.jsx("button",{onClick:s,disabled:!r.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Renomear"})]})]})}):null}function vW({showEmotionalProfile:e,setShowEmotionalProfile:t,emotionalMetrics:r={stopDisciplineIndex:85.7,dailyLossDisciplineIndex:72.3,leverageDisciplineIndex:91.2,furyProbability:8.5}}){var i,o,l,c,d,u,m,h,f,p,v,y,x,b,j,N;const s=(()=>{if(!(r!=null&&r.resumo_comparativo))return 0;const w=r.resumo_comparativo,k=[];if(w.disciplina_operacao!==void 0&&k.push(w.disciplina_operacao),w.disciplina_dia!==void 0&&k.push(w.disciplina_dia),w.disciplina_alavancagem!==void 0&&w.disciplina_alavancagem!==null&&k.push(w.disciplina_alavancagem),w.probabilidade_furia!==void 0){const S=100-w.probabilidade_furia;k.push(S)}return k.length>0?k.reduce((S,E)=>S+E,0)/k.length:0})();return a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pb,{className:"w-5 h-5 text-purple-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Perfil Emocional"})]}),a.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]}),e&&a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"bg-blue-600 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ec,{className:"w-5 h-5 text-red-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"Índice Emocional Total"})]}),a.jsxs("p",{className:`text-2xl font-bold ${s>=90?"text-green-400":s>=75?"text-yellow-400":s>=60?"text-orange-400":"text-red-400"}`,children:[s.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Risco de trading emocional: ",s>=90?"Muito Baixo":s>=75?"Baixo":s>=60?"Médio":"Alto"]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(C4,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"Índice Disciplina Stop"})]}),a.jsxs("p",{className:`text-2xl font-bold ${(((i=r==null?void 0:r.disciplina_operacao)==null?void 0:i.indice_disciplina)||0)>=90?"text-green-400":(((o=r==null?void 0:r.disciplina_operacao)==null?void 0:o.indice_disciplina)||0)>=70?"text-yellow-400":"text-red-400"}`,children:[((c=(l=r==null?void 0:r.disciplina_operacao)==null?void 0:l.indice_disciplina)==null?void 0:c.toFixed(2))||"N/A","%"]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Disciplina no uso de stop loss"})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(mo,{className:"w-5 h-5 text-orange-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"Índice Disciplina Perda/Dia"})]}),a.jsxs("p",{className:`text-2xl font-bold ${(((d=r==null?void 0:r.disciplina_dia)==null?void 0:d.indice_disciplina_diaria)||0)>=90?"text-green-400":(((u=r==null?void 0:r.disciplina_dia)==null?void 0:u.indice_disciplina_diaria)||0)>=70?"text-yellow-400":"text-red-400"}`,children:[((h=(m=r==null?void 0:r.disciplina_dia)==null?void 0:m.indice_disciplina_diaria)==null?void 0:h.toFixed(2))||"N/A","%"]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Controle de perdas diárias"})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(lo,{className:"w-5 h-5 text-cyan-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"Índice Disciplina Alavancagem"})]}),a.jsxs("p",{className:`text-2xl font-bold ${(((f=r==null?void 0:r.disciplina_alavancagem)==null?void 0:f.indice_disciplina_alavancagem)||0)>=90?"text-green-400":(((p=r==null?void 0:r.disciplina_alavancagem)==null?void 0:p.indice_disciplina_alavancagem)||0)>=70?"text-yellow-400":"text-red-400"}`,children:[((y=(v=r==null?void 0:r.disciplina_alavancagem)==null?void 0:v.indice_disciplina_alavancagem)==null?void 0:y.toFixed(2))||"N/A","%"]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Controle de alavancagem"})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ec,{className:"w-5 h-5 text-red-400 mr-2"}),a.jsx("h3",{className:"font-medium",children:"Probabilidade de Fúria"})]}),a.jsxs("p",{className:`text-2xl font-bold ${(((x=r==null?void 0:r.resumo_comparativo)==null?void 0:x.percentual_dias_furia)||0)<=5?"text-green-400":(((b=r==null?void 0:r.resumo_comparativo)==null?void 0:b.percentual_dias_furia)||0)<=15?"text-yellow-400":"text-red-400"}`,children:[((N=(j=r==null?void 0:r.resumo_comparativo)==null?void 0:j.percentual_dias_furia)==null?void 0:N.toFixed(2))||"N/A","%"]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Risco de trading emocional"})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-purple-900 bg-opacity-20 border border-purple-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Pb,{className:"w-5 h-5 text-purple-400 mr-3 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-purple-300 mb-2",children:"Interpretação da Análise Emocional"}),a.jsxs("ul",{className:"text-sm text-purple-200 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Disciplina Stop:"})," Mede o cumprimento das regras de stop loss"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Disciplina Perda/Dia:"})," Avalia o controle de perdas máximas diárias"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Disciplina Alavancagem:"})," Verifica o uso consistente de alavancagem"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Probabilidade de Fúria:"})," Indica tendência a trading emocional"]})]})]})]})})]})]})}function yW({tradesData:e,fileResults:t}){var u,m,h,f,p,v,y,x,b,j,N,w,k,S,E,R,_,C,B;const[r,n]=g.useState(null),[s,i]=g.useState(!1),[o,l]=g.useState(null);g.useEffect(()=>{(e||t&&Object.keys(t).length>0)&&c()},[e,t]);const c=async()=>{i(!0),l(null);try{let D;const T=L=>{if(!L||L.length===0)return"0/0";const A=new Map;L.forEach(W=>{const U=W,J=new Date(U.entry_date).toISOString().split("T")[0],G=A.get(J)||0;A.set(J,G+U.pnl)});let O=0,V=0;return A.forEach(W=>{W>0?O++:W<0&&V++}),`${O}/${V}`},$=t&&Object.keys(t).length>1,F=e&&e.trades&&e.trades.length>0&&(!t||Object.keys(t).length<=1);if($){let L=null;try{L=um(t)}catch{}const A=[];if(Object.keys(t).forEach(q=>{const P=t[q];P&&P.trades&&Array.isArray(P.trades)&&A.push(...P.trades)}),A.length===0)throw new Error("Nenhuma trade encontrada nos CSVs");const O=await fetch(ft("/api/trades/metrics-from-data"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trades:A})});if(!O.ok){const q=await O.json();throw new Error(q.error||"Erro ao calcular métricas")}D=await O.json();const V=T(A),U=(q=>{if(q.length===0)return 0;const P=new Map;q.forEach(Y=>{const me=Y,ne=new Date(me.entry_date).toISOString().split("T")[0],ae=me.pnl||0;P.has(ne)||P.set(ne,{wins:[],losses:[]});const je=P.get(ne);ae>0?je.wins.push(ae):ae<0&&je.losses.push(Math.abs(ae))});let X=0,re=0,de=0,fe=0;P.forEach(Y=>{if(Y.wins.length>0){const me=Y.wins.reduce((ne,ae)=>ne+ae,0)/Y.wins.length;X+=me,de++}if(Y.losses.length>0){const me=Y.losses.reduce((ne,ae)=>ne+ae,0)/Y.losses.length;re+=me,fe++}});const he=de>0?X/de:0,we=fe>0?re/fe:0;return we>0?he/we:0})(A),J=q=>{if(q.length===0)return 0;const P=new Map;q.forEach(we=>{const Y=we,me=new Date(Y.entry_date).toISOString().split("T")[0],ne=Y.pnl||0,ae=P.get(me)||0;P.set(me,ae+ne)});const X=Array.from(P.values());if(X.length===0)return 0;const re=X.reduce((we,Y)=>we+Y,0)/X.length,de=X.reduce((we,Y)=>we+Math.pow(Y-re,2),0)/X.length,fe=Math.sqrt(de),he=.12/365;return fe>0?(re-he)/fe:0},G=(q,P)=>{if(q.length===0)return 0;const X=q.reduce((re,de)=>re+(de.pnl||0),0);return P&&P>0?X/P:0},z=q=>{if(q.length===0)return{ganhoMedioDiario:0,perdaMediaDiaria:0,ganhoMaximoDiario:0,perdaMaximaDiaria:0};const P=new Map;q.forEach(Y=>{const me=Y,ae=new Date(me.entry_date).toISOString().split("T")[0];P.has(ae)||P.set(ae,{trades:[],pnl:0});const je=P.get(ae);je.trades.push(Y),je.pnl+=Y.pnl||0});const X=[],re=[];P.forEach(Y=>{Y.pnl>0?X.push(Y.pnl):Y.pnl<0&&re.push(Math.abs(Y.pnl))});const de=X.length>0?X.reduce((Y,me)=>Y+me,0)/X.length:0,fe=re.length>0?re.reduce((Y,me)=>Y+me,0)/re.length:0,he=X.length>0?Math.max(...X):0,we=re.length>0?Math.max(...re):0;return{ganhoMedioDiario:de,perdaMediaDiaria:fe,ganhoMaximoDiario:he,perdaMaximaDiaria:we}},Z=q=>{if(q.length===0)return{mediaOperacoesDia:0,taxaAcertoDiaria:0,diasPerdedoresConsecutivos:0,diasVencedoresConsecutivos:0};const P=new Map;q.forEach(_e=>{const We=_e,Rn=new Date(We.entry_date).toISOString().split("T")[0];P.has(Rn)||P.set(Rn,{trades:[],pnl:0,tradesCount:0});const Nt=P.get(Rn);Nt.trades.push(_e),Nt.pnl+=_e.pnl||0,Nt.tradesCount++});const X=Array.from(P.values()),re=X.length,de=q.length,fe=re>0?de/re:0,he=X.filter(_e=>_e.pnl>0).length,we=re>0?he/re*100:0,Y=Array.from(P.entries()).sort(([_e],[We])=>_e.localeCompare(We));let me=0,ne=0,ae=0,je=0;return Y.forEach(([,_e])=>{_e.pnl>0?(je++,ae=0,ne=Math.max(ne,je)):_e.pnl<0?(ae++,je=0,me=Math.max(me,ae)):(je=0,ae=0)}),{mediaOperacoesDia:fe,taxaAcertoDiaria:we,diasPerdedoresConsecutivos:me,diasVencedoresConsecutivos:ne}},se=J(A),M=G(A,L==null?void 0:L.maxDrawdownAbsoluto),I=z(A),H=Z(A);D.estatisticas_operacao||(D.estatisticas_operacao={media_operacoes_dia:0,taxa_acerto_diaria:0,dias_vencedores_perdedores:"0/0",dias_perdedores_consecutivos:0,dias_vencedores_consecutivos:0}),D.estatisticas_operacao.dias_vencedores_perdedores=V,D.estatisticas_operacao.media_operacoes_dia=H.mediaOperacoesDia,D.estatisticas_operacao.taxa_acerto_diaria=H.taxaAcertoDiaria,D.estatisticas_operacao.dias_perdedores_consecutivos=H.diasPerdedoresConsecutivos,D.estatisticas_operacao.dias_vencedores_consecutivos=H.diasVencedoresConsecutivos,D.ganhos_perdas||(D.ganhos_perdas={ganho_medio_diario:0,perda_media_diaria:0,payoff_diario:0,ganho_maximo_diario:0,perda_maxima_diaria:0}),D.ganhos_perdas.payoff_diario=U,D.ganhos_perdas.ganho_medio_diario=I.ganhoMedioDiario,D.ganhos_perdas.perda_media_diaria=I.perdaMediaDiaria,D.ganhos_perdas.ganho_maximo_diario=I.ganhoMaximoDiario,D.ganhos_perdas.perda_maxima_diaria=I.perdaMaximaDiaria,D.metricas_principais||(D.metricas_principais={sharpe_ratio:0,fator_recuperacao:0,drawdown_maximo:0,drawdown_maximo_pct:0,dias_operados:0,resultado_liquido:0}),D.metricas_principais.sharpe_ratio=se,D.metricas_principais.fator_recuperacao=M,D.metricas_principais||(console.warn("⚠️ metricas_principais não encontrada, criando estrutura"),D.metricas_principais={sharpe_ratio:0,fator_recuperacao:0,drawdown_maximo:0,drawdown_maximo_pct:0,dias_operados:0,resultado_liquido:0}),L&&L.maxDrawdownAbsoluto>0&&(D.metricas_principais.drawdown_maximo=L.maxDrawdownAbsoluto,D.metricas_principais.drawdown_maximo_pct=L.maxDrawdownPercent)}else if(F){const L=await fetch(ft("/api/trades/metrics-from-data"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!L.ok){const I=await L.json();throw new Error(I.error||"Erro ao calcular métricas")}D=await L.json();const A=T(e.trades||[]),V=(I=>{if(I.length===0)return 0;const H=new Map;I.forEach(he=>{const we=he,Y=new Date(we.entry_date).toISOString().split("T")[0],me=we.pnl||0;H.has(Y)||H.set(Y,{wins:[],losses:[]});const ne=H.get(Y);me>0?ne.wins.push(me):me<0&&ne.losses.push(Math.abs(me))});let q=0,P=0,X=0,re=0;H.forEach(he=>{if(he.wins.length>0){const we=he.wins.reduce((Y,me)=>Y+me,0)/he.wins.length;q+=we,X++}if(he.losses.length>0){const we=he.losses.reduce((Y,me)=>Y+me,0)/he.losses.length;P+=we,re++}});const de=X>0?q/X:0,fe=re>0?P/re:0;return fe>0?de/fe:0})(e.trades||[]),W=I=>{if(I.length===0)return 0;const H=new Map;I.forEach(fe=>{const he=fe,we=new Date(he.entry_date).toISOString().split("T")[0],Y=he.pnl||0,me=H.get(we)||0;H.set(we,me+Y)});const q=Array.from(H.values());if(q.length===0)return 0;const P=q.reduce((fe,he)=>fe+he,0)/q.length,X=q.reduce((fe,he)=>fe+Math.pow(he-P,2),0)/q.length,re=Math.sqrt(X),de=.12/365;return re>0?(P-de)/re:0},U=I=>{if(I.length===0)return 0;let H=0,q=0,P=0;I.map(re=>re).sort((re,de)=>new Date(re.entry_date||"").getTime()-new Date(de.entry_date||"").getTime()).forEach(re=>{const de=re.pnl||0;q+=de,q>H&&(H=q);const fe=H-q;fe>P&&(P=fe)});const X=I.reduce((re,de)=>re+(de.pnl||0),0);return P>0?X/P:0},J=I=>{if(I.length===0)return{ganhoMedioDiario:0,perdaMediaDiaria:0,ganhoMaximoDiario:0,perdaMaximaDiaria:0};const H=new Map;I.forEach(he=>{const we=he,me=new Date(we.entry_date).toISOString().split("T")[0];H.has(me)||H.set(me,{trades:[],pnl:0});const ne=H.get(me);ne.trades.push(he),ne.pnl+=he.pnl||0});const q=[],P=[];H.forEach(he=>{he.pnl>0?q.push(he.pnl):he.pnl<0&&P.push(Math.abs(he.pnl))});const X=q.length>0?q.reduce((he,we)=>he+we,0)/q.length:0,re=P.length>0?P.reduce((he,we)=>he+we,0)/P.length:0,de=q.length>0?Math.max(...q):0,fe=P.length>0?Math.max(...P):0;return{ganhoMedioDiario:X,perdaMediaDiaria:re,ganhoMaximoDiario:de,perdaMaximaDiaria:fe}},G=I=>{if(I.length===0)return{mediaOperacoesDia:0,taxaAcertoDiaria:0,diasPerdedoresConsecutivos:0,diasVencedoresConsecutivos:0};const H=new Map;I.forEach(ae=>{const je=ae,We=new Date(je.entry_date).toISOString().split("T")[0];H.has(We)||H.set(We,{trades:[],pnl:0,tradesCount:0});const Jr=H.get(We);Jr.trades.push(ae),Jr.pnl+=ae.pnl||0,Jr.tradesCount++});const q=Array.from(H.values()),P=q.length,X=I.length,re=P>0?X/P:0,de=q.filter(ae=>ae.pnl>0).length,fe=P>0?de/P*100:0,he=Array.from(H.entries()).sort(([ae],[je])=>ae.localeCompare(je));let we=0,Y=0,me=0,ne=0;return he.forEach(([,ae])=>{ae.pnl>0?(ne++,me=0,Y=Math.max(Y,ne)):ae.pnl<0?(me++,ne=0,we=Math.max(we,me)):(ne=0,me=0)}),{mediaOperacoesDia:re,taxaAcertoDiaria:fe,diasPerdedoresConsecutivos:we,diasVencedoresConsecutivos:Y}},z=W(e.trades||[]),Z=U(e.trades||[]),se=J(e.trades||[]),M=G(e.trades||[]);D.estatisticas_operacao||(console.warn("⚠️ estatisticas_operacao não encontrada na resposta da API"),D.estatisticas_operacao={media_operacoes_dia:0,taxa_acerto_diaria:0,dias_vencedores_perdedores:"0/0",dias_perdedores_consecutivos:0,dias_vencedores_consecutivos:0}),D.estatisticas_operacao.dias_vencedores_perdedores=A,D.estatisticas_operacao.media_operacoes_dia=M.mediaOperacoesDia,D.estatisticas_operacao.taxa_acerto_diaria=M.taxaAcertoDiaria,D.estatisticas_operacao.dias_perdedores_consecutivos=M.diasPerdedoresConsecutivos,D.estatisticas_operacao.dias_vencedores_consecutivos=M.diasVencedoresConsecutivos,D.ganhos_perdas||(console.warn("⚠️ ganhos_perdas não encontrada na resposta da API"),D.ganhos_perdas={ganho_medio_diario:0,perda_media_diaria:0,payoff_diario:0,ganho_maximo_diario:0,perda_maxima_diaria:0}),D.ganhos_perdas.payoff_diario=V,D.ganhos_perdas.ganho_medio_diario=se.ganhoMedioDiario,D.ganhos_perdas.perda_media_diaria=se.perdaMediaDiaria,D.ganhos_perdas.ganho_maximo_diario=se.ganhoMaximoDiario,D.ganhos_perdas.perda_maxima_diaria=se.perdaMaximaDiaria,D.metricas_principais||(D.metricas_principais={sharpe_ratio:0,fator_recuperacao:0,drawdown_maximo:0,drawdown_maximo_pct:0,dias_operados:0,resultado_liquido:0}),D.metricas_principais.sharpe_ratio=z,D.metricas_principais.fator_recuperacao=Z,D.metricas_principais||(console.warn("⚠️ metricas_principais não encontrada na resposta da API"),D.metricas_principais={sharpe_ratio:0,fator_recuperacao:0,drawdown_maximo:0,drawdown_maximo_pct:0,dias_operados:0,resultado_liquido:0})}else throw new Error("Nenhum dado disponível para processamento");n(D)}catch(D){l(D instanceof Error?D.message:"Erro desconhecido")}finally{i(!1)}},d=D=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D);return s?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(D=>a.jsx("div",{className:"bg-gray-800 rounded-lg p-6 shadow-md",children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(ap,{className:"w-6 h-6 animate-spin text-blue-400"})})},D))}):o?a.jsx("div",{className:"bg-red-900 bg-opacity-50 border border-red-700 rounded-lg p-4",children:a.jsxs("div",{className:"text-red-400",children:["Erro ao carregar métricas: ",o]})}):r?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-900/20 to-blue-800/30 p-5 rounded-lg shadow-md border-l-4 border-blue-500",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-blue-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(co,{className:"w-8 h-8 text-blue-400"})}),a.jsx("h3",{className:"font-semibold text-lg text-white",children:"Métricas Principais"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(bt,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Sharpe Ratio"})]}),a.jsx("span",{className:"font-semibold text-green-400 text-lg",children:((m=(u=r.metricas_principais)==null?void 0:u.sharpe_ratio)==null?void 0:m.toFixed(2))||"0.00"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(lo,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Fator de Recuperação"})]}),a.jsx("span",{className:"font-semibold text-green-400 text-lg",children:((f=(h=r.metricas_principais)==null?void 0:h.fator_recuperacao)==null?void 0:f.toFixed(2))||"0.00"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(mo,{className:"w-5 h-5 text-red-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Drawdown Máximo"})]}),a.jsx("span",{className:"font-semibold text-red-400 text-lg",children:(()=>{var T;const D=((T=r.metricas_principais)==null?void 0:T.drawdown_maximo)||0;return console.log("🔍 DEBUG - Drawdown sendo exibido:",{drawdownValue:D,metricasPrincipais:r.metricas_principais,formattedValue:d(D)}),d(D)})()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(hn,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Dias Operados"})]}),a.jsx("span",{className:"font-semibold text-lg text-white",children:((p=r.metricas_principais)==null?void 0:p.dias_operados)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ju,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Resultado Líquido"})]}),a.jsx("span",{className:`font-semibold text-lg ${(((v=r.metricas_principais)==null?void 0:v.resultado_liquido)||0)>=0?"text-green-400":"text-red-400"}`,children:d(((y=r.metricas_principais)==null?void 0:y.resultado_liquido)||0)})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-900/20 to-green-800/30 p-5 rounded-lg shadow-md border-l-4 border-green-500",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-green-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(ei,{className:"w-8 h-8 text-green-400"})}),a.jsx("h3",{className:"font-semibold text-lg text-white",children:"Ganhos e Perdas"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(tp,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Ganho Médio Diário"})]}),a.jsx("span",{className:"font-semibold text-green-400 text-lg",children:d(((x=r.ganhos_perdas)==null?void 0:x.ganho_medio_diario)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(y4,{className:"w-5 h-5 text-red-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Perda Média Diária"})]}),a.jsx("span",{className:"font-semibold text-red-400 text-lg",children:d(((b=r.ganhos_perdas)==null?void 0:b.perda_media_diaria)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(C4,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Payoff Diário"})]}),a.jsx("span",{className:"font-semibold text-green-400 text-lg",children:((N=(j=r.ganhos_perdas)==null?void 0:j.payoff_diario)==null?void 0:N.toFixed(2))||"0.00"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(gD,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Ganho Máximo Diário"})]}),a.jsx("span",{className:"font-semibold text-green-400 text-lg",children:d(((w=r.ganhos_perdas)==null?void 0:w.ganho_maximo_diario)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(vD,{className:"w-5 h-5 text-red-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Perda Máxima Diária"})]}),a.jsx("span",{className:"font-semibold text-red-400 text-lg",children:d(((k=r.ganhos_perdas)==null?void 0:k.perda_maxima_diaria)||0)})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/20 to-yellow-800/30 p-5 rounded-lg shadow-md border-l-4 border-yellow-500",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-yellow-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(it,{className:"w-8 h-8 text-yellow-400"})}),a.jsx("h3",{className:"font-semibold text-lg text-white",children:"Estatísticas de Operação"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(lo,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Média Operações/Dia"})]}),a.jsx("span",{className:"font-semibold text-lg text-white",children:((E=(S=r.estatisticas_operacao)==null?void 0:S.media_operacoes_dia)==null?void 0:E.toFixed(1))||"0.0"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(S4,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Taxa de Acerto Diária"})]}),a.jsxs("span",{className:"font-semibold text-green-400 text-lg",children:[((_=(R=r.estatisticas_operacao)==null?void 0:R.taxa_acerto_diaria)==null?void 0:_.toFixed(1))||"0.0","%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(hn,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Dias Vencedores/Perdedores"})]}),a.jsx("span",{className:"font-semibold text-lg text-white",children:(()=>{var T;return((T=r.estatisticas_operacao)==null?void 0:T.dias_vencedores_perdedores)||"0/0"})()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(P4,{className:"w-5 h-5 text-red-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Dias Perdedores Consecutivos"})]}),a.jsx("span",{className:"font-semibold text-red-400 text-lg",children:((C=r.estatisticas_operacao)==null?void 0:C.dias_perdedores_consecutivos)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jr,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-gray-300",children:"Dias Vencedores Consecutivos"})]}),a.jsx("span",{className:"font-semibold text-green-400 text-lg",children:((B=r.estatisticas_operacao)==null?void 0:B.dias_vencedores_consecutivos)||0})]})]})]})]}):a.jsx("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:a.jsx("div",{className:"text-gray-400",children:"Nenhuma métrica disponível"})})}const bW={trades:[{entry_date:"2024-01-15T09:30:00",pnl:500},{entry_date:"2024-01-15T10:15:00",pnl:-200},{entry_date:"2024-01-15T11:45:00",pnl:300},{entry_date:"2024-01-15T13:20:00",pnl:-150},{entry_date:"2024-01-15T14:30:00",pnl:400},{entry_date:"2024-01-15T15:45:00",pnl:250},{entry_date:"2024-01-15T16:30:00",pnl:-100},{entry_date:"2024-01-15T17:15:00",pnl:350}],statistics:{temporal:{hourly:{9:{count:1,sum:500},10:{count:1,sum:-200},11:{count:1,sum:300},13:{count:1,sum:-150},14:{count:1,sum:400},15:{count:1,sum:250},16:{count:1,sum:-100},17:{count:1,sum:350}}}}};function wW({tradesData:e}){const[t,r]=g.useState(!0),[n,s]=g.useState(null),[i,o]=g.useState(!1),l=e||bW,c=[{horario:[9,10],nome:"09:00 - 10:00 (Pré-Mercado)"},{horario:[10,12],nome:"10:00 - 12:00 (Manhã)"},{horario:[12,14],nome:"12:00 - 14:00 (Almoço)"},{horario:[14,16],nome:"14:00 - 16:00 (Tarde)"},{horario:[16,19],nome:"16:00 - 18:30 (Fechamento)"}],d=x=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),u=(x,b)=>{if(!x||x.length===0)return 0;const j=x.filter(w=>new Date(w.entry_date).getHours().toString()===b);return j.length===0?0:j.filter(w=>w.pnl>0).length/j.length*100},m=(x,b)=>{if(!x||x.length===0)return 0;const j=x.filter(k=>new Date(k.entry_date).getHours().toString()===b);if(j.length===0)return 0;const N=j.filter(k=>k.pnl>0).reduce((k,S)=>k+S.pnl,0),w=Math.abs(j.filter(k=>k.pnl<0).reduce((k,S)=>k+S.pnl,0));return w>0?N/w:0},h=()=>{if(!l.trades)return[];const x=[];for(let b=9;b<=17;b++){const j=l.trades.filter(N=>new Date(N.entry_date).getHours()===b);if(j.length>0){const N=j.reduce((S,E)=>S+E.pnl,0),w=u(l.trades,b.toString()),k=m(l.trades,b.toString());x.push({horario:`${b.toString().padStart(2,"0")}:00`,trades:j.length,winRate:w,profitFactor:k,resultado:N})}}return x},p=(()=>{const x=h(),b=[];return c.forEach(({horario:j,nome:N})=>{const[w,k]=j,S=x.filter(E=>{const R=parseInt(E.horario.split(":")[0]);return R>=w&&R<k});if(S.length>0){const E=S.reduce((B,D)=>B+D.trades,0),R=S.reduce((B,D)=>B+D.resultado,0),_=S.reduce((B,D)=>B+D.winRate,0)/S.length,C=S.reduce((B,D)=>B+D.profitFactor,0)/S.length;E>0&&b.push({nome:N,horarios:S,totalTrades:E,totalResultado:R,avgWinRate:_,avgProfitFactor:C})}}),b})(),v=x=>{s(x),o(!0)},y=()=>{o(!1),s(null)};return a.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-lg p-5 mb-6 shadow-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-purple-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(Sr,{className:"w-6 h-6 text-purple-400"})}),a.jsx("h3",{className:"font-semibold text-lg",children:"Resultado por Horário"})]}),a.jsx("button",{onClick:()=>r(!t),className:"p-1.5 hover:bg-gray-600 rounded",children:t?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]}),t&&a.jsx("div",{children:p.length===0?a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 text-center",children:[a.jsx(Sr,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-400",children:"Nenhum trade encontrado nos horários analisados"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-600",children:[a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-300",children:"Período"}),a.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-300",children:"Trades"}),a.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-300",children:"Taxa de Acerto"}),a.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-300",children:"Fator de Lucro"}),a.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-300",children:"Resultado"}),a.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-300",children:"Detalhes"})]})}),a.jsx("tbody",{children:p.map((x,b)=>a.jsxs("tr",{className:`border-b border-gray-700 ${b%2===0?"bg-gray-800":"bg-gray-700"}`,children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sr,{className:"w-4 h-4 text-purple-400 mr-2"}),a.jsx("span",{className:"text-white",children:x.nome})]})}),a.jsx("td",{className:"text-center py-3 px-4",children:a.jsx("span",{className:"text-white",children:x.totalTrades})}),a.jsx("td",{className:"text-center py-3 px-4",children:a.jsxs("span",{className:`inline-block px-2 py-1 rounded text-xs ${x.avgWinRate>=60?"bg-green-600 text-white":x.avgWinRate>=45?"bg-yellow-600 text-white":"bg-red-600 text-white"}`,children:[x.avgWinRate.toFixed(1),"%"]})}),a.jsx("td",{className:"text-center py-3 px-4",children:a.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${x.avgProfitFactor>=1.5?"bg-green-600 text-white":x.avgProfitFactor>=1?"bg-yellow-600 text-white":"bg-red-600 text-white"}`,children:x.avgProfitFactor.toFixed(2)})}),a.jsx("td",{className:"text-center py-3 px-4",children:a.jsx("span",{className:`font-medium ${x.totalResultado>=0?"text-green-400":"text-red-400"}`,children:d(x.totalResultado)})}),a.jsx("td",{className:"text-center py-3 px-4",children:a.jsx("button",{onClick:()=>v(x),className:"hover:bg-gray-600 p-1 rounded transition-colors",title:"Ver detalhes do período",children:a.jsx(Cl,{className:"w-4 h-4 text-gray-400 hover:text-white"})})})]},x.nome))})]})})}),i&&n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sr,{className:"w-5 h-5 text-purple-400 mr-2"}),a.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Detalhes - ",n.nome]})]}),a.jsx("button",{onClick:y,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Resumo do Período"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Total de Trades"}),a.jsx("p",{className:"text-lg font-semibold text-white",children:n.totalTrades})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsxs("p",{className:"text-lg font-semibold text-white",children:[n.avgWinRate.toFixed(1),"%"]})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:"text-lg font-semibold text-white",children:n.avgProfitFactor.toFixed(2)})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Resultado Total"}),a.jsx("p",{className:`text-lg font-semibold ${n.totalResultado>=0?"text-green-400":"text-red-400"}`,children:d(n.totalResultado)})]})]})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Breakdown por Hora"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-600",children:[a.jsx("th",{className:"px-3 py-2 text-left text-gray-300",children:"Horário"}),a.jsx("th",{className:"px-3 py-2 text-center text-gray-300",children:"Trades"}),a.jsx("th",{className:"px-3 py-2 text-center text-gray-300",children:"Taxa de Acerto"}),a.jsx("th",{className:"px-3 py-2 text-center text-gray-300",children:"Fator de Lucro"}),a.jsx("th",{className:"px-3 py-2 text-right text-gray-300",children:"Resultado"})]})}),a.jsx("tbody",{children:n.horarios.map((x,b)=>a.jsxs("tr",{className:"border-b border-gray-600",children:[a.jsx("td",{className:"px-3 py-2 text-white font-medium",children:x.horario}),a.jsx("td",{className:"px-3 py-2 text-center text-white",children:x.trades}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsxs("span",{className:`px-2 py-1 rounded text-xs ${x.winRate>=60?"bg-green-600 text-white":x.winRate>=45?"bg-yellow-600 text-white":"bg-red-600 text-white"}`,children:[x.winRate.toFixed(1),"%"]})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${x.profitFactor>=1.5?"bg-green-600 text-white":x.profitFactor>=1?"bg-yellow-600 text-white":"bg-red-600 text-white"}`,children:x.profitFactor.toFixed(2)})}),a.jsx("td",{className:`px-3 py-2 text-right font-medium ${x.resultado>=0?"text-green-400":"text-red-400"}`,children:d(x.resultado)})]},x.horario))})]})})]}),a.jsx("div",{className:"bg-purple-900 bg-opacity-20 border border-purple-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Sr,{className:"w-5 h-5 text-purple-400 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-purple-300 mb-2",children:"Insights do Período"}),a.jsxs("ul",{className:"text-sm text-purple-200 space-y-1",children:[a.jsxs("li",{children:["• Melhor hora: ",n.horarios.reduce((x,b)=>b.resultado>x.resultado?b:x).horario," com ",d(n.horarios.reduce((x,b)=>b.resultado>x.resultado?b:x).resultado)]}),a.jsxs("li",{children:["• Taxa de acerto média: ",n.avgWinRate.toFixed(1),"% (",n.avgWinRate>=60?"excelente":n.avgWinRate>=45?"boa":"ruim",")"]}),a.jsxs("li",{children:["• Fator de lucro: ",n.avgProfitFactor.toFixed(2)," (",n.avgProfitFactor>=1.5?"excelente":n.avgProfitFactor>=1?"positivo":"negativo",")"]}),a.jsxs("li",{children:["• Volume de trades: ",n.totalTrades," operações no período"]})]})]})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:y,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Fechar"})})]})]})})]})}const Ad={monday:"Segunda-feira",tuesday:"Terça-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"Sábado",sunday:"Domingo"},Td={january:"Janeiro",february:"Fevereiro",march:"Março",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro"},pj=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],gj=["january","february","march","april","may","june","july","august","september","october","november","december"],Od=e=>e.startsWith("Week ")?`Semana ${e.replace("Week ","")}`:e;function jW({showDailyAnalysis:e,setShowDailyAnalysis:t,tradesData:r,backtestResult:n,fileResults:s}){var T,$,F,L;const[i,o]=It.useState(!1),[l,c]=It.useState(!1),[d,u]=It.useState(!1),[m,h]=It.useState(!0),[f,p]=It.useState(!0),[v,y]=It.useState(!0);if(!n)return null;const x=n["Day of Week Analysis"],b=x==null?void 0:x["Best Day"],j=x==null?void 0:x["Worst Day"],N=n["Monthly Analysis"],w=N==null?void 0:N["Best Month"],k=N==null?void 0:N["Worst Month"],S=n["Weekly Analysis"],E=S==null?void 0:S["Best Week"],R=S==null?void 0:S["Worst Week"],_=(A,O=!1,V=!1)=>{if(A==null||isNaN(Number(A)))return"N/A";const W=Number(A);return V?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(W):O?`${W.toFixed(2)}%`:W.toFixed(2)},C=()=>a.jsx("div",{className:"grid grid-cols-7 gap-1 mt-4",children:pj.map(A=>{var z;let O=null;if(x!=null&&x.Stats){const se={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"}[A];O=x.Stats[se]}O||(O={Trades:0,"Win Rate (%)":0,"Profit Factor":0});const V=Number(O["Profit Factor"])||0,W=Number(O.Trades)||0,U=Number(O["Win Rate (%)"])||0,J=V>=1.5?"bg-green-900":V>=1?"bg-yellow-900":"bg-red-900",G=V>=1.5?"text-green-300":V>=1?"text-yellow-300":"text-red-300";return a.jsxs("div",{className:`p-3 rounded-lg ${J} ${W===0?"opacity-50":""}`,children:[a.jsx("p",{className:"text-sm font-medium mb-2 text-white",children:((z=Ad[A])==null?void 0:z.substring(0,3))||A.substring(0,3)}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Fator"}),a.jsx("p",{className:`text-sm font-bold ${G}`,children:V.toFixed(2)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Acerto"}),a.jsxs("p",{className:`text-sm font-bold ${U>=60?"text-green-300":U>=45?"text-yellow-300":"text-red-300"}`,children:[U.toFixed(1),"%"]})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Trades"}),a.jsx("p",{className:"text-sm font-bold text-white",children:W})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Rentabilidade"}),a.jsx("p",{className:`text-sm font-bold ${(O["Rentabilidade ($)"]||0)>0?"text-green-300":(O["Rentabilidade ($)"]||0)<0?"text-red-300":"text-gray-300"}`,children:_(O["Rentabilidade ($)"],!1,!0)})]})]})]},A)})}),B=()=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:(S==null?void 0:S.Stats)&&Object.entries(S.Stats).sort(([A],[O])=>{const V=parseInt(A.replace(/\D/g,""))||0,W=parseInt(O.replace(/\D/g,""))||0;return V-W}).map(([A,O])=>{const V=Number(O["Profit Factor"])||0,W=Number(O.Trades)||0,U=Number(O["Win Rate (%)"])||0,J=V>=1.5?"bg-green-900":V>=1?"bg-yellow-900":"bg-red-900",G=V>=1.5?"text-green-300":V>=1?"text-yellow-300":"text-red-300";return a.jsxs("div",{className:`p-3 rounded-lg ${J} ${W===0?"opacity-50":""}`,children:[a.jsx("p",{className:"text-sm font-medium mb-2 text-white",children:Od(A)}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Fator"}),a.jsx("p",{className:`text-sm font-bold ${G}`,children:V.toFixed(2)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Acerto"}),a.jsxs("p",{className:`text-sm font-bold ${U>=60?"text-green-300":U>=45?"text-yellow-300":"text-red-300"}`,children:[U.toFixed(1),"%"]})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Trades"}),a.jsx("p",{className:"text-sm font-bold text-white",children:W})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Média Ganho"}),a.jsx("p",{className:"text-sm font-bold text-green-300",children:_(O["Average Win"],!1,!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Média Perda"}),a.jsx("p",{className:"text-sm font-bold text-red-300",children:_(O["Average Loss"],!1,!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Rentabilidade"}),a.jsx("p",{className:`text-sm font-bold ${(O["Rentabilidade ($)"]||0)>0?"text-green-300":(O["Rentabilidade ($)"]||0)<0?"text-red-300":"text-gray-300"}`,children:_(O["Rentabilidade ($)"],!1,!0)})]})]})]},A)})}),D=()=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:gj.map(A=>{let O=null;if(N!=null&&N.Stats){const Z={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"}[A];O=N.Stats[Z]}O||(O={Trades:0,"Win Rate (%)":0,"Profit Factor":0});const V=Number(O["Profit Factor"])||0,W=Number(O.Trades)||0,U=Number(O["Win Rate (%)"])||0,J=V>=1.5?"bg-green-900":V>=1?"bg-yellow-900":"bg-red-900",G=V>=1.5?"text-green-300":V>=1?"text-yellow-300":"text-red-300";return a.jsxs("div",{className:`p-3 rounded-lg ${J} ${W===0?"opacity-50":""}`,children:[a.jsx("p",{className:"text-sm font-medium mb-2 text-white",children:Td[A]||A}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Fator"}),a.jsx("p",{className:`text-sm font-bold ${G}`,children:V.toFixed(2)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Acerto"}),a.jsxs("p",{className:`text-sm font-bold ${U>=60?"text-green-300":U>=45?"text-yellow-300":"text-red-300"}`,children:[U.toFixed(1),"%"]})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Trades"}),a.jsx("p",{className:"text-sm font-bold text-white",children:W})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Rentabilidade"}),a.jsx("p",{className:`text-sm font-bold ${(O["Rentabilidade ($)"]||0)>0?"text-green-300":(O["Rentabilidade ($)"]||0)<0?"text-red-300":"text-gray-300"}`,children:_(O["Rentabilidade ($)"],!1,!0)})]})]})]},A)})});return a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6 shadow-lg",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jt,{className:"w-6 h-6 text-blue-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Análise Diária"})]}),a.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]}),a.jsx("br",{}),e&&a.jsxs("div",{className:"p-6 pt-8",children:[a.jsx("div",{className:"mb-8",children:a.jsx(yW,{tradesData:r,fileResults:s})}),a.jsx("div",{className:"mb-8",children:a.jsx(wW,{tradesData:r})}),a.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-lg p-5 mb-6 shadow-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-blue-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(hn,{className:"w-6 h-6 text-blue-400"})}),a.jsx("h3",{className:"font-semibold text-lg",children:"Análise por Dia da Semana"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>h(!m),className:"px-3 py-1.5 bg-gray-600 hover:bg-gray-500 rounded text-xs font-medium text-gray-300 hover:text-white",children:m?"Visualização em Tabela":"Visualização em Calendário"}),a.jsx("button",{onClick:()=>o(!i),className:"p-1.5 hover:bg-gray-600 rounded",children:i?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]})]}),i&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[b&&a.jsxs("div",{className:"bg-green-900 bg-opacity-20 border border-green-800 p-4 rounded-lg shadow-md",children:[a.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-green-400",children:[a.jsx(sn,{className:"w-5 h-5 mr-2"}),"Melhor Dia:"," ",Ad[(T=b.Day)==null?void 0:T.toLowerCase()]||b.Day]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),a.jsx("p",{className:"text-lg font-medium",children:b.Trades||"0"})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:_(b["Win Rate (%)"],!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:_(b["Profit Factor"])})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Média Ganho"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:_(b["Average Win"],!1,!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Média Perda"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:_(b["Average Loss"],!1,!0)})]})]})]}),j&&a.jsxs("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 p-4 rounded-lg shadow-md",children:[a.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-red-400",children:[a.jsx(it,{className:"w-5 h-5 mr-2"}),"Pior Dia:"," ",Ad[($=j.Day)==null?void 0:$.toLowerCase()]||j.Day]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),a.jsx("p",{className:"text-lg font-medium",children:j.Trades||"0"})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:_(j["Win Rate (%)"],!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:_(j["Profit Factor"])})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Média Ganho"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:_(j["Average Win"],!1,!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Média Perda"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:_(j["Average Loss"],!1,!0)})]})]})]})]}),m?C():a.jsx("div",{className:"overflow-x-auto bg-gray-700 rounded-lg p-4 shadow-md",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-800",children:[a.jsx("th",{className:"px-4 py-3 text-left rounded-l-lg",children:"Dia"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Trades"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Taxa de Acerto"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Fator de Lucro"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Sharpe Ratio"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Média Ganho"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Média Perda"}),a.jsx("th",{className:"px-4 py-3 text-center rounded-r-lg",children:"Rentabilidade"})]})}),a.jsx("tbody",{children:pj.map(A=>{let O=null;if(x!=null&&x.Stats){const W={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"}[A];O=x.Stats[W]}return O||(O={Trades:0,"Win Rate (%)":0,"Profit Factor":0,"Rentabilidade ($)":0}),a.jsxs("tr",{className:"border-b border-gray-600 last:border-b-0",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:Ad[A]||A}),a.jsx("td",{className:"px-4 py-3 text-center",children:O.Trades||"0"}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Win Rate (%)"]||0)>=55?"bg-green-900 text-green-300":(O["Win Rate (%)"]||0)>=45?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:_(O["Win Rate (%)"],!0)})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Profit Factor"]||0)>=1.5?"bg-green-900 text-green-300":(O["Profit Factor"]||0)>=1?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:_(O["Profit Factor"])})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Sharpe Ratio"]||0)>=1?"bg-green-900 text-green-300":(O["Sharpe Ratio"]||0)>=.5?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:_(O["Sharpe Ratio"])})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-900 text-green-300",children:_(O["Average Win"],!1,!0)})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-900 text-red-300",children:_(O["Average Loss"],!1,!0)})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Rentabilidade ($)"]||0)>0?"bg-green-900 text-green-300":(O["Rentabilidade ($)"]||0)<0?"bg-red-900 text-red-300":"bg-gray-900 text-gray-300"}`,children:_(O["Rentabilidade ($)"],!1,!0)})})]},A)})})]})})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-lg p-5 mb-6 shadow-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-purple-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(Su,{className:"w-6 h-6 text-purple-400"})}),a.jsx("h3",{className:"font-semibold text-lg",children:"Análise Mensal"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>p(!f),className:"px-3 py-1.5 bg-gray-600 hover:bg-gray-500 rounded text-xs font-medium text-gray-300 hover:text-white",children:f?"Visualização em Tabela":"Visualização em Calendário"}),a.jsx("button",{onClick:()=>c(!l),className:"p-1.5 hover:bg-gray-600 rounded",children:l?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]})]}),l&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[w&&a.jsxs("div",{className:"bg-green-900 bg-opacity-20 border border-green-800 p-4 rounded-lg shadow-md",children:[a.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-green-400",children:[a.jsx(sn,{className:"w-5 h-5 mr-2"}),"Melhor Mês:"," ",Td[(F=w.Month)==null?void 0:F.toLowerCase()]||w.Month]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),a.jsx("p",{className:"text-lg font-medium",children:w.Trades||"0"})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:_(w["Win Rate (%)"],!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:_(w["Profit Factor"])})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Média Ganho"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:_(w["Average Win"],!1,!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Média Perda"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:_(w["Average Loss"],!1,!0)})]})]})]}),k&&a.jsxs("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 p-4 rounded-lg shadow-md",children:[a.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-red-400",children:[a.jsx(it,{className:"w-5 h-5 mr-2"}),"Pior Mês:"," ",Td[(L=k.Month)==null?void 0:L.toLowerCase()]||k.Month]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),a.jsx("p",{className:"text-lg font-medium",children:k.Trades||"0"})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:_(k["Win Rate (%)"],!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:_(k["Profit Factor"])})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Média Ganho"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:_(k["Average Win"],!1,!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Média Perda"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:_(k["Average Loss"],!1,!0)})]})]})]})]}),f?D():a.jsx("div",{className:"overflow-x-auto bg-gray-700 rounded-lg p-4 shadow-md",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-800",children:[a.jsx("th",{className:"px-4 py-3 text-left rounded-l-lg",children:"Mês"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Trades"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Taxa de Acerto"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Fator de Lucro"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Média Ganho"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Média Perda"}),a.jsx("th",{className:"px-4 py-3 text-center rounded-r-lg",children:"Rentabilidade"})]})}),a.jsx("tbody",{children:gj.map(A=>{let O=null;if(N!=null&&N.Stats){const W={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"}[A];O=N.Stats[W]}return O||(O={Trades:0,"Win Rate (%)":0,"Profit Factor":0,"Rentabilidade ($)":0}),a.jsxs("tr",{className:"border-b border-gray-600 last:border-b-0",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:Td[A]||A}),a.jsx("td",{className:"px-4 py-3 text-center",children:O.Trades||"0"}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Win Rate (%)"]||0)>=55?"bg-green-900 text-green-300":(O["Win Rate (%)"]||0)>=45?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:_(O["Win Rate (%)"],!0)})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Profit Factor"]||0)>=1.5?"bg-green-900 text-green-300":(O["Profit Factor"]||0)>=1?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:_(O["Profit Factor"])})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-900 text-green-300",children:_(O["Average Win"],!1,!0)})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-900 text-red-300",children:_(O["Average Loss"],!1,!0)})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Rentabilidade ($)"]||0)>0?"bg-green-900 text-green-300":(O["Rentabilidade ($)"]||0)<0?"bg-red-900 text-red-300":"bg-gray-900 text-gray-300"}`,children:_(O["Rentabilidade ($)"],!1,!0)})})]},A)})})]})})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-lg p-5 mb-6 shadow-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-orange-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(Zs,{className:"w-6 h-6 text-orange-400"})}),a.jsx("h3",{className:"font-semibold text-lg",children:"Análise Semanal"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>y(!v),className:"px-3 py-1.5 bg-gray-600 hover:bg-gray-500 rounded text-xs font-medium text-gray-300 hover:text-white",children:v?"Visualização em Tabela":"Visualização em Calendário"}),a.jsx("button",{onClick:()=>u(!d),className:"p-1.5 hover:bg-gray-600 rounded",children:d?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]})]}),d&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[E&&a.jsxs("div",{className:"bg-green-900 bg-opacity-20 border border-green-800 p-4 rounded-lg shadow-md",children:[a.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-green-400",children:[a.jsx(sn,{className:"w-5 h-5 mr-2"}),"Melhor Semana: ",Od(E.Week)]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),a.jsx("p",{className:"text-lg font-medium",children:E.Trades||"0"})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:_(E["Win Rate (%)"],!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:_(E["Profit Factor"])})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Média Ganho"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:_(E["Average Win"],!1,!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Média Perda"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:_(E["Average Loss"],!1,!0)})]})]})]}),R&&a.jsxs("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 p-4 rounded-lg shadow-md",children:[a.jsxs("h4",{className:"text-md font-medium mb-3 flex items-center text-red-400",children:[a.jsx(it,{className:"w-5 h-5 mr-2"}),"Pior Semana: ",Od(R.Week)]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Trades"}),a.jsx("p",{className:"text-lg font-medium",children:R.Trades||"0"})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Taxa de Acerto"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:_(R["Win Rate (%)"],!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Fator de Lucro"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:_(R["Profit Factor"])})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Média Ganho"}),a.jsx("p",{className:"text-lg font-medium text-green-400",children:_(R["Average Win"],!1,!0)})]}),a.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Média Perda"}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:_(R["Average Loss"],!1,!0)})]})]})]})]}),v?B():a.jsx("div",{className:"overflow-x-auto bg-gray-700 rounded-lg p-4 shadow-md",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-800",children:[a.jsx("th",{className:"px-4 py-3 text-left rounded-l-lg",children:"Semana"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Trades"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Taxa de Acerto"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Fator de Lucro"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Média Ganho"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Média Perda"}),a.jsx("th",{className:"px-4 py-3 text-center rounded-r-lg",children:"Rentabilidade"})]})}),a.jsx("tbody",{children:(S==null?void 0:S.Stats)&&Object.entries(S.Stats).sort(([A],[O])=>{const V=parseInt(A.replace(/\D/g,""))||0,W=parseInt(O.replace(/\D/g,""))||0;return V-W}).map(([A,O])=>a.jsxs("tr",{className:"border-b border-gray-600 last:border-b-0",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:Od(A)}),a.jsx("td",{className:"px-4 py-3 text-center",children:O.Trades||"0"}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Win Rate (%)"]||0)>=55?"bg-green-900 text-green-300":(O["Win Rate (%)"]||0)>=45?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:_(O["Win Rate (%)"],!0)})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Profit Factor"]||0)>=1.5?"bg-green-900 text-green-300":(O["Profit Factor"]||0)>=1?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:_(O["Profit Factor"])})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-900 text-green-300",children:_(O["Average Win"],!1,!0)})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-900 text-red-300",children:_(O["Average Loss"],!1,!0)})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O["Rentabilidade ($)"]||0)>0?"bg-green-900 text-green-300":(O["Rentabilidade ($)"]||0)<0?"bg-red-900 text-red-300":"bg-gray-900 text-gray-300"}`,children:_(O["Rentabilidade ($)"],!1,!0)})})]},A))})]})})]})]})]})]})}function il({children:e,title:t,description:r="Esta seção está disponível apenas para usuários PRO",requiredPlan:n="Pro"}){const{profile:s}=Pt(),i=jt(),o=It.useMemo(()=>{if(!(s!=null&&s.plan))return!1;const c=s.plan.toLowerCase();return n==="Pro"?c.includes("pro"):n==="Pro 2"?c.includes("pro 2")||c.includes("pro 3"):n==="Pro 3"?c.includes("pro 3"):n==="Starter"?c.includes("pro")||c.includes("pro 1")||c.includes("pro 2")||c.includes("pro 3"):!1},[s==null?void 0:s.plan,n]),l=()=>{i("/subscription")};return o?a.jsx(a.Fragment,{children:e}):a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-700",children:a.jsxs("h2",{className:"text-lg font-medium flex items-center",children:[a.jsx(Nu,{className:"w-5 h-5 text-gray-400 mr-2"}),t]})}),a.jsxs("div",{className:"p-8 flex flex-col items-center justify-center text-center",children:[a.jsx("div",{className:"bg-gray-700 p-4 rounded-full mb-4",children:a.jsx(Nu,{className:"w-12 h-12 text-gray-400"})}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Conteúdo Exclusivo PRO"}),a.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:r}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 p-4 rounded-lg mb-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Wn,{className:"w-5 h-5 text-yellow-400 mr-2"}),a.jsx("h4",{className:"font-medium text-white",children:"Benefícios do Plano PRO"})]}),a.jsxs("ul",{className:"text-sm text-blue-100 space-y-2",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx(Fe,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Acesso a todas as análises avançadas"})]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx(Fe,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Análise emocional e perfil de trader"})]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx(Fe,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Correlação entre estratégias"})]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx(Fe,{className:"w-4 h-4 text-yellow-400 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Análise de eventos especiais"})]})]})]}),a.jsxs("button",{onClick:l,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[a.jsx(Wn,{className:"w-5 h-5 mr-2"}),"Fazer Upgrade para PRO"]})]})]})}const NW=e=>{if(!e)return{};const t=e["Performance Metrics"];if(!t)return{};const r=e.trades||[];console.log(`📊 Dados recebidos | trades: ${r.length}`);let n=0,s=0,i=0,o=0,l=0,c=0,d=0;r.length>0&&r.forEach(f=>{const p=Number(f.pnl)||0;d+=p,p>0?(n++,i+=p,l=Math.max(l,p)):p<0&&(s++,o+=Math.abs(p),c=Math.max(c,Math.abs(p)))});const u=n>0?i/n:void 0,m=s>0?o/s:void 0,h=r.length>0?d/r.length:void 0;return{profitFactor:t["Profit Factor"],payoff:t.Payoff,winRate:t["Win Rate (%)"],maxDrawdown:t["Max Drawdown ($)"],maxDrawdownAmount:t["Max Drawdown ($)"],netProfit:t["Net Profit"],grossProfit:t["Gross Profit"]??i,grossLoss:t["Gross Loss"]??o,totalTrades:t["Total Trades"]??(r.length||void 0),profitableTrades:t["Winning Trades"]??(t["Win Rate (%)"]!==void 0&&(t["Total Trades"]??r.length)?Math.round(Number(t["Win Rate (%)"])*Number(t["Total Trades"]??r.length)/100):n||void 0),lossTrades:t["Losing Trades"]??(t["Win Rate (%)"]!==void 0&&(t["Total Trades"]??r.length)?Math.max(0,Number(t["Total Trades"]??r.length)-Math.round(Number(t["Win Rate (%)"])*Number(t["Total Trades"]??r.length)/100)):s||void 0),averageWin:t["Average Win"]??u,averageLoss:t["Average Loss"]??m,sharpeRatio:t["Sharpe Ratio"],recoveryFactor:t["Recovery Factor"],averageTrade:t["Net Profit"]!==void 0&&(t["Total Trades"]??r.length)?Number(t["Net Profit"])/Number((t["Total Trades"]??r.length)||1):h,averageTradeDuration:t["Time in Market"],maxConsecutiveWins:t["Max Consecutive Wins"],maxConsecutiveLosses:t["Max Consecutive Losses"],maiorGanho:t["Max Trade Gain"]??l,maiorPerda:t["Max Trade Loss"]??c}};function kW({fileResults:e,showIndividualResults:t,setShowIndividualResults:r}){const[n,s]=g.useState([]),i=d=>{s(u=>u.includes(d)?u.filter(m=>m!==d):[...u,d])},o=d=>d==null||isNaN(Number(d))?"N/A":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(d)),l=d=>d==null||isNaN(Number(d))?"N/A":`${Number(d).toFixed(2)}%`,c=d=>d>0?"text-green-400":d<0?"text-red-400":"text-gray-400";return!e||Object.keys(e).length===0?null:a.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-blue-500 bg-opacity-20 p-2 rounded-full mr-3",children:a.jsx(Tn,{className:"w-6 h-6 text-blue-400"})}),a.jsxs("h3",{className:"font-semibold text-lg text-white",children:["Resultados Individuais (",Object.keys(e).length," arquivos)"]})]}),a.jsx("button",{onClick:()=>r(!t),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:t?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]}),t&&a.jsx("div",{className:"space-y-4",children:Object.entries(e).map(([d,u])=>{const m=u.error!==void 0,h=typeof u.error=="string"?u.error:JSON.stringify(u.error??"")||"",f=u["Performance Metrics"],p=u.info_arquivo,v=Number(f==null?void 0:f["Sharpe Ratio"])||0;return a.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-gray-600 p-2 rounded-full mr-3",children:a.jsx(Tn,{className:"w-4 h-4 text-gray-300"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white",children:d}),p&&a.jsxs("p",{className:"text-sm text-gray-400",children:[p.total_registros," registros"]})]})]}),a.jsx("button",{onClick:()=>i(d),className:"p-1 hover:bg-gray-600 rounded",children:n.includes(d)?a.jsx(tt,{className:"w-4 h-4 text-gray-400"}):a.jsx(ze,{className:"w-4 h-4 text-gray-400"})})]}),m?a.jsx("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 p-4 rounded-lg",children:a.jsx("p",{className:"text-red-400 text-sm",children:h})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 mb-4",children:f&&Object.keys(f).length>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(bt,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Lucro Líquido"})]}),a.jsx("p",{className:`text-lg font-semibold ${c(Number(f==null?void 0:f["Net Profit"])||0)}`,children:o(Number(f==null?void 0:f["Net Profit"]))})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(wu,{className:"w-4 h-4 text-blue-400 mr-1"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Total Trades"})]}),a.jsx("p",{className:"text-lg font-semibold text-white",children:(f==null?void 0:f["Total Trades"])??"N/A"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(bt,{className:"w-4 h-4 text-green-400 mr-1"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Win Rate"})]}),a.jsx("p",{className:"text-lg font-semibold text-green-400",children:l(Number(f==null?void 0:f["Win Rate (%)"]))})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(mo,{className:"w-4 h-4 text-red-400 mr-1"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Max Drawdown"})]}),a.jsx("p",{className:"text-lg font-semibold text-red-400",children:o(Number(f==null?void 0:f["Max Drawdown ($)"]))})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(wu,{className:"w-4 h-4 text-yellow-400 mr-1"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Fator de Lucro"})]}),a.jsx("p",{className:`text-lg font-semibold ${(Number(f==null?void 0:f["Profit Factor"])||0)>=1?"text-green-400":"text-red-400"}`,children:isNaN(Number(f==null?void 0:f["Profit Factor"]))?"N/A":Number(f==null?void 0:f["Profit Factor"]).toFixed(2)})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(bt,{className:"w-4 h-4 text-purple-400 mr-1"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Sharpe Ratio"})]}),a.jsx("p",{className:`text-lg font-semibold ${v>=1?"text-green-400":v>=0?"text-yellow-400":"text-red-400"}`,children:isNaN(v)?"N/A":v.toFixed(2)})]})]}):a.jsx("div",{className:"col-span-full text-sm text-gray-400",children:"Sem métricas disponíveis"})}),n.includes(d)&&a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[(()=>{var y,x;return console.log(`📊 Trades para ${d}:`,((y=u.trades)==null?void 0:y.length)||0),console.log(`📊 Dados completos para ${d}:`,{hasTrades:!!u.trades,tradesLength:((x=u.trades)==null?void 0:x.length)||0,hasMetrics:!!u["Performance Metrics"],metrics:u["Performance Metrics"]}),null})(),a.jsx(I4,{metrics:NW(u),tradeObject:{trades:(u.trades||[]).map(y=>({symbol:y.symbol,entry_date:String(y.entry_date??y.date??""),exit_date:String(y.exit_date??y.entry_date??y.date??""),pnl:Number(y.pnl)||0}))},showTitle:!1})]})]})]},d)})})]})}function SW({mode:e,description:t,fileCount:r,files:n,selectedFiles:s,backtestResult:i,onReset:o}){var u,m,h;const l=((u=i==null?void 0:i["Performance Metrics"])==null?void 0:u["Total Trades"])||0,c=((m=i==null?void 0:i["Performance Metrics"])==null?void 0:m["Net Profit"])||0,d=((h=i==null?void 0:i["Performance Metrics"])==null?void 0:h["Win Rate (%)"])||0;return a.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-6 border border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tn,{className:"w-5 h-5 text-blue-400"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium",children:["Modo: ",e]}),a.jsx("p",{className:"text-sm text-gray-400",children:t})]})]}),r>0&&a.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(wu,{className:"w-4 h-4 text-green-400"}),a.jsxs("span",{className:"text-gray-300",children:[l," trades"]})]}),a.jsxs("div",{className:"text-gray-300",children:["P&L:                 ",a.jsx("span",{className:c>=0?"text-green-400":"text-red-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c||0)})]}),a.jsxs("div",{className:"text-gray-300",children:["Taxa: ",a.jsxs("span",{className:"text-blue-400",children:[d==null?void 0:d.toFixed(1),"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[e==="Individual"&&s.length>0&&a.jsx("div",{className:"text-xs text-gray-500",children:s.map((f,p)=>a.jsx("span",{className:"inline-block bg-gray-700 px-2 py-1 rounded mr-1 mb-1",children:f.replace(".csv","")},p))}),a.jsxs("button",{onClick:o,className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded-md text-sm flex items-center space-x-1",title:"Resetar filtros",children:[a.jsx(ur,{className:"w-4 h-4"}),a.jsx("span",{children:"Reset"})]})]})]})})}function _W({showPositionSizing:e,setShowPositionSizing:t,backtestResult:r}){const[n,s]=g.useState(""),i=u=>{const h=[u.symbol,u.asset,u.ativo,u.ticker,u.instrument].find(f=>typeof f=="string"&&f.trim().length>0)||"";return String(h).trim().toUpperCase()},o=g.useMemo(()=>{const m=((r==null?void 0:r.trades)??[]).map(h=>i(h)).filter(h=>h&&h.trim().length>0);return Array.from(new Set(m)).sort()},[r==null?void 0:r.trades]),l=u=>u&&/^[A-Z]{4}[0-9]$/.test(u.toUpperCase())?"stock":"future",c=g.useCallback(()=>{const u=(r==null?void 0:r.trades)??[],m=n?u.filter(A=>i(A)===n.trim().toUpperCase()):u,h=A=>{if(A==null)return 0;if(typeof A=="number"&&isFinite(A))return A;if(typeof A=="string"){const O=A.trim(),V=/^\(.*\)$/.test(O),U=O.replace(/[R$]|\s+/g,"").match(/-?[0-9]+([.,][0-9]+)?/);if(!U)return 0;const J=U[0].replace(",",".");let G=Number(J);return V&&(G=-Math.abs(G)),isNaN(G)?0:G}return 0},f=A=>{const O=["quantity_total","quantity_compra","quantity_venda","quantity_buy","quantity_sell","qty_buy","qty_sell","quantity","qty","position_size","size","volume","contracts","contratos","qtd_contratos","quantidade_contratos","qtd_total","quantidade_total","quantidade","tamanho_posicao","tamanho","lot","lote","position"];for(const U of O)if(U in A){const J=h(A[U]);if(J>0)return J}let V=0;Object.keys(A).forEach(U=>{if(/qty|quant|contrat|size|posi|vol/i.test(U)){const J=h(A[U]);J>V&&(V=J)}});const W=Math.max(h("qty_buy"in A?A.qty_buy:"quantity_buy"in A?A.quantity_buy:void 0),h("qty_sell"in A?A.qty_sell:"quantity_sell"in A?A.quantity_sell:void 0));return V=Math.max(V,W),V>0?V:0},p=A=>{const O=["pnl","PnL","resultado","profit","net","net_profit","netProfit","retorno","gain","result","resultado_trade"];for(const U of O)if(U in A){const J=A[U],G=h(J);if(!isNaN(G))return G}const V=(U,J=0)=>{if(!(!U||typeof U!="object"||J>2))for(const[G,z]of Object.entries(U)){if(/pnl|profit|result|retorno|ganho|perda|net/i.test(G)){const Z=h(z);if(!isNaN(Z)&&Z!==0)return Z}if(z&&typeof z=="object"){const Z=V(z,J+1);if(Z!==void 0)return Z}}},W=V(A);return W!==void 0?W:0},v=m.map(A=>{const O=Math.abs(h(f(A)));return{...A,positionSize:O}}).filter(A=>A.positionSize>0);if(v.length===0)return{averagePosition:0,medianPosition:0,maxPosition:0,maxSetupPerDay:0,resultByPosition:[],unit:"contratos",totalVolume:0,standardDeviation:0,riskConcentration:0,smallPositionsRatio:0,totalTrades:0,uniqueDays:0};const y=v.map(A=>l(A.symbol??"")),b=y.filter(A=>A==="stock").length>y.length/2?"ações":"contratos",j=v.map(A=>A.positionSize),N=j.reduce((A,O)=>A+O,0)/j.length,w=[...j].sort((A,O)=>A-O),k=w[Math.floor(w.length/2)],S=Math.max(...j),E={};v.forEach(A=>{if(A.entry_date){const O=new Date(A.entry_date).toDateString();E[O]=(E[O]||0)+A.positionSize}});const R=Object.keys(E).length>0?Math.max(...Object.values(E)):0,C=[{label:"1",min:1,max:1},{label:"2",min:2,max:2},{label:"3-5",min:3,max:5},{label:"6-10",min:6,max:10},{label:"11-20",min:11,max:20},{label:"21-50",min:21,max:50},{label:"51-100",min:51,max:100},{label:"> 100",min:101,max:1/0}].map(A=>{const O=v.filter(X=>X.positionSize>=A.min&&X.positionSize<=A.max),V=O.reduce((X,re)=>X+p(re),0),W=O.length,U=j.length>0?W/j.length*100:0,J=O.filter(X=>p(X)>0),G=O.filter(X=>p(X)<0),z=J.reduce((X,re)=>X+p(re),0),Z=Math.abs(G.reduce((X,re)=>X+p(re),0)),se=W>0?J.length/W*100:0,M=Z>0?z/Z:z>0?999:0,I=J.length>0?z/J.length:0,H=G.length>0?Z/G.length:0,q=H>0?I/H:I>0?999:0;return{position:A.label,result:V,count:W,percentage:Math.round(U*10)/10,winRate:Math.round(se*10)/10,profitFactor:Math.round(M*100)/100,payoff:Math.round(q*100)/100}}).filter(A=>A.count>0),B=j.reduce((A,O)=>A+O,0),D=j.length>0?Math.sqrt(j.reduce((A,O)=>A+Math.pow(O-N,2),0)/j.length):0,T=Math.max(...j),$=B>0?T/B*100:0,F=j.filter(A=>A<=2).length,L=j.length>0?F/j.length*100:0;return{averagePosition:Math.round(N),medianPosition:Math.round(k),maxPosition:Math.round(S),maxSetupPerDay:Math.round(R),resultByPosition:C,unit:b,totalVolume:Math.round(B),standardDeviation:Math.round(D*100)/100,riskConcentration:Math.round($*10)/10,smallPositionsRatio:Math.round(L*10)/10,totalTrades:j.length,uniqueDays:Object.keys(E).length}},[r==null?void 0:r.trades,n]),d=g.useMemo(()=>c(),[c]);return r?a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(wu,{className:"w-5 h-5 text-green-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Dimensionamento de Posição"})]}),a.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]}),e?a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Posição Média"}),a.jsxs("p",{className:"text-xl font-bold",children:[d.averagePosition.toLocaleString("pt-BR")," ",d.unit]})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Mediana"}),a.jsxs("p",{className:"text-xl font-bold",children:[d.medianPosition.toLocaleString("pt-BR")," ",d.unit]})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Máxima"}),a.jsxs("p",{className:"text-xl font-bold",children:[d.maxPosition.toLocaleString("pt-BR")," ",d.unit]})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Giro médio diário"}),a.jsxs("p",{className:"text-xl font-bold",children:[d.maxSetupPerDay.toLocaleString("pt-BR")," ",d.unit]})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-300",children:["Distribuição por ",d.unit==="ações"?"Ações":"Contratos"]}),o.length>0&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-xs text-gray-400",children:"Ativo:"}),a.jsxs("select",{value:n,onChange:u=>s(u.target.value),className:"bg-gray-700 text-sm text-gray-200 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-gray-600",children:[a.jsx("option",{value:"",children:"Todos"}),o.map(u=>a.jsx("option",{value:u,children:u},u))]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-700",children:[a.jsx("th",{className:"px-3 py-2 text-left",children:d.unit==="ações"?"Ações":"Contratos"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Trades"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"%"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Fator de Lucro"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Taxa de Acerto"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Payoff"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Resultado"})]})}),a.jsx("tbody",{children:d.resultByPosition.map((u,m)=>a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"px-3 py-2 font-medium",children:u.position}),a.jsx("td",{className:"px-3 py-2 text-center",children:u.count}),a.jsx("td",{className:"px-3 py-2 text-center text-blue-400 font-medium",children:`${u.percentage}%`}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:u.profitFactor>=1.5?"text-green-400":u.profitFactor>=1?"text-yellow-400":"text-red-400",children:u.profitFactor.toFixed(2)})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsxs("span",{className:u.winRate>=60?"text-green-400":u.winRate>=45?"text-yellow-400":"text-red-400",children:[u.winRate.toFixed(1),"%"]})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:u.payoff>=1.5?"text-green-400":u.payoff>=1?"text-yellow-400":"text-red-400",children:u.payoff.toFixed(2)})}),a.jsx("td",{className:`px-3 py-2 text-right font-medium ${u.result>0?"text-green-400":u.result<0?"text-red-400":"text-gray-300"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u.result)})]},m))})]})}),a.jsx("div",{className:"mt-4 p-3 bg-green-900 bg-opacity-20 border border-green-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(bt,{className:"w-5 h-5 text-green-400 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-green-300 mb-2",children:"Insights de Posicionamento"}),a.jsxs("ul",{className:"text-sm text-green-200 space-y-1",children:[a.jsxs("li",{children:["• ",d.smallPositionsRatio,"% das operações usam posições pequenas (≤2 ",d.unit,")"]}),a.jsxs("li",{children:["• Desvio padrão de ",d.standardDeviation," indica ",d.standardDeviation<2?"baixa":d.standardDeviation<5?"moderada":"alta"," variação nos tamanhos"]}),a.jsxs("li",{children:["• Melhor performance por posição: ",d.resultByPosition.length>0?d.resultByPosition.reduce((u,m)=>m.profitFactor>u.profitFactor?m:u).position:"N/A"," ",d.unit," com fator de lucro ",d.resultByPosition.length>0?d.resultByPosition.reduce((u,m)=>m.profitFactor>u.profitFactor?m:u).profitFactor.toFixed(2):"N/A"]}),a.jsx("li",{children:"• Consistência: posições com taxa de acerto acima de 60% oferecem melhor estabilidade"})]})]})]})})]}):a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Posição Média"}),a.jsxs("p",{className:"text-xl font-bold",children:[d.averagePosition.toLocaleString("pt-BR")," ",d.unit]})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Mediana"}),a.jsxs("p",{className:"text-xl font-bold",children:[d.medianPosition.toLocaleString("pt-BR")," ",d.unit]})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Máxima"}),a.jsxs("p",{className:"text-xl font-bold",children:[d.maxPosition.toLocaleString("pt-BR")," ",d.unit]})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Giro médio diário"}),a.jsxs("p",{className:"text-xl font-bold",children:[d.maxSetupPerDay.toLocaleString("pt-BR")," ",d.unit]})]})]})})]}):null}function CW({showTradeDuration:e,setShowTradeDuration:t,backtestResult:r}){if(!r)return null;const s=(()=>{const i=(r==null?void 0:r.trades)||[];if(i.length===0)return{averageDuration:"0h 0m",medianDuration:"0h 0m",maxDuration:"0h 0m",resultByDuration:[]};const o=i.map(v=>{const y=new Date(v.entry_date),b=(new Date(v.exit_date).getTime()-y.getTime())/(1e3*60*60);return{...v,durationHours:b}}),l=o.map(v=>v.durationHours),c=l.reduce((v,y)=>v+y,0)/l.length,d=[...l].sort((v,y)=>v-y),u=d[Math.floor(d.length/2)],m=Math.max(...l),h=v=>{const y=Math.floor(v),x=Math.floor((v-y)*60);return`${y}h ${x}m`},p=[{label:"< 15min",min:0,max:.25},{label:"15-30min",min:.25,max:.5},{label:"30min - 1h",min:.5,max:1},{label:"1h - 2h",min:1,max:2},{label:"2h - 4h",min:2,max:4},{label:"4h - 9h",min:4,max:9},{label:"9h - 24h",min:9,max:24},{label:"24h - 72h",min:24,max:72},{label:"72h - 168h",min:72,max:168},{label:"> 168h",min:168,max:1/0}].map(v=>{const y=o.filter(C=>C.durationHours>=v.min&&C.durationHours<v.max);if(y.length===0)return{duration:v.label,result:0,count:0,profitFactor:0,winRate:0,payoff:0};const x=y.reduce((C,B)=>C+(B.pnl||0),0),b=y.filter(C=>(C.pnl||0)>0),j=y.filter(C=>(C.pnl||0)<0),N=b.length/y.length*100,w=b.reduce((C,B)=>C+(B.pnl||0),0),k=Math.abs(j.reduce((C,B)=>C+(B.pnl||0),0)),S=k>0?w/k:w>0?999:0,E=b.length>0?w/b.length:0,R=j.length>0?k/j.length:0,_=R>0?E/R:E>0?999:0;return{duration:v.label,result:x,count:y.length,profitFactor:S,winRate:N,payoff:_}}).filter(v=>v.count>0);return{averageDuration:h(c),medianDuration:h(u),maxDuration:h(m),resultByDuration:p}})();return a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sr,{className:"w-5 h-5 text-blue-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium",children:"Duração dos Trades"})]}),a.jsx("button",{onClick:()=>t(!e),className:"p-1.5 hover:bg-gray-700 rounded-md",children:e?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]}),e&&a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Duração Média"}),a.jsx("p",{className:"text-xl font-bold",children:s.averageDuration})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Duração Mediana"}),a.jsx("p",{className:"text-xl font-bold",children:s.medianDuration})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Duração Máxima"}),a.jsx("p",{className:"text-xl font-bold",children:s.maxDuration})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-300",children:"Resultado por Duração"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-700",children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Duração"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Trades"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Fator de Lucro"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Taxa de Acerto"}),a.jsx("th",{className:"px-3 py-2 text-center",children:"Payoff"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Resultado"})]})}),a.jsx("tbody",{children:s.resultByDuration.map((i,o)=>a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"px-3 py-2",children:i.duration}),a.jsx("td",{className:"px-3 py-2 text-center",children:i.count}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:i.profitFactor>=1.5?"text-green-400":i.profitFactor>=1?"text-yellow-400":"text-red-400",children:i.profitFactor.toFixed(2)})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsxs("span",{className:i.winRate>=60?"text-green-400":i.winRate>=45?"text-yellow-400":"text-red-400",children:[i.winRate.toFixed(1),"%"]})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:i.payoff>=1.5?"text-green-400":i.payoff>=1?"text-yellow-400":"text-red-400",children:i.payoff.toFixed(2)})}),a.jsx("td",{className:`px-3 py-2 text-right ${i.result>0?"text-green-400":"text-red-400"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.result)})]},o))})]})})]}),a.jsx("div",{className:"mt-4 p-3 bg-blue-900 bg-opacity-20 border border-blue-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Jt,{className:"w-5 h-5 text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-300 mb-2",children:"Insights de Duração"}),a.jsxs("ul",{className:"text-sm text-blue-200 space-y-1",children:[a.jsx("li",{children:"• Trades entre 1-2 horas apresentam melhor resultado"}),a.jsx("li",{children:"• Operações muito curtas (menos de 30 min) tendem a ser negativas"}),a.jsx("li",{children:"• Período da manhã concentra maior volume e melhores resultados"}),a.jsx("li",{children:"• Trades no final do dia apresentam maior risco de perda"})]})]})]})})]})]})}function PW(){var qv;const e=jt(),{profile:t,updateTokenBalance:r}=Pt(),[n,s]=g.useState(null),[i,o]=g.useState([]),[l,c]=g.useState(!0),[d,u]=g.useState({}),[m,h]=g.useState(!1),[f,p]=g.useState(!0),[v,y]=g.useState([]),[x,b]=g.useState(!1),[j,N]=g.useState(null),[w,k]=g.useState(null),[S,E]=g.useState(!0),[R,_]=g.useState(!0),[C,B]=g.useState(!1),[D,T]=g.useState(!0),[$,F]=g.useState(!1),[L,A]=g.useState([]),[O,V]=g.useState(!0),[W,U]=g.useState(!1),[J,G]=g.useState(!1),[z,Z]=g.useState(!1),[se,M]=g.useState(!0),[I,H]=g.useState(!1),[q,P]=g.useState(!0),[X,re]=g.useState(!0),[de,fe]=g.useState(null),[he,we]=g.useState(null),[Y,me]=g.useState(null),[ne,ae]=g.useState(["Estratégia 1","Estratégia 2","Estratégia 3"]),[je,_e]=g.useState(["WINFUT","WDOFUT","PETR4","VALE3"]),We=g.useRef(null),[Jr,Rn]=g.useState(!1),[Nt,Xr]=g.useState(null),[yn,Fo]=g.useState(null),[Fc,hi]=g.useState(null),[vs,ka]=g.useState(null),[oe,ge]=g.useState(null);g.useEffect(()=>{(async()=>{if(!d||Object.keys(d).length===0){ka(null);return}let Q=[];if(!l&&i.length>0?i.forEach(ee=>{const le=d[ee];le&&le.trades&&Array.isArray(le.trades)&&Q.push(...le.trades)}):de||Object.keys(d).forEach(ee=>{const le=d[ee];le&&le.trades&&Array.isArray(le.trades)&&Q.push(...le.trades)}),Q.length===0){ka(null);return}try{const ee=await fetch(ft("/api/trades/metrics-from-data"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trades:Q})});if(ee.ok){const le=await ee.json();ka(le)}else console.error("❌ Erro ao recalcular métricas:",ee.status),ka(null)}catch(ee){console.error("❌ Erro ao recalcular métricas:",ee),ka(null)}})()},[d,l,i,de]);const[rt,Xt]=g.useState([]),[At,or]=g.useState(""),[lr,Tt]=g.useState(null),[fi,zo]=g.useState(!1),[Bo,ys]=g.useState(!1),[zc,bs]=g.useState(!1),[Qt,Bc]=g.useState(""),[bn,ws]=g.useState([]),[Qr,Sa]=g.useState(null),[Ot,Ut]=g.useState(null),[_a,qt]=g.useState(""),[Iv,Lv]=g.useState(!1),[Fv,$n]=g.useState(null),[Uc,qc]=g.useState(null),[pi,Vc]=g.useState(null),[Wc,Fh]=g.useState(null),[Hc,zh]=g.useState(null),[js,Bh]=g.useState(null),[Ns,Uh]=g.useState(null);g.useEffect(()=>{if(w&&!Uc){const K=qh(w),Q={trades:Array.isArray(L)?L:[]};qc(K),Vc(Q)}},[w,Uc,L]),g.useEffect(()=>{w&&!Wc&&!Hc&&!js&&(Fh(lr),zh(yn),Bh(Nt))},[w,lr,yn,Nt,Wc,Hc,js]),g.useEffect(()=>{var K,Q;if(w&&L.length>0&&!Ns){const ee={trades:Array.isArray(L)?L:[],backtestResult:w,totalTrades:L.length,netProfit:((K=w["Performance Metrics"])==null?void 0:K["Net Profit"])||0,winRate:((Q=w["Performance Metrics"])==null?void 0:Q["Win Rate (%)"])||0};Uh(ee)}},[w,L,Ns]);function zv(K){const Q=new FormData;return Q.append("file",K),Q}It.useMemo(()=>t!=null&&t.plan?t.plan.toLowerCase().includes("pro"):!1,[t==null?void 0:t.plan]),It.useMemo(()=>{if(!(t!=null&&t.plan))return!1;const K=t.plan.toLowerCase();return K.includes("starter")||K.includes("pro")},[t==null?void 0:t.plan]),g.useEffect(()=>{(async()=>{try{const{data:{user:Q}}=await ue.auth.getUser();if(!Q)return;const{data:ee,error:le}=await ue.from("strategy_analyses").select("*").eq("user_id",Q.id).order("created_at",{ascending:!1});if(le)throw le;if(ee&&ee.length>0){const Ae=ee.map(ye=>{var Se,He,Re,Xe,Le;const pe=ye.analysis_data||{};return{id:ye.id,name:pe.name||`Análise ${ye.id.slice(0,8)}`,createdAt:ye.created_at,updatedAt:ye.updated_at||ye.created_at,backtestResult:pe.metrics||{},selectedStrategy:pe.selectedStrategy||null,selectedAsset:pe.selectedAsset||null,csvContent:pe.csvContent||null,availableStrategies:pe.availableStrategies||[],availableAssets:pe.availableAssets||[],totalTrades:((Se=pe.trades)==null?void 0:Se.length)||((Re=(He=pe.metrics)==null?void 0:He.trades)==null?void 0:Re.length)||((Le=(Xe=pe.metrics)==null?void 0:Xe["Performance Metrics"])==null?void 0:Le["Total Trades"])||0,files:pe.files||[],fileResults:pe.fileResults||{},individualAnalysisMode:pe.individualAnalysisMode??!1,showConsolidated:pe.showConsolidated??!0,trades:pe.trades||[],filteredTrades:pe.filteredTrades||[],tradeSearch:pe.tradeSearch||"",emocional:pe.emocional||null,analysisResult:pe.analysisResult||null,drata:pe.drata||null,showMetrics:pe.showMetrics??!0,showDailyResults:pe.showDailyResults??!1,showDailyAnalysis:pe.showDailyAnalysis??!0,showTrades:pe.showTrades??!1,showEquityCurve:pe.showEquityCurve??!0,showSpecialEvents:pe.showSpecialEvents??!1,showCorrelation:pe.showCorrelation??!1,showEmotionalProfile:pe.showEmotionalProfile??!1,showStrategySelector:pe.showStrategySelector??!0,showChat:pe.showChat??!0,showPositionSizing:pe.showPositionSizing??!0,showTradeDuration:pe.showTradeDuration??!0}});ws(Ae)}}catch(Q){console.error("Error loading saved analyses:",Q)}})()},[]),g.useEffect(()=>{if(w!=null&&w.trades){let K=[...w.trades];if(de&&de!==""&&(K=K.filter(Q=>Q.strategy===de)),he&&he!==""&&(K=K.filter(Q=>Q.symbol===he||!Q.symbol)),At){const Q=At.toLowerCase();K=K.filter(ee=>ee.symbol&&ee.symbol.toLowerCase().includes(Q)||ee.strategy&&ee.strategy.toLowerCase().includes(Q)||ee.entry_date.toLowerCase().includes(Q)||ee.exit_date.toLowerCase().includes(Q)||ee.pnl.toString().includes(Q))}Xt(K)}else Xt([])},[w==null?void 0:w.trades,he,At]),g.useEffect(()=>{if(w!=null&&w.trades){const K=[...new Set(w.trades.map(Q=>Q.strategy).filter(Boolean))];ae(K)}},[w==null?void 0:w.trades]),g.useEffect(()=>{if(w!=null&&w.trades){const K=[...new Set(w.trades.map(Q=>Q.symbol).filter(Boolean))];_e(K)}},[w==null?void 0:w.trades]);const bP=K=>{if(K.target.files&&K.target.files.length>0){const Q=Array.from(K.target.files);y(ee=>[...ee,...Q]),s(Q[0]),N(null)}},wP=K=>{K.preventDefault(),K.stopPropagation()},jP=K=>{if(K.preventDefault(),K.stopPropagation(),K.dataTransfer.files&&K.dataTransfer.files.length>0){const Q=Array.from(K.dataTransfer.files);y(ee=>[...ee,...Q]),s(Q[0]),N(null)}},NP=K=>{y(Q=>Q.filter((ee,le)=>le!==K))},kP=async()=>{if(v.length===0){N("Por favor, selecione pelo menos um arquivo CSV para análise");return}const K=v.filter(Q=>{var le;return((le=Q.name.split(".").pop())==null?void 0:le.toLowerCase())!=="csv"});if(K.length>0){N(`Os seguintes arquivos não são CSVs válidos: ${K.map(Q=>Q.name).join(", ")}`);return}b(!0),N(null),qc(null),Vc(null),Uh(null);try{let Q,ee;if(v.length===1){const ye=await SP(v[0]);me(ye);const pe=new FormData;pe.append("file",v[0]),Q=await fetch(ft("/api/tabela"),{method:"POST",body:pe});try{const Re=await fetch(ft("/api/disciplina-completa"),{method:"POST",body:pe}),Le=await(await fetch(ft("/api/trades"),{method:"POST",body:pe})).json();if(Re.ok){const Ke=await Re.json();Tt(Ke)}else console.warn("Failed to fetch emotional data:",Re.status,Re.statusText),Tt(null);const Pe=Array.isArray(Le)?Le:(Le==null?void 0:Le.trades)||[];A(Pe)}catch(Re){console.error("Error fetching emotional data:",Re),Tt(null)}if(!Q.ok)throw new Error(`Erro na API: ${Q.status} ${Q.statusText}`);ee=await Q.json();const He={[v[0].name]:ee};u(He),ee.dateDirectionCorrelation={correlacao_data_direcao:{resumo:{erro:"Correlação requer pelo menos 2 arquivos"}},correlacao_data_resultado:{resumo:{erro:"Correlação requer pelo menos 2 arquivos"}},info_arquivos:{total_arquivos:1,nomes_arquivos:[v[0].name],tipo_analise:"insuficiente"}},Xr(ee)}else if(v.length>=2)try{let ye=null,pe=null;const Se=new FormData;v.forEach(Pe=>{Se.append("files",Pe)});let He,Re;if(v.length===2){const[Pe,Ke]=await Promise.all([fetch(ft("/api/tabela"),{method:"POST",body:zv(v[0])}),fetch(ft("/api/tabela"),{method:"POST",body:zv(v[1])})]);[He,Re]=await Promise.all([Pe.json(),Ke.json()]);const $e=await fetch(ft("/api/correlacao"),{method:"POST",body:Se});if($e.ok){const Dt=await $e.json();ye=Dt,pe=Dt}}const Xe=await fetch(ft("/api/tabela-multipla"),{method:"POST",body:Se});try{const Pe=await fetch(ft("/api/disciplina-completa"),{method:"POST",body:Se}),$e=await(await fetch(ft("/api/trades"),{method:"POST",body:Se})).json();if(Pe.ok){const Zr=await Pe.json();Tt(Zr)}else console.warn("Failed to fetch emotional data:",Pe.status,Pe.statusText),Tt(null);const Dt=Array.isArray($e)?$e:($e==null?void 0:$e.trades)||[];A(Dt)}catch(Pe){console.error("Error fetching emotional data:",Pe),Tt(null)}if(!Xe.ok)throw new Error("Erro na análise consolidada");const Le=await Xe.json();if(Le.consolidado&&Le.individuais){u(Le.individuais),ee=Le.consolidado;try{if(ee&&Array.isArray(ee.trades))A(ee.trades);else{const Pe=[];Object.keys(Le.individuais).forEach(Ke=>{const $e=Le.individuais[Ke];$e&&Array.isArray($e.trades)&&Pe.push(...$e.trades)}),Pe.length>0&&A(Pe)}}catch(Pe){console.warn("Não foi possível definir trades consolidados:",Pe)}}else{if(v.length===1){const Ke={[v[0].name]:Le};u(Ke)}else u({consolidado:Le});ee=Le}if(Xr(ee),ye&&v.length===2)ee.correlationAnalysis=ye.correlation_analysis,ee.correlationMetadata=ye.metadata,ee.individualResults={file1:{name:v[0].name,data:He},file2:{name:v[1].name,data:Re}},hi({correlationAnalysis:ye.correlation_analysis,correlationMetadata:ye.metadata,dateDirectionCorrelation:pe});else if(v.length>=3)try{const Pe=await fetch(ft("/api/correlacao"),{method:"POST",body:Se});if(Pe.ok){const Ke=await Pe.json();ee.correlationMatricial=Ke,ee.dateDirectionCorrelation=Ke,hi({correlationMatricial:Ke,dateDirectionCorrelation:Ke}),console.log(`📊 Análise matricial adicionada (${v.length} arquivos)`)}}catch(Pe){console.error("Erro ao chamar API de correlação matricial:",Pe)}pe&&ee&&(ee.dateDirectionCorrelation=pe,console.log(`📅 Correlação data/direção adicionada (${v.length} arquivos)`)),me(`Análise de \${files.length} estratégias: ${v.map(Pe=>Pe.name).join(", ")}`)}catch(ye){console.error("Erro no processamento:",ye)}else{const ye=new FormData;v.forEach(Se=>{ye.append("files",Se)});let pe=null;try{const Se=await fetch(ft("/api/correlacao"),{method:"POST",body:ye});Se.ok&&(pe=await Se.json(),hi({correlationMatricial:pe,dateDirectionCorrelation:pe}),console.log("📊 Correlação matricial obtida para 3+ arquivos"))}catch(Se){console.error("Erro ao chamar API de correlação:",Se)}Q=await fetch(ft("/api/tabela-multipla"),{method:"POST",body:ye});try{const Se=await fetch(ft("/api/disciplina-completa"),{method:"POST",body:ye}),Re=await(await fetch(ft("/api/trades"),{method:"POST",body:ye})).json();if(Se.ok){const Le=await Se.json();Tt(Le)}else console.warn("Failed to fetch emotional data:",Se.status,Se.statusText),Tt(null);const Xe=Array.isArray(Re)?Re:(Re==null?void 0:Re.trades)||[];A(Xe),console.log("🔍 DEBUG - Trades carregados:",Xe.length),Xe.length>0&&console.log("🔍 DEBUG - Primeiro trade:",Xe[0])}catch(Se){console.error("Error fetching emotional data:",Se),Tt(null)}if(!Q.ok)throw new Error(`Erro na API: ${Q.status} ${Q.statusText}`);ee=await Q.json();try{if(ee&&ee.consolidado&&ee.individuais){u(ee.individuais);const Se=ee.consolidado;if(ee=Se,Array.isArray(Se.trades))A(Se.trades);else{const He=[];Object.keys(ee.individuais||{}).forEach(Re=>{const Xe=ee.individuais[Re];Xe&&Array.isArray(Xe.trades)&&He.push(...Xe.trades)}),He.length>0&&A(He)}}else ee&&Array.isArray(ee.trades)&&A(ee.trades)}catch(Se){console.warn("Não foi possível consolidar trades (3+ arquivos):",Se)}pe&&(ee.correlationMatricial=pe,ee.dateDirectionCorrelation=pe),Xr(ee),me(`Análise consolidada de ${v.length} arquivos: ${v.map(Se=>Se.name).join(", ")}`)}if(ee&&!ee.emotionalAnalysis&&(ee.emotionalAnalysis={stopDisciplineIndex:85.7,dailyLossDisciplineIndex:72.3,leverageDisciplineIndex:91.2,furyProbability:8.5}),ee){if(k(ee),E(!1),H(!0),Sa(null),console.log("🔒 CONGELANDO DADOS ORIGINAIS para preservar análises"),!Uc){const ye=qh(ee);qc(ye),console.log("🔒 Métricas congeladas:",ye?Object.keys(ye):"null")}if(!pi){const ye={trades:Array.isArray(L)?L:[]};Vc(ye),console.log("🔒 Trades congelados:",ye.trades.length)}if(!Wc&&lr&&(Fh(lr),console.log("🔒 Dados emocionais congelados")),!Hc&&yn&&(zh(yn),console.log("🔒 Dados de análise congelados")),!js&&Nt&&(Bh(Nt),console.log("🔒 Dados drata congelados")),ee.trades&&ee.trades.length>0){const ye=Array.from(new Set(ee.trades.map(pe=>pe.asset||pe.symbol||"Unknown")));ye.length>0&&ye[0]!=="Unknown"&&_e(ye)}ee.trades&&Xt(ee.trades)}ae(v.map(ye=>ye.name));const Ae=v.length===1?-1e3:v.length===2?-2500:-1500*v.length;await r(Ae)}catch(Q){console.error("Error uploading file:",Q),N(Q instanceof Error?Q.message:"Erro ao processar o arquivo")}finally{b(!1)}},SP=K=>new Promise((Q,ee)=>{const le=new FileReader;le.onload=Ae=>{var ye;(ye=Ae.target)!=null&&ye.result?Q(Ae.target.result):ee(new Error("Failed to read file"))},le.onerror=()=>ee(le.error),le.readAsText(K)}),_P=()=>{y([]),s(null),k(null),N(null),b(!1),me(""),u({}),o([]),c(!0),fe(null),we(null),or(""),A([]),Xt([]),ae([]),_e([]),ka(null),hi(null),qc(null),Vc(null),Fh(null),Uh(null),zh(null),Bh(null)},qh=K=>{if(!K)return{};const Q=K["Performance Metrics"];if(!Q)return{};const ee=K["Day of Week Analysis"],le=K["Monthly Analysis"],Ae={};ee!=null&&ee.Stats&&Object.entries(ee.Stats).forEach(([Pe,Ke])=>{Ae[Pe.toLowerCase()]={trades:Ke.Trades??0,winRate:Ke["Win Rate (%)"]??0,profitFactor:Ke["Profit Factor"]??0}});const ye={};le!=null&&le.Stats&&Object.entries(le.Stats).forEach(([Pe,Ke])=>{ye[Pe.toLowerCase()]={trades:Ke.Trades??0,winRate:Ke["Win Rate (%)"]??0,profitFactor:Ke["Profit Factor"]??0}}),console.log("🔍 convertToMetricsDashboardFormat - Performance Metrics:",{payoff:Q.Payoff,averageWin:Q["Average Win"],averageLoss:Q["Average Loss"],profitFactor:Q["Profit Factor"]});const pe=Q["Total Trades"],Se=Array.isArray(K.trades)?K.trades.length:void 0,He=pe??Se,Re=Q["Win Rate (%)"],Xe=He!==void 0&&Re!==void 0?Math.round(Number(He)*(Number(Re)/100)):void 0,Le=He!==void 0&&Xe!==void 0?Math.max(0,Number(He)-Number(Xe)):void 0;return{profitFactor:Q["Profit Factor"],winRate:Re,payoff:Q.Payoff,maxDrawdown:Q["Max Drawdown (%)"],maxDrawdownAmount:Q["Max Drawdown ($)"],maxDrawdownPadronizado:Q["Max Drawdown Padronizado ($)"]??Q["Max Drawdown ($)"],maxDrawdownPctPadronizado:Q["Max Drawdown Padronizado (%)"]??Q["Max Drawdown (%)"],netProfit:Q["Net Profit"],grossProfit:Q["Gross Profit"],grossLoss:Q["Gross Loss"],totalTrades:He,profitableTrades:Xe,lossTrades:Le,averageWin:Q["Average Win"],averageLoss:Q["Average Loss"],sharpeRatio:Q["Sharpe Ratio"],averageTrade:Q["Net Profit"]!==void 0&&He?Number(Q["Net Profit"])/Number(He||1):void 0,averageTradeDuration:Q["Time in Market"],dayOfWeekAnalysis:Ae,monthlyAnalysis:ye,bestDay:(ee==null?void 0:ee["Best Day"])||null,worstDay:(ee==null?void 0:ee["Worst Day"])||null,bestMonth:(le==null?void 0:le["Best Month"])||null,worstMonth:(le==null?void 0:le["Worst Month"])||null,maxConsecutiveLosses:Q["Max Consecutive Losses"],maxConsecutiveWins:Q["Max Consecutive Wins"],maiorGanho:Q["Max Trade Gain"],maiorPerda:Q["Max Trade Loss"],recoveryFactor:Q["Recovery Factor"]}},CP=K=>{console.log("Metrics received from chat:",K),Fo(K)},PP=async()=>{var K;if(!w){N("Nenhum resultado de backtest disponível para salvar");return}if(Qr)try{const{data:{user:Q}}=await ue.auth.getUser();if(!Q)throw new Error("User not authenticated");const ee={name:(K=bn.find(Ae=>Ae.id===Qr))==null?void 0:K.name,metrics:w,file_name:n==null?void 0:n.name,created_at:new Date().toISOString(),files:v,fileResults:d,individualAnalysisMode:m,showConsolidated:l,trades:L,filteredTrades:rt,tradeSearch:At,emocional:lr,analysisResult:yn,drata:Nt,selectedStrategy:de,selectedAsset:he,csvContent:Y,availableStrategies:ne,availableAssets:je,showMetrics:R,showDailyResults:C,showDailyAnalysis:D,showTrades:$,showEquityCurve:O,showSpecialEvents:W,showCorrelation:J,showEmotionalProfile:z,showStrategySelector:se,showChat:I,showPositionSizing:q,showTradeDuration:X},{error:le}=await ue.from("strategy_analyses").update({analysis_data:ee}).eq("id",Qr);if(le)throw le;ws(Ae=>Ae.map(ye=>{var pe;return ye.id===Qr?{...ye,updatedAt:new Date().toISOString(),backtestResult:w,selectedStrategy:de,selectedAsset:he,csvContent:Y,availableStrategies:ne,availableAssets:je,totalTrades:L.length||((pe=w.trades)==null?void 0:pe.length)||0,files:v,fileResults:d,individualAnalysisMode:m,showConsolidated:l,trades:L,filteredTrades:rt,tradeSearch:At,emocional:lr,analysisResult:yn,drata:Nt,showMetrics:R,showDailyResults:C,showDailyAnalysis:D,showTrades:$,showEquityCurve:O,showSpecialEvents:W,showCorrelation:J,showEmotionalProfile:z,showStrategySelector:se,showChat:I,showPositionSizing:q,showTradeDuration:X}:ye})),$n("Análise atualizada com sucesso!"),setTimeout(()=>$n(null),3e3)}catch(Q){console.error("Error updating analysis:",Q),N("Erro ao atualizar análise")}else zo(!0)},EP=async()=>{var K;if(!(!w||!Qt.trim()))try{const{data:{user:Q}}=await ue.auth.getUser();if(!Q)throw new Error("User not authenticated");const ee={name:Qt.trim(),metrics:w,file_name:n==null?void 0:n.name,created_at:new Date().toISOString(),files:v,fileResults:d,individualAnalysisMode:m,showConsolidated:l,selectedFiles:i,trades:L,filteredTrades:rt,tradeSearch:At,emocional:lr,analysisResult:yn,drata:Nt,selectedStrategy:de,selectedAsset:he,csvContent:Y,availableStrategies:ne,availableAssets:je,showMetrics:R,showDailyResults:C,showDailyAnalysis:D,showTrades:$,showEquityCurve:O,showSpecialEvents:W,showCorrelation:J,showEmotionalProfile:z,showStrategySelector:se,showChat:I,showPositionSizing:q,showTradeDuration:X},{data:le,error:Ae}=await ue.from("strategy_analyses").insert({user_id:Q.id,analysis_data:ee}).select().single();if(Ae)throw Ae;const ye={id:le.id,name:Qt.trim(),createdAt:le.created_at,updatedAt:le.created_at,backtestResult:w,selectedStrategy:de,selectedAsset:he,csvContent:Y,availableStrategies:ne,availableAssets:je,totalTrades:L.length||((K=w.trades)==null?void 0:K.length)||0,files:v,fileResults:d,individualAnalysisMode:m,showConsolidated:l,selectedFiles:i,trades:L,filteredTrades:rt,tradeSearch:At,emocional:lr,analysisResult:yn,drata:Nt,showMetrics:R,showDailyResults:C,showDailyAnalysis:D,showTrades:$,showEquityCurve:O,showSpecialEvents:W,showCorrelation:J,showEmotionalProfile:z,showStrategySelector:se,showChat:I,showPositionSizing:q,showTradeDuration:X};ws(pe=>[...pe,ye]),Sa(ye.id),zo(!1),Bc(""),$n("Relatório salvo com sucesso!"),setTimeout(()=>$n(null),3e3)}catch(Q){console.error("Error saving analysis:",Q),N("Erro ao salvar relatório")}},AP=async K=>{try{if(!K.backtestResult||Object.keys(K.backtestResult).length===0){const{data:Q,error:ee}=await ue.from("strategy_analyses").select("*").eq("id",K.id).single();if(ee)throw ee;if(Q&&Q.analysis_data){const le=Q.analysis_data;k(le.metrics||K.backtestResult),fe(le.selectedStrategy||K.selectedStrategy),we(le.selectedAsset||K.selectedAsset),me(le.csvContent||K.csvContent),ae(le.availableStrategies||K.availableStrategies||[]),_e(le.availableAssets||K.availableAssets||[]),y(le.files||K.files||[]),u(le.fileResults||K.fileResults||{}),h(le.individualAnalysisMode??K.individualAnalysisMode??!1),c(le.showConsolidated??K.showConsolidated??!0),o(le.selectedFiles||K.selectedFiles||[]),A(le.trades||K.trades||[]),Xt(le.filteredTrades||K.filteredTrades||[]),or(le.tradeSearch||K.tradeSearch||""),Tt(le.emocional||K.emocional||null),Fo(le.analysisResult||K.analysisResult||null),Xr(le.drata||K.drata||null),_(le.showMetrics??K.showMetrics??!0),B(le.showDailyResults??K.showDailyResults??!1),T(le.showDailyAnalysis??K.showDailyAnalysis??!0),F(le.showTrades??K.showTrades??!1),V(le.showEquityCurve??K.showEquityCurve??!0),U(le.showSpecialEvents??K.showSpecialEvents??!1),G(le.showCorrelation??K.showCorrelation??!1),Z(le.showEmotionalProfile??K.showEmotionalProfile??!1),M(le.showStrategySelector??K.showStrategySelector??!0),H(le.showChat??K.showChat??!0),P(le.showPositionSizing??K.showPositionSizing??!0),re(le.showTradeDuration??K.showTradeDuration??!0)}}else k(K.backtestResult),fe(K.selectedStrategy),we(K.selectedAsset),me(K.csvContent),ae(K.availableStrategies||[]),_e(K.availableAssets||[]),y(K.files||[]),u(K.fileResults||{}),h(K.individualAnalysisMode??!1),c(K.showConsolidated??!0),o(K.selectedFiles||[]),A(K.trades||[]),Xt(K.filteredTrades||[]),or(K.tradeSearch||""),Tt(K.emocional||null),Fo(K.analysisResult||null),Xr(K.drata||null),_(K.showMetrics??!0),B(K.showDailyResults??!1),T(K.showDailyAnalysis??!0),F(K.showTrades??!1),V(K.showEquityCurve??!0),U(K.showSpecialEvents??!1),G(K.showCorrelation??!1),Z(K.showEmotionalProfile??!1),M(K.showStrategySelector??!0),H(K.showChat??!0),P(K.showPositionSizing??!0),re(K.showTradeDuration??!0);if(K.csvContent&&(!K.files||K.files.length===0))try{const Q=new Blob([K.csvContent],{type:"text/csv"}),ee=new File([Q],`${K.name}.csv`,{type:"text/csv"});y([ee]),s(ee)}catch(Q){console.error("Error creating file from saved content:",Q)}Sa(K.id),E(!1),ys(!1),$n("Relatório carregado com sucesso!"),setTimeout(()=>$n(null),3e3)}catch(Q){console.error("Error loading analysis:",Q),N("Erro ao carregar relatório")}},TP=async K=>{try{const{error:Q}=await ue.from("strategy_analyses").delete().eq("id",K);if(Q)throw Q;ws(ee=>ee.filter(le=>le.id!==K)),Qr===K&&Sa(null),$n("Análise excluída com sucesso"),setTimeout(()=>$n(null),3e3)}catch(Q){console.error("Error deleting analysis:",Q),N("Erro ao excluir análise")}},OP=async()=>{try{Lv(!0),N(null);const{data:{user:K}}=await ue.auth.getUser();if(!K)throw new Error("User not authenticated");const{error:Q}=await ue.from("strategy_analyses").delete().eq("user_id",K.id);if(Q)throw Q;ws([]),Sa(null),$n("Todas as análises foram excluídas com sucesso"),setTimeout(()=>$n(null),3e3)}catch(K){console.error("Error deleting all analyses:",K),N("Erro ao excluir todas as análises")}finally{Lv(!1)}},DP=(K,Q)=>{Ut(K),qt(Q),bs(!0)},MP=async()=>{if(!(!Ot||!_a.trim()))try{if(!bn.find(ye=>ye.id===Ot))return;const{data:Q,error:ee}=await ue.from("strategy_analyses").select("*").eq("id",Ot).single();if(ee)throw ee;const le={...Q.analysis_data,name:_a.trim()},{error:Ae}=await ue.from("strategy_analyses").update({analysis_data:le}).eq("id",Ot);if(Ae)throw Ae;ws(ye=>ye.map(pe=>pe.id===Ot?{...pe,name:_a.trim(),updatedAt:new Date().toISOString()}:pe)),bs(!1),Ut(null),qt("")}catch(K){console.error("Error renaming analysis:",K),N("Erro ao renomear análise")}};g.useEffect(()=>{v.length>0&&o(v.map(K=>K.name))},[v]),g.useEffect(()=>{w&&v.length>1},[i,l,w,v]);const Bv=()=>w?(console.log("✅ Sempre retornando backtestResult original para preservar análises completas"),w):null,RP=()=>l?{mode:"Consolidado",description:`Análise consolidada de ${v.length} arquivo(s)`,fileCount:v.length}:{mode:"Individual",description:`${i.length} arquivo(s) selecionado(s)`,fileCount:i.length},Vh=()=>{o(v.map(K=>K.name)),c(!0),h(!1),fe(null),we(null),or(""),setTimeout(()=>{Uv()},100)},Uv=async()=>{if(Qr){console.log("Skipping reloadFilteredData - loading saved analysis");return}if(v.length===0){console.log("Skipping reloadFilteredData - no files available");return}try{b(!0),N(null);let K,Q;if(l||v.length===1)if(v.length===1){const ee=new FormData;ee.append("file",v[0]),K=await fetch(ft("/api/tabela"),{method:"POST",body:ee})}else{const ee=new FormData;v.forEach(le=>{ee.append("files",le)}),K=await fetch(ft("/api/tabela-multipla"),{method:"POST",body:ee})}else{const ee=v.filter(Ae=>i.includes(Ae.name));if(ee.length===0){k(null),Xt([]);return}const le=new FormData;ee.forEach(Ae=>{le.append("files",Ae)}),K=await fetch(ft("/api/tabela-multipla"),{method:"POST",body:le})}if(!K.ok)throw new Error(`Erro na API: ${K.status} ${K.statusText}`);Q=await K.json(),Q.emotionalAnalysis||(Q.emotionalAnalysis={stopDisciplineIndex:85.7,dailyLossDisciplineIndex:72.3,leverageDisciplineIndex:91.2,furyProbability:8.5}),k(Q)}catch(K){console.error("Error reloading filtered data:",K),N(K instanceof Error?K.message:"Erro ao filtrar dados")}finally{b(!1)}};g.useEffect(()=>{if(!S&&v.length>0&&!Qr&&i.length>0&&i.length!==v.length){const Q=setTimeout(()=>{Uv()},300);return()=>clearTimeout(Q)}},[i,v.length,Qr]);const $P=K=>{console.log("🔍 setSelectedStrategy chamado:",{newValue:K,previousValue:de}),fe(K)};return g.useEffect(()=>{console.log("🔄 selectedStrategy mudou:",de)},[de]),a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(Mn,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Voltar para robôs",children:a.jsx(ya,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Análise de Backtest"}),Qr&&a.jsx("span",{className:"px-2 py-1 bg-green-600 text-green-100 text-xs rounded-full",children:"Salvo"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[!S&&w&&a.jsx("div",{className:"bg-gray-800 rounded-lg p-3 mb-4 border-l-4 border-blue-500",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"text-gray-300",children:[l?`📊 Mostrando análise consolidada de ${v.length} arquivo(s)`:`📁 Mostrando análise de ${i.length} arquivo(s) selecionado(s)`,de&&` | Estratégia: ${de}`,he&&` | Ativo: ${he}`]}),a.jsxs("div",{className:"text-blue-400",children:[((qv=w["Performance Metrics"])==null?void 0:qv["Total Trades"])||0," trades"]})]})}),a.jsxs("button",{onClick:()=>ys(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center",children:[a.jsx(iD,{className:"w-4 h-4 mr-2"}),"Carregar Análise",bn.length>0&&a.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-800 text-blue-100 text-xs rounded-full",children:bn.length})]}),!S&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:PP,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-md flex items-center",children:[a.jsx(rc,{className:"w-4 h-4 mr-2"}),"Salvar Relatório"]}),a.jsx("button",{onClick:_P,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Analisar Outro Arquivo"})]})]})]}),bn.length>0&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-red-900 bg-opacity-20 border border-red-800 rounded-lg p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-red-400 font-medium",children:["Você tem ",bn.length," análises salvas"]}),a.jsx("p",{className:"text-red-300 text-sm",children:"Deseja excluir todas as análises para liberar espaço?"})]})]}),a.jsx("button",{onClick:OP,disabled:Iv,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md flex items-center",children:Iv?a.jsxs(a.Fragment,{children:[a.jsx(ur,{className:"w-4 h-4 mr-2 animate-spin"}),"Excluindo..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ue,{className:"w-4 h-4 mr-2"}),"Excluir Todas"]})})]})}),Fv&&a.jsxs("div",{className:"mb-6 p-3 bg-green-500 bg-opacity-10 border border-green-500 rounded-md flex items-center",children:[a.jsx(ht,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),a.jsx("p",{className:"text-green-500",children:Fv})]}),j&&a.jsxs("div",{className:"mb-6 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),a.jsx("p",{className:"text-red-500",children:j})]}),I&&a.jsx(il,{title:"Chat com IA",description:"Consulte a IA para obter insights detalhados sobre seu backtest. Disponível apenas para usuários PRO.",requiredPlan:"Pro",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:[a.jsx("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:a.jsx("div",{className:"flex items-center",children:a.jsx("h2",{className:"text-lg font-medium",children:"Chat com IA"})})}),a.jsx("div",{className:"p-4 h-[600px]",children:a.jsx(L4,{isAnalyzing:Jr,setIsAnalyzing:Rn,onCancelAnalysis:()=>{},error:oe,setError:ge,analysisResult:Hc||yn,onMetricsReceived:CP,backtestData:w,fileResults:d})})]})}),!S&&a.jsx(s6,{selectedStrategy:de,setSelectedStrategy:$P,selectedAsset:he,setSelectedAsset:we,availableStrategies:ne,availableAssets:je,setShowUploadForm:E,files:v,selectedFiles:i,setSelectedFiles:o,showConsolidated:l,setShowConsolidated:c,onResetFilters:Vh,trades:L,fileResults:d}),S?a.jsx(a6,{files:v,setFiles:y,error:j,isLoading:x,handleFileChange:bP,handleDragOver:wP,handleDrop:jP,handleRemoveFile:NP,handleUpload:kP,fileInputRef:We}):a.jsxs(a.Fragment,{children:[w&&a.jsxs("div",{className:"space-y-6",children:[(()=>{let K;if(l&&d&&Object.keys(d).length>1){console.log("🔧 CALCULANDO MÉTRICAS CONSOLIDADAS PARA EQUITY CURVE SECTION");const Q=[];if(Object.keys(d).forEach(ee=>{const le=d[ee];le&&le.trades&&Array.isArray(le.trades)&&Q.push(...le.trades)}),console.log(`📊 Total de trades coletados para Equity Curve: ${Q.length}`),Q.length>0){const ee=Q.sort(($e,Dt)=>{const Zr=new Date($e.exit_date||$e.entry_date||$e.date),Kc=new Date(Dt.exit_date||Dt.entry_date||Dt.date);return Zr.getTime()-Kc.getTime()});let le=0,Ae=0,ye=0,pe=0,Se=0,He=0,Re=0;ee.forEach($e=>{const Dt=$e.pnl||0;pe+=Dt,Dt>0?(Se+=Dt,Re++):He+=Math.abs(Dt),le+=Dt,le>Ae&&(Ae=le);const Zr=Ae-le;Zr>ye&&(ye=Zr)});const Xe=ee.length,Le=Xe>0?Re/Xe*100:0,Pe=He>0?Se/He:0,Ke=pe/1e5*100;K={resultado:pe,maxDrawdown:ye,maxDrawdownPercent:Ae>0?ye/Ae*100:0,avgDrawdown:0,fatorLucro:Pe,winRate:Le,roi:Ke,pontosComDados:Xe},console.log("✅ MÉTRICAS CONSOLIDADAS CALCULADAS PARA EQUITY CURVE:",{resultado:pe,maxDrawdown:ye,maxDrawdownPercent:Ae>0?ye/Ae*100:0,fatorLucro:Pe,winRate:Le,roi:Ke,totalTrades:Xe})}}return a.jsx(uW,{showEquityCurve:O,setShowEquityCurve:V,selectedStrategy:de,selectedAsset:he,fileResults:d,data:{...js||Nt,recalculatedMetrics:vs},showConsolidated:l,selectedFiles:i,files:v,consolidatedMetrics:K})})(),Object.keys(d).length>0&&a.jsxs("div",{className:"bg-green-900 bg-opacity-20 border border-green-800 rounded-lg p-2 mb-4 text-xs",children:[a.jsxs("p",{className:"text-green-300",children:["🔍 Debug: fileResults com ",Object.keys(d).length," arquivos"]}),a.jsxs("p",{className:"text-green-300",children:["🎯 selectedStrategy: ",de||"null"]}),a.jsxs("p",{className:"text-green-300",children:["📁 Arquivos: ",Object.keys(d).join(", ")]}),a.jsxs("p",{className:"text-green-300",children:["🎛️ availableStrategies: ",ne.join(", ")]}),a.jsxs("p",{className:"text-green-300",children:["📊 showConsolidated: ",l?"true":"false"]}),a.jsxs("p",{className:"text-green-300",children:["📁 selectedFiles: ",i.join(", ")]}),a.jsxs("p",{className:"text-green-300",children:["📁 files: ",v.length," arquivos"]})]}),a.jsx(i6,{sampleTrades:L}),a.jsx(il,{title:"Análise Diár",description:"Acesse análises detalhadas por dia da semana, mês e horário. Disponível apenas para usuários PRO.",requiredPlan:"Pro",children:a.jsx(jW,{showDailyAnalysis:D,setShowDailyAnalysis:T,backtestResult:Bv(),tradesData:{trades:rt.length>0?rt:L},fileResults:d})}),a.jsx("div",{children:(()=>{const K=Uc||qh(w),Q=(vs==null?void 0:vs.metricas_principais)||(Nt==null?void 0:Nt.metricas_principais)||(js==null?void 0:js.metricas_principais);let ee,le;try{if(d&&Object.keys(d).length>0){const $e=um(d);ee=$e==null?void 0:$e.maxDrawdownAbsoluto,le=$e==null?void 0:$e.maxDrawdownPercent}}catch{}const Ae=(v==null?void 0:v.length)===1||d&&Object.keys(d).length===1,ye=w==null?void 0:w["Performance Metrics"],pe=ye?Number(ye["Max Drawdown ($)"]):void 0,Se=pe!==void 0?pe/1e5*100:ye?Number(ye["Max Drawdown (%)"]):void 0,He=Ae?pe:ee??(Q==null?void 0:Q.drawdown_maximo)??(K==null?void 0:K.maxDrawdownAmount),Re=Ae?Se:le??(Q==null?void 0:Q.drawdown_maximo_pct)??(K==null?void 0:K.maxDrawdown),Le=($e=>{if(!$e||$e.length===0)return;const Dt=new Map;$e.forEach(gi=>{const xi=new Date(gi.entry_date).toISOString().split("T")[0],FP=Dt.get(xi)||0;Dt.set(xi,FP+(gi.pnl||0))});const Zr=Array.from(Dt.values());if(Zr.length===0)return;const Kc=Zr.reduce((gi,xi)=>gi+xi,0)/Zr.length,IP=Zr.reduce((gi,xi)=>gi+Math.pow(xi-Kc,2),0)/Zr.length,Vv=Math.sqrt(IP),LP=.12/365;return Vv<=0?0:(Kc-LP)/Vv})(Array.isArray(L)?L:[]),Pe=Re,Ke={...K,sharpeRatio:(Le!==void 0?Le:Q==null?void 0:Q.sharpe_ratio)??(K==null?void 0:K.sharpeRatio),recoveryFactor:(Q==null?void 0:Q.fator_recuperacao)??(K==null?void 0:K.recoveryFactor),maxDrawdownAmount:He,maxDrawdown:Pe};return a.jsx(I4,{metrics:Ke,tradeObject:{trades:Array.isArray(L)?L:[]},showTitle:!0})})()}),Object.keys(d).length>1&&a.jsx(kW,{fileResults:d,showIndividualResults:f,setShowIndividualResults:p}),a.jsx(il,{title:"Perfil Emocional",description:"Analise seu perfil emocional de trading com métricas de disciplina e controle. Disponível apenas para usuários PRO.",requiredPlan:"Pro",children:a.jsx(vW,{emotionalMetrics:Wc||lr,showEmotionalProfile:z,setShowEmotionalProfile:Z})}),a.jsx(il,{title:"Eventos Especiais",description:"Analise o impacto de eventos econômicos em seus resultados. Disponível apenas para usuários PRO.",requiredPlan:"Pro",children:a.jsx(hW,{showSpecialEvents:W,setShowSpecialEvents:U,tadesData:Ns||pi||{trades:Array.isArray(L)?L:[]}})}),a.jsx(_W,{showPositionSizing:q,setShowPositionSizing:P,backtestResult:Ns||pi||{trades:Array.isArray(L)?L:[]}}),console.log("🔍 DEBUG - PositionSizing recebendo dados consolidados congelados:",Ns?Ns.trades.length:pi?pi.trades.length:L.length),a.jsx(CW,{showTradeDuration:X,setShowTradeDuration:re,backtestResult:Ns||pi||{trades:Array.isArray(L)?L:[]}})]}),a.jsx("div",{className:"mb-8"}),a.jsx(il,{title:"Análise de Correlação",description:"Compare a correlação entre diferentes estratégias para otimizar seu portfólio. Disponível apenas para usuários PRO.",requiredPlan:"Pro",children:a.jsx(fW,{showCorrelation:J,setShowCorrelation:G,backtestResult:Fc||w,fileResults:d,onResetCorrelation:Vh,isUsingOriginalData:!!Fc})}),v.length>0&&a.jsx(SW,{...RP(),files:v,selectedFiles:i,backtestResult:Bv(),onReset:Vh})]})]}),a.jsx(pW,{showSaveModal:fi,setShowSaveModal:zo,saveName:Qt,setSaveName:Bc,confirmSaveAnalysis:EP}),a.jsx(gW,{showLoadModal:Bo,setShowLoadModal:ys,savedAnalyses:bn,handleRenameAnalysis:DP,handleLoadAnalysis:AP,handleDeleteAnalysis:TP}),a.jsx(xW,{showRenameModal:zc,setShowRenameModal:bs,renameName:_a,setRenameName:qt,confirmRenameAnalysis:MP,setRenameAnalysisId:Ut})]})}const yP=e=>new Promise(t=>setTimeout(t,e));async function EW(e,t=3,r=1e3){var s,i;let n=0;for(;n<t;)try{return await e()}catch(o){if(n++,n>=t)throw o;const l=o instanceof Error&&"response"in o&&((i=(s=o.response)==null?void 0:s.headers)==null?void 0:i["retry-after"]),c=l?parseInt(l)*1e3:r*Math.pow(2,n-1);await yP(c)}throw new Error("Max retries reached")}function xj(e){console.log("Extracting structured data from text:",e);const t={summary:"",marketConditions:{bestFor:[],worstFor:[]},riskAnalysis:{riskLevel:"Médio",keyRisks:[],mitigationStrategies:[]},optimizationSuggestions:[],tradingPlan:{entryRules:[],exitRules:[],positionSizing:"",timeManagement:""}},r=e.match(/resumo:?\s*([\s\S]*?)(?=condições|mercado|$)/i);if(r&&r[1])t.summary=r[1].trim();else{const f=e.split(`

`)[0];f&&(t.summary=f.trim())}const n=e.match(/melhores\s*condições|condições\s*ideais|mercados?\s*ideais?:?\s*([\s\S]*?)(?=piores|condições\s*ruins|$)/i);if(n&&n[1]){const f=n[1].match(/[-•*]\s*([^\n]+)/g);if(f)t.marketConditions.bestFor=f.map(p=>p.replace(/[-•*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=n[1].split(`
`).filter(v=>v.trim().length>0);p.length>0&&(t.marketConditions.bestFor=p.map(v=>v.trim()))}}const s=e.match(/piores\s*condições|condições\s*ruins|mercados?\s*ruins?:?\s*([\s\S]*?)(?=análise|risco|$)/i);if(s&&s[1]){const f=s[1].match(/[-•*]\s*([^\n]+)/g);if(f)t.marketConditions.worstFor=f.map(p=>p.replace(/[-•*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=s[1].split(`
`).filter(v=>v.trim().length>0);p.length>0&&(t.marketConditions.worstFor=p.map(v=>v.trim()))}}const i=e.match(/nível\s*de\s*risco:?\s*([^\n,\.]+)/i);i&&i[1]&&(t.riskAnalysis.riskLevel=i[1].trim());const o=e.match(/riscos?\s*principais?|principais\s*riscos?:?\s*([\s\S]*?)(?=estratégias?|mitigação|$)/i);if(o&&o[1]){const f=o[1].match(/[-•*]\s*([^\n]+)/g);if(f)t.riskAnalysis.keyRisks=f.map(p=>p.replace(/[-•*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=o[1].split(`
`).filter(v=>v.trim().length>0);p.length>0&&(t.riskAnalysis.keyRisks=p.map(v=>v.trim()))}}const l=e.match(/estratégias?\s*de\s*mitigação|mitigação\s*de\s*riscos?:?\s*([\s\S]*?)(?=sugestões|otimização|$)/i);if(l&&l[1]){const f=l[1].match(/[-•*]\s*([^\n]+)/g);if(f)t.riskAnalysis.mitigationStrategies=f.map(p=>p.replace(/[-•*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=l[1].split(`
`).filter(v=>v.trim().length>0);p.length>0&&(t.riskAnalysis.mitigationStrategies=p.map(v=>v.trim()))}}const c=e.match(/sugestões\s*de\s*otimização|otimização|melhorias:?\s*([\s\S]*?)(?=plano|trading|$)/i);if(c&&c[1]){const f=c[1].match(/[-•*]\s*([^\n]+)/g);if(f)t.optimizationSuggestions=f.map(p=>p.replace(/[-•*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=c[1].split(`
`).filter(v=>v.trim().length>0);p.length>0&&(t.optimizationSuggestions=p.map(v=>v.trim()))}}const d=e.match(/regras?\s*de\s*entrada:?\s*([\s\S]*?)(?=regras?\s*de\s*saída|$)/i);if(d&&d[1]){const f=d[1].match(/[-•*]\s*([^\n]+)/g);if(f)t.tradingPlan.entryRules=f.map(p=>p.replace(/[-•*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=d[1].split(`
`).filter(v=>v.trim().length>0);p.length>0&&(t.tradingPlan.entryRules=p.map(v=>v.trim()))}}const u=e.match(/regras?\s*de\s*saída:?\s*([\s\S]*?)(?=dimensionamento|posição|$)/i);if(u&&u[1]){const f=u[1].match(/[-•*]\s*([^\n]+)/g);if(f)t.tradingPlan.exitRules=f.map(p=>p.replace(/[-•*]\s*/,"").trim()).filter(p=>p.length>0);else{const p=u[1].split(`
`).filter(v=>v.trim().length>0);p.length>0&&(t.tradingPlan.exitRules=p.map(v=>v.trim()))}}const m=e.match(/dimensionamento\s*de\s*posição|tamanho\s*de\s*posição|position\s*sizing:?\s*([^\n]+)/i);m&&m[1]&&(t.tradingPlan.positionSizing=m[1].trim());const h=e.match(/gerenciamento\s*de\s*tempo|horários:?\s*([^\n]+)/i);return h&&h[1]&&(t.tradingPlan.timeManagement=h[1].trim()),t.summary||(t.summary="Estratégia com potencial para ser otimizada"),t.marketConditions.bestFor.length===0&&(t.marketConditions.bestFor=["Mercados em tendência","Volatilidade moderada"]),t.marketConditions.worstFor.length===0&&(t.marketConditions.worstFor=["Mercados lateralizados","Volatilidade extrema"]),t.riskAnalysis.keyRisks.length===0&&(t.riskAnalysis.keyRisks=["Drawdown em períodos de alta volatilidade","Falsos sinais em mercados lateralizados"]),t.riskAnalysis.mitigationStrategies.length===0&&(t.riskAnalysis.mitigationStrategies=["Implementar stop loss adequado","Filtrar sinais com indicadores adicionais"]),t.optimizationSuggestions.length===0&&(t.optimizationSuggestions=["Otimizar parâmetros dos indicadores","Adicionar filtros para reduzir falsos sinais"]),t.tradingPlan.entryRules.length===0&&(t.tradingPlan.entryRules=["Entrar quando houver confirmação de tendência","Verificar volume antes de entrar"]),t.tradingPlan.exitRules.length===0&&(t.tradingPlan.exitRules=["Sair quando o preço atingir o alvo de lucro","Sair quando o stop loss for atingido"]),t.tradingPlan.positionSizing||(t.tradingPlan.positionSizing="Aplicar regra de 2% de risco por trade: Position Size = Account Risk ÷ Trade Risk. Máximo 1% de risco por operação para gestão conservadora."),t.tradingPlan.timeManagement||(t.tradingPlan.timeManagement="Operar nos horários de maior liquidez do mercado"),t}function AW(){const e=jt(),{profile:t,updateTokenBalance:r}=Pt(),[n,s]=g.useState(""),[i,o]=g.useState(!1),[l,c]=g.useState(null),[d,u]=g.useState(null),[m,h]=g.useState(!0),[f,p]=g.useState(!0),[v,y]=g.useState(!0),[x,b]=g.useState(!0),[j,N]=g.useState(0),[w,k]=g.useState([]),[S,E]=g.useState(!1),[R,_]=g.useState(!0),[C,B]=g.useState(!1),[D,T]=g.useState(null),[$,F]=g.useState(null),[L,A]=g.useState(0);g.useEffect(()=>{O()},[]),g.useEffect(()=>{let M=null;return i&&$?M=setInterval(()=>{const I=Math.floor((Date.now()-$)/1e3);A(I)},1e3):i||(A(0),F(null)),()=>{M&&clearInterval(M)}},[i,$]);const O=async()=>{try{E(!0);const{data:M,error:I}=await ue.from("strategy_analyses").select("*").order("created_at",{ascending:!1}).limit(5);if(I)throw I;k(M||[])}catch(M){console.error("Error loading saved analyses:",M)}finally{E(!1)}},V=async()=>{var I;if(!n.trim()){c("Por favor, descreva sua estratégia antes de analisar.");return}o(!0),c(null),B(!0),F(Date.now());const M=setTimeout(()=>{i&&(c("A análise demorou muito tempo e foi cancelada. A API OpenAI pode estar sobrecarregada. Por favor, tente novamente mais tarde."),o(!1))},12e4);T(M);try{if(((t==null?void 0:t.token_balance)||0)<1e3){c("Saldo de tokens insuficiente. Esta análise requer 1000 tokens. Clique no contador de tokens para comprar mais."),o(!1),clearTimeout(M),T(null);return}const q=void 0;if(!q)throw new Error("Assistant ID não configurado.");const P=await openai.beta.threads.create();await openai.beta.threads.messages.create(P.id,{role:"user",content:`Analise a seguinte estratégia de trading e forneça uma análise detalhada, incluindo condições de mercado ideais, análise de risco, sugestões de otimização e um plano de trading estruturado.

Estratégia:
${n}

Por favor, forneça uma análise estruturada com seções claras para:
1. Resumo da estratégia
2. Condições de mercado ideais e ruins
3. Análise de risco (nível, riscos principais, estratégias de mitigação)
4. Sugestões de otimização
5. Plano de trading (regras de entrada, regras de saída, dimensionamento de posição, gerenciamento de tempo)

IMPORTANTE sobre Position Sizing:
- Aplique a regra de 2% de risco por trade: Position Size = Account Risk ÷ Trade Risk
- Recomende máximo 1% de risco por operação para gestão conservadora
- Considere o tipo de ativo (ações vs futuros) para determinar o tamanho da posição
- Inclua considerações sobre leverage e margem

NÃO retorne um objeto JSON. Apenas forneça uma análise de texto clara e bem estruturada com seções.`});const X=await openai.beta.threads.runs.create(P.id,{assistant_id:q});let re;do if(await yP(1e3),re=await openai.beta.threads.runs.retrieve(P.id,X.id),console.log(`Run status: ${re.status}`),re.status==="failed")throw new Error("Analysis run failed: "+(((I=re.last_error)==null?void 0:I.message)||"Unknown error"));while(re.status!=="completed");const fe=(await openai.beta.threads.messages.list(P.id)).data.find(Y=>Y.role==="assistant");if(!fe)throw new Error("No response from assistant");const he=fe.content[0];if(he.type!=="text")throw new Error("Unexpected response format");const we=he.text.value;console.log("Received text content:",we);try{const Y=xj(we);u(Y),await G(Y),await r(-1e3)}catch(Y){throw console.error("Error parsing response:",Y),new Error(`Erro ao processar a resposta da análise: ${Y.message}`)}}catch(H){console.error("Error analyzing strategy:",H);const q=H instanceof Error?H.message:"Erro ao analisar a estratégia.";c(q),q.includes("Rate limit")&&N(P=>P+1)}finally{o(!1),D&&(clearTimeout(D),T(null))}},W=async()=>{if(!n.trim()){c("Por favor, descreva sua estratégia antes de analisar.");return}o(!0),c(null),B(!0),F(Date.now());const M=setTimeout(()=>{i&&(c("A análise demorou muito tempo e foi cancelada. A API OpenAI pode estar sobrecarregada. Por favor, tente novamente mais tarde."),o(!1))},12e4);T(M);try{if(((t==null?void 0:t.token_balance)||0)<1e3){c("Saldo de tokens insuficiente. Esta análise requer 1000 tokens. Clique no contador de tokens para comprar mais."),o(!1),clearTimeout(M),T(null);return}const H=`
Analise a seguinte estratégia de trading e forneça uma análise detalhada, incluindo condições de mercado ideais, análise de risco, sugestões de otimização e um plano de trading estruturado.

Estratégia:
${n}

Por favor, forneça uma análise estruturada com seções claras para:
1. Resumo da estratégia
2. Condições de mercado ideais e ruins
3. Análise de risco (nível, riscos principais, estratégias de mitigação)
4. Sugestões de otimização
5. Plano de trading (regras de entrada, regras de saída, dimensionamento de posição, gerenciamento de tempo)

IMPORTANTE sobre Position Sizing:
- Aplique a regra de 2% de risco por trade: Position Size = Account Risk ÷ Trade Risk
- Recomende máximo 1% de risco por operação para gestão conservadora
- Considere o tipo de ativo (ações vs futuros) para determinar o tamanho da posição
- Inclua considerações sobre leverage e margem

NÃO retorne um objeto JSON. Apenas forneça uma análise de texto clara e bem estruturada com seções.`,P=(await EW(async()=>{var X,re;try{const de=await openai.chat.completions.create({model:"gpt-4",messages:[{role:"assistant",content:"Você é um especialista em análise de estratégias de trading. Forneça análises detalhadas e estruturadas."},{role:"user",content:H}],temperature:.2});return N(0),de}catch(de){if(console.error("OpenAI API error:",de),de.status===429){const fe=((re=(X=de.response)==null?void 0:X.headers)==null?void 0:re["retry-after"])||8;throw new Error(`Rate limit atingido. Tentando novamente em ${fe} segundos...`)}throw de}},3,2e3)).choices[0].message.content;if(!P)throw new Error("Resposta vazia da API.");console.log("OpenAI response content:",P);try{const X=xj(P);u(X),await G(X),await r(-1e3)}catch(X){throw console.error("Error parsing response:",X),new Error(`Erro ao processar a resposta da análise: ${X.message}`)}}catch(I){console.error("Error analyzing strategy:",I);const H=I instanceof Error?I.message:"Erro ao analisar a estratégia.";c(H),H.includes("Rate limit")&&N(q=>q+1)}finally{o(!1),D&&(clearTimeout(D),T(null))}},U=async()=>{R?await V():await W()},J=()=>{D&&(clearTimeout(D),T(null)),o(!1),c("Análise cancelada pelo usuário.")},G=async M=>{try{const{data:{user:I}}=await ue.auth.getUser();if(!I)return;const{error:H}=await ue.from("strategy_analyses").insert({user_id:I.id,analysis_data:M});if(H)throw H;await O()}catch(I){console.error("Error saving analysis to database:",I)}},z=()=>{if(!d)return;const M=`
# Análise de Estratégia de Trading

## Resumo
${d.summary}

## Condições de Mercado
### Melhores Condições
${d.marketConditions.bestFor.map(P=>`- ${P}`).join(`
`)}

### Piores Condições
${d.marketConditions.worstFor.map(P=>`- ${P}`).join(`
`)}

## Análise de Risco
Nível de Risco: ${d.riskAnalysis.riskLevel}

### Riscos Principais
${d.riskAnalysis.keyRisks.map(P=>`- ${P}`).join(`
`)}

### Estratégias de Mitigação
${d.riskAnalysis.mitigationStrategies.map(P=>`- ${P}`).join(`
`)}

## Sugestões de Otimização
${d.optimizationSuggestions.map(P=>`- ${P}`).join(`
`)}

## Plano de Trading
### Regras de Entrada
${d.tradingPlan.entryRules.map(P=>`- ${P}`).join(`
`)}

### Regras de Saída
${d.tradingPlan.exitRules.map(P=>`- ${P}`).join(`
`)}

### Dimensionamento de Posição
${d.tradingPlan.positionSizing}

### Gerenciamento de Tempo
${d.tradingPlan.timeManagement}

Relatório gerado em: ${new Date().toLocaleString()}
`,I=new Blob([M],{type:"text/plain"}),H=URL.createObjectURL(I),q=document.createElement("a");q.href=H,q.download="analise-estrategia.txt",document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(H)},Z=M=>{const I=M.toLowerCase();return I.includes("alto")||I.includes("elevado")?a.jsx("span",{className:"text-red-400",children:"Alto - Recomendado para traders experientes"}):I.includes("médio")||I.includes("moderado")?a.jsx("span",{className:"text-yellow-400",children:"Médio - Adequado para traders intermediários"}):I.includes("baixo")?a.jsx("span",{className:"text-green-400",children:"Baixo - Adequado para iniciantes"}):a.jsx("span",{children:M})},se=M=>{u(M),B(!0)};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(Mn,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/robots"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:"Voltar para robôs",children:a.jsx(ya,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Análise de Estratégia"})]}),i&&a.jsxs("div",{className:"flex items-center bg-blue-900 bg-opacity-20 px-4 py-2 rounded-md",children:[a.jsx(ur,{className:"w-4 h-4 mr-2 animate-spin text-blue-400"}),a.jsxs("span",{className:"text-blue-300",children:["Analisando... ",L,"s"]})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Usar Assistente:"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:R,onChange:()=>_(!R),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[a.jsx(Tn,{className:"w-5 h-5 text-blue-400 mr-2"}),"Descreva sua Estratégia"]}),a.jsx("textarea",{value:n,onChange:M=>s(M.target.value),placeholder:"Descreva sua estratégia de trading em detalhes. Inclua informações sobre indicadores utilizados, regras de entrada e saída, gerenciamento de risco, timeframes, etc.",className:"w-full h-64 bg-gray-700 border border-gray-600 rounded-lg p-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),l&&!C&&a.jsxs("div",{className:"mt-4 p-3 bg-red-500 bg-opacity-10 border border-red-500 rounded-md flex items-center text-red-500",children:[a.jsx(it,{className:"w-5 h-5 mr-2 flex-shrink-0"}),a.jsx("p",{children:l}),l.includes("Rate limit")&&a.jsxs("p",{className:"text-sm mt-1",children:["Tentativa ",j,"/3. Aguarde alguns segundos e tente novamente."]})]}),a.jsx("button",{onClick:U,disabled:!n.trim()||i,className:`w-full mt-4 py-2 rounded-md flex items-center justify-center ${!n.trim()||i?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:i?a.jsxs(a.Fragment,{children:[a.jsx(ur,{className:"w-5 h-5 mr-2 animate-spin"}),"Analisando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Zs,{className:"w-5 h-5 mr-2"}),"Analisar Estratégia"]})}),a.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Esta análise consumirá 1000 tokens"})]}),w.length>0&&a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[a.jsx(tc,{className:"w-5 h-5 text-blue-400 mr-2"}),"Análises Recentes"]}),a.jsx("div",{className:"space-y-3",children:w.map((M,I)=>a.jsxs("button",{onClick:()=>se(M.analysis_data),className:"w-full p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left flex items-center",children:[a.jsx(Tn,{className:"w-5 h-5 text-blue-400 mr-3 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"font-medium truncate",children:["Análise ",I+1]}),a.jsx("p",{className:"text-xs text-gray-400",children:new Date(M.created_at).toLocaleString()})]})]},I))})]}),C&&a.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden h-[500px] mb-6",children:a.jsx(L4,{isAnalyzing:i,setIsAnalyzing:o,onCancelAnalysis:J,error:l,setError:c,analysisResult:d})}),!C&&a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[a.jsx(k4,{className:"w-5 h-5 text-yellow-400 mr-2"}),"Dicas para Descrição"]}),a.jsxs("div",{className:"space-y-4 text-gray-300",children:[a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"Inclua os Indicadores"}),a.jsx("p",{className:"text-sm",children:"Descreva quais indicadores técnicos sua estratégia utiliza (ex: médias móveis, RSI, Bollinger Bands)."})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"Regras de Entrada e Saída"}),a.jsx("p",{className:"text-sm",children:"Explique claramente o que dispara suas entradas e saídas no mercado."})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"Gerenciamento de Risco"}),a.jsx("p",{className:"text-sm",children:"Detalhe como você define stop loss, take profit e tamanho das posições."})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"Timeframes e Mercados"}),a.jsx("p",{className:"text-sm",children:"Mencione em quais timeframes e mercados você aplica esta estratégia."})]}),a.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"Filtros e Condições"}),a.jsx("p",{className:"text-sm",children:"Descreva quaisquer filtros ou condições especiais que você usa para melhorar a qualidade dos sinais."})]})]})]})]}),a.jsx("div",{className:"lg:col-span-2",children:d?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[a.jsx(Tn,{className:"w-5 h-5 text-blue-400 mr-2"}),"Resumo da Estratégia"]}),a.jsx("p",{className:"text-gray-300",children:d.summary})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[a.jsx(bt,{className:"w-5 h-5 text-blue-400 mr-2"}),"Condições de Mercado"]}),a.jsx("button",{onClick:()=>h(!m),className:"p-1.5 hover:bg-gray-700 rounded-md",children:m?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]}),m&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-medium mb-2 text-green-400",children:"Melhores Condições"}),a.jsx("ul",{className:"space-y-1.5",children:d.marketConditions.bestFor.map((M,I)=>a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx(ht,{className:"w-4 h-4 text-green-500 mr-1.5 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:M})]},I))})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-medium mb-2 text-red-400",children:"Piores Condições"}),a.jsx("ul",{className:"space-y-1.5",children:d.marketConditions.worstFor.map((M,I)=>a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx(it,{className:"w-4 h-4 text-red-500 mr-1.5 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:M})]},I))})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[a.jsx(it,{className:"w-5 h-5 text-yellow-500 mr-2"}),"Análise de Risco"]}),a.jsx("button",{onClick:()=>p(!f),className:"p-1.5 hover:bg-gray-700 rounded-md",children:f?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]}),f&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Nível de Risco"}),a.jsx("div",{className:`inline-block px-2 py-1 rounded-full text-sm font-medium ${d.riskAnalysis.riskLevel.toLowerCase().includes("alto")?"bg-red-500 bg-opacity-20 text-red-400":d.riskAnalysis.riskLevel.toLowerCase().includes("médio")?"bg-yellow-500 bg-opacity-20 text-yellow-400":"bg-green-500 bg-opacity-20 text-green-400"}`,children:Z(d.riskAnalysis.riskLevel)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Riscos Principais"}),a.jsx("ul",{className:"space-y-2",children:d.riskAnalysis.keyRisks.map((M,I)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(it,{className:"w-5 h-5 text-yellow-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:M})]},I))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Estratégias de Mitigação"}),a.jsx("ul",{className:"space-y-2",children:d.riskAnalysis.mitigationStrategies.map((M,I)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(ht,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:M})]},I))})]})]})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[a.jsx(Fe,{className:"w-5 h-5 text-purple-400 mr-2"}),"Sugestões de Otimização"]}),a.jsx("button",{onClick:()=>y(!v),className:"p-1.5 hover:bg-gray-700 rounded-md",children:v?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]}),v&&a.jsx("div",{className:"space-y-3",children:d.optimizationSuggestions.map((M,I)=>a.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"bg-purple-600 rounded-full w-6 h-6 flex items-center justify-center text-white font-medium mr-3 flex-shrink-0",children:I+1}),a.jsx("p",{children:M})]})},I))})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[a.jsx(tc,{className:"w-5 h-5 text-blue-400 mr-2"}),"Plano de Trading"]}),a.jsx("button",{onClick:()=>b(!x),className:"p-1.5 hover:bg-gray-700 rounded-md",children:x?a.jsx(tt,{className:"w-5 h-5 text-gray-400"}):a.jsx(ze,{className:"w-5 h-5 text-gray-400"})})]}),x&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Regras de Entrada"}),a.jsx("ul",{className:"space-y-2",children:d.tradingPlan.entryRules.map((M,I)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"bg-green-600 rounded-full w-6 h-6 flex items-center justify-center text-white font-medium mr-2 flex-shrink-0",children:I+1}),a.jsx("span",{children:M})]},I))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Regras de Saída"}),a.jsx("ul",{className:"space-y-2",children:d.tradingPlan.exitRules.map((M,I)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"bg-red-600 rounded-full w-6 h-6 flex items-center justify-center text-white font-medium mr-2 flex-shrink-0",children:I+1}),a.jsx("span",{children:M})]},I))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Dimensionamento de Posição"}),a.jsx("p",{children:d.tradingPlan.positionSizing})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Gerenciamento de Tempo"}),a.jsx("p",{children:d.tradingPlan.timeManagement})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[a.jsxs("button",{onClick:z,className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md flex items-center justify-center",children:[a.jsx(li,{className:"w-5 h-5 mr-2"}),"Baixar Relatório"]}),a.jsxs("button",{onClick:()=>{e("/robots")},className:"flex-1 py-2 px-4 bg-green-600 hover:bg-green-700 rounded-md flex items-center justify-center",children:[a.jsx(uo,{className:"w-5 h-5 mr-2"}),"Consultar IA para Melhorias"]})]})]}):a.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 flex flex-col items-center justify-center text-center h-full",children:[a.jsx(Zs,{className:"w-16 h-16 text-gray-600 mb-4"}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Nenhuma análise disponível"}),a.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:"Descreva sua estratégia de trading para receber uma análise detalhada e recomendações personalizadas."})]})})]})]})]})}function TW(){const e=jt(),t=[{id:"free",name:"Free",price:"R$ 0,00",description:"Ideal para iniciantes explorarem a plataforma",features:["Até 5 robôs de trading","100 tokens iniciais","Acesso à comunidade","Documentação completa","Suporte básico"],popular:!1,cta:"Começar Grátis"},{id:"pro1",name:"PRO 1",price:"R$ 259,80/mês",description:"Para traders que estão começando a automatizar",features:["Até 25 robôs de trading","5.000 tokens mensais","Análise de backtest básica","Acesso à comunidade","Suporte por email"],popular:!1,cta:"Escolher Plano"},{id:"pro2",name:"PRO 2",price:"R$ 499,80/mês",description:"Para traders sérios que buscam resultados",features:["Até 100 robôs de trading","12.500 tokens mensais","Análise de backtest avançada","Suporte prioritário","Acesso a indicadores exclusivos","API para integração"],popular:!0,cta:"Escolher Plano"},{id:"pro3",name:"PRO 3",price:"R$ 999,80/mês",description:"Para traders profissionais e equipes",features:["Robôs ilimitados","30.000 tokens mensais","Análise de backtest avançada","Suporte dedicado","Acesso a todos os recursos","API para integração","Opções de white-label"],popular:!1,cta:"Escolher Plano"}],r=[{tokens:"2.500",price:"R$ 99,80",popular:!1},{tokens:"7.500",price:"R$ 259,80",popular:!0},{tokens:"25.000",price:"R$ 799,80",popular:!1}],n=()=>{e("/?signup=true")},s=()=>{const o=encodeURIComponent("Olá vim do DevHub Trader e quero mais informações sobre os planos");window.open(`https://wa.me/5511975333355?text=${o}`,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx("nav",{className:"border-b border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>e("/"),children:[a.jsx(ot,{className:"w-8 h-8 text-blue-500"}),a.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"DevHub Trader"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/?login=true"),className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Entrar"}),a.jsxs("button",{onClick:()=>e("/?signup=true"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center",children:["Cadastrar ",a.jsx(Wd,{className:"w-4 h-4 ml-2"})]})]})]})})}),a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Planos para Todos os Perfis de Trader"}),a.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Escolha o plano ideal para suas necessidades de trading automatizado e comece a criar robôs com assistência de IA hoje mesmo."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx("button",{onClick:n,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md font-medium text-lg",children:"Começar Gratuitamente"}),a.jsx("button",{onClick:s,className:"px-6 py-3 bg-white text-blue-900 hover:bg-gray-100 rounded-md font-medium text-lg",children:"Falar com Especialista"})]})]})}),a.jsx("div",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Nossos Planos"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Escolha o plano que melhor se adapta às suas necessidades de trading"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(i=>a.jsxs("div",{className:`bg-gray-800 rounded-lg overflow-hidden ${i.popular?"ring-2 ring-blue-500 transform scale-105 z-10":""}`,children:[i.popular&&a.jsx("div",{className:"bg-blue-600 text-center py-2",children:a.jsx("p",{className:"text-sm font-medium",children:"Mais Popular"})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold",children:i.name}),i.id==="pro2"&&a.jsx(Wn,{className:"w-5 h-5 text-yellow-500"}),i.id==="pro3"&&a.jsx(ei,{className:"w-5 h-5 text-purple-500"}),i.id==="free"&&a.jsx(Kn,{className:"w-5 h-5 text-green-500"}),i.id==="pro1"&&a.jsx(Fe,{className:"w-5 h-5 text-blue-500"})]}),a.jsx("p",{className:"text-2xl font-bold mb-2",children:i.price}),a.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:i.description}),a.jsx("ul",{className:"space-y-3 mb-6",children:i.features.map((o,l)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(ht,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0"}),a.jsx("span",{children:o})]},l))}),a.jsx("button",{onClick:i.id==="free"?n:s,className:`w-full py-2 rounded-md ${i.popular?"bg-blue-600 hover:bg-blue-700":"bg-gray-700 hover:bg-gray-600"}`,children:i.cta})]})]},i.id))})]})}),a.jsx("div",{className:"py-16 bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pacotes de Tokens"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Recarregue seus tokens para continuar utilizando os recursos de IA"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:r.map((i,o)=>a.jsxs("div",{className:`bg-gray-800 rounded-lg overflow-hidden ${i.popular?"ring-2 ring-yellow-500":""}`,children:[i.popular&&a.jsx("div",{className:"bg-yellow-600 text-center py-2",children:a.jsx("p",{className:"text-sm font-medium",children:"Melhor Custo-Benefício"})}),a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Fe,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:i.tokens}),a.jsx("p",{className:"text-gray-400 mb-2",children:"tokens"}),a.jsx("p",{className:"text-xl font-bold mb-6",children:i.price}),a.jsx("button",{onClick:s,className:`w-full py-2 rounded-md ${i.popular?"bg-yellow-600 hover:bg-yellow-700":"bg-gray-700 hover:bg-gray-600"}`,children:"Comprar Tokens"})]})]},o))})]})}),a.jsx("div",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"O Que Você Pode Fazer"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Conheça os recursos disponíveis em nossa plataforma"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-blue-600 rounded-full p-3 mr-4",children:a.jsx(ot,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Criação com IA"})]}),a.jsx("p",{className:"text-gray-300",children:"Crie robôs de trading com assistência de IA. Descreva sua estratégia e deixe a IA fazer o código."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-green-600 rounded-full p-3 mr-4",children:a.jsx(Jt,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Análise de Backtest"})]}),a.jsx("p",{className:"text-gray-300",children:"Analise seus resultados de backtest com métricas avançadas e insights de IA para melhorar performance."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-purple-600 rounded-full p-3 mr-4",children:a.jsx(_u,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Otimização com IA"})]}),a.jsx("p",{className:"text-gray-300",children:"Otimize suas estratégias existentes com sugestões de IA para melhor gerenciamento de risco e retornos."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-yellow-600 rounded-full p-3 mr-4",children:a.jsx(Kn,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Colaboração em Tempo Real"})]}),a.jsx("p",{className:"text-gray-300",children:"Colabore com sua equipe em tempo real no desenvolvimento de robôs, com controle de versão integrado."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-red-600 rounded-full p-3 mr-4",children:a.jsx(uo,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Suporte Especializado"})]}),a.jsx("p",{className:"text-gray-300",children:"Receba suporte de especialistas em trading e desenvolvimento para tirar suas dúvidas e resolver problemas."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-indigo-600 rounded-full p-3 mr-4",children:a.jsx(Wn,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Recursos Premium"})]}),a.jsx("p",{className:"text-gray-300",children:"Acesse recursos exclusivos como indicadores personalizados, análise de mercado e estratégias avançadas."})]})]})]})}),a.jsx("div",{className:"py-16 bg-gray-900",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Perguntas Frequentes"}),a.jsx("p",{className:"text-xl text-gray-400",children:"Tire suas dúvidas sobre nossos planos e serviços"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-medium mb-3",children:"O que são tokens e como funcionam?"}),a.jsx("p",{className:"text-gray-300",children:"Tokens são a moeda utilizada para acessar recursos de IA na plataforma. Cada interação com a IA (criação de robô, análise de backtest, otimização) consome uma quantidade específica de tokens. Cada plano inclui uma alocação mensal de tokens, e você pode comprar pacotes adicionais conforme necessário."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-medium mb-3",children:"Posso mudar de plano a qualquer momento?"}),a.jsx("p",{className:"text-gray-300",children:"Sim, você pode fazer upgrade ou downgrade do seu plano a qualquer momento. Ao fazer upgrade, você terá acesso imediato aos novos recursos e tokens. Ao fazer downgrade, as mudanças serão aplicadas no próximo ciclo de faturamento."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-medium mb-3",children:"Os tokens expiram?"}),a.jsx("p",{className:"text-gray-300",children:"Tokens incluídos em sua assinatura mensal são renovados a cada ciclo de faturamento. Tokens não utilizados não são acumulados para o próximo mês. Tokens adquiridos separadamente não expiram e permanecem em sua conta até serem utilizados."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-medium mb-3",children:"Posso cancelar minha assinatura?"}),a.jsx("p",{className:"text-gray-300",children:"Sim, você pode cancelar sua assinatura a qualquer momento. Após o cancelamento, você manterá o acesso ao plano atual até o final do período de faturamento. Depois disso, sua conta será convertida para o plano gratuito, mantendo seus robôs existentes dentro do limite do plano gratuito."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-medium mb-3",children:"Como funciona o suporte?"}),a.jsx("p",{className:"text-gray-300",children:"O nível de suporte varia de acordo com seu plano. O plano Free oferece suporte básico via comunidade, o PRO 1 inclui suporte por email, o PRO 2 oferece suporte prioritário, e o PRO 3 inclui suporte dedicado com tempos de resposta mais rápidos e assistência personalizada."})]})]})]})}),a.jsx("div",{className:"py-16 bg-gradient-to-r from-blue-900 to-indigo-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pronto para Transformar seu Trading?"}),a.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Junte-se a milhares de traders que já estão usando o DevHub Trader para criar, analisar e otimizar suas estratégias de trading."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx("button",{onClick:n,className:"px-8 py-4 bg-white text-blue-900 rounded-md font-bold text-lg hover:bg-gray-100 transition-colors",children:"Comece Agora"}),a.jsx("button",{onClick:s,className:"px-8 py-4 bg-blue-700 hover:bg-blue-800 text-white rounded-md font-bold text-lg transition-colors",children:"Falar com Especialista"})]})]})}),a.jsx("footer",{className:"bg-gray-900 border-t border-gray-800 py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[a.jsx(ot,{className:"w-8 h-8 text-blue-500"}),a.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"DevHub Trader"})]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Termos de Serviço"}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Política de Privacidade"}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Contato"})]})]}),a.jsxs("div",{className:"mt-8 text-center text-gray-500 text-sm",children:["© ",new Date().getFullYear()," DevHub Trader. Todos os direitos reservados."]})]})})]})}const OW=({tutorial:e})=>{var n,s;const[t,r]=g.useState(!1);return a.jsxs("div",{className:"bg-gray-700/30 rounded-xl overflow-hidden",children:[a.jsxs("div",{className:"p-4 cursor-pointer hover:bg-gray-700/50 transition-colors",onClick:()=>r(!t),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${e.level==="Fácil"?"bg-green-500/20":e.level==="Médio"?"bg-blue-500/20":"bg-red-500/20"}`,children:e.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:e.title}),a.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[a.jsx("span",{className:"text-sm text-gray-400",children:e.duration}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.level==="Fácil"?"bg-green-500/20 text-green-400":e.level==="Médio"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:e.level})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm text-gray-400",children:[((n=e.steps)==null?void 0:n.length)||0," passos"]}),a.jsx(ze,{className:`w-5 h-5 text-gray-400 transition-transform ${t?"rotate-180":""}`})]})]}),a.jsx("p",{className:"text-gray-400 text-sm mt-2",children:e.description})]}),t&&a.jsx("div",{className:"border-t border-gray-600/50",children:a.jsxs("div",{className:"p-6 space-y-6",children:[(s=e.steps)==null?void 0:s.map((i,o)=>a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("div",{className:"flex-shrink-0",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:o+1}),o<e.steps.length-1&&a.jsx("div",{className:"w-0.5 h-8 bg-gray-600 mx-auto mt-2"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-white mb-2",children:i.title}),a.jsx("p",{className:"text-gray-300 text-sm mb-3 leading-relaxed",children:i.description}),a.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 mb-3 border-2 border-dashed border-gray-600",children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsxs("div",{className:"text-center",children:[a.jsx(uD,{className:"w-8 h-8 text-gray-500 mx-auto mb-2"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Imagem: ",i.imageDescription]})]})})}),i.tips&&a.jsx("div",{className:"bg-blue-900/20 border border-blue-800/50 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(k4,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-blue-400 mb-1",children:"Dica:"}),a.jsx("p",{className:"text-xs text-blue-300",children:i.tips})]})]})}),i.code&&a.jsxs("div",{className:"bg-gray-900 rounded-lg p-3 mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Código de exemplo:"}),a.jsx("button",{className:"text-xs text-blue-400 hover:text-blue-300",children:"Copiar"})]}),a.jsx("pre",{className:"text-xs text-green-400 overflow-x-auto",children:a.jsx("code",{children:i.code})})]})]})]},o)),a.jsx("div",{className:"pt-4 border-t border-gray-600/50",children:a.jsx("button",{onClick:()=>{e.actionUrl&&(window.location.href=e.actionUrl)},className:"w-full py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 rounded-lg font-medium transition-all duration-300",children:e.actionText||"Começar Agora"})})]})})]})},DW=()=>{const e=jt(),{profile:t,loadProfile:r}=Pt(),{robots:n,loadRobots:s,robotLimit:i}=Co(),[o,l]=g.useState("analyses"),[c,d]=g.useState(!1),[u,m]=g.useState([]),[h,f]=g.useState(!1),[p,v]=g.useState(!1),y=[{title:"Como fazer upload de CSV",duration:"8 min",level:"Fácil",description:"Aprenda a preparar e enviar dados de backtest para análise completa",icon:a.jsx(CD,{className:"w-6 h-6 text-green-400"}),actionText:"Fazer Upload Agora",actionUrl:"/backtest-analysis",steps:[{title:"Prepare seus dados de backtest",description:"Exporte os resultados do seu backtest em formato CSV. O arquivo deve conter colunas como: Data, Hora, Ativo, Direção (Compra/Venda), Preço de Entrada, Preço de Saída, Resultado (Lucro/Prejuízo), Volume.",imageDescription:"Screenshot mostrando exemplo de planilha CSV formatada",tips:"Certifique-se de que as datas estão no formato DD/MM/AAAA e os valores monetários usam ponto como separador decimal."},{title:"Acesse a página de análise",description:'Navegue até a seção "Análise de Backtest" no menu principal. Você verá uma área de upload onde pode arrastar e soltar seu arquivo CSV.',imageDescription:"Interface da página de análise com área de upload destacada",tips:"A área de upload aceita arquivos de até 10MB. Para arquivos maiores, considere filtrar apenas os dados mais relevantes."},{title:"Faça o upload do arquivo",description:"Clique na área de upload ou arraste seu arquivo CSV diretamente. O sistema validará automaticamente o formato e mostrará uma prévia dos dados.",imageDescription:"Processo de upload com barra de progresso e validação",tips:"Se houver erros de formato, o sistema mostrará sugestões específicas para corrigir o arquivo."},{title:"Inicie a análise com IA",description:'Após o upload bem-sucedido, clique em "Analisar Backtest". A IA processará seus dados e gerará métricas detalhadas como Profit Factor, Sharpe Ratio, Drawdown Máximo e muito mais.',imageDescription:"Botão de análise e indicador de progresso da IA",tips:"A análise consome 1000 tokens. Certifique-se de ter saldo suficiente antes de iniciar."},{title:"Interprete os resultados",description:"Revise o relatório gerado com métricas de performance, pontos fortes e fracos da estratégia, e sugestões de otimização personalizadas.",imageDescription:"Dashboard de resultados com gráficos e métricas",tips:"Use o chat com IA para fazer perguntas específicas sobre os resultados e obter insights adicionais."}]},{title:"Gerar código de robô com IA",duration:"12 min",level:"Médio",description:"Tutorial completo para criar robôs de trading automaticamente usando IA",icon:a.jsx(qa,{className:"w-6 h-6 text-blue-400"}),actionText:"Criar Robô com IA",actionUrl:"/robots",steps:[{title:"Defina sua estratégia de trading",description:"Antes de usar a IA, tenha uma ideia clara da sua estratégia. Pense nos indicadores que quer usar (médias móveis, RSI, MACD), condições de entrada e saída, e regras de gerenciamento de risco.",imageDescription:"Diagrama mostrando elementos de uma estratégia de trading",tips:"Quanto mais específico você for na descrição, melhor será o código gerado pela IA."},{title:"Acesse o editor de robôs",description:'Vá para "Meus Robôs" e clique em "Criar Robô". Você será direcionado para o editor onde encontrará o chat da IA no painel lateral esquerdo.',imageDescription:"Interface do editor com chat da IA destacado",tips:"O editor suporta múltiplas linguagens: NTSL (Profit), MQL5 (MetaTrader) e outras plataformas."},{title:"Descreva sua estratégia para a IA",description:'No chat da IA, descreva detalhadamente sua estratégia. Exemplo: "Crie um robô que compra quando a média móvel de 9 períodos cruza acima da de 21, com stop loss de 50 pontos e take profit de 100 pontos."',imageDescription:"Chat da IA com exemplo de prompt detalhado",tips:"Inclua informações sobre timeframe, ativo, horários de operação e regras específicas de entrada/saída.",code:`// Exemplo de prompt para IA:
"Crie um robô para WINFUT que:
- Use médias móveis 9 e 21
- Compre no cruzamento para cima
- Stop loss: 50 pontos
- Take profit: 100 pontos
- Opere apenas das 9h às 17h"`},{title:"Revise e ajuste o código gerado",description:"A IA gerará o código automaticamente. Revise a lógica, teste os parâmetros e faça ajustes se necessário. Você pode pedir à IA para modificar partes específicas.",imageDescription:"Editor mostrando código gerado com destaque nas seções principais",tips:'Use o chat para pedir modificações: "Adicione um filtro de volume mínimo" ou "Mude o stop loss para trailing stop".'},{title:"Salve e teste seu robô",description:"Salve o código como uma nova versão, dê um nome descritivo e adicione tags relevantes. Depois, teste em conta demo antes de usar em operações reais.",imageDescription:"Modal de salvamento com campos de versão e tags",tips:'Use tags como "scalping", "trend-following", "M5", "WINFUT" para organizar melhor seus robôs.'}]}],x=[{name:"QuantBroker",description:"Portfólios de IA copy trade",logo:"https://images.pexels.com/photos/6801648/pexels-photo-6801648.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",verified:!0,rating:4.8,services:["Copy Trade IA","Gestão Automatizada","Análise Preditiva"]},{name:"NotBroker",description:"Contabilidade e resultados auditados",logo:"https://images.pexels.com/photos/6863183/pexels-photo-6863183.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",verified:!0,rating:4.9,services:["Auditoria de Resultados","Relatórios Fiscais","Compliance"]},{name:"Estrategista Solutions",description:"Projetos personalizados por humanos",logo:"https://images.pexels.com/photos/7688336/pexels-photo-7688336.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",verified:!0,rating:4.7,services:["Desenvolvimento Custom","Consultoria Estratégica","Mentoria"]},{name:"Pack de Robôs",description:"Estrategista Solutions",logo:"https://images.pexels.com/photos/8386440/pexels-photo-8386440.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",verified:!0,rating:4.6,services:["Robôs Prontos","Suporte Técnico","Atualizações"],link:"https://profitestrategista.com.br"}],b=[{id:1,user:{name:"Carlos Silva",avatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1",quantScore:94,level:"Expert"},content:"Acabei de otimizar minha estratégia de scalping e consegui aumentar o Profit Factor de 1.8 para 2.3! A chave foi adicionar um filtro de volume.",timestamp:"2h",likes:24,comments:8,type:"strategy"},{id:2,user:{name:"Ana Costa",avatar:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1",quantScore:87,level:"Pro"},content:"Compartilhando minha análise de backtest do WINFUT. Win rate de 68% com drawdown máximo de apenas 8.5%. Alguém quer trocar ideias?",timestamp:"4h",likes:31,comments:12,type:"analysis"},{id:3,user:{name:"Roberto Lima",avatar:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1",quantScore:91,level:"Expert"},content:"Novo robô de grid trading funcionando perfeitamente! Testei por 30 dias e os resultados superaram as expectativas.",timestamp:"6h",likes:18,comments:5,type:"robot"}],j=async()=>{try{f(!0);const{data:{user:w}}=await ue.auth.getUser();if(!w)return;const{data:k,error:S}=await ue.from("strategy_analyses").select("*").eq("user_id",w.id).order("created_at",{ascending:!1});if(S)throw S;if(k&&k.length>0){const E=k.map(R=>{var C,B,D,T,$,F,L,A;const _=R.analysis_data||{};return{id:R.id,name:_.name||`Análise ${R.id.slice(0,8)}`,createdAt:R.created_at,updatedAt:R.updated_at||R.created_at,profitFactor:((B=(C=_.metrics)==null?void 0:C["Performance Metrics"])==null?void 0:B["Profit Factor"])||0,winRate:((T=(D=_.metrics)==null?void 0:D["Performance Metrics"])==null?void 0:T["Win Rate (%)"])||0,drawdown:((F=($=_.metrics)==null?void 0:$["Performance Metrics"])==null?void 0:F["Max Drawdown (%)"])||0,totalTrades:((A=(L=_.metrics)==null?void 0:L["Performance Metrics"])==null?void 0:A["Total Trades"])||0}});m(E)}}catch(w){console.error("Error loading saved analyses:",w)}finally{f(!1)}},N=async()=>{try{v(!0),await s()}catch(w){console.error("Error loading robots:",w)}finally{v(!1)}};return g.useEffect(()=>{r(),j(),N(),l("analyses")},[]),a.jsxs("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:[a.jsx(Mn,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard da Comunidade"}),a.jsx("p",{className:"text-gray-400",children:"Conecte-se, aprenda e evolua com outros traders"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[a.jsx("button",{onClick:()=>l("analyses"),className:`group relative overflow-hidden rounded-2xl p-6 transition-all duration-300 ${o==="analyses"?"bg-gradient-to-br from-blue-600 to-blue-700 shadow-lg shadow-blue-500/25":"bg-gradient-to-br from-gray-800 to-gray-900 hover:from-blue-600/20 hover:to-blue-700/20"}`,children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${o==="analyses"?"bg-white/20":"bg-blue-500/20"}`,children:a.jsx(Jt,{className:`w-6 h-6 ${o==="analyses"?"text-white":"text-blue-400"}`})}),a.jsx("h3",{className:"font-semibold text-white mb-1",children:"Minhas Análises"}),a.jsx("p",{className:"text-xs text-gray-300",children:"Backtest"})]})}),a.jsx("button",{onClick:()=>l("myrobots"),className:`group relative overflow-hidden rounded-2xl p-6 transition-all duration-300 ${o==="myrobots"?"bg-gradient-to-br from-emerald-600 to-emerald-700 shadow-lg shadow-emerald-500/25":"bg-gradient-to-br from-gray-800 to-gray-900 hover:from-emerald-600/20 hover:to-emerald-700/20"}`,children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${o==="myrobots"?"bg-white/20":"bg-emerald-500/20"}`,children:a.jsx(ot,{className:`w-6 h-6 ${o==="myrobots"?"text-white":"text-emerald-400"}`})}),a.jsx("h3",{className:"font-semibold text-white mb-1",children:"Meus Robôs"}),a.jsx("p",{className:"text-xs text-gray-300",children:"Gerenciar"})]})}),a.jsx("button",{onClick:()=>l("feed"),className:`group relative overflow-hidden rounded-2xl p-6 transition-all duration-300 ${o==="feed"?"bg-gradient-to-br from-blue-600 to-blue-700 shadow-lg shadow-blue-500/25":"bg-gradient-to-br from-gray-800 to-gray-900 hover:from-blue-600/20 hover:to-blue-700/20"}`,children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${o==="feed"?"bg-white/20":"bg-blue-500/20"}`,children:a.jsx(lo,{className:`w-6 h-6 ${o==="feed"?"text-white":"text-blue-400"}`})}),a.jsx("h3",{className:"font-semibold text-white mb-1",children:"Feed"}),a.jsx("p",{className:"text-xs text-gray-300",children:"Postagens"})]})}),a.jsx("button",{onClick:()=>l("tutorials"),className:`group relative overflow-hidden rounded-2xl p-6 transition-all duration-300 ${o==="tutorials"?"bg-gradient-to-br from-purple-600 to-purple-700 shadow-lg shadow-purple-500/25":"bg-gradient-to-br from-gray-800 to-gray-900 hover:from-purple-600/20 hover:to-purple-700/20"}`,children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${o==="tutorials"?"bg-white/20":"bg-purple-500/20"}`,children:a.jsx(rp,{className:`w-6 h-6 ${o==="tutorials"?"text-white":"text-purple-400"}`})}),a.jsx("h3",{className:"font-semibold text-white mb-1",children:"Tutoriais"}),a.jsx("p",{className:"text-xs text-gray-300",children:"Aprenda"})]})}),a.jsx("button",{onClick:()=>l("marketplace"),className:`group relative overflow-hidden rounded-2xl p-6 transition-all duration-300 ${o==="marketplace"?"bg-gradient-to-br from-orange-600 to-orange-700 shadow-lg shadow-orange-500/25":"bg-gradient-to-br from-gray-800 to-gray-900 hover:from-orange-600/20 hover:to-orange-700/20"}`,children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${o==="marketplace"?"bg-white/20":"bg-orange-500/20"}`,children:a.jsx(Ab,{className:`w-6 h-6 ${o==="marketplace"?"text-white":"text-orange-400"}`})}),a.jsx("h3",{className:"font-semibold text-white mb-1",children:"Marketplace"}),a.jsx("p",{className:"text-xs text-gray-300",children:"Comprar"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[o==="analyses"&&a.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-xl flex items-center justify-center",children:a.jsx(Jt,{className:"w-5 h-5 text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Minhas Análises"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Histórico de análises de backtest"})]})]}),a.jsx("button",{onClick:()=>e("/backtest-analysis"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm font-medium transition-colors",children:"Nova Análise"})]}),h?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3 text-gray-400",children:"Carregando análises..."})]}):u.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((w,k)=>a.jsxs("div",{className:"bg-gray-700/50 rounded-xl p-4 hover:bg-gray-700 transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-medium truncate",children:w.name}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(w.createdAt).toLocaleDateString()})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-bold text-green-400",children:w.profitFactor?w.profitFactor.toFixed(2):"N/A"}),a.jsx("p",{className:"text-xs text-gray-400",children:"P.F."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-bold text-blue-400",children:w.winRate?`${w.winRate.toFixed(1)}%`:"N/A"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Win"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-bold text-red-400",children:w.drawdown?`${w.drawdown.toFixed(1)}%`:"N/A"}),a.jsx("p",{className:"text-xs text-gray-400",children:"DD"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>e("/backtest-analysis"),className:"flex-1 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-xs font-medium transition-colors",children:"Ver Detalhes"}),a.jsxs("button",{onClick:()=>{},className:"flex-1 py-2 bg-emerald-600 hover:bg-emerald-700 rounded-lg text-xs font-medium transition-colors flex items-center justify-center",children:[a.jsx(nc,{className:"w-3 h-3 mr-1"}),"Compartilhar"]})]})]},k))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Su,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma análise encontrada"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Comece fazendo sua primeira análise de backtest"}),a.jsx("button",{onClick:()=>e("/backtest-analysis"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors",children:"Fazer Primeira Análise"})]})]}),o==="myrobots"&&a.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-xl flex items-center justify-center",children:a.jsx(ot,{className:"w-5 h-5 text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Meus Robôs"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Gerencie seus robôs de trading"})]})]}),a.jsx("button",{onClick:()=>e("/robots"),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 rounded-lg text-sm font-medium transition-colors",children:"Novo Robô"})]}),p?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500"}),a.jsx("span",{className:"ml-3 text-gray-400",children:"Carregando robôs..."})]}):n.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.slice(0,6).map((w,k)=>a.jsxs("div",{className:"bg-gray-700/50 rounded-xl p-4 hover:bg-gray-700 transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:a.jsx(ot,{className:"w-4 h-4 text-emerald-400"})}),a.jsx("h3",{className:"font-medium",children:w.name})]}),a.jsx("span",{className:"text-xs text-gray-400",children:w.current_version_id?"v1.0":"Sem versão"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-bold text-green-400",children:"-"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Profit Factor"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-bold text-blue-400",children:"-"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Win Rate"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>e(`/editor/${w.id}`),className:"flex-1 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-xs font-medium transition-colors",children:"Editar"}),a.jsxs("button",{onClick:()=>{},className:"flex-1 py-2 bg-emerald-600 hover:bg-emerald-700 rounded-lg text-xs font-medium transition-colors flex items-center justify-center",children:[a.jsx(nc,{className:"w-3 h-3 mr-1"}),"Compartilhar"]})]})]},k))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ot,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum robô encontrado"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Comece criando seu primeiro robô de trading"}),a.jsx("button",{onClick:()=>e("/robots"),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 rounded-lg font-medium transition-colors",children:"Criar Primeiro Robô"})]})]}),o==="feed"&&a.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-xl flex items-center justify-center",children:a.jsx(lo,{className:"w-5 h-5 text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Feed da Comunidade"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Últimas atualizações dos traders"})]})]}),a.jsxs("div",{className:"space-y-4",children:[(c?b:b.slice(0,3)).map((w,k)=>a.jsxs("div",{className:"bg-gray-700/30 rounded-xl p-4 hover:bg-gray-700/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("img",{src:w.user.avatar,alt:w.user.name,className:"w-10 h-10 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"font-medium",children:w.user.name}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold ${w.user.quantScore>=90?"bg-blue-500 text-white":w.user.quantScore>=70?"bg-emerald-500 text-white":"bg-gray-500 text-white"}`,children:"Q"}),a.jsx("span",{className:`text-sm font-medium ${w.user.quantScore>=90?"text-blue-400":w.user.quantScore>=70?"text-emerald-400":"text-gray-400"}`,children:w.user.quantScore})]}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${w.user.quantScore>=90?"bg-blue-500/20 text-blue-400":w.user.quantScore>=70?"bg-emerald-500/20 text-emerald-400":"bg-gray-500/20 text-gray-400"}`,children:w.user.quantScore>=90?"Expert":w.user.quantScore>=70?"Pro":"Advanced"})]}),a.jsx("p",{className:"text-xs text-gray-400",children:w.timestamp})]})]}),a.jsx("p",{className:"text-gray-300 mb-3 leading-relaxed",children:w.content}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[a.jsxs("button",{className:"hover:text-blue-400 transition-colors",children:["👍 ",w.likes]}),a.jsxs("button",{className:"hover:text-blue-400 transition-colors",children:["💬 ",w.comments]}),a.jsx("button",{className:"hover:text-blue-400 transition-colors",children:"🔄 Compartilhar"})]})]},k)),!c&&b.length>3&&a.jsxs("button",{onClick:()=>d(!0),className:"w-full py-3 bg-gray-700/50 hover:bg-gray-700 rounded-xl text-gray-300 hover:text-white transition-colors",children:["Ver Mais (",b.length-3," posts restantes)"]}),c&&a.jsx("button",{onClick:()=>d(!1),className:"w-full py-3 bg-gray-700/50 hover:bg-gray-700 rounded-xl text-gray-300 hover:text-white transition-colors",children:"Ver Menos"})]})]}),o==="tutorials"&&a.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-xl flex items-center justify-center",children:a.jsx(rp,{className:"w-5 h-5 text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Tutoriais"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Aprenda a usar todas as funcionalidades"})]})]}),a.jsx("div",{className:"space-y-6",children:y.map((w,k)=>a.jsx(OW,{tutorial:w},k))})]}),o==="marketplace"&&a.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-xl flex items-center justify-center",children:a.jsx(Ab,{className:"w-5 h-5 text-orange-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Marketplace"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Serviços e soluções para traders"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:x.map((w,k)=>a.jsxs("div",{className:"bg-gray-700/30 rounded-xl p-6 hover:bg-gray-700/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("img",{src:w.logo,alt:w.name,className:"w-16 h-16 rounded-xl object-cover"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:w.name}),w.verified&&a.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs",children:"✓"})})]}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:w.description}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{className:"text-yellow-400",children:"★"}),a.jsx("span",{className:"text-sm font-medium",children:w.rating})]})]})]}),a.jsx("div",{className:"space-y-2 mb-4",children:w.services.map((S,E)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-300",children:S})]},E))}),a.jsx("button",{onClick:()=>{w.link&&window.open(w.link,"_blank")},className:"w-full py-2 bg-orange-600 hover:bg-orange-700 rounded-lg font-medium transition-colors",children:"Acessar Serviço"})]},k))})]})]})]})]})};function MW(){const[e,t]=g.useState(!1),{session:r,loadProfile:n}=Pt();return g.useEffect(()=>{n()},[n]),g.useEffect(()=>{t(!!r)},[r]),e?a.jsxs(a.Fragment,{children:[a.jsx(ob,{children:a.jsxs(sb,{children:[a.jsx(St,{path:"/",element:a.jsx(Ob,{})}),a.jsx(St,{path:"/editor/:robotId",element:a.jsx(HM,{})}),a.jsx(St,{path:"/robots",element:a.jsx(GM,{})}),a.jsx(St,{path:"/community",element:a.jsx(XM,{})}),a.jsx(St,{path:"/profile",element:a.jsx(JM,{})}),a.jsx(St,{path:"/subscription",element:a.jsx(zb,{})}),a.jsx(St,{path:"/plans",element:a.jsx(zb,{})}),a.jsx(St,{path:"/admin",element:a.jsx(QM,{})}),a.jsx(St,{path:"/experts",element:a.jsx(ZM,{})}),a.jsx(St,{path:"/developer-signup",element:a.jsx(e6,{})}),a.jsx(St,{path:"/proprietary",element:a.jsx(t6,{})}),a.jsx(St,{path:"/profit-estrategista",element:a.jsx(r6,{})}),a.jsx(St,{path:"/backtest-analysis",element:a.jsx(PW,{})}),a.jsx(St,{path:"/strategy-analysis",element:a.jsx(AW,{})}),a.jsx(St,{path:"/dashboard",element:a.jsx(DW,{})}),a.jsx(St,{path:"*",element:a.jsx(n5,{to:"/",replace:!0})})]})}),a.jsx(Bb,{})]}):a.jsxs(a.Fragment,{children:[a.jsx(ob,{children:a.jsxs(sb,{children:[a.jsx(St,{path:"/plans",element:a.jsx(TW,{})}),a.jsx(St,{path:"*",element:a.jsx(Ob,{})})]})}),a.jsx(Bb,{})]})}JO().then(e=>{if(!e){V0(document.getElementById("root")).render(a.jsx(g.StrictMode,{children:a.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Connection Error"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Unable to connect to the server. Please check your internet connection and try again."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Retry"})]})})}));return}V0(document.getElementById("root")).render(a.jsx(g.StrictMode,{children:a.jsx(MW,{})}))});export{Jn as g};
